/*! For license information please see main.8626edfa.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case x:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},L=[],F=-1;function $(e){return{current:e}}function V(e){0>F||(e.current=L[F],L[F]=null,F--)}function B(e,t){F++,L[F]=e.current,e.current=t}var U=$(null),z=$(null),H=$(null),W=$(null);function K(e,t){switch(B(H,t),B(z,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?iu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=au(t=iu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(U),B(U,e)}function G(){V(U),V(z),V(H)}function q(e){null!==e.memoizedState&&B(W,e);var t=U.current,n=au(t,e.type);t!==n&&(B(z,e),B(U,n))}function X(e){z.current===e&&(V(U),V(z)),W.current===e&&(V(W),qu._currentValue=O)}var Y=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function xe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=xe(r):0!==(s&=o)?i=xe(s):n||0!==(n=o&~e)&&(i=xe(n)):0!==(o=r&~a)?i=xe(o):0!==s?i=xe(s):n||0!==(n=r&~e)&&(i=xe(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ie,Re="__reactProps$"+Ie,De="__reactContainer$"+Ie,Me="__reactEvents$"+Ie,Oe="__reactListeners$"+Ie,Le="__reactHandles$"+Ie,Fe="__reactResources$"+Ie,$e="__reactMarker$"+Ie;function Ve(e){delete e[Pe],delete e[Re],delete e[Me],delete e[Oe],delete e[Le]}function Be(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bu(e);null!==e;){if(n=e[Pe])return n;e=bu(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[$e]=!0}var Ke=new Set,Ge={};function qe(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Qe,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Je,i)&&(Ze.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?xt(e,s,ct(t)):null!=n?xt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function xt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Dt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ot(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Pt||null!==Rt)&&(Bc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),$t=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Rh){$t=!1}var Bt=null,Ut=null,zt=null;function Ht(){if(zt)return zt;var e,t,n=Ut,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return zt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function qt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Yt,Qt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=qt(Zt),en=h({},Zt,{view:0,detail:0}),tn=qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Xt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Xt=0,Qt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=qt(nn),an=qt(h({},nn,{dataTransfer:0})),sn=qt(h({},en,{relatedTarget:0})),on=qt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=qt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=qt(h({},Zt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=qt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),xn=qt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=qt(h({},Zt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Ft&&"TextEvent"in window&&!Sn,jn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Nn=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=Hd(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function On(e){Od(e,0)}function Ln(e){if(ht(ze(e)))return e}function Fn(e,t){if("change"===e)return t}var $n=!1;if(Ft){var Vn;if(Ft){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}Vn=Bn}else Vn=!1;$n=Vn&&(!document.documentMode||9<document.documentMode)}function zn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Mn=Dn=null)}function Hn(e){if("value"===e.propertyName&&Ln(Mn)){var t=[];Rn(t,Mn,e,It(e)),Ot(On,t)}}function Wn(e,t,n){"focusin"===e?(zn(),Mn=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&zn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Mn)}function Gn(e,t){if("click"===e)return Ln(t)}function qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Hd(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},dr={},ur={};function hr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}Ft&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),xr=hr("transitioncancel"),br=hr("transitionend"),yr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){yr.set(e,t),qe(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var jr=[],_r=0,Nr=0;function Er(){for(var e=_r,t=Nr=_r=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var i=jr[t];jr[t++]=null;var a=jr[t];if(jr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Pr(n,i,a)}}function Ar(e,t,n,r){jr[_r++]=e,jr[_r++]=t,jr[_r++]=n,jr[_r++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Ar(e,t,n,r),Rr(e)}function Ir(e,t){return Ar(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Pc)throw Pc=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Mr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Or(31,n,t,i)).elementType=N,e.lanes=a,e;case g:return Br(n.children,i,a,t);case v:o=8,i|=24;break;case x:return(e=Or(12,n,t,2|i)).elementType=x,e.lanes=a,e;case S:return(e=Or(13,n,t,i)).elementType=S,e.lanes=a,e;case C:return(e=Or(19,n,t,i)).elementType=C,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case y:o=9;break e;case k:o=11;break e;case j:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function zr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Gr=0,qr=[],Xr=0,Yr=null,Qr=1,Zr="";function Jr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){qr[Xr++]=Qr,qr[Xr++]=Zr,qr[Xr++]=Yr,Yr=e;var r=Qr;e=Zr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qr=1<<32-pe(t)+i|n<<i|r,Zr=a+e}else Qr=1<<a|n<<i|r,Zr=e}function ti(e){null!==e.return&&(Jr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===Yr;)Yr=qr[--Xr],qr[Xr]=null,Zr=qr[--Xr],qr[Xr]=null,Qr=qr[--Xr],qr[Xr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ci(e){throw mi(Cr(Error(s(418,"")),e)),li}function di(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Ld("cancel",t),Ld("close",t);break;case"iframe":case"object":case"embed":Ld("load",t);break;case"video":case"audio":for(n=0;n<Dd.length;n++)Ld(Dd[n],t);break;case"source":Ld("error",t);break;case"img":case"image":case"link":Ld("error",t),Ld("load",t);break;case"details":Ld("toggle",t);break;case"input":Ld("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Ld("invalid",t);break;case"textarea":Ld("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yd(t.textContent,n)?(null!=r.popover&&(Ld("beforetoggle",t),Ld("toggle",t)),null!=r.onScroll&&Ld("scroll",t),null!=r.onScrollEnd&&Ld("scrollend",t),null!=r.onClick&&(t.onclick=Qd),t=!0):t=!1,t||ci(e)}function ui(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||su(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),ui(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pu(e.type)?(e=xu,xu=null,ii=e):ii=n):ii=ri?vu(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,ai=!1}function fi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=$(null),vi=null,xi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function yi(e){e._currentValue=gi.current,V(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wi(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(qu):e=[qu])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){vi=e,xi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Ei(vi,e)}function Ni(e,t){return null===vi&&ji(e),Ei(e,t)}function Ei(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xi){if(null===e)throw Error(s(308));xi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xi=xi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ti=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Pi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Ai,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ti(Ii,function(){e.controller.abort()})}var Mi=null,Oi=0,Li=0,Fi=null;function $i(){if(0===--Oi&&null!==Mi){null!==Fi&&(Fi.status="fulfilled");var e=Mi;Mi=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Oi=0,Li=Ad(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oi++,t.then($i,$i)}(0,t),null!==Vi&&Vi(e,t)};var Bi=$(null);function Ui(){var e=Bi.current;return null!==e?e:rc.pooledCache}function zi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Hi(){var e=Ui();return null===e?null:{parent:Pi._currentValue,pool:e}}var Wi=Error(s(460)),Ki=Error(s(474)),Gi=Error(s(542)),qi={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Qi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Zi=t,Wi}}var Zi=null;function Ji(){if(null===Zi)throw Error(s(459));var e=Zi;return Zi=null,e}function ea(e){if(e===Wi||e===Gi)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return Ar(e,r,t,n),Rr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Fi)throw Fi}}function da(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=i.baseState;for(s=0,d=c=l=null,o=a;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(ac&p)===p:(r&p)===p){0!==p&&p===Li&&(la=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(v,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,u,p):m)||void 0===p)break e;u=h({},u,p);break e;case 2:ta=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,s|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=u}}function ua(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ua(n[e],t)}var pa=$(null),fa=$(0);function ma(e,t){B(fa,e=uc),B(pa,t),uc=e|t.baseLanes}function ga(){B(fa,uc),B(pa,pa.current)}function va(){uc=fa.current,V(pa),V(fa)}var xa=0,ba=null,ya=null,wa=null,ka=!1,Sa=!1,Ca=!1,ja=0,_a=0,Na=null,Ea=0;function Aa(){throw Error(s(321))}function Ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){return xa=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ws:Ks,Ca=!1,a=n(r,i),Ca=!1,Sa&&(a=Ra(t,n,r,i)),Pa(e),a}function Pa(e){D.H=Hs;var t=null!==ya&&null!==ya.next;if(xa=0,wa=ya=ba=null,ka=!1,_a=0,Na=null,t)throw Error(s(300));null===e||No||null!==(e=e.dependencies)&&Ci(e)&&(No=!0)}function Ra(e,t,n,r){ba=e;var i=0;do{if(Sa&&(Na=null),_a=0,Sa=!1,25<=i)throw Error(s(301));if(i+=1,wa=ya=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=Gs,a=t(n,r)}while(Sa);return a}function Da(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Va(t):t,e=e.useState()[0],(null!==ya?ya.memoizedState:null)!==e&&(ba.flags|=1024),t}function Ma(){var e=0!==ja;return ja=0,e}function Oa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}xa=0,wa=ya=ba=null,Sa=!1,_a=ja=0,Na=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?ba.memoizedState=wa=e:wa=wa.next=e,wa}function $a(){if(null===ya){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===wa?ba.memoizedState:wa.next;if(null!==t)wa=t,ya=e;else{if(null===e){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===wa?ba.memoizedState=wa=e:wa=wa.next=e}return wa}function Va(e){var t=_a;return _a+=1,null===Na&&(Na=[]),e=Qi(Na,e,t),t=ba,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ws:Ks),e}function Ba(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Va(e);if(e.$$typeof===w)return _i(e)}throw Error(s(438,String(e)))}function Ua(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function za(e,t){return"function"===typeof t?t(e):t}function Ha(e){return Wa($a(),ya,e)}function Wa(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,d=t=i.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ac&h)===h:(xa&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Li&&(u=!0);else{if((xa&p)===p){d=d.next,p===Li&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ba.lanes|=p,pc|=p}h=d.action,Ca&&n(a,h),a=d.hasEagerState?d.eagerState:n(a,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=a):c=c.next=p,ba.lanes|=h,pc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=a:c.next=l,!Xn(a,e.memoizedState)&&(No=!0,u&&null!==(n=Fi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=$a(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Xn(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ga(e,t,n){var r=ba,i=$a(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Xn((ya||i).memoizedState,n);if(o&&(i.memoizedState=n,No=!0),i=i.queue,gs(2048,8,Ya.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==wa&&1&wa.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));a||0!==(124&xa)||qa(r,t,n)}return n}function qa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,r){t.value=n,t.getSnapshot=r,Qa(t)&&Za(e)}function Ya(e,t,n){return n(function(){Qa(t)&&Za(e)})}function Qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Za(e){var t=Ir(e,2);null!==t&&Oc(t,e,2)}function Ja(e){var t=Fa();if("function"===typeof e){var n=e;if(e=n(),Ca){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Wa(e,ya,"function"===typeof r?r:za)}function ts(e,t,n,r,i){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=n(i,r),l=D.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){as(e,t,c)}finally{D.T=a}}else try{rs(e,t,a=n(i,r))}catch(d){as(e,t,d)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return as(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vu(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vu(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Fs.bind(null,ba,r),r.dispatch=n,r=Ja(!1),a=Vs.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fa()).queue=i,n=ts.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return ds($a(),ya,e)}function ds(e,t,n){if(t=Wa(e,t,os)[0],e=Ha(za)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Va(t)}catch(s){if(s===Wi)throw Gi;throw s}else r=t;var i=(t=$a()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,ps(9,{destroy:void 0,resource:void 0},us.bind(null,i,n),null)),[r,a,e]}function us(e,t){e.action=t}function hs(e){var t=$a(),n=ya;if(null!==n)return ds(t,n,e);$a(),t=t.memoizedState;var r=(n=$a()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return $a().memoizedState}function ms(e,t,n,r){var i=Fa();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ya&&null!==r&&Ta(r,ya.memoizedState.deps)?i.memoizedState=ps(t,a,n,r):(ba.flags|=e,i.memoizedState=ps(1|t,a,n,r))}function vs(e,t){ms(8390656,8,e,t)}function xs(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function ys(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function Ss(){}function Cs(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ta(t,r[1]))return r[0];if(r=e(),Ca){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function _s(e,t,n){return void 0===n||0!==(1073741824&xa)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),ba.lanes|=e,pc|=e,n)}function Ns(e,t,n,r){return Xn(n,t)?n:null!==pa.current?(e=_s(e,n,r),Xn(e,t)||(No=!0),e):0===(42&xa)?(No=!0,e.memoizedState=n):(e=Mc(),ba.lanes|=e,pc|=e,t)}function Es(e,t,n,r,i){var a=M.p;M.p=0!==a&&8>a?a:8;var s=D.T,o={};D.T=o,Vs(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)$s(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else $s(e,t,r,Dc())}catch(d){$s(e,t,{then:function(){},status:"rejected",reason:d},Dc())}finally{M.p=a,D.T=s}}function As(){}function Ts(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Is(e).queue;Es(e,i,t,O,null===n?As:function(){return Ps(e),n(r)})}function Is(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ps(e){$s(e,Is(e).next.queue,{},Dc())}function Rs(){return _i(qu)}function Ds(){return $a().memoizedState}function Ms(){return $a().memoizedState}function Os(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=aa(t,e=ia(n),n);return null!==r&&(Oc(r,t,n),sa(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?Us(t,n):null!==(n=Tr(e,t,n,r))&&(Oc(n,e,r),zs(n,t,r))}function Fs(e,t,n){$s(e,t,n,Dc())}function $s(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))Us(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Xn(o,s))return Ar(e,t,i,0),null===rc&&Er(),!1}catch(l){}if(null!==(n=Tr(e,t,i,r)))return Oc(n,e,r),zs(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:Ad(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&Oc(t,e,2)}function Bs(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Us(e,t){Sa=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var Hs={readContext:_i,use:Ba,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},Ws={readContext:_i,use:Ba,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Fa();t=void 0===t?null:t;var r=e();if(Ca){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fa();if(void 0!==n){var i=n(t);if(Ca){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ls.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=Ja(e)).queue,n=Fs.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(e,t){return _s(Fa(),e,t)},useTransition:function(){var e=Ja(!1);return e=Es.bind(null,ba,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Fa();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ac)||qa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,vs(Ya.bind(null,r,a,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,a,n,t),null),n},useId:function(){var e=Fa(),t=rc.identifierPrefix;if(ai){var n=Zr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-pe(Qr)-1)).toString(32)+n),0<(n=ja++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ea++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ua,useCacheRefresh:function(){return Fa().memoizedState=Os.bind(null,ba)}},Ks={readContext:_i,use:Ba,useCallback:Cs,useContext:_i,useEffect:xs,useImperativeHandle:ks,useInsertionEffect:bs,useLayoutEffect:ys,useMemo:js,useReducer:Ha,useRef:fs,useState:function(){return Ha(za)},useDebugValue:Ss,useDeferredValue:function(e,t){return Ns($a(),ya.memoizedState,e,t)},useTransition:function(){var e=Ha(za)[0],t=$a().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Ga,useId:Ds,useHostTransitionStatus:Rs,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es($a(),0,e,t)},useMemoCache:Ua,useCacheRefresh:Ms},Gs={readContext:_i,use:Ba,useCallback:Cs,useContext:_i,useEffect:xs,useImperativeHandle:ks,useInsertionEffect:bs,useLayoutEffect:ys,useMemo:js,useReducer:Ka,useRef:fs,useState:function(){return Ka(za)},useDebugValue:Ss,useDeferredValue:function(e,t){var n=$a();return null===ya?_s(n,e,t):Ns(n,ya.memoizedState,e,t)},useTransition:function(){var e=Ka(za)[0],t=$a().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Ga,useId:Ds,useHostTransitionStatus:Rs,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=$a();return null!==ya?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ua,useCacheRefresh:Ms},qs=null,Xs=0;function Ys(e){var t=Xs;return Xs+=1,null===qs&&(qs=[]),Qi(qs,e,t)}function Qs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Js(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&Js(a)===t.type)?(Qs(t=i(t,n.props),n),t.return=e,t):(Qs(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Qs(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=zr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||T(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ys(t),n);if(t.$$typeof===w)return h(e,Ni(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?d(e,t,n,r):null;case _:return p(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||T(n))return null!==i?null:u(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Ys(n),r);if(n.$$typeof===w)return p(e,t,Ni(e,n),r);Zs(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||T(r))return u(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Ys(r),i);if(r.$$typeof===w)return v(e,t,n,Ni(t,r),i);Zs(t,r)}return null}function x(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=i(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&Js(b)===c.type){n(l,c.sibling),Qs(u=i(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Br(d.props.children,l.mode,u,d.key)).return=l,l=u):(Qs(u=Vr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case m:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=i(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=zr(d,l.mode,u)).return=l,l=u}return o(l);case _:return x(l,c,d=(b=d._init)(d._payload),u)}if(R(d))return function(i,s,o,l){for(var c=null,d=null,u=s,f=s=0,m=null;null!==u&&f<o.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var g=p(i,u,o[f],l);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(i,u),s=a(g,s,f),null===d?c=g:d.sibling=g,d=g,u=m}if(f===o.length)return n(i,u),ai&&Jr(i,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(i,o[f],l))&&(s=a(u,s,f),null===d?c=u:d.sibling=u,d=u);return ai&&Jr(i,f),c}for(u=r(u);f<o.length;f++)null!==(m=v(u,i,f,o[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),s=a(m,s,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(i,e)}),ai&&Jr(i,f),c}(l,c,d,u);if(T(d)){if("function"!==typeof(b=T(d)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var d=null,u=null,f=o,m=o=0,g=null,x=l.next();null!==f&&!x.done;m++,x=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(i,f,x.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),o=a(b,o,m),null===u?d=b:u.sibling=b,u=b,f=g}if(x.done)return n(i,f),ai&&Jr(i,m),d;if(null===f){for(;!x.done;m++,x=l.next())null!==(x=h(i,x.value,c))&&(o=a(x,o,m),null===u?d=x:u.sibling=x,u=x);return ai&&Jr(i,m),d}for(f=r(f);!x.done;m++,x=l.next())null!==(x=v(f,i,m,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?m:x.key),o=a(x,o,m),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(i,e)}),ai&&Jr(i,m),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return x(l,c,Ys(d),u);if(d.$$typeof===w)return x(l,c,Ni(l,d),u);Zs(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=i(c,d)).return=l,l=u):(n(l,c),(u=Ur(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{Xs=0;var i=x(e,t,n,r);return qs=null,i}catch(s){if(s===Wi||s===Gi)throw s;var a=Or(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=$(null),io=null;function ao(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===io&&(null===t||null!==pa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function lo(e){V(ro),io===e&&(io=null),V(co)}var co=$(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Oc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Oc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Oc(t,e,n),sa(t,e,n))}};function fo(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,a))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function xo(e){vo(e)}function bo(e){console.error(e)}function yo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function Co(e){return(e=ia(e)).tag=3,e}function jo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ko(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(s(461)),No=!1;function Eo(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return ji(t),r=Ia(e,t,n,s,a,i),o=Ma(),null===e||No?(ai&&o&&ti(t),t.flags|=1,Eo(e,t,r,i),t.child):(Oa(e,t,i),Xo(e,t,i))}function To(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Io(e,t,a,r,i))}if(a=e.child,!Yo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Xo(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=a,!Yo(e,i))return t.lanes=e.lanes,Xo(e,t,i);0!==(131072&e.flags)&&(No=!0)}}return Mo(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&zi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),so(t)}else null!==a?(zi(0,a.cachePool),ma(t,a),oo(),t.memoizedState=null):(null!==e&&zi(0,null),ga(),oo());return Eo(e,t,i,n),t.child}function Ro(e,t,n,r){var i=Ui();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&zi(0,null),ga(),so(t),null!==e&&Si(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mo(e,t,n,r,i){return ji(t),n=Ia(e,t,n,r,void 0,i),r=Ma(),null===e||No?(ai&&r&&ti(t),t.flags|=1,Eo(e,t,n,i),t.child):(Oa(e,t,i),Xo(e,t,i))}function Oo(e,t,n,r,i,a){return ji(t),t.updateQueue=null,n=Ra(t,r,n,i),Pa(e),r=Ma(),null===e||No?(ai&&r&&ti(t),t.flags|=1,Eo(e,t,n,a),t.child):(Oa(e,t,a),Xo(e,t,a))}function Lo(e,t,n,r,i){if(ji(t),null===t.stateNode){var a=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(a=_i(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=po,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?_i(s):Dr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&po.enqueueReplaceState(a,a.state,null),da(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,d=n.contextType;s=Dr,"object"===typeof d&&null!==d&&(s=_i(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&mo(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,da(t,r,a,i),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof u&&(ho(t,n,u,r),c=t.memoizedState),(l=ta||fo(t,n,l,r,h,c,s))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),d=go(n,s=t.memoizedProps),a.props=d,u=t.pendingProps,h=a.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=_i(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||h!==l)&&mo(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,da(t,r,a,i),ca();var p=t.memoizedState;s!==u||h!==p||ta||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),p=t.memoizedState),(d=ta||fo(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=d):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Do(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Eo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Xo(e,t,i),e}function Fo(e,t,n,r){return pi(),t.flags|=256,Eo(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Hi()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Uo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Qr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,a?(oo(),c=Ho({mode:"hidden",children:c},a=t.mode),i=Br(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Vo(n),a.childLanes=Bo(e,r,n),t.memoizedState=$o,i):(ao(t),zo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,c=t.mode,i=Ho({mode:"visible",children:i.children},c),(a=Br(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Vo(n),i.childLanes=Bo(e,r,n),t.memoizedState=$o,t=a);else if(ao(t),gu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(No||Si(e,t,n,!1),r=0!==(n&e.childLanes),No||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ee(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ir(e,i),Oc(r,e,i),_o;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vu(c.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(qr[Xr++]=Qr,qr[Xr++]=Zr,qr[Xr++]=Yr,Qr=e.id,Zr=e.overflow,Yr=t),(t=zo(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,c=t.mode,d=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?a=Fr(d,a):(a=Br(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(d=Pi._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Bo(e,r,n),t.memoizedState=$o,i):(ao(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function zo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Go(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Eo(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function Qo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)No=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),pi();break;case 27:case 5:q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(ao(t),null!==(e=Xo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Xo(e,t,n)}(e,t,n);No=0!==(131072&e.flags)}else No=!1,ai&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=Ao(null,t,r,e,n);break e}if(i===j){t.tag=14,t=To(null,t,r,e,n);break e}}throw t=P(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Mo(null,t,r,e,n))}return t;case 0:return Mo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),da(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Pi,r),r!==a.cache&&ki(t,[Pi],n,!0),ca(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=Cr(Error(s(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vu(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Xo(e,t,n);break e}Eo(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Eu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=ru(H.current).createElement(n))[Pe]=t,r[Re]=e,eu(r,n,e),We(r),t.stateNode=r):t.memoizedState=Eu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return q(t),null===e&&ai&&(r=t.stateNode=yu(t.type,t.pendingProps,H.current),ri=t,oi=!0,i=ii,pu(t.type)?(xu=i,ii=vu(r.firstChild)):ii=i),Eo(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vu(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),q(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,su(i,a)?r=null:null!==o&&su(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ia(e,t,Da,null,null,n),qu._currentValue=i),Do(e,t),Eo(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vu(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Uo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Eo(e,t,r,n),t.child;case 11:return Ao(e,t,t.type,t.pendingProps,n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Eo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=_i(i)),t.flags|=1,Eo(e,t,r,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 19:return qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return ji(t),r=_i(Pi),null===e?(null===(i=Ui())&&(i=rc,a=Ri(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(ra(e,t),da(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=a.cache,bi(0,Pi,r),r!==i.cache&&ki(t,[Pi],n,!0))),Eo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function Jo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bu(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw Zi=qi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),yi(Pi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(nl(t),Jo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),nl(t),Jo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,hi(t)?di(t):(e=yu(i,r,n),t.stateNode=e,Zo(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,hi(t))di(t);else{switch(i=ru(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yd(e.nodeValue,n)))||ci(t)}else(e=ru(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Pe]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vd(t.stateNode.containerInfo),nl(t),null;case 10:return yi(t.type),nl(t),null;case 19:if(V(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yi(Pi),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yi(Pi),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return yi(t.type),null;case 22:case 23:return lo(t),va(),null!==e&&V(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yi(Pi),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:yi(Pi),G();break;case 26:case 27:case 5:X(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:yi(t.type);break;case 22:case 23:lo(t),va(),null!==e&&V(Bi);break;case 24:yi(Pi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){dd(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(d){dd(i,l,d)}}}r=r.next}while(r!==a)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){dd(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dd(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){dd(e,t,i)}}function ul(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){dd(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){dd(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){dd(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,d=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Zd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Zd(e,t,p,f,r,h)}}return void gt(e,o,l,c,d,u,a,i);case"select":for(a in f=o=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(a)||Zd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Zd(e,t,i,a,r,c)}return t=l,n=o,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zd(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Zd(e,t,o,i,r,a)}return void yt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zd(e,t,g,null,r,p);for(d in r)if(p=r[d],f=n[d],r.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Zd(e,t,d,p,r,f)}return;default:if(_t(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Jd(e,t,v,void 0,r,p);for(u in r)p=r[u],f=n[u],!r.hasOwnProperty(u)||p===f||void 0===p&&void 0===f||Jd(e,t,u,p,r,f);return}}for(var x in n)p=n[x],n.hasOwnProperty(x)&&null!=p&&!r.hasOwnProperty(x)&&Zd(e,t,x,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Zd(e,t,h,p,r,f)}(r,e.type,n,t),r[Re]=t}catch(i){dd(e,e.return,i)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pu(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qd));else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function xl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eu(t,r,n),t[Pe]=e,t[Re]=n}catch(a){dd(e,e.return,a)}}var bl=!1,yl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){dd(n,n.return,s)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&r&&ll(n),512&r&&dl(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){dd(n,n.return,s)}}break;case 27:null===t&&4&r&&xl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&dl(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||yl,i=bl;var a=yl;bl=r,(yl=t)&&!a?$l(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,yl=a}break;case 30:break;default:Ll(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Nl=!1;function El(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(a){}switch(n.tag){case 26:yl||ul(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yl||ul(n,t);var r=_l,i=Nl;pu(n.type)&&(_l=n.stateNode,Nl=!1),El(e,t,n),wu(n.stateNode),_l=r,Nl=i;break;case 5:yl||ul(n,t);case 6:if(r=_l,i=Nl,_l=null,El(e,t,n),Nl=i,null!==(_l=r))if(Nl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(s){dd(n,t,s)}else try{_l.removeChild(n.stateNode)}catch(s){dd(n,t,s)}break;case 18:null!==_l&&(Nl?(fu(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nh(e)):fu(_l,n.stateNode));break;case 4:r=_l,i=Nl,_l=n.stateNode.containerInfo,Nl=!0,El(e,t,n),_l=r,Nl=i;break;case 0:case 11:case 14:case 15:yl||ol(2,n,t),yl||ol(4,n,t),El(e,t,n);break;case 1:yl||(ul(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:yl=(r=yl)||null!==n.memoizedState,El(e,t,n),yl=r;break;default:El(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nh(e)}catch(n){dd(t,t.return,n)}}function Il(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=md.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pu(l.type)){_l=l.stateNode,Nl=!1;break e}break;case 5:_l=l.stateNode,Nl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===_l)throw Error(s(160));Al(a,o,i),_l=null,Nl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ml(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ml(e),512&r&&(yl||null===n||ul(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Pl(t,e),Ml(e),512&r&&(yl||null===n||ul(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[$e]||a[Pe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),eu(a,r,n),a[Pe]=e,We(a),r=a;break e;case"link":var o=$u("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eu(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=$u("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eu(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Pe]=e,We(a),r=a}e.stateNode=r}else Vu(i,e.type,e.stateNode);else e.stateNode=Du(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Vu(i,e.type,e.stateNode):Du(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ml(e),512&r&&(yl||null===n||ul(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ml(e),512&r&&(yl||null===n||ul(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(f){dd(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){dd(e,e.return,f)}}break;case 3:if(Fu=null,i=Rl,Rl=Cu(t.containerInfo),Pl(t,e),Rl=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(f){dd(e,e.return,f)}wl&&(wl=!1,Ol(e));break;case 4:r=Rl,Rl=Cu(e.stateNode.containerInfo),Pl(t,e),Ml(e),Rl=r;break;case 12:default:Pl(t,e),Ml(e);break;case 13:Pl(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=bl,u=yl;if(bl=d||i,yl=u||c,Pl(t,e),yl=u,bl=d,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||yl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){dd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){dd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Il(e,n))));break;case 19:Pl(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),vl(e,ml(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:ul(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:$l(i,a,n),sl(4,a);break;case 1:if($l(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){dd(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ua(l[i],o)}catch(c){dd(r,r.return,c)}}n&&64&s&&ll(a),dl(a,a.return);break;case 27:xl(a);case 26:case 5:$l(i,a,n),n&&null===r&&4&s&&hl(a),dl(a,a.return);break;case 12:$l(i,a,n);break;case 13:$l(i,a,n),n&&4&s&&Tl(i,a);break;case 22:null===a.memoizedState&&$l(i,a,n),dl(a,a.return);break;case 30:break;default:$l(i,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)zl(e,t,n,r),t=t.sibling}function zl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Ul(e,t,n,r):Wl(e,t):2&a._visibility?Ul(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(s,t);break;case 24:Ul(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(a,s,o,l,i),sl(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?Hl(a,s,o,l,i):Wl(a,s):(d._visibility|=2,Hl(a,s,o,l,i)),i&&2048&c&&Vl(s.alternate,s);break;case 24:Hl(a,s,o,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Hl(a,s,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Bl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)ql(e),e=e.sibling}function ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Uu)throw Error(s(475));var r=Uu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Au(n.href),a=e.querySelector(Tu(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Iu(n),(i=ku.get(i))&&Ou(n,i),We(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Cu(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Yl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,a=r.return;if(jl(r),r===n){Sl=null;break e}if(null!==i){i.return=a,Sl=i;break e}Sl=a}}}var ec={getCacheForType:function(e){var t=_i(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,hc=0,pc=0,fc=0,mc=0,gc=0,vc=0,xc=null,bc=null,yc=!1,wc=0,kc=1/0,Sc=null,Cc=null,jc=0,_c=null,Nc=null,Ec=0,Ac=0,Tc=null,Ic=null,Pc=0,Rc=null;function Dc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==D.T){return 0!==Li?Li:Ad()}return Te()}function Mc(){0===gc&&(gc=0===(536870912&ac)||ai?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Oc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(zc(e,0),Vc(e,ac,gc,!1)),je(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Vc(e,ac,gc,!1)),kd(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ye(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=Kc();rc!==e||ac!==t?(Sc=null,kc=te()+500,zc(e,t)):cc=ye(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var a=oc;t:switch(sc){case 1:sc=0,oc=null,Jc(e,t,a,1);break;case 2:case 9:if(Xi(a)){sc=0,oc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),kd(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Xi(a)?(sc=0,oc=null,Zc(t)):(sc=0,oc=null,Jc(e,t,a,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Bu(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var d=l.return;null!==d?(ic=d,ed(d)):ic=null}break t}}sc=0,oc=null,Jc(e,t,a,5);break;case 6:sc=0,oc=null,Jc(e,t,a,6);break;case 8:Uc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(u){Hc(e,u)}return xi=vi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Er(),hc)}(e,t):qc(e,t,!0),a=r;;){if(0===i){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||$c(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=xc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,o).flags|=256),2!==(o=qc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=a,fc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){zc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(Vc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=lu(Fc.bind(null,r,n,bc,Sc,yc,t,gc,fc,vc,lc,a,2,-0,0),i)}else Fc(r,n,bc,Sc,yc,t,gc,fc,vc,lc,a,0,-0,0)}break}i=qc(e,t,!1),a=!1}kd(e)}function Fc(e,t,n,r,i,a,o,l,c,d,u,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Uu={stylesheets:null,count:0,unsuspend:zu},ql(t),null!==(h=function(){if(null===Uu)throw Error(s(475));var e=Uu;return e.stylesheets&&0===e.count&&Ku(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nd.bind(null,e,t,a,n,r,i,o,l,c,u,1,p,f)),void Vc(e,a,o,!d);nd(e,t,a,n,r,i,o,l,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&_e(e,n,t)}function Bc(){return 0!==(6&nc)||(Sd(0,!1),!1)}function Uc(){if(null!==ic){if(0===sc)var e=ic.return;else xi=vi=null,La(e=ic),qs=null,Xs=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function zc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ic=n=Fr(e.current,null),ac=t,sc=0,oc=null,lc=!1,cc=ye(e,t),dc=!1,vc=gc=mc=fc=pc=hc=0,bc=xc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),a=1<<i;t|=e[i],r&=~a}return uc=t,Er(),n}function Hc(e,t){ba=null,D.H=Hs,t===Wi||t===Gi?(t=Ji(),sc=3):t===Ki?(t=Ji(),sc=4):sc=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,wo(e,Cr(t,e.current)))}function Wc(){var e=D.H;return D.H=Hs,null===e?Hs:e}function Kc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&ac)!==ac&&null!==ro.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Vc(rc,ac,gc,!1)}function qc(e,t,n){var r=nc;nc|=2;var i=Wc(),a=Kc();rc===e&&ac===t||(Sc=null,zc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var o=ic,l=oc;switch(sc){case 8:Uc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Jc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Jc(e,o,l,c)}}Xc(),s=hc;break}catch(d){Hc(e,d)}return t&&e.shellSuspendCounter++,xi=vi=null,nc=r,D.H=i,D.A=a,null===ic&&(rc=null,ac=0,Er()),s}function Xc(){for(;null!==ic;)Qc(ic)}function Yc(){for(;null!==ic&&!J();)Qc(ic)}function Qc(e){var t=Qo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):ic=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=Qo(n,t=ic=$r(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):ic=t}function Jc(e,t,n,r){xi=vi=null,La(t),qs=null,Xs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ud(e,r,i)),!1;case 22:return n.flags|=65536,r===qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ud(e,r,i)),!1}throw Error(s(435,n.tag))}return ud(e,r,i),Gc(),!1}if(ai)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Cr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Cr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Cr(r,n),oa(e,i=So(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(s(520),{cause:r});if(a=Cr(a,n),null===xc?xc=[a]:xc.push(a),4!==hc&&(hc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Cc||!Cc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,jo(i=Co(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,wo(e,Cr(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,wo(e,Cr(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=rl(t.alternate,t,uc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function td(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nd(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==jc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-pe(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&_e(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Nr,o,l,c),e===rc&&(ic=rc=null,ac=0),Nc=t,_c=e,Ec=n,Ac=a,Tc=i,Ic=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ae,function(){return ld(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=M.p,M.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===i&&(l=o),p===a&&++u===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(a=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){dd(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,M.p=i,D.T=r}}jc=1,rd(),id(),ad()}}function rd(){if(1===jc){jc=0;var e=_c,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Dl(t,e);var a=nu,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Jn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=Zn(o,m),x=Zn(o,g);if(v&&x&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var b=u.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),p.addRange(b))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var y=u[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}nh=!!tu,nu=tu=null}finally{nc=i,M.p=r,D.T=n}}e.current=t,jc=2}}function id(){if(2===jc){jc=0;var e=_c,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Cl(e,t.alternate,t)}finally{nc=i,M.p=r,D.T=n}}jc=3}}function ad(){if(4===jc||3===jc){jc=0,ee();var e=_c,t=Nc,n=Ec,r=Ic;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Nc=_c=null,sd(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cc=null),Ae(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,M.p=i}}0!==(3&Ec)&&od(),kd(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,Sd(0,!1)}}function sd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function od(e){return rd(),id(),ad(),ld()}function ld(){if(5!==jc)return!1;var e=_c,t=Ac;Ac=0;var n=Ae(Ec),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Tc,Tc=null;var a=_c,o=Ec;if(jc=0,Nc=_c=null,Ec=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Ql(a.current),zl(a,a.current,o,n),nc=l,Sd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,a)}catch(c){}return!0}finally{M.p=i,D.T=r,sd(e,t)}}function cd(e,t,n){t=Cr(n,t),null!==(e=aa(e,t=So(e.stateNode,t,2),2))&&(je(e,2),kd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=aa(t,n=Co(2),2))&&(jo(n,r,t,e),je(r,2),kd(r));break}}t=t.return}}function ud(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=hd.bind(null,e,t,n),t.then(e,e))}function hd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-wc?0===(2&nc)&&zc(e,0):mc|=n,vc===ac&&(vc=0)),kd(e)}function pd(e,t){0===t&&(t=Se()),null!==(e=Ir(e,t))&&(je(e,t),kd(e))}function fd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pd(e,n)}function md(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pd(e,n)}var gd=null,vd=null,xd=!1,bd=!1,yd=!1,wd=0;function kd(e){e!==vd&&null===e.next&&(null===vd?gd=vd=e:vd=vd.next=e),bd=!0,xd||(xd=!0,uu(function(){0!==(6&nc)?Q(re,Cd):jd()}))}function Sd(e,t){if(!yd&&bd){yd=!0;do{for(var n=!1,r=gd;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Ed(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ye(r,a)||(n=!0,Ed(r,a));r=r.next}}while(n);yd=!1}}function Cd(){jd()}function jd(){bd=xd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,r=gd;null!==r;){var i=r.next,a=_d(r,t);0===a?(r.next=null,null===n?gd=i:n.next=i,null===i&&(vd=n)):(n=r,(0!==e||0!==(3&a))&&(bd=!0)),r=i}Sd(e,!1)}function _d(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-pe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ye(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=Nd.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Nd(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),_d(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nd.bind(null,e):null)}function Ed(e,t){if(od())return null;Lc(e,t,!0)}function Ad(){return 0===wd&&(wd=ke()),wd}function Td(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Id(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pd=0;Pd<wr.length;Pd++){var Rd=wr[Pd];kr(Rd.toLowerCase(),"on"+(Rd[0].toUpperCase()+Rd.slice(1)))}kr(pr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(xr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Md=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dd));function Od(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){vo(d)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){vo(d)}i.currentTarget=null,a=l}}}}function Ld(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(Bd(t,e,2,!1),n.add(r))}function Fd(e,t,n){var r=0;t&&(r|=4),Bd(n,e,r,t)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[$d]){e[$d]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Md.has(t)||Fd(t,!1,e),Fd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$d]||(t[$d]=!0,Fd("selectionchange",!1,t))}}function Bd(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ud(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Be(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Ot(function(){var r=a,i=It(n),s=[];e:{var o=yr.get(e);if(void 0!==o){var c=Jt,d=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":d="focus",c=sn;break;case"focusout":d="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case fr:case mr:c=on;break;case br:c=xn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=yn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Lt(m,p))&&u.push(zd(m,g,f)),h)break;m=m.return}0<u.length&&(o=new c(o,d,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Be(d)&&!d[De])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Be(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:ze(c),f=null==d?o:ze(d),(o=new u(g,m+"leave",c,n,i)).target=h,o.relatedTarget=f,g=null,Be(i)===r&&((u=new u(p,m+"enter",d,n,i)).target=f,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(p=d,m=0,f=u=c;f;f=Wd(f))m++;for(f=0,g=p;g;g=Wd(g))f++;for(;0<m-f;)u=Wd(u),m--;for(;0<f-m;)p=Wd(p),f--;for(;m--;){if(u===p||null!==p&&u===p.alternate)break e;u=Wd(u),p=Wd(p)}u=null}else u=null;null!==c&&Kd(s,o,c,u,!1),null!==d&&null!==h&&Kd(s,h,d,u,!0)}if("select"===(c=(o=r?ze(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Fn;else if(Pn(o))if($n)v=qn;else{v=Kn;var x=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?Rn(s,v,n,i):(x&&x(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&xt(o,"number",o.value)),x=r?ze(r):window,e){case"focusin":(Pn(x)||"true"===x.contentEditable)&&(rr=x,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Tn?En(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(jn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Tn&&(b=Ht()):(Ut="value"in(Bt=i)?Bt.value:Bt.textContent,Tn=!0)),0<(x=Hd(r,y)).length&&(y=new cn(y,e,null,n,i),s.push({event:y,listeners:x}),b?y.data=b:null!==(b=An(n))&&(y.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Nn=!0,_n);case"textInput":return(e=t.data)===_n&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!kn&&En(e,t)?(e=Ht(),zt=Ut=Bt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Hd(r,"onBeforeInput")).length&&(x=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:x,listeners:y}),x.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Td((i[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Td(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Jt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wd){var e=s?Id(i,s):new FormData(i);Ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Id(i,s):new FormData(i),Ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Od(s,t)})}function zd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(zd(e,i,a)),null!=(i=Lt(e,t))&&r.push(zd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Wd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kd(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,a))&&s.unshift(zd(n,c,l)):i||null!=(c=Lt(n,a))&&s.push(zd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gd=/\r\n?/g,qd=/\u0000|\uFFFD/g;function Xd(e){return("string"===typeof e?e:""+e).replace(Gd,"\n").replace(qd,"")}function Yd(e,t){return t=Xd(t),Xd(e)===t}function Qd(){}function Zd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":jt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zd(e,t,"name",i.name,i,null),Zd(e,t,"formEncType",i.formEncType,i,null),Zd(e,t,"formMethod",i.formMethod,i,null),Zd(e,t,"formTarget",i.formTarget,i,null)):(Zd(e,t,"encType",i.encType,i,null),Zd(e,t,"method",i.method,i,null),Zd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qd);break;case"onScroll":null!=r&&Ld("scroll",e);break;case"onScrollEnd":null!=r&&Ld("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ld("beforetoggle",e),Ld("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Nt.get(n)||n,r)}}function Jd(e,t,n,r,i,a){switch(n){case"style":jt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Ld("scroll",e);break;case"onScrollEnd":null!=r&&Ld("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ld("error",e),Ld("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zd(e,t,r,o,n,null)}}return a&&Zd(e,t,"srcSet",n.srcSet,n,null),void(i&&Zd(e,t,"src",n.src,n,null));case"input":Ld("invalid",e);var l=r=o=a=null,c=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(null!=u)switch(i){case"name":a=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Zd(e,t,i,u,n,null)}}return vt(e,r,l,c,d,o,a,!1),void ut(e);case"select":for(a in Ld("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Zd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Ld("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zd(e,t,o,l,n,null)}return wt(e,i,a,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zd(e,t,c,i,n,null);return;case"dialog":Ld("beforetoggle",e),Ld("toggle",e),Ld("cancel",e),Ld("close",e);break;case"iframe":case"object":Ld("load",e);break;case"video":case"audio":for(i=0;i<Dd.length;i++)Ld(Dd[i],e);break;case"image":Ld("error",e),Ld("load",e);break;case"details":Ld("toggle",e);break;case"embed":case"source":case"link":Ld("error",e),Ld("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(i=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zd(e,t,d,i,n,null)}return;default:if(_t(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(i=n[u])&&Jd(e,t,u,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zd(e,t,l,i,n,null))}var tu=null,nu=null;function ru(e){return 9===e.nodeType?e:e.ownerDocument}function iu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function au(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function su(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(hu)}:lu;function hu(e){setTimeout(function(){throw e})}function pu(e){return"head"===e}function fu(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wu(s.documentElement),2&n&&wu(s.body),4&n)for(wu(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[$e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void Nh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Nh(t)}function mu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mu(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var xu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function yu(e,t,n){switch(t=ru(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var ku=new Map,Su=new Set;function Cu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var ju=M.d;M.d={f:function(){var e=ju.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ps(t):ju.r(e)},D:function(e){ju.D(e),Nu("dns-prefetch",e,null)},C:function(e,t){ju.C(e,t),Nu("preconnect",e,t)},L:function(e,t,n){ju.L(e,t,n);var r=_u;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Au(e);break;case"script":a=Pu(e)}ku.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ku.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Tu(a))||"script"===t&&r.querySelector(Ru(a))||(eu(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){ju.m(e,t);var n=_u;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Pu(e)}if(!ku.has(a)&&(e=h({rel:"modulepreload",href:e},t),ku.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ru(a)))return}eu(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){ju.X(e,t);var n=_u;if(n&&e){var r=He(n).hoistableScripts,i=Pu(e),a=r.get(i);a||((a=n.querySelector(Ru(i)))||(e=h({src:e,async:!0},t),(t=ku.get(i))&&Lu(e,t),We(a=n.createElement("script")),eu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){ju.S(e,t,n);var r=_u;if(r&&e){var i=He(r).hoistableStyles,a=Au(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Tu(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ku.get(a))&&Ou(e,n);var l=s=r.createElement("link");We(l),eu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Mu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){ju.M(e,t);var n=_u;if(n&&e){var r=He(n).hoistableScripts,i=Pu(e),a=r.get(i);a||((a=n.querySelector(Ru(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=ku.get(i))&&Lu(e,t),We(a=n.createElement("script")),eu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var _u="undefined"===typeof document?null:document;function Nu(e,t,n){var r=_u;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Su.has(i)||(Su.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eu(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Eu(e,t,n,r){var i,a,o,l,c=(c=H.current)?Cu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Au(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Au(n.href);var d=He(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Tu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ku.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ku.set(e,n),d||(i=c,a=e,o=n,l=u.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),eu(a,"link",o),We(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return u}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pu(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Au(e){return'href="'+mt(e)+'"'}function Tu(e){return'link[rel="stylesheet"]['+e+"]"}function Iu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pu(e){return'[src="'+mt(e)+'"]'}function Ru(e){return"script[async]"+e}function Du(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),eu(r,"style",i),Mu(r,n.precedence,e),t.instance=r;case"stylesheet":i=Au(n.href);var a=e.querySelector(Tu(i));if(a)return t.state.loading|=4,t.instance=a,We(a),a;r=Iu(n),(i=ku.get(i))&&Ou(r,i),We(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(a,"link",r),t.state.loading|=4,Mu(a,n.precedence,e),t.instance=a;case"script":return a=Pu(n.src),(i=e.querySelector(Ru(a)))?(t.instance=i,We(i),i):(r=n,(i=ku.get(a))&&Lu(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),eu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Mu(r,n.precedence,e));return t.instance}function Mu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ou(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Lu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fu=null;function $u(e,t,n){if(null===Fu){var r=new Map,i=Fu=new Map;i.set(n,r)}else(r=(i=Fu).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[$e]||a[Pe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Vu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Uu=null;function zu(){}function Hu(){if(this.count--,0===this.count)if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wu=null;function Ku(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wu=new Map,t.forEach(Gu,e),Wu=null,Hu.call(e))}function Gu(e,t){if(!(4&t.state.loading)){var n=Wu.get(e);if(n)var r=n.get(null);else{n=new Map,Wu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Hu.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var qu={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Xu(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yu(e,t,n,r,i,a,s,o,l,c,d,u){return e=new Xu(e,t,n,s,o,l,c,u),t=1,!0===a&&(t|=24),a=Or(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Qu(e){return e?e=Dr:Dr}function Zu(e,t,n,r,i,a){i=Qu(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Oc(n,0,t),sa(n,e,t))}function Ju(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Ju(e,t),(e=e.alternate)&&Ju(e,t)}function th(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Oc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=2,ah(e,t,n,r)}finally{M.p=a,D.T=i}}function ih(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=8,ah(e,t,n,r)}finally{M.p=a,D.T=i}}function ah(e,t,n,r){if(nh){var i=sh(r);if(null===i)Ud(e,t,r,oh,n),xh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return uh=bh(uh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return ph=bh(ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return fh.set(a,bh(fh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(xh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var a=Ue(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=xe(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}kd(a),0===(6&nc)&&(kc=te()+500,Sd(0,!1))}}break;case 13:null!==(o=Ir(a,2))&&Oc(o,0,2),Bc(),eh(a,2)}if(null===(a=sh(r))&&Ud(e,t,r,oh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ud(e,t,r,null,n)}}function sh(e){return lh(e=It(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,uh=null,hh=null,ph=null,fh=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xh(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ee(e);var t=Ir(n,e);null!==t&&Oc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function Sh(){dh=!1,null!==uh&&wh(uh)&&(uh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),fh.forEach(kh),mh.forEach(kh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var jh=null;function _h(e){jh!==e&&(jh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jh===e&&(jh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=Ue(n);null!==a&&(e.splice(t,3),t-=3,Ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Nh(e){function t(t){return Ch(t,e)}null!==uh&&Ch(uh,e),null!==hh&&Ch(hh,e),null!==ph&&Ch(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)yh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Re]||null;if("function"===typeof a)s||_h(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Re]||null)o=s.formAction;else if(null!==lh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_h(n)}}}function Eh(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zu(t.current,Dc(),e,t,null,null)},Ah.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu(e.current,2,null,e,null,null),Bc(),t[De]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&yh(e)}};var Th=i.version;if("19.1.0"!==Th)throw Error(s(527,Th,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{de=Ph.inject(Ih),ue=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=xo,a=bo,l=yo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yu(e,1,!1,null,0,n,r,i,a,l,0,null),e[De]=t.current,Vd(e),new Eh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=xo,l=bo,c=yo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Yu(e,1,!0,t,0,r,i,a,l,c,0,d)).context=Qu(null),n=t.current,(i=ia(r=Ee(r=Dc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,je(t,n),kd(t),e[De]=t.current,Vd(e),new Ah(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},173:(e,t,n)=>{e.exports=n(497)()},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,m(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function C(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function A(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return A((d=e._init)(e._payload),t,i,a,s)}}if(d)return s=s(e),d=""===a?"."+N(e,0):a,w(s)?(i="",null!=d&&(i=d.replace(_,"$&/")+"/"),A(s,t,i,"",function(e){return e})):null!=s&&(j(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+d,s=C(l.type,c,void 0,0,0,l.props)),t.push(s)),1;d=0;var u,f=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)d+=A(a=e[m],t,i,o=f+N(a,m),s);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(a=e.next()).done;)d+=A(a=a.value,t,i,o=f+N(a,m++),s);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return C(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return C(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(a){P(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},825:()=>{},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<i&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,C||(C=!0,S());else{var t=r(d);null!==t&&P(k,t.startTime-e)}}var S,C=!1,j=-1,_=5,N=-1;function E(){return!!v||!(t.unstable_now()-N<_)}function A(){if(v=!1,C){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(j),j=-1),f=!0;var a=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&E());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&P(k,l.startTime-e),n=!1}}break e}finally{h=null,p=a,f=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof y)S=function(){y(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){x(A,0)};function P(e,n){j=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(g?(b(j),j=-1):g=!0,P(k,a-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".aa50f532.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="i-plot-admin:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunki_plot_admin=self.webpackChunki_plot_admin||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);const i=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(e,t,n){d(e,t),t.set(e,n)}function h(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function p(e,t){return e.get(h(e,t))}function f(e,t,n){return e.set(h(e,t),n),n}var m="undefined"===typeof window||"Deno"in globalThis;function g(){}function v(e,t){return"function"===typeof e?e(t):e}function x(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s)if(r){if(t.queryHash!==y(s,t.options))return!1}else if(!k(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!i||i===t.state.fetchStatus)&&!(a&&!a(t)))}function b(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(w(t.options.mutationKey)!==w(a))return!1}else if(!k(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function y(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||w)(e)}function w(e){return JSON.stringify(e,(e,t)=>j(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function k(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>k(e[n],t[n])))}function S(e,t){if(e===t)return e;const n=C(e)&&C(t);if(n||j(e)&&j(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),s=a.length,o=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<s;d++){const r=n?d:a[d];(!n&&l.has(r)||n)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,c++):(o[r]=S(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&c++)}return i===s&&c===i?e:o}return t}function C(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function j(e){if(!_(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!_(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function _(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?S(e,t):t}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var T=Symbol();function I(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==T?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function P(e,t){d(e,t),t.add(e)}var R=e=>setTimeout(e,0);var D,M,O,L,F,$,V=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=R;const a=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a(()=>{e(...n)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),B=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},U=new(D=new WeakMap,M=new WeakMap,O=new WeakMap,class extends B{constructor(){super(),u(this,D,void 0),u(this,M,void 0),u(this,O,void 0),f(O,this,e=>{if(!m&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){p(M,this)||this.setEventListener(p(O,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=p(M,this))||void 0===e||e.call(this),f(M,this,void 0))}setEventListener(e){var t;f(O,this,e),null===(t=p(M,this))||void 0===t||t.call(this),f(M,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){p(D,this)!==e&&(f(D,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof p(D,this)?p(D,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),z=new(L=new WeakMap,F=new WeakMap,$=new WeakMap,class extends B{constructor(){super(),u(this,L,!0),u(this,F,void 0),u(this,$,void 0),f($,this,e=>{if(!m&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){p(F,this)||this.setEventListener(p($,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=p(F,this))||void 0===e||e.call(this),f(F,this,void 0))}setEventListener(e){var t;f($,this,e),null===(t=p(F,this))||void 0===t||t.call(this),f(F,this,e(this.setOnline.bind(this)))}setOnline(e){p(L,this)!==e&&(f(L,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return p(L,this)}});function H(e){return Math.min(1e3*2**e,3e4)}function W(e){return"online"!==(null!==e&&void 0!==e?e:"online")||z.isOnline()}var K,G=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function q(e){return e instanceof G}function X(e){let t,n=!1,r=0,i=!1;const a=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),s=()=>U.isFocused()&&("always"===e.networkMode||z.isOnline())&&e.canRun(),o=()=>W(e.networkMode)&&e.canRun(),l=n=>{var r,s;i||(i=!0,null===(r=e.onSuccess)||void 0===r||r.call(e,n),null===(s=t)||void 0===s||s(),a.resolve(n))},c=n=>{var r,s;i||(i=!0,null===(r=e.onError)||void 0===r||r.call(e,n),null===(s=t)||void 0===s||s(),a.reject(n))},d=()=>new Promise(n=>{var r;t=e=>{(i||s())&&n(e)},null===(r=e.onPause)||void 0===r||r.call(e)}).then(()=>{var n;(t=void 0,i)||(null===(n=e.onContinue)||void 0===n||n.call(e))}),u=()=>{if(i)return;let t;const a=0===r?e.initialPromise:void 0;try{t=null!==a&&void 0!==a?a:e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a,o,l;if(i)return;const h=null!==(a=e.retry)&&void 0!==a?a:m?0:3,p=null!==(o=e.retryDelay)&&void 0!==o?o:H,f="function"===typeof p?p(r,t):p,g=!0===h||"number"===typeof h&&r<h||"function"===typeof h&&h(r,t);var v;!n&&g?(r++,null===(l=e.onFail)||void 0===l||l.call(e,r,t),(v=f,new Promise(e=>{setTimeout(e,v)})).then(()=>s()?void 0:d()).then(()=>{n?c(t):u()})):c(t)})};return{promise:a,cancel:t=>{var n;i||(c(new G(t)),null===(n=e.abort)||void 0===n||n.call(e))},continue:()=>{var e;return null===(e=t)||void 0===e||e(),a},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?u():d().then(u),a)}}var Y,Q,Z,J,ee,te,ne,re,ie,ae=(K=new WeakMap,class{constructor(){u(this,K,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&f(K,this,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:m?1/0:3e5)}clearGcTimeout(){p(K,this)&&(clearTimeout(p(K,this)),f(K,this,void 0))}}),se=(Y=new WeakMap,Q=new WeakMap,Z=new WeakMap,J=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakSet,class extends ae{constructor(e){var t;super(),P(this,re),u(this,Y,void 0),u(this,Q,void 0),u(this,Z,void 0),u(this,J,void 0),u(this,ee,void 0),u(this,te,void 0),u(this,ne,void 0),f(ne,this,!1),f(te,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],f(J,this,e.client),f(Z,this,p(J,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,f(Y,this,function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==r&&void 0!==r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:p(Y,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=p(ee,this))||void 0===e?void 0:e.promise}setOptions(e){this.options=c(c({},p(te,this)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||p(Z,this).remove(this)}setData(e,t){const n=N(this.state.data,e,this.options);return h(re,this,oe).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){h(re,this,oe).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null===(t=p(ee,this))||void 0===t?void 0:t.promise;return null===(n=p(ee,this))||void 0===n||n.cancel(e),r?r.then(g).catch(g):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(Y,this))}isActive(){return this.observers.some(e=>!1!==function(e,t){return"function"===typeof e?e(t):e}(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===T||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===v(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=p(ee,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=p(ee,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),p(Z,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(p(ee,this)&&(p(ne,this)?p(ee,this).cancel({revert:!0}):p(ee,this).cancelRetry()),this.scheduleGc()),p(Z,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||h(re,this,oe).call(this,{type:"invalidate"})}fetch(e,t){var n,r;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(p(ee,this))return p(ee,this).continueRetry(),p(ee,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const i=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(f(ne,this,!0),i.signal)})},s=()=>{const e=I(this.options,t),n=(()=>{const e={client:p(J,this),queryKey:this.queryKey,meta:this.meta};return a(e),e})();return f(ne,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},o=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:p(J,this),state:this.state,fetchFn:s};return a(e),e})();var l;(null===(n=this.options.behavior)||void 0===n||n.onFetch(o,this),f(Q,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(r=o.fetchOptions)||void 0===r?void 0:r.meta))&&h(re,this,oe).call(this,{type:"fetch",meta:null===(l=o.fetchOptions)||void 0===l?void 0:l.meta});const c=e=>{var t,n,r,i;(q(e)&&e.silent||h(re,this,oe).call(this,{type:"error",error:e}),q(e))||(null===(t=(n=p(Z,this).config).onError)||void 0===t||t.call(n,e,this),null===(r=(i=p(Z,this).config).onSettled)||void 0===r||r.call(i,this.state.data,e,this));this.scheduleGc()};return f(ee,this,X({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{var t,n,r,i;if(void 0!==e){try{this.setData(e)}catch(a){return void c(a)}null===(t=(n=p(Z,this).config).onSuccess)||void 0===t||t.call(n,e,this),null===(r=(i=p(Z,this).config).onSettled)||void 0===r||r.call(i,e,this.state.error,this),this.scheduleGc()}else c(new Error("".concat(this.queryHash," data is undefined")))},onError:c,onFail:(e,t)=>{h(re,this,oe).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{h(re,this,oe).call(this,{type:"pause"})},onContinue:()=>{h(re,this,oe).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),p(ee,this).start()}});function oe(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return c(c({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return c(c({},t),{},{fetchStatus:"paused"});case"continue":return c(c({},t),{},{fetchStatus:"fetching"});case"fetch":return c(c(c({},t),function(e,t){return c({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":return f(Q,this,void 0),c(c({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(r=e.dataUpdatedAt)&&void 0!==r?r:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const i=e.error;return q(i)&&i.revert&&p(Q,this)?c(c({},p(Q,this)),{},{fetchStatus:"idle"}):c(c({},t),{},{error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"});case"invalidate":return c(c({},t),{},{isInvalidated:!0});case"setState":return c(c({},t),e.state)}})(this.state),V.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),p(Z,this).notify({query:this,type:"updated",action:e})})}var le,ce,de,ue,he,pe,fe,me=(ie=new WeakMap,class extends B{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),u(this,ie,void 0),this.config=e,f(ie,this,new Map)}build(e,t,n){var r;const i=t.queryKey,a=null!==(r=t.queryHash)&&void 0!==r?r:y(i,t);let s=this.get(a);return s||(s=new se({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){p(ie,this).has(e.queryHash)||(p(ie,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=p(ie,this).get(e.queryHash);t&&(e.destroy(),t===e&&p(ie,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return p(ie,this).get(e)}getAll(){return[...p(ie,this).values()]}find(e){const t=c({exact:!0},e);return this.getAll().find(e=>x(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>x(e,t)):t}notify(e){V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),ge=(le=new WeakMap,ce=new WeakMap,de=new WeakMap,ue=new WeakSet,class extends ae{constructor(e){super(),P(this,ue),u(this,le,void 0),u(this,ce,void 0),u(this,de,void 0),this.mutationId=e.mutationId,f(ce,this,e.mutationCache),f(le,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){p(le,this).includes(e)||(p(le,this).push(e),this.clearGcTimeout(),p(ce,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){f(le,this,p(le,this).filter(t=>t!==e)),this.scheduleGc(),p(ce,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){p(le,this).length||("pending"===this.state.status?this.scheduleGc():p(ce,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=p(de,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{h(ue,this,ve).call(this,{type:"continue"})};f(de,this,X({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{h(ue,this,ve).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{h(ue,this,ve).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(ce,this).canRun(this)}));const r="pending"===this.state.status,i=!p(de,this).canStart();try{var a,s,o,l,c,d,u,m;if(r)n();else{var g,v,x,b;h(ue,this,ve).call(this,{type:"pending",variables:e,isPaused:i}),await(null===(g=(v=p(ce,this).config).onMutate)||void 0===g?void 0:g.call(v,e,this));const t=await(null===(x=(b=this.options).onMutate)||void 0===x?void 0:x.call(b,e));t!==this.state.context&&h(ue,this,ve).call(this,{type:"pending",context:t,variables:e,isPaused:i})}const t=await p(de,this).start();return await(null===(a=(s=p(ce,this).config).onSuccess)||void 0===a?void 0:a.call(s,t,e,this.state.context,this)),await(null===(o=(l=this.options).onSuccess)||void 0===o?void 0:o.call(l,t,e,this.state.context)),await(null===(c=(d=p(ce,this).config).onSettled)||void 0===c?void 0:c.call(d,t,null,this.state.variables,this.state.context,this)),await(null===(u=(m=this.options).onSettled)||void 0===u?void 0:u.call(m,t,null,e,this.state.context)),h(ue,this,ve).call(this,{type:"success",data:t}),t}catch(E){try{var y,w,k,S,C,j,_,N;throw await(null===(y=(w=p(ce,this).config).onError)||void 0===y?void 0:y.call(w,E,e,this.state.context,this)),await(null===(k=(S=this.options).onError)||void 0===k?void 0:k.call(S,E,e,this.state.context)),await(null===(C=(j=p(ce,this).config).onSettled)||void 0===C?void 0:C.call(j,void 0,E,this.state.variables,this.state.context,this)),await(null===(_=(N=this.options).onSettled)||void 0===_?void 0:_.call(N,void 0,E,e,this.state.context)),E}finally{h(ue,this,ve).call(this,{type:"error",error:E})}}finally{p(ce,this).runNext(this)}}});function ve(e){this.state=(t=>{switch(e.type){case"failed":return c(c({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return c(c({},t),{},{isPaused:!0});case"continue":return c(c({},t),{},{isPaused:!1});case"pending":return c(c({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return c(c({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return c(c({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),V.batch(()=>{p(le,this).forEach(t=>{t.onMutationUpdate(e)}),p(ce,this).notify({mutation:this,type:"updated",action:e})})}var xe,be,ye,we,ke,Se,Ce,je,_e=(he=new WeakMap,pe=new WeakMap,fe=new WeakMap,class extends B{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),u(this,he,void 0),u(this,pe,void 0),u(this,fe,void 0),this.config=e,f(he,this,new Set),f(pe,this,new Map),f(fe,this,0)}build(e,t,n){var r;const i=new ge({mutationCache:this,mutationId:f(fe,this,(r=p(fe,this),++r)),options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){p(he,this).add(e);const t=Ne(e);if("string"===typeof t){const n=p(pe,this).get(t);n?n.push(e):p(pe,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(p(he,this).delete(e)){const t=Ne(e);if("string"===typeof t){const n=p(pe,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&p(pe,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ne(e);if("string"===typeof t){const n=p(pe,this).get(t),r=null===n||void 0===n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Ne(e);if("string"===typeof t){var n,r;const i=null===(n=p(pe,this).get(t))||void 0===n?void 0:n.find(t=>t!==e&&t.state.isPaused);return null!==(r=null===i||void 0===i?void 0:i.continue())&&void 0!==r?r:Promise.resolve()}return Promise.resolve()}clear(){V.batch(()=>{p(he,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),p(he,this).clear(),p(pe,this).clear()})}getAll(){return Array.from(p(he,this))}find(e){const t=c({exact:!0},e);return this.getAll().find(e=>b(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>b(e,t))}notify(e){V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return V.batch(()=>Promise.all(e.map(e=>e.continue().catch(g))))}});function Ne(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function Ee(e){return{onFetch:(t,n)=>{var r,i,a;const s=t.options,o=null===(r=t.fetchOptions)||void 0===r||null===(r=r.meta)||void 0===r||null===(r=r.fetchMore)||void 0===r?void 0:r.direction,l=(null===(i=t.state.data)||void 0===i?void 0:i.pages)||[],c=(null===(a=t.state.data)||void 0===a?void 0:a.pageParams)||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let n=!1;const r=I(t.options,t.fetchOptions),i=async(e,i,a)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),o=await r(s),{maxPages:l}=t.options,c=a?A:E;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,i,l)}};if(o&&l.length){const e="backward"===o,t={pages:l,pageParams:c},n=(e?Te:Ae)(s,t);d=await i(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var a;const e=0===u?null!==(a=c[0])&&void 0!==a?a:s.initialPageParam:Ae(s,d);if(u>0&&null==e)break;d=await i(d,e),u++}while(u<t)}return d};t.options.persister?t.fetchFn=()=>{var e,r;return null===(e=(r=t.options).persister)||void 0===e?void 0:e.call(r,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Ae(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Te(e,t){var n;let{pages:r,pageParams:i}=t;return r.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,r[0],r,i[0],i):void 0}var Ie=(xe=new WeakMap,be=new WeakMap,ye=new WeakMap,we=new WeakMap,ke=new WeakMap,Se=new WeakMap,Ce=new WeakMap,je=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,xe,void 0),u(this,be,void 0),u(this,ye,void 0),u(this,we,void 0),u(this,ke,void 0),u(this,Se,void 0),u(this,Ce,void 0),u(this,je,void 0),f(xe,this,e.queryCache||new me),f(be,this,e.mutationCache||new _e),f(ye,this,e.defaultOptions||{}),f(we,this,new Map),f(ke,this,new Map),f(Se,this,0)}mount(){var e;f(Se,this,(e=p(Se,this),e++,e)),1===p(Se,this)&&(f(Ce,this,U.subscribe(async e=>{e&&(await this.resumePausedMutations(),p(xe,this).onFocus())})),f(je,this,z.subscribe(async e=>{e&&(await this.resumePausedMutations(),p(xe,this).onOnline())})))}unmount(){var e,t,n;f(Se,this,(e=p(Se,this),e--,e)),0===p(Se,this)&&(null===(t=p(Ce,this))||void 0===t||t.call(this),f(Ce,this,void 0),null===(n=p(je,this))||void 0===n||n.call(this),f(je,this,void 0))}isFetching(e){return p(xe,this).findAll(c(c({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return p(be,this).findAll(c(c({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=p(xe,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=p(xe,this).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(v(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return p(xe,this).findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=p(xe,this).get(r.queryHash),a=function(e,t){return"function"===typeof e?e(t):e}(t,null===i||void 0===i?void 0:i.state.data);if(void 0!==a)return p(xe,this).build(this,r).setData(a,c(c({},n),{},{manual:!0}))}setQueriesData(e,t,n){return V.batch(()=>p(xe,this).findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=p(xe,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=p(xe,this);V.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=p(xe,this);return V.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(c({type:"active"},e),t)))}cancelQueries(e){const t=c({revert:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=V.batch(()=>p(xe,this).findAll(e).map(e=>e.cancel(t)));return Promise.all(n).then(g).catch(g)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V.batch(()=>{var n,r;return p(xe,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(c(c({},e),{},{type:null!==(n=null!==(r=null===e||void 0===e?void 0:e.refetchType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)})}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=c(c({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),i=V.batch(()=>p(xe,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(g)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(i).then(g)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=p(xe,this).build(this,t);return n.isStaleByTime(v(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(g).catch(g)}fetchInfiniteQuery(e){return e.behavior=Ee(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(g).catch(g)}ensureInfiniteQueryData(e){return e.behavior=Ee(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return z.isOnline()?p(be,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(xe,this)}getMutationCache(){return p(be,this)}getDefaultOptions(){return p(ye,this)}setDefaultOptions(e){f(ye,this,e)}setQueryDefaults(e,t){p(we,this).set(w(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...p(we,this).values()],n={};return t.forEach(t=>{k(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){p(ke,this).set(w(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...p(ke,this).values()],n={};return t.forEach(t=>{k(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=c(c(c(c({},p(ye,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=y(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===T&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:c(c(c(c({},p(ye,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){p(xe,this).clear(),p(be,this).clear()}}),Pe=n(579),Re=e.createContext(void 0),De=t=>{let{client:n,children:r}=t;return e.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),(0,Pe.jsx)(Re.Provider,{value:n,children:r})};function Me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Oe={data:""},Le=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Oe,Fe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$e=/\/\*[^]*?\*\/|  +/g,Ve=/\n+/g,Be=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?Be(s,a):a+"{"+Be(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=Be(s,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Be.p?Be.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Ue={},ze=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+ze(e[n]);return t}return e},He=(e,t,n,r,i)=>{let a=ze(e),s=Ue[a]||(Ue[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!Ue[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=Fe.exec(e.replace($e,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ve," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ve," ").trim();return r[0]})(e);Ue[s]=Be(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&Ue.g?Ue.g:null;return n&&(Ue.g=Ue[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Ue[s],t,r,o),s};function We(e){let t=this||{},n=e.call?e(t.p):e;return He(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Be(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Le(t.target),t.g,t.o,t.k)}We.bind({g:1});let Ke,Ge,qe,Xe=We.bind({k:1});function Ye(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:Ge&&Ge()},o),n.o=/ *go\d+/.test(l),o.className=We.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),qe&&c[0]&&qe(o),Ke(c,o)}return t?t(i):i}}var Qe,Ze,Je,et,tt,nt,rt,it,at,st,ot,lt,ct,dt,ut,ht,pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,ft=(()=>{let e=0;return()=>(++e).toString()})(),mt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),gt=(e,t)=>{switch(t.type){case 0:return c(c({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?c(c({},e),t.toast):e)});case 2:let{toast:n}=t;return gt(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?c(c({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?c(c({},e),{},{toasts:[]}):c(c({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return c(c({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return c(c({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>c(c({},e),{},{pauseDuration:e.pauseDuration+i}))})}},vt=[],xt={toasts:[],pausedAt:void 0},bt=e=>{xt=gt(xt,e),vt.forEach(e=>{e(xt)})},yt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return c(c({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||ft()})}(t,e,n);return bt({type:2,toast:r}),r.id},kt=(e,t)=>wt("blank")(e,t);kt.error=wt("error"),kt.success=wt("success"),kt.loading=wt("loading"),kt.custom=wt("custom"),kt.dismiss=e=>{bt({type:3,toastId:e})},kt.remove=e=>bt({type:4,toastId:e}),kt.promise=(e,t,n)=>{let r=kt.loading(t.loading,c(c({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?pt(t.success,e):void 0;return i?kt.success(i,c(c({id:r},n),null==n?void 0:n.success)):kt.dismiss(r),e}).catch(e=>{let i=t.error?pt(t.error,e):void 0;i?kt.error(i,c(c({id:r},n),null==n?void 0:n.error)):kt.dismiss(r)}),e};var St=(e,t)=>{bt({type:1,toast:{id:e,height:t}})},Ct=()=>{bt({type:5,time:Date.now()})},jt=new Map,_t=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(xt),i=(0,e.useRef)(xt);(0,e.useEffect)(()=>(i.current!==xt&&r(xt),vt.push(r),()=>{let e=vt.indexOf(r);e>-1&&vt.splice(e,1)}),[]);let a=n.toasts.map(e=>{var n,r,i;return c(c(c(c({},t),t[e.type]),e),{},{removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||yt[e.type],style:c(c(c({},t.style),null==(i=t[e.type])?void 0:i.style),e.style)})});return c(c({},n),{},{toasts:a})}(t);(0,e.useEffect)(()=>{if(r)return;let e=Date.now(),t=n.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>kt.dismiss(t.id),n);t.visible&&kt.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[n,r]);let i=(0,e.useCallback)(()=>{r&&bt({type:6,time:Date.now()})},[r]),a=(0,e.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},s=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,e.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(jt.has(e))return;let n=setTimeout(()=>{jt.delete(e),bt({type:4,toastId:e})},t);jt.set(e,n)}(e.id,e.removeDelay);else{let t=jt.get(e.id);t&&(clearTimeout(t),jt.delete(e.id))}})},[n]),{toasts:n,handlers:{updateHeight:St,startPause:Ct,endPause:i,calculateOffset:a}}},Nt=Xe(Qe||(Qe=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Et=Xe(Ze||(Ze=Me(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),At=Xe(Je||(Je=Me(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Tt=Ye("div")(et||(et=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Nt,Et,e=>e.secondary||"#fff",At),It=Xe(tt||(tt=Me(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Pt=Ye("div")(nt||(nt=Me(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",It),Rt=Xe(rt||(rt=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Dt=Xe(it||(it=Me(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Mt=Ye("div")(at||(at=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Rt,Dt,e=>e.secondary||"#fff"),Ot=Ye("div")(st||(st=Me(["\n  position: absolute;\n"]))),Lt=Ye("div")(ot||(ot=Me(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Ft=Xe(lt||(lt=Me(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$t=Ye("div")(ct||(ct=Me(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Ft),Vt=t=>{let{toast:n}=t,{icon:r,type:i,iconTheme:a}=n;return void 0!==r?"string"==typeof r?e.createElement($t,null,r):r:"blank"===i?null:e.createElement(Lt,null,e.createElement(Pt,c({},a)),"loading"!==i&&e.createElement(Ot,null,"error"===i?e.createElement(Tt,c({},a)):e.createElement(Mt,c({},a))))},Bt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Ut=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),zt=Ye("div")(dt||(dt=Me(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ht=Ye("div")(ut||(ut=Me(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Wt=e.memo(t=>{let{toast:n,position:r,style:i,children:a}=t,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=mt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Bt(n),Ut(n)];return{animation:t?"".concat(Xe(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Xe(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},o=e.createElement(Vt,{toast:n}),l=e.createElement(Ht,c({},n.ariaProps),pt(n.message,n));return e.createElement(zt,{className:n.className,style:c(c(c({},s),i),n.style)},"function"==typeof a?a({icon:o,message:l}):e.createElement(e.Fragment,null,o,l))});!function(e,t,n,r){Be.p=t,Ke=e,Ge=n,qe=r}(e.createElement);var Kt=t=>{let{id:n,className:r,style:i,onHeightUpdate:a,children:s}=t,o=e.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,a]);return e.createElement("div",{ref:o,className:r,style:i},s)},Gt=We(ht||(ht=Me(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),qt=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:a,children:s,containerStyle:o,containerClassName:l}=t,{toasts:d,handlers:u}=_t(i);return e.createElement("div",{id:"_rht_toaster",style:c({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(t=>{let i=t.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return c(c({left:0,right:0,display:"flex",position:"absolute",transition:mt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,u.calculateOffset(t,{reverseOrder:n,gutter:a,defaultPosition:r}));return e.createElement(Kt,{id:t.id,key:t.id,onHeightUpdate:u.updateHeight,className:t.visible?Gt:"",style:o},"custom"===t.type?pt(t.message,t):s?s(t):e.createElement(Wt,{toast:t,position:i}))}))},Xt=kt;function Yt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(175);const Qt=["sri"],Zt=["page"],Jt=["page","matches"],en=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tn=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],nn=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var rn,an=e=>{throw TypeError(e)},sn=(e,t,n)=>(((e,t,n)=>{t.has(e)||an("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e)),on="popstate";function ln(){return mn(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return hn("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:pn(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function cn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function dn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Oe){}}}function un(e,t){return{usr:e.state,key:e.key,idx:t}}function hn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?fn(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function pn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function fn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function mn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,d=u();function u(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-d;d=e,l&&l({action:o,location:f.location,delta:t})}function p(e){return gn(e)}null==d&&(d=0,s.replaceState(c(c({},s.state),{},{idx:d}),""));let f={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(on,h),l=e,()=>{i.removeEventListener(on,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=hn(f.location,e,t);n&&n(r,e),d=u()+1;let c=un(r,d),h=f.createHref(r);try{s.pushState(c,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}a&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=hn(f.location,e,t);n&&n(r,e),d=u();let i=un(r,d),c=f.createHref(r);s.replaceState(i,"",c),a&&l&&l({action:o,location:f.location,delta:0})},go:e=>s.go(e)};return f}function gn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:pn(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var vn=class{constructor(e){var t,n,r;if(t=this,n=rn,r=new Map,n.has(t)?an("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),e)for(let[i,a]of e)this.set(i,a)}get(e){if(sn(this,rn).has(e))return sn(this,rn).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){sn(this,rn).set(e,t)}};rn=new WeakMap;var xn=new Set(["lazy","caseSensitive","path","id","index","children"]);var bn=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function yn(e){return bn.has(e)}function wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map((e,i)=>{let a=[...n,String(i)],s="string"===typeof e.id?e.id:a.join("-");if(cn(!0!==e.index||!e.children,"Cannot specify children on an index route"),cn(!r[s],'Found a route id collision on id "'.concat(s,"\".  Route id's must be globally unique within Data Router usages")),function(e){return!0===e.index}(e)){let n=c(c(c({},e),t(e)),{},{id:s});return r[s]=n,n}{let n=c(c(c({},e),t(e)),{},{id:s,children:void 0});return r[s]=n,e.children&&(n.children=wn(e.children,t,a,r)),n}})}function kn(e,t){return Sn(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function Sn(e,t,n,r){let i=$n(("string"===typeof t?fn(t):t).pathname||"/",n);if(null==i)return null;let a=jn(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=Fn(i);s=Mn(a[o],e,r)}return s}function Cn(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(cn(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let o=Hn([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(cn(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),jn(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Dn(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of _n(e.path))i(e,t,r);else i(e,t)}),t}function _n(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=_n(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var Nn=/^:[\w-]+$/,En=3,An=2,Tn=1,In=10,Pn=-2,Rn=e=>"*"===e;function Dn(e,t){let n=e.split("/"),r=n.length;return n.some(Rn)&&(r+=Pn),t&&(r+=An),n.filter(e=>!Rn(e)).reduce((e,t)=>e+(Nn.test(t)?En:""===t?Tn:In),r)}function Mn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=On({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=On({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Hn([a,d.pathname]),pathnameBase:Wn(Hn([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=Hn([a,d.pathnameBase]))}return s}function On(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ln(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function Ln(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];dn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Fn(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return dn(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function $n(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Vn(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Bn(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Un(e){let t=Bn(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function zn(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=fn(e):(r=c({},e),cn(!r.pathname||!r.pathname.includes("?"),Vn("?","pathname","search",r)),cn(!r.pathname||!r.pathname.includes("#"),Vn("#","pathname","hash",r)),cn(!r.search||!r.search.includes("#"),Vn("#","search","hash",r)));let a,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)a=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?fn(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Kn(r),hash:Gn(i)}}(r,a),d=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!u||(l.pathname+="/"),l}var Hn=e=>e.join("/").replace(/\/\/+/g,"/"),Wn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Gn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var qn=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Xn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Yn=["POST","PUT","PATCH","DELETE"],Qn=new Set(Yn),Zn=["GET",...Yn],Jn=new Set(Zn),er=new Set([301,302,303,307,308]),tr=new Set([307,308]),nr={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ir={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ar=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),or="remix-router-transitions",lr=Symbol("ResetLoaderData");function cr(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;cn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r,i,a,s=e.hydrationRouteProperties||[],o=e.mapRouteProperties||sr,l={},d=wn(e.routes,o,void 0,l),u=e.basename||"/",h=e.dataStrategy||wr,p=c({unstable_middleware:!1},e.future),f=null,m=new Set,g=null,v=null,x=null,b=null!=e.hydrationData,y=kn(d,e.history.location,u),w=!1,k=null;if(null!=y||e.patchRoutesOnNavigation){if(y&&!e.hydrationData){he(y,d,e.history.location.pathname).active&&(y=null)}if(y)if(y.some(e=>e.route.lazy))i=!1;else if(y.some(e=>e.route.loader)){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=y.findIndex(e=>void 0!==n[e.route.id]);i=y.slice(0,e+1).every(e=>!pr(e.route,t,n))}else i=y.every(e=>!pr(e.route,t,n))}else i=!0;else{i=!1,y=[];let t=he(null,d,e.history.location.pathname);t.active&&t.matches&&(w=!0,y=t.matches)}}else{let t=Vr(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=$r(d);i=!0,y=n,k={[r.id]:t}}let S,C,j={historyAction:e.history.action,location:e.history.location,matches:y,initialized:i,navigation:nr,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},_="POP",N=!1,E=!1,A=new Map,T=null,I=!1,P=!1,R=new Set,D=new Map,M=0,O=-1,L=new Map,F=new Set,$=new Map,V=new Map,B=new Set,U=new Map,z=null;function H(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j=c(c({},j),e);let n=[],r=[];j.fetchers.forEach((e,t)=>{"idle"===e.state&&(B.has(t)?n.push(t):r.push(t))}),B.forEach(e=>{j.fetchers.has(e)||D.has(e)||n.push(e)}),[...m].forEach(e=>e(j,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),n.forEach(e=>te(e)),r.forEach(e=>j.fetchers.delete(e))}function W(t,n){var i,a,s;let o,{flushSync:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=null!=j.actionData&&null!=j.navigation.formMethod&&Xr(j.navigation.formMethod)&&"loading"===j.navigation.state&&!0!==(null===(i=t.state)||void 0===i?void 0:i._isRedirect);o=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?j.actionData:null;let h=n.loaderData?Or(j.loaderData,n.loaderData,n.matches||[],n.errors):j.loaderData,p=j.blockers;p.size>0&&(p=new Map(p),p.forEach((e,t)=>p.set(t,ir)));let f,m=!0===N||null!=j.navigation.formMethod&&Xr(j.navigation.formMethod)&&!0!==(null===(a=t.state)||void 0===a?void 0:a._isRedirect);if(r&&(d=r,r=void 0),I||"POP"===_||("PUSH"===_?e.history.push(t,t.state):"REPLACE"===_&&e.history.replace(t,t.state)),"POP"===_){let e=A.get(j.location.pathname);e&&e.has(t.pathname)?f={currentLocation:j.location,nextLocation:t}:A.has(t.pathname)&&(f={currentLocation:t,nextLocation:j.location})}else if(E){let e=A.get(j.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),A.set(j.location.pathname,e)),f={currentLocation:j.location,nextLocation:t}}H(c(c({},n),{},{actionData:o,loaderData:h,historyAction:_,location:t,initialized:!0,navigation:nr,revalidation:"idle",restoreScrollPosition:ue(t,n.matches||j.matches),preventScrollReset:m,blockers:p}),{viewTransitionOpts:f,flushSync:!0===l}),_="POP",N=!1,E=!1,I=!1,P=!1,null===(s=z)||void 0===s||s.resolve(),z=null}async function K(t,n,i){S&&S.abort(),S=null,_=t,I=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(g&&x){let n=de(e,t);g[n]=x()}}(j.location,j.matches),N=!0===(i&&i.preventScrollReset),E=!0===(i&&i.enableViewTransition);let a=r||d,h=i&&i.overrideNavigation,p=null!==i&&void 0!==i&&i.initialHydration&&j.matches&&j.matches.length>0&&!w?j.matches:kn(a,n,u),f=!0===(i&&i.flushSync);if(p&&j.initialized&&!P&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(j.location,n)&&!(i&&i.submission&&Xr(i.submission.formMethod)))return void W(n,{matches:p},{flushSync:f});let m=he(p,a,n.pathname);if(m.active&&m.matches&&(p=m.matches),!p){let{error:e,notFoundMatches:t,route:r}=ce(n.pathname);return void W(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:f})}S=new AbortController;let v,b=Ir(e.history,n,S.signal,i&&i.submission),y=new vn(e.unstable_getContext?await e.unstable_getContext():void 0);if(i&&i.pendingError)v=[Fr(p).route.id,{type:"error",error:i.pendingError}];else if(i&&i.submission&&Xr(i.submission.formMethod)){let t=await async function(e,t,n,r,i,a,c){let d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};Q();let h,p=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(H({navigation:p},{flushSync:!0===d.flushSync}),a){let n=await pe(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=Fr(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=ce(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:"error",error:n}]}}r=n.matches}let f=Qr(r,t);if(f.route.action||f.route.lazy){let t=_r(o,l,e,r,f,c?[]:s,i),n=await X(e,t,i,null);if(h=n[f.route.id],!h)for(let e of r)if(n[e.route.id]){h=n[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else h={type:"error",error:Vr(405,{method:e.method,pathname:t.pathname,routeId:f.route.id})};if(Wr(h)){let t;if(d&&null!=d.replace)t=d.replace;else{t=Tr(h.response.headers.get("Location"),new URL(e.url),u)===j.location.pathname+j.location.search}return await q(e,h,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(Hr(h)){let e=Fr(r,f.route.id);return!0!==(d&&d.replace)&&(_="PUSH"),{matches:r,pendingActionResult:[e.route.id,h,f.route.id]}}return{matches:r,pendingActionResult:[f.route.id,h]}}(b,n,i.submission,p,y,m.active,i&&!0===i.initialHydration,{replace:i.replace,flushSync:f});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Hr(r)&&Xn(r.error)&&404===r.error.status)return S=null,void W(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}p=t.matches||p,v=t.pendingActionResult,h=Jr(n,i.submission),f=!1,m.active=!1,b=Ir(e.history,b.url,b.signal)}let{shortCircuited:k,matches:C,loaderData:A,errors:T}=await async function(t,n,i,a,h,p,f,m,g,v,x,b){let y=p||Jr(n,f),w=f||m||Zr(y),k=!I&&!v;if(h){if(k){let e=G(b);H(c({navigation:y},void 0!==e?{actionData:e}:{}),{flushSync:x})}let e=await pe(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=Fr(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=ce(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}i=e.matches}let C=r||d,{dsMatches:_,revalidatingFetchers:N}=hr(t,a,o,l,e.history,j,i,w,n,v?[]:s,!0===v,P,R,B,$,F,C,u,null!=e.patchRoutesOnNavigation,b);if(O=++M,!e.dataStrategy&&!_.some(e=>e.shouldLoad)&&0===N.length){let e=ie();return W(n,c(c({matches:i,loaderData:{},errors:b&&Hr(b[1])?{[b[0]]:b[1].error}:null},Lr(b)),e?{fetchers:new Map(j.fetchers)}:{}),{flushSync:x}),{shortCircuited:!0}}if(k){let e={};if(!h){e.navigation=y;let t=G(b);void 0!==t&&(e.actionData=t)}N.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=j.fetchers.get(e.key),n=ei(void 0,t?t.data:void 0);j.fetchers.set(e.key,n)}),new Map(j.fetchers)}(N)),H(e,{flushSync:x})}N.forEach(e=>{ne(e.key),e.controller&&D.set(e.key,e.controller)});let E=()=>N.forEach(e=>ne(e.key));S&&S.signal.addEventListener("abort",E);let{loaderResults:A,fetcherResults:T}=await Y(_,N,t,a);if(t.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",E);N.forEach(e=>D.delete(e.key));let L=Br(A);if(L)return await q(t,L.result,!0,{replace:g}),{shortCircuited:!0};if(L=Br(T),L)return F.add(L.key),await q(t,L.result,!0,{replace:g}),{shortCircuited:!0};let{loaderData:V,errors:U}=Mr(j,i,A,b,N,T);v&&j.errors&&(U=c(c({},j.errors),U));let z=ie(),K=ae(O),X=z||K||N.length>0;return c({matches:i,loaderData:V,errors:U},X?{fetchers:new Map(j.fetchers)}:{})}(b,n,p,y,m.active,h,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,f,v);k||(S=null,W(n,c(c({matches:C||p},Lr(v)),{},{loaderData:A,errors:T})))}function G(e){return e&&!Hr(e[1])?{[e[0]]:e[1].data}:j.actionData?0===Object.keys(j.actionData).length?null:j.actionData:void 0}async function q(e,r,i){let{submission:a,fetcherSubmission:s,preventScrollReset:o,replace:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.response.headers.has("X-Remix-Revalidate")&&(P=!0);let d=r.response.headers.get("Location");cn(d,"Expected a Location header on the redirect Response"),d=Tr(d,new URL(e.url),u);let h=hn(j.location,d,{_isRedirect:!0});if(n){let e=!1;if(r.response.headers.has("X-Remix-Reload-Document"))e=!0;else if(ar.test(d)){const n=gn(d,!0);e=n.origin!==t.location.origin||null==$n(n.pathname,u)}if(e)return void(l?t.location.replace(d):t.location.assign(d))}S=null;let p=!0===l||r.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:f,formAction:m,formEncType:g}=j.navigation;!a&&!s&&f&&m&&g&&(a=Zr(j.navigation));let v=a||s;if(tr.has(r.response.status)&&v&&Xr(v.formMethod))await K(p,h,{submission:c(c({},v),{},{formAction:d}),preventScrollReset:o||N,enableViewTransition:i?E:void 0});else{let e=Jr(h,a);await K(p,h,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:o||N,enableViewTransition:i?E:void 0})}}async function X(e,t,n,r){let i,a={};try{i=await Nr(h,e,t,r,n,!1)}catch(Oe){return t.filter(e=>e.shouldLoad).forEach(t=>{a[t.route.id]={type:"error",error:Oe}}),a}if(e.signal.aborted)return a;for(let[s,o]of Object.entries(i))if(zr(o)){let n=o.result;a[s]={type:"redirect",response:Ar(n,e,s,t,u)}}else a[s]=await Er(o);return a}async function Y(e,t,n,r){let i=X(n,e,r,null),a=Promise.all(t.map(async e=>{if(e.matches&&e.match&&e.request&&e.controller){let t=(await X(e.request,e.matches,r,e.key))[e.match.route.id];return{[e.key]:t}}return Promise.resolve({[e.key]:{type:"error",error:Vr(404,{pathname:e.path})}})})),s=await i,o=(await a).reduce((e,t)=>Object.assign(e,t),{});return{loaderResults:s,fetcherResults:o}}function Q(){P=!0,$.forEach((e,t)=>{D.has(t)&&R.add(t),ne(t)})}function Z(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};j.fetchers.set(e,t),H({fetchers:new Map(j.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function J(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Fr(j.matches,t);te(e),H({errors:{[i.route.id]:n},fetchers:new Map(j.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function ee(e){return V.set(e,(V.get(e)||0)+1),B.has(e)&&B.delete(e),j.fetchers.get(e)||rr}function te(e){let t=j.fetchers.get(e);!D.has(e)||t&&"loading"===t.state&&L.has(e)||ne(e),$.delete(e),L.delete(e),F.delete(e),B.delete(e),R.delete(e),j.fetchers.delete(e)}function ne(e){let t=D.get(e);t&&(t.abort(),D.delete(e))}function re(e){for(let t of e){let e=ti(ee(t).data);j.fetchers.set(t,e)}}function ie(){let e=[],t=!1;for(let n of F){let r=j.fetchers.get(n);cn(r,"Expected fetcher: ".concat(n)),"loading"===r.state&&(F.delete(n),e.push(n),t=!0)}return re(e),t}function ae(e){let t=[];for(let[n,r]of L)if(r<e){let e=j.fetchers.get(n);cn(e,"Expected fetcher: ".concat(n)),"loading"===e.state&&(ne(n),L.delete(n),t.push(n))}return re(t),t.length>0}function se(e){j.blockers.delete(e),U.delete(e)}function oe(e,t){let n=j.blockers.get(e)||ir;cn("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: ".concat(n.state," -> ").concat(t.state));let r=new Map(j.blockers);r.set(e,t),H({blockers:r})}function le(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===U.size)return;U.size>1&&dn(!1,"A router only supports one blocker at a time");let i=Array.from(U.entries()),[a,s]=i[i.length-1],o=j.blockers.get(a);return o&&"proceeding"===o.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?a:void 0}function ce(e){let t=Vr(404,{pathname:e}),n=r||d,{matches:i,route:a}=$r(n);return{notFoundMatches:i,route:a,error:t}}function de(e,t){if(v){let n=v(e,t.map(e=>Cn(e,j.loaderData)));return n||e.key}return e.key}function ue(e,t){if(g){let n=de(e,t),r=g[n];if("number"===typeof r)return r}return null}function he(t,n,r){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:Sn(n,r,u,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:Sn(n,r,u,!0)}}}return{active:!1,matches:null}}async function pe(t,n,i,a){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let s=t;for(;;){let t=null==r,c=r||d,h=l;try{await e.patchRoutesOnNavigation({signal:i,path:n,matches:s,fetcherKey:a,patch:(e,t)=>{i.aborted||mr(e,t,c,h,o)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:s}}finally{t&&!i.aborted&&(d=[...d])}if(i.aborted)return{type:"aborted"};let p=kn(c,n,u);if(p)return{type:"success",matches:p};let f=Sn(c,n,u,!0);if(!f||s.length===f.length&&s.every((e,t)=>e.route.id===f[t].route.id))return{type:"success",matches:null};s=f}}return a={get basename(){return u},get future(){return p},get state(){return j},get routes(){return d},get window(){return t},initialize:function(){if(f=e.history.listen(t=>{let{action:n,location:r,delta:i}=t;if(C)return C(),void(C=void 0);dn(0===U.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=le({currentLocation:j.location,nextLocation:r,historyAction:n});if(a&&null!=i){let t=new Promise(e=>{C=e});return e.history.go(-1*i),void oe(a,{state:"blocked",location:r,proceed(){oe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then(()=>e.history.go(i))},reset(){let e=new Map(j.blockers);e.set(a,ir),H({blockers:e})}})}return K(n,r)}),n){!function(e,t){try{let n=e.sessionStorage.getItem(or);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(Oe){}}(t,A);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(or,JSON.stringify(r))}catch(n){dn(!1,"Failed to save applied view transitions in sessionStorage (".concat(n,")."))}}}(t,A);t.addEventListener("pagehide",e),T=()=>t.removeEventListener("pagehide",e)}return j.initialized||K("POP",j.location,{initialHydration:!0}),a},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,n){if(g=e,x=t,v=n||null,!b&&j.navigation===nr){b=!0;let e=ue(j.location,j.matches);null!=e&&H({restoreScrollPosition:e})}return()=>{g=null,x=null,v=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=dr(j.location,j.matches,u,n,null===r||void 0===r?void 0:r.fromRouteId,null===r||void 0===r?void 0:r.relative),{path:a,submission:s,error:o}=ur(!1,i,r),l=j.location,d=hn(j.location,a,r&&r.state);d=c(c({},d),e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,p="PUSH";!0===h?p="REPLACE":!1===h||null!=s&&Xr(s.formMethod)&&s.formAction===j.location.pathname+j.location.search&&(p="REPLACE");let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.flushSync),g=le({currentLocation:l,nextLocation:d,historyAction:p});g?oe(g,{state:"blocked",location:d,proceed(){oe(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(j.blockers);e.set(g,ir),H({blockers:e})}}):await K(p,d,{submission:s,pendingError:o,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:m})},fetch:async function(t,n,i,a){ne(t);let c=!0===(a&&a.flushSync),h=r||d,p=dr(j.location,j.matches,u,i,n,null===a||void 0===a?void 0:a.relative),f=kn(h,p,u),m=he(f,h,p);if(m.active&&m.matches&&(f=m.matches),!f)return void J(t,n,Vr(404,{pathname:p}),{flushSync:c});let{path:g,submission:v,error:x}=ur(!0,p,a);if(x)return void J(t,n,x,{flushSync:c});let b=Qr(f,g),y=new vn(e.unstable_getContext?await e.unstable_getContext():void 0),w=!0===(a&&a.preventScrollReset);v&&Xr(v.formMethod)?await async function(t,n,i,a,c,h,p,f,m,g){function v(e){if(!e.route.action&&!e.route.lazy){let e=Vr(405,{method:g.formMethod,pathname:i,routeId:n});return J(t,n,e,{flushSync:f}),!0}return!1}if(Q(),$.delete(t),!p&&v(a))return;let x=j.fetchers.get(t);Z(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(g,x),{flushSync:f});let b=new AbortController,y=Ir(e.history,i,b.signal,g);if(p){let e=await pe(c,i,y.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void J(t,n,e.error,{flushSync:f});if(!e.matches)return void J(t,n,Vr(404,{pathname:i}),{flushSync:f});if(v(a=Qr(c=e.matches,i)))return}D.set(t,b);let w=M,k=_r(o,l,y,c,a,s,h),C=await X(y,k,h,t),N=C[a.route.id];if(y.signal.aborted)return void(D.get(t)===b&&D.delete(t));if(B.has(t)){if(Wr(N)||Hr(N))return void Z(t,ti(void 0))}else{if(Wr(N))return D.delete(t),O>w?void Z(t,ti(void 0)):(F.add(t),Z(t,ei(g)),q(y,N,!1,{fetcherSubmission:g,preventScrollReset:m}));if(Hr(N))return void J(t,n,N.error)}let E=j.navigation.location||j.location,A=Ir(e.history,E,b.signal),T=r||d,I="idle"!==j.navigation.state?kn(T,j.navigation.location,u):j.matches;cn(I,"Didn't find any matches after fetcher action");let V=++M;L.set(t,V);let U=ei(g,N.data);j.fetchers.set(t,U);let{dsMatches:z,revalidatingFetchers:K}=hr(A,h,o,l,e.history,j,I,g,E,s,!1,P,R,B,$,F,T,u,null!=e.patchRoutesOnNavigation,[a.route.id,N]);K.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=j.fetchers.get(t),r=ei(void 0,n?n.data:void 0);j.fetchers.set(t,r),ne(t),e.controller&&D.set(t,e.controller)}),H({fetchers:new Map(j.fetchers)});let G=()=>K.forEach(e=>ne(e.key));b.signal.addEventListener("abort",G);let{loaderResults:ee,fetcherResults:te}=await Y(z,K,A,h);if(b.signal.aborted)return;if(b.signal.removeEventListener("abort",G),L.delete(t),D.delete(t),K.forEach(e=>D.delete(e.key)),j.fetchers.has(t)){let e=ti(N.data);j.fetchers.set(t,e)}let re=Br(ee);if(re)return q(A,re.result,!1,{preventScrollReset:m});if(re=Br(te),re)return F.add(re.key),q(A,re.result,!1,{preventScrollReset:m});let{loaderData:ie,errors:se}=Mr(j,I,ee,void 0,K,te);ae(V),"loading"===j.navigation.state&&V>O?(cn(_,"Expected pending action"),S&&S.abort(),W(j.navigation.location,{matches:I,loaderData:ie,errors:se,fetchers:new Map(j.fetchers)})):(H({errors:se,loaderData:Or(j.loaderData,ie,I,se),fetchers:new Map(j.fetchers)}),P=!1)}(t,n,g,b,f,y,m.active,c,w,v):($.set(t,{routeId:n,path:g}),await async function(t,n,r,i,a,c,d,u,h,p){let f=j.fetchers.get(t);Z(t,ei(p,f?f.data:void 0),{flushSync:u});let m=new AbortController,g=Ir(e.history,r,m.signal);if(d){let e=await pe(a,r,g.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void J(t,n,e.error,{flushSync:u});if(!e.matches)return void J(t,n,Vr(404,{pathname:r}),{flushSync:u});i=Qr(a=e.matches,r)}D.set(t,m);let v=M,x=_r(o,l,g,a,i,s,c),b=await X(g,x,c,t),y=b[i.route.id];D.get(t)===m&&D.delete(t);if(g.signal.aborted)return;if(B.has(t))return void Z(t,ti(void 0));if(Wr(y))return O>v?void Z(t,ti(void 0)):(F.add(t),void await q(g,y,!1,{preventScrollReset:h}));if(Hr(y))return void J(t,n,y.error);Z(t,ti(y.data))}(t,n,g,b,f,y,m.active,c,w,v))},revalidate:function(){z||(z=function(){let e,t,n=new Promise((r,i)=>{e=async e=>{r(e);try{await n}catch(Oe){}},t=async e=>{i(e);try{await n}catch(Oe){}}});return{promise:n,resolve:e,reject:t}}()),Q(),H({revalidation:"loading"});let e=z.promise;return"submitting"===j.navigation.state?e:"idle"===j.navigation.state?(K(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),e):(K(_||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:!0===E}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ee,deleteFetcher:function(e){let t=(V.get(e)||0)-1;t<=0?(V.delete(e),B.add(e)):V.set(e,t),H({fetchers:new Map(j.fetchers)})},dispose:function(){f&&f(),T&&T(),m.clear(),S&&S.abort(),j.fetchers.forEach((e,t)=>te(t)),j.blockers.forEach((e,t)=>se(t))},getBlocker:function(e,t){let n=j.blockers.get(e)||ir;return U.get(e)!==t&&U.set(e,t),n},deleteBlocker:se,patchRoutes:function(e,t){let n=null==r;mr(e,t,r||d,l,o),n&&(d=[...d],H({}))},_internalFetchControllers:D,_internalSetRoutes:function(e){l={},r=wn(e,o,void 0,l)}},a}function dr(e,t,n,r,i,a){let s,o;if(i){s=[];for(let e of t)if(s.push(e),e.route.id===i){o=e;break}}else s=t,o=t[t.length-1];let l=zn(r||".",Un(s),$n(e.pathname,n)||e.pathname,"path"===a);if(null==r&&(l.search=e.search,l.hash=e.hash),(null==r||""===r||"."===r)&&o){let e=Yr(l.search);if(o.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();l.search=n?"?".concat(n):""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:Hn([n,l.pathname])),pn(l)}function ur(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!qr(n.formMethod))return{path:t,error:Vr(405,{method:n.formMethod})};let r,i,a=()=>({path:t,error:Vr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=Ur(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Xr(s))return a();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,"\n")},""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Xr(s))return a();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(Oe){return a()}}}if(cn("function"===typeof FormData,"FormData is not available in this environment"),n.formData)r=Pr(n.formData),i=n.formData;else if(n.body instanceof FormData)r=Pr(n.body),i=n.body;else if(n.body instanceof URLSearchParams)r=n.body,i=Rr(r);else if(null==n.body)r=new URLSearchParams,i=new FormData;else try{r=new URLSearchParams(n.body),i=Rr(r)}catch(Oe){return a()}let l={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(Xr(l.formMethod))return{path:t,submission:l};let c=fn(t);return e&&c.search&&Yr(c.search)&&r.append("index",""),c.search="?".concat(r),{path:pn(c),submission:l}}function hr(e,t,n,r,i,a,s,o,l,d,u,h,p,f,m,g,v,x,b,y){var w;let k,S=y?Hr(y[1])?y[1].error:y[1].data:void 0,C=i.createURL(a.location),j=i.createURL(l);if(u&&a.errors){let e=Object.keys(a.errors)[0];k=s.findIndex(t=>t.route.id===e)}else if(y&&Hr(y[1])){let e=y[0];k=s.findIndex(t=>t.route.id===e)-1}let _=y?y[1].statusCode:void 0,N=_&&_>=400,E=c(c({currentUrl:C,currentParams:(null===(w=a.matches[0])||void 0===w?void 0:w.params)||{},nextUrl:j,nextParams:s[0].params},o),{},{actionResult:S,actionStatus:_}),A=s.map((i,s)=>{let{route:o}=i,l=null;if(null!=k&&s>k?l=!1:o.lazy?l=!0:null==o.loader?l=!1:u?l=pr(o,a.loaderData,a.errors):function(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}(a.loaderData,a.matches[s],i)&&(l=!0),null!==l)return jr(n,r,e,i,d,t,l);let p=!N&&(h||C.pathname+C.search===j.pathname+j.search||C.search!==j.search||function(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}(a.matches[s],i)),f=c(c({},E),{},{defaultShouldRevalidate:p}),m=fr(i,f);return jr(n,r,e,i,d,t,m,f)}),T=[];return m.forEach((e,o)=>{if(u||!s.some(t=>t.route.id===e.routeId)||f.has(o))return;let l=a.fetchers.get(o),m=l&&"idle"!==l.state&&void 0===l.data,y=kn(v,e.path,x);if(!y){if(b&&m)return;return void T.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,request:null,controller:null})}if(g.has(o))return;let w=Qr(y,e.path),k=new AbortController,S=Ir(i,e.path,k.signal),C=null;if(p.has(o))p.delete(o),C=_r(n,r,S,y,w,d,t);else if(m)h&&(C=_r(n,r,S,y,w,d,t));else{let e=c(c({},E),{},{defaultShouldRevalidate:!N&&h});fr(w,e)&&(C=_r(n,r,S,y,w,d,t,e))}C&&T.push({key:o,routeId:e.routeId,path:e.path,matches:C,match:w,request:S,controller:k})}),{dsMatches:A,revalidatingFetchers:T}}function pr(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&e.id in t,i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function fr(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function mr(e,t,n,r,i){var a;let s;if(e){let t=r[e];cn(t,"No route found to patch children into: routeId = ".concat(e)),t.children||(t.children=[]),s=t.children}else s=n;let o=wn(t.filter(e=>!s.some(t=>gr(e,t))),i,[e||"_","patch",String((null===(a=s)||void 0===a?void 0:a.length)||"0")],r);s.push(...o)}function gr(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,n)=>{var r;return null===(r=t.children)||void 0===r?void 0:r.some(t=>gr(e,t))}))}var vr=new WeakMap,xr=e=>{let{key:t,route:n,manifest:r,mapRouteProperties:i}=e,a=r[n.id];if(cn(a,"No route found in manifest"),!a.lazy||"object"!==typeof a.lazy)return;let s=a.lazy[t];if(!s)return;let o=vr.get(a);o||(o={},vr.set(a,o));let l=o[t];if(l)return l;let c=(async()=>{let e=function(e){return xn.has(e)}(t),n=void 0!==a[t]&&"hasErrorBoundary"!==t;if(e)dn(!e,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(n)dn(!1,'Route "'.concat(a.id,'" has a static property "').concat(t,'" defined. The lazy property will be ignored.'));else{let e=await s();null!=e&&(Object.assign(a,{[t]:e}),Object.assign(a,i(a)))}"object"===typeof a.lazy&&(a.lazy[t]=void 0,Object.values(a.lazy).every(e=>void 0===e)&&(a.lazy=void 0))})();return o[t]=c,c},br=new WeakMap;async function yr(e){let t=e.matches.filter(e=>e.shouldLoad),n={},r=await Promise.all(t.map(e=>e.resolve()));return r.forEach((e,r)=>{n[t[r].route.id]=e}),n}async function wr(e){return e.matches.some(e=>e.route.unstable_middleware)?kr(e,!1,()=>yr(e),(e,t)=>({[t]:{type:"error",result:e}})):yr(e)}async function kr(e,t,n,r){let{matches:i,request:a,params:s,context:o}=e,l={handlerResult:void 0};try{let e=i.flatMap(e=>e.route.unstable_middleware?e.route.unstable_middleware.map(t=>[e.route.id,t]):[]),r=await Sr({request:a,params:s,context:o},e,t,l,n);return t?r:l.handlerResult}catch(Oe){if(!l.middlewareError)throw Oe;let n=await r(l.middlewareError.error,l.middlewareError.routeId);return t||!l.handlerResult?n:Object.assign(l.handlerResult,n)}}async function Sr(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,{request:s}=e;if(s.signal.aborted){if(s.signal.reason)throw s.signal.reason;throw new Error("Request aborted without an `AbortSignal.reason`: ".concat(s.method," ").concat(s.url))}let o=t[a];if(!o)return r.handlerResult=await i(),r.handlerResult;let l,[c,d]=o,u=!1,h=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");u=!0;let s=await Sr(e,t,n,r,i,a+1);if(n)return l=s,l};try{let t=await d({request:e.request,params:e.params,context:e.context},h);return u?void 0===t?l:t:h()}catch(p){throw r.middlewareError?r.middlewareError.error!==p&&(r.middlewareError={routeId:c,error:p}):r.middlewareError={routeId:c,error:p},p}}function Cr(e,t,n,r,i){let a=xr({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),s=function(e,t,n,r,i){var a;let s=n[e.id];if(cn(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if("function"===typeof e.lazy){let t=br.get(s);if(t)return{lazyRoutePromise:t,lazyHandlerPromise:t};let n=(async()=>{cn("function"===typeof e.lazy,"No lazy route function found");let t=await e.lazy(),n={};for(let e in t){let r=t[e];if(void 0===r)continue;let i=yn(e),a=void 0!==s[e]&&"hasErrorBoundary"!==e;i?dn(!i,"Route property "+e+" is not a supported property to be returned from a lazy route function. This property will be ignored."):a?dn(!a,'Route "'.concat(s.id,'" has a static property "').concat(e,'" defined but its lazy function is also returning a value for this property. The lazy route property "').concat(e,'" will be ignored.')):n[e]=r}Object.assign(s,n),Object.assign(s,c(c({},r(s)),{},{lazy:void 0}))})();return br.set(s,n),n.catch(()=>{}),{lazyRoutePromise:n,lazyHandlerPromise:n}}let o,l=Object.keys(e.lazy),d=[];for(let c of l){if(i&&i.includes(c))continue;let a=xr({key:c,route:e,manifest:n,mapRouteProperties:r});a&&(d.push(a),c===t&&(o=a))}let u=d.length>0?Promise.all(d).then(()=>{}):void 0;return null===u||void 0===u||u.catch(()=>{}),null===(a=o)||void 0===a||a.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:o}}(r.route,Xr(n.method)?"action":"loader",t,e,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function jr(e,t,n,r,i,a,s){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=!1,d=Cr(e,t,n,r,i);return c(c({},r),{},{_lazyPromises:d,shouldLoad:s,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:e=>(l=!0,o?fr(r,"boolean"===typeof e?c(c({},o),{},{defaultShouldRevalidate:e}):o):s),resolve:e=>l||s||e&&"GET"===n.method&&(r.route.lazy||r.route.loader)?async function(e){let t,n,{request:r,match:i,lazyHandlerPromise:a,lazyRoutePromise:s,handlerOverride:o,scopedContext:l}=e,c=Xr(r.method),d=c?"action":"loader",u=e=>{let t,a=new Promise((e,n)=>t=n);n=()=>t(),r.signal.addEventListener("abort",n);let s=t=>"function"!==typeof e?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'.concat(d,'" [routeId: ').concat(i.route.id,"]"))):e({request:r,params:i.params,context:l},...void 0!==t?[t]:[]),c=(async()=>{try{return{type:"data",result:await(o?o(e=>s(e)):s())}}catch(Oe){return{type:"error",result:Oe}}})();return Promise.race([c,a])};try{let e=c?i.route.action:i.route.loader;if(a||s)if(e){let n,[r]=await Promise.all([u(e).catch(e=>{n=e}),a,s]);if(void 0!==n)throw n;t=r}else{await a;let e=c?i.route.action:i.route.loader;if(!e){if("action"===d){let e=new URL(r.url),t=e.pathname+e.search;throw Vr(405,{method:r.method,pathname:t,routeId:i.route.id})}return{type:"data",result:void 0}}[t]=await Promise.all([u(e),s])}else{if(!e){let e=new URL(r.url);throw Vr(404,{pathname:e.pathname+e.search})}t=await u(e)}}catch(Oe){return{type:"error",result:Oe}}finally{n&&r.signal.removeEventListener("abort",n)}return t}({request:n,match:r,lazyHandlerPromise:null===d||void 0===d?void 0:d.handler,lazyRoutePromise:null===d||void 0===d?void 0:d.route,handlerOverride:e,scopedContext:a}):Promise.resolve({type:"data",result:void 0})})}function _r(e,t,n,r,i,a,s){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return r.map(r=>r.route.id!==i.route.id?c(c({},r),{},{shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Cr(e,t,n,r,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}):jr(e,t,n,r,a,s,!0,o))}async function Nr(e,t,n,r,i,a){n.some(e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware})&&await Promise.all(n.map(e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware}));let s={request:t,params:n[0].params,context:i,matches:n},o=a?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:e=>{let t=s;return kr(t,!1,()=>e(c(c({},t),{},{fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(e,t)=>({[t]:{type:"error",result:e}}))},l=await e(c(c({},s),{},{fetcherKey:r,unstable_runClientMiddleware:o}));try{await Promise.all(n.flatMap(e=>{var t,n;return[null===(t=e._lazyPromises)||void 0===t?void 0:t.handler,null===(n=e._lazyPromises)||void 0===n?void 0:n.route]}))}catch(Oe){}return l}async function Er(e){let{result:t,type:n}=e;if(Gr(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(Oe){return{type:"error",error:Oe}}return"error"===n?{type:"error",error:new qn(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}var r,i,a,s,o,l;return"error"===n?Kr(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:null===(a=t.init)||void 0===a?void 0:a.status,headers:null!==(s=t.init)&&void 0!==s&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new qn((null===(r=t.init)||void 0===r?void 0:r.status)||500,void 0,t.data),statusCode:Xn(t)?t.status:void 0,headers:null!==(i=t.init)&&void 0!==i&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Xn(t)?t.status:void 0}:Kr(t)?{type:"data",data:t.data,statusCode:null===(o=t.init)||void 0===o?void 0:o.status,headers:null!==(l=t.init)&&void 0!==l&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Ar(e,t,n,r,i){let a=e.headers.get("Location");if(cn(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!ar.test(a)){let s=r.slice(0,r.findIndex(e=>e.route.id===n)+1);a=dr(new URL(t.url),s,i,a),e.headers.set("Location",a)}return e}function Tr(e,t,n){if(ar.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=null!=$n(i.pathname,n);if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function Ir(e,t,n,r){let i=e.createURL(Ur(t)).toString(),a={signal:n};if(r&&Xr(r.formMethod)){let{formMethod:e,formEncType:t}=r;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(r.json)):"text/plain"===t?a.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?a.body=Pr(r.formData):a.body=r.formData}return new Request(i,a)}function Pr(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function Rr(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Dr(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={},o=null,l=!1,c={},d=n&&Hr(n[1])?n[1].error:void 0;return e.forEach(n=>{if(!(n.route.id in t))return;let u=n.route.id,h=t[u];if(cn(!Wr(h),"Cannot handle redirect results in processLoaderData"),Hr(h)){let t=h.error;if(void 0!==d&&(t=d,d=void 0),o=o||{},a)o[u]=t;else{let n=Fr(e,u);null==o[n.route.id]&&(o[n.route.id]=t)}i||(s[u]=lr),l||(l=!0,r=Xn(h.error)?h.error.status:500),h.headers&&(c[u]=h.headers)}else s[u]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(r=h.statusCode),h.headers&&(c[u]=h.headers)}),void 0!==d&&n&&(o={[n[0]]:d},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:r||200,loaderHeaders:c}}function Mr(e,t,n,r,i,a){let{loaderData:s,errors:o}=Dr(t,n,r);return i.filter(e=>!e.matches||e.matches.some(e=>e.shouldLoad)).forEach(t=>{let{key:n,match:r,controller:i}=t,s=a[n];if(cn(s,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(Hr(s)){let t=Fr(e.matches,null===r||void 0===r?void 0:r.route.id);o&&o[t.route.id]||(o=c(c({},o),{},{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(Wr(s))cn(!1,"Unhandled fetcher revalidation redirect");else{let t=ti(s.data);e.fetchers.set(n,t)}}),{loaderData:s,errors:o}}function Or(e,t,n,r){let i=Object.entries(t).filter(e=>{let[,t]=e;return t!==lr}).reduce((e,t)=>{let[n,r]=t;return e[n]=r,e},{});for(let a of n){let n=a.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&a.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Lr(e){return e?Hr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Fr(e,t){let n=t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e];return n.reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function $r(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Vr(e){let{pathname:t,routeId:n,method:r,type:i,message:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(s="Bad Request",r&&t&&n?o="You made a ".concat(r,' request to "').concat(t,'" but did not provide a `loader` for route "').concat(n,'", so there is no way to handle the request.'):"invalid-body"===i&&(o="Unable to encode submission body")):403===e?(s="Forbidden",o='Route "'.concat(n,'" does not match URL "').concat(t,'"')):404===e?(s="Not Found",o='No route matches URL "'.concat(t,'"')):405===e&&(s="Method Not Allowed",r&&t&&n?o="You made a ".concat(r.toUpperCase(),' request to "').concat(t,'" but did not provide an `action` for route "').concat(n,'", so there is no way to handle the request.'):r&&(o='Invalid request method "'.concat(r.toUpperCase(),'"'))),new qn(e||500,s,new Error(o),!0)}function Br(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(Wr(r))return{key:e,result:r}}}function Ur(e){return pn(c(c({},"string"===typeof e?fn(e):e),{},{hash:""}))}function zr(e){return Gr(e.result)&&er.has(e.result.status)}function Hr(e){return"error"===e.type}function Wr(e){return"redirect"===(e&&e.type)}function Kr(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Gr(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function qr(e){return Jn.has(e.toUpperCase())}function Xr(e){return Qn.has(e.toUpperCase())}function Yr(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function Qr(e,t){let n="string"===typeof t?fn(t).search:t.search;if(e[e.length-1].route.index&&Yr(n||""))return e[e.length-1];let r=Bn(e);return r[r.length-1]}function Zr(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Jr(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ei(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ti(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var ni=e.createContext(null);ni.displayName="DataRouter";var ri=e.createContext(null);ri.displayName="DataRouterState";var ii=e.createContext({isTransitioning:!1});ii.displayName="ViewTransition";var ai=e.createContext(new Map);ai.displayName="Fetchers";var si=e.createContext(null);si.displayName="Await";var oi=e.createContext(null);oi.displayName="Navigation";var li=e.createContext(null);li.displayName="Location";var ci=e.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var di=e.createContext(null);di.displayName="RouteError";function ui(){return null!=e.useContext(li)}function hi(){return cn(ui(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(li).location}var pi="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fi(t){e.useContext(oi).static||e.useLayoutEffect(t)}function mi(){let{isDataRoute:t}=e.useContext(ci);return t?function(){let{router:t}=ji("useNavigate"),n=Ni("useNavigate"),r=e.useRef(!1);fi(()=>{r.current=!0});let i=e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dn(r.current,pi),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,c({fromRouteId:n},i)))},[t,n]);return i}():function(){cn(ui(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(ni),{basename:n,navigator:r}=e.useContext(oi),{matches:i}=e.useContext(ci),{pathname:a}=hi(),s=JSON.stringify(Un(i)),o=e.useRef(!1);fi(()=>{o.current=!0});let l=e.useCallback(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(dn(o.current,pi),!o.current)return;if("number"===typeof e)return void r.go(e);let l=zn(e,JSON.parse(s),a,"path"===i.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:Hn([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[n,r,s,a,t]);return l}()}var gi=e.createContext(null);function vi(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(ci),{pathname:i}=hi(),a=JSON.stringify(Un(r));return e.useMemo(()=>zn(t,JSON.parse(a),i,"path"===n),[t,a,i,n])}function xi(t,n,r,i){cn(ui(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(oi),{matches:s}=e.useContext(ci),o=s[s.length-1],l=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Ti(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,f=hi();if(n){var m;let e="string"===typeof n?fn(n):n;cn("/"===u||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=f;let g=p.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=kn(t,{pathname:v});dn(h||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),dn(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Si(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Hn([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Hn([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,i);return n&&b?e.createElement(li.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},b):b}function bi(){let t=Ei(),n=Xn(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,o)}var yi=e.createElement(bi,null),wi=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(ci.Provider,{value:this.props.routeContext},e.createElement(di.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ki(t){let{routeContext:n,match:r,children:i}=t,a=e.useContext(ni);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ci.Provider,{value:n},i)}function Si(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=null===r||void 0===r?void 0:r.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));cn(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,o=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:n}=r,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight((t,l,c)=>{let d,u=!1,h=null,p=null;r&&(d=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||yi,s&&(o<0&&0===c?(Ti("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=d?h:u?p:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(ki,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(wi,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}function Ci(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ji(t){let n=e.useContext(ni);return cn(n,Ci(t)),n}function _i(t){let n=e.useContext(ri);return cn(n,Ci(t)),n}function Ni(t){let n=function(t){let n=e.useContext(ci);return cn(n,Ci(t)),n}(t),r=n.matches[n.matches.length-1];return cn(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function Ei(){var t;let n=e.useContext(di),r=_i("useRouteError"),i=Ni("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[i]}var Ai={};function Ti(e,t,n){t||Ai[e]||(Ai[e]=!0,dn(!1,n))}var Ii={};function Pi(e,t){e||Ii[t]||(Ii[t]=!0,console.warn(t))}function Ri(t){let n={hasErrorBoundary:t.hasErrorBoundary||null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&(t.element&&dn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(n,{element:e.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&dn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(n,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&dn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),n}var Di=["HydrateFallback","hydrateFallbackElement"];var Mi=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}};function Oi(t){let{router:n,flushSync:r}=t,[i,a]=e.useState(n.state),[s,o]=e.useState(),[l,c]=e.useState({isTransitioning:!1}),[d,u]=e.useState(),[h,p]=e.useState(),[f,m]=e.useState(),g=e.useRef(new Map),v=e.useCallback((t,i)=>{let{deletedFetchers:s,flushSync:l,viewTransitionOpts:f}=i;t.fetchers.forEach((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)}),s.forEach(e=>g.current.delete(e)),Pi(!1===l||null!=r,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let v=null!=n.window&&null!=n.window.document&&"function"===typeof n.window.document.startViewTransition;if(Pi(null==f||v,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),f&&v){if(r&&l){r(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:f.currentLocation,nextLocation:f.nextLocation})});let e=n.window.document.startViewTransition(()=>{r(()=>a(t))});return e.finished.finally(()=>{r(()=>{u(void 0),p(void 0),o(void 0),c({isTransitioning:!1})})}),void r(()=>p(e))}h?(d&&d.resolve(),h.skipTransition(),m({state:t,currentLocation:f.currentLocation,nextLocation:f.nextLocation})):(o(t),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}))}else r&&l?r(()=>a(t)):e.startTransition(()=>a(t))},[n.window,r,h,d]);e.useLayoutEffect(()=>n.subscribe(v),[n,v]),e.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new Mi)},[l]),e.useEffect(()=>{if(d&&s&&n.window){let t=s,r=d.promise,i=n.window.document.startViewTransition(async()=>{e.startTransition(()=>a(t)),await r});i.finished.finally(()=>{u(void 0),p(void 0),o(void 0),c({isTransitioning:!1})}),p(i)}},[s,d,n.window]),e.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,h,i.location,s]),e.useEffect(()=>{!l.isTransitioning&&f&&(o(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[l.isTransitioning,f]);let x=e.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null===r||void 0===r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null===r||void 0===r?void 0:r.preventScrollReset})}),[n]),b=n.basename||"/",y=e.useMemo(()=>({router:n,navigator:x,static:!1,basename:b}),[n,x,b]);return e.createElement(e.Fragment,null,e.createElement(ni.Provider,{value:y},e.createElement(ri.Provider,{value:i},e.createElement(ai.Provider,{value:g.current},e.createElement(ii.Provider,{value:l},e.createElement(Vi,{basename:b,location:i.location,navigationType:i.historyAction,navigator:x},e.createElement(Li,{routes:n.routes,future:n.future,state:i})))))),null)}var Li=e.memo(function(e){let{routes:t,future:n,state:r}=e;return xi(t,void 0,r,n)});function Fi(t){let{to:n,replace:r,state:i,relative:a}=t;cn(ui(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=e.useContext(oi);dn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=e.useContext(ci),{pathname:l}=hi(),c=mi(),d=zn(n,Un(o),l,"path"===a),u=JSON.stringify(d);return e.useEffect(()=>{c(JSON.parse(u),{replace:r,state:i,relative:a})},[c,u,a,r,i]),null}function $i(t){return function(t){let n=e.useContext(ci).outlet;return n?e.createElement(gi.Provider,{value:t},n):n}(t.context)}function Vi(t){let{basename:n="/",children:r=null,location:i,navigationType:a="POP",navigator:s,static:o=!1}=t;cn(!ui(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);"string"===typeof i&&(i=fn(i));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:f="default"}=i,m=e.useMemo(()=>{let e=$n(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:f},navigationType:a}},[l,d,u,h,p,f,a]);return dn(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:e.createElement(oi.Provider,{value:c},e.createElement(li.Provider,{children:r,value:m}))}e.Component;var Bi="get",Ui="application/x-www-form-urlencoded";function zi(e){return null!=e&&"string"===typeof e.tagName}var Hi=null;var Wi=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ki(e){return null==e||Wi.has(e)?e:(dn(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ui,'"')),null)}function Gi(e,t){let n,r,i,a,s;if(zi(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?$n(s,t):null,n=e.getAttribute("method")||Bi,i=Ki(e.getAttribute("enctype"))||Ui,a=new FormData(e)}else if(function(e){return zi(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return zi(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?$n(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Bi,i=Ki(e.getAttribute("formenctype"))||Ki(s.getAttribute("enctype"))||Ui,a=new FormData(s,e),!function(){if(null===Hi)try{new FormData(document.createElement("form"),0),Hi=!1}catch(Oe){Hi=!0}return Hi}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(zi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bi,r=null,i=Ui,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function qi(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Xi(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yi(e){return null!=e&&"string"===typeof e.page}function Qi(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Zi(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ji(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function ea(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Yi(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function ta(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var na=new Set([100,101,204,205]);function ra(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===$n(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}e.Component;function ia(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,a=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Xn(n))return e.createElement(aa,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(aa,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function aa(t){var n;let{title:r,renderScripts:i,isOutsideRemixApp:a,children:s}=t,{routeModules:o}=da();return null!==o.root&&void 0!==n&&n.Layout&&!a?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?e.createElement(va,null):null)))}function sa(e,t){return"lazy"===e.mode&&!0===t}function oa(){let t=e.useContext(ni);return qi(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function la(){let t=e.useContext(ri);return qi(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ca=e.createContext(void 0);function da(){let t=e.useContext(ca);return qi(t,"You must render this element inside a <HydratedRouter> element"),t}function ua(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ha(e,t,n){if(n&&!ga)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function pa(t){let{page:n}=t,r=Yt(t,Zt),{router:i}=oa(),a=e.useMemo(()=>kn(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?e.createElement(ma,c({page:n,matches:a},r)):null}function fa(t){let{manifest:n,routeModules:r}=da(),[i,a]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return ea((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Xi(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Qi).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(t,n,r).then(t=>{e||a(t)}),()=>{e=!0}},[t,n,r]),i}function ma(t){let{page:n,matches:r}=t,i=Yt(t,Jt),a=hi(),{manifest:s,routeModules:o}=da(),{basename:l}=oa(),{loaderData:d,matches:u}=la(),h=e.useMemo(()=>Zi(n,r,u,s,a,"data"),[n,r,u,s,a]),p=e.useMemo(()=>Zi(n,r,u,s,a,"assets"),[n,r,u,s,a]),f=e.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=s.routes[n.route.id];i&&i.hasLoader&&(!h.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=o[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=ra(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,d,a,s,h,r,n,o]),m=e.useMemo(()=>Ji(p,s),[p,s]),g=fa(p);return e.createElement(e.Fragment,null,f.map(t=>e.createElement("link",c({key:t,rel:"prefetch",as:"fetch",href:t},i))),m.map(t=>e.createElement("link",c({key:t,rel:"modulepreload",href:t},i))),g.map(t=>{let{key:n,link:r}=t;return e.createElement("link",c({key:n},r))}))}ca.displayName="FrameworkContext";var ga=!1;function va(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:a,routeDiscovery:s,ssr:o}=da(),{router:l,static:d,staticContext:u}=oa(),{matches:h}=la(),p=sa(s,o);a&&(a.didRenderScripts=!0);let f=ha(h,null,i);e.useEffect(()=>{0},[]);let m=e.useMemo(()=>{var i;let a=u?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=d?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(f.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];qi(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,d=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=Yt(e,Qt),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=kn(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let o=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:o,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",c(c({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:ta(a),type:void 0})),e.createElement("script",c(c({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:ta(s),type:"module",async:!0})))},[]),g=ga?[]:(n.entry.imports.concat(Ji(f,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let x="object"===typeof n.sri?n.sri:{};return ga?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,p?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),g.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),m)}function xa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var ba="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ba&&(window.__reactRouterVersion="7.6.2")}catch(Oe){}function ya(){var e;let t=null===(e=window)||void 0===e?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=c(c({},t),{},{errors:wa(t.errors)})),t}function wa(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new qn(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(Oe){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}var ka=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=e.forwardRef(function(t,n){let r,{onClick:i,discover:a="render",prefetch:s="none",relative:o,reloadDocument:l,replace:d,state:u,target:h,to:p,preventScrollReset:f,viewTransition:m}=t,g=Yt(t,en),{basename:v}=e.useContext(oi),x="string"===typeof p&&ka.test(p),b=!1;if("string"===typeof p&&x&&(r=p,ba))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=$n(t.pathname,v);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:b=!0}catch(Oe){dn(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let y=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};cn(ui(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(oi),{hash:a,pathname:s,search:o}=vi(t,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:Hn([r,s])),i.createHref({pathname:l,search:o,hash:a})}(p,{relative:o}),[w,k,S]=function(t,n){let r=e.useContext(ca),[i,a]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=n,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let f=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?"intent"!==t?[s,p,{}]:[s,p,{onFocus:ua(l,f),onBlur:ua(c,m),onMouseEnter:ua(d,f),onMouseLeave:ua(u,m),onTouchStart:ua(h,f)}]:[!1,p,{}]}(s,g),C=function(t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=mi(),c=hi(),d=vi(t,{relative:s});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:pn(c)===pn(d);l(t,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,r,i,n,t,a,s,o])}(p,{replace:d,state:u,target:h,preventScrollReset:f,relative:o,viewTransition:m});let j=e.createElement("a",c(c(c({},g),S),{},{href:r||y,onClick:b||l?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:xa(n,k),target:h,"data-discover":x||"render"!==a?void 0:"true"}));return w&&!x?e.createElement(e.Fragment,null,j,e.createElement(pa,{page:y})):j});Sa.displayName="Link";var Ca=e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:d,children:u}=t,h=Yt(t,tn),p=vi(l,{relative:h.relative}),f=hi(),m=e.useContext(ri),{navigator:g,basename:v}=e.useContext(oi),x=null!=m&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(ii);cn(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Na("useViewTransitionState"),a=vi(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=$n(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=$n(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=On(a.pathname,o)||null!=On(a.pathname,s)}(p)&&!0===d,b=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,y=f.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(y=y.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&v&&(w=$n(w,v)||w);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,C=y===b||!s&&y.startsWith(b)&&"/"===y.charAt(k),j=null!=w&&(w===b||!s&&w.startsWith(b)&&"/"===w.charAt(b.length)),_={isActive:C,isPending:j,isTransitioning:x},N=C?r:void 0;S="function"===typeof a?a(_):[a,C?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof o?o(_):o;return e.createElement(Sa,c(c({},h),{},{"aria-current":N,className:S,ref:n,style:E,to:l,viewTransition:d}),"function"===typeof u?u(_):u)});Ca.displayName="NavLink";var ja=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:o,state:l,method:d=Bi,action:u,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:m}=t,g=Yt(t,nn),v=Ta(),x=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(oi),i=e.useContext(ci);cn(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s=c({},vi(t||".",{relative:n})),o=hi();if(null==t){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}t&&"."!==t||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:Hn([r,s.pathname]));return pn(s)}(u,{relative:p}),b="get"===d.toLowerCase()?"get":"post",y="string"===typeof u&&ka.test(u);return e.createElement("form",c(c({ref:n,method:b,action:x,onSubmit:s?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:o,state:l,relative:p,preventScrollReset:f,viewTransition:m})}},g),{},{"data-discover":y||"render"!==r?void 0:"true"}))});function _a(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Na(t){let n=e.useContext(ni);return cn(n,_a(t)),n}ja.displayName="Form";var Ea=0,Aa=()=>"__".concat(String(++Ea),"__");function Ta(){let{router:t}=Na("useSubmit"),{basename:n}=e.useContext(oi),r=Ni("useRouteId");return e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Gi(e,n);if(!1===i.navigate){let e=i.fetcherKey||Aa();await t.fetch(e,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,r])}var Ia=n(950);function Pa(t){return e.createElement(Oi,c({flushSync:Ia.flushSync},t))}const Ra=()=>(0,Pe.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,Pe.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-0 h-0",style:{top:"50%"},children:(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-10 w-10"})})});const Da=n.p+"static/media/Ic_logo.d6ab07314160fa1a25f70dbdd5c85a2d.svg";const Ma=n.p+"static/media/Ic_chevron_up.70a7dde1eded3ff447c7485f89ecdbc4.svg";function Oa(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Oa(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function La(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Oa(e))&&(r&&(r+=" "),r+=t);return r}const Fa=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,d=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fa(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new Va;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Va extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ba=function(e){return function(e){const t=Fa(e);return $a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ua=function(e){try{return $a.decodeString(e,!0)}catch(Oe){console.error("base64Decode failed: ",Oe)}return null};function za(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ha=()=>{try{return za().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Oe){return}const t=e&&Ua(e[1]);return t&&JSON.parse(t)})()}catch(Oe){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Oe))}},Wa=e=>{var t,n;return null===(n=null===(t=Ha())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ka=e=>{const t=Wa(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ga=()=>{var e;return null===(e=Ha())||void 0===e?void 0:e.config},qa=e=>{var t;return null===(t=Ha())||void 0===t?void 0:t["_".concat(e)]};class Xa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ya(e){return e.endsWith(".cloudworkstations.dev")}async function Qa(e){return(await fetch(e,{credentials:"include"})).ok}function Za(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ba(JSON.stringify({alg:"none",type:"JWT"})),Ba(JSON.stringify(a)),""].join(".")}const Ja={};let es=!1;function ts(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ya(window.location.host)||Ja[e]===t||Ja[e]||es)return;function n(e){return"__firebase__banner__".concat(e)}Ja[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ja))Ja[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{es=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function ns(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rs(){var e;const t=null===(e=Ha())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Oe){return!1}}function is(){return!rs()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function as(){try{return"object"===typeof indexedDB}catch(Oe){return!1}}class ss extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}}class os{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ls,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ss(n,a,t)}}const ls=/\{\$([^}]+)}/g;function cs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(ds(n)&&ds(a)){if(!cs(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ds(e){return null!==e&&"object"===typeof e}function us(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function hs(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ps(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class fs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ms),void 0===r.error&&(r.error=ms),void 0===r.complete&&(r.complete=ms);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Oe){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Oe){"undefined"!==typeof console&&console.error&&console.error(Oe)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ms(){}function gs(e){return e&&e._delegate?e._delegate:e}class vs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xs="[DEFAULT]";class bs{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xa;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Oe){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Oe){if(r)return null;throw Oe}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch(Oe){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Oe){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===xs?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ys{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ws=[];var ks;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ks||(ks={}));const Ss={debug:ks.DEBUG,verbose:ks.VERBOSE,info:ks.INFO,warn:ks.WARN,error:ks.ERROR,silent:ks.SILENT},Cs=ks.INFO,js={[ks.DEBUG]:"log",[ks.VERBOSE]:"log",[ks.INFO]:"info",[ks.WARN]:"warn",[ks.ERROR]:"error"},_s=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=js[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Ns{constructor(e){this.name=e,this._logLevel=Cs,this._logHandler=_s,this._userLogHandler=null,ws.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ks))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ss[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ks.DEBUG,...t),this._logHandler(this,ks.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ks.VERBOSE,...t),this._logHandler(this,ks.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ks.INFO,...t),this._logHandler(this,ks.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ks.WARN,...t),this._logHandler(this,ks.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ks.ERROR,...t),this._logHandler(this,ks.ERROR,...t)}}let Es,As;const Ts=new WeakMap,Is=new WeakMap,Ps=new WeakMap,Rs=new WeakMap,Ds=new WeakMap;let Ms={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Is.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ps.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Os(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(As||(As=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($s(this),n),Fs(Ts.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fs(e.apply($s(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call($s(this),t,...r);return Ps.set(a,t.sort?t.sort():[t]),Fs(a)}}function Ls(e){return"function"===typeof e?Os(e):(e instanceof IDBTransaction&&function(e){if(Is.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Is.set(e,t)}(e),t=e,(Es||(Es=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ms):e);var t}function Fs(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Fs(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Ts.set(t,e)}).catch(()=>{}),Ds.set(t,e),t}(e);if(Rs.has(e))return Rs.get(e);const t=Ls(e);return t!==e&&(Rs.set(e,t),Ds.set(t,e)),t}const $s=e=>Ds.get(e);const Vs=["get","getKey","getAll","getAllKeys","count"],Bs=["put","add","delete","clear"],Us=new Map;function zs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Us.get(t))return Us.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Bs.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vs.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return Us.set(t,a),a}Ms=(e=>c(c({},e),{},{get:(t,n,r)=>zs(t,n)||e.get(t,n,r),has:(t,n)=>!!zs(t,n)||e.has(t,n)}))(Ms);class Hs{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ws="@firebase/app",Ks="0.13.1",Gs=new Ns("@firebase/app"),qs="@firebase/app-compat",Xs="@firebase/analytics-compat",Ys="@firebase/analytics",Qs="@firebase/app-check-compat",Zs="@firebase/app-check",Js="@firebase/auth",eo="@firebase/auth-compat",to="@firebase/database",no="@firebase/data-connect",ro="@firebase/database-compat",io="@firebase/functions",ao="@firebase/functions-compat",so="@firebase/installations",oo="@firebase/installations-compat",lo="@firebase/messaging",co="@firebase/messaging-compat",uo="@firebase/performance",ho="@firebase/performance-compat",po="@firebase/remote-config",fo="@firebase/remote-config-compat",mo="@firebase/storage",go="@firebase/storage-compat",vo="@firebase/firestore",xo="@firebase/ai",bo="@firebase/firestore-compat",yo="firebase",wo="[DEFAULT]",ko={[Ws]:"fire-core",[qs]:"fire-core-compat",[Ys]:"fire-analytics",[Xs]:"fire-analytics-compat",[Zs]:"fire-app-check",[Qs]:"fire-app-check-compat",[Js]:"fire-auth",[eo]:"fire-auth-compat",[to]:"fire-rtdb",[no]:"fire-data-connect",[ro]:"fire-rtdb-compat",[io]:"fire-fn",[ao]:"fire-fn-compat",[so]:"fire-iid",[oo]:"fire-iid-compat",[lo]:"fire-fcm",[co]:"fire-fcm-compat",[uo]:"fire-perf",[ho]:"fire-perf-compat",[po]:"fire-rc",[fo]:"fire-rc-compat",[mo]:"fire-gcs",[go]:"fire-gcs-compat",[vo]:"fire-fst",[bo]:"fire-fst-compat",[xo]:"fire-vertex","fire-js":"fire-js",[yo]:"fire-js-all"},So=new Map,Co=new Map,jo=new Map;function _o(e,t){try{e.container.addComponent(t)}catch(Oe){Gs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Oe)}}function No(e){const t=e.name;if(jo.has(t))return Gs.debug("There were multiple attempts to register component ".concat(t,".")),!1;jo.set(t,e);for(const n of So.values())_o(n,e);for(const n of Co.values())_o(n,e);return!0}function Eo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ao(e){return null!==e&&void 0!==e&&void 0!==e.settings}const To=new os("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Io{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}const Po="11.9.0";function Ro(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:wo,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=Ga()),!n)throw To.create("no-options");const a=So.get(i);if(a){if(cs(n,a.options)&&cs(r,a.config))return a;throw To.create("duplicate-app",{appName:i})}const s=new ys(i);for(const l of jo.values())s.addComponent(l);const o=new Io(n,r,s);return So.set(i,o),o}function Do(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo;const t=So.get(e);if(!t&&e===wo&&Ga())return Ro();if(!t)throw To.create("no-app",{appName:e});return t}function Mo(e,t,n){var r;let i=null!==(r=ko[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Gs.warn(e.join(" "))}No(new vs("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Oo="firebase-heartbeat-store";let Lo=null;function Fo(){return Lo||(Lo=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Fs(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Fs(s.result),e.oldVersion,e.newVersion,Fs(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Oo)}catch(Oe){console.warn(Oe)}}}).catch(e=>{throw To.create("idb-open",{originalErrorMessage:e.message})})),Lo}async function $o(e,t){try{const n=(await Fo()).transaction(Oo,"readwrite"),r=n.objectStore(Oo);await r.put(t,Vo(e)),await n.done}catch(Oe){if(Oe instanceof ss)Gs.warn(Oe.message);else{const t=To.create("idb-set",{originalErrorMessage:null===Oe||void 0===Oe?void 0:Oe.message});Gs.warn(t.message)}}}function Vo(e){return"".concat(e.name,"!").concat(e.options.appId)}class Bo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zo(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uo();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Oe){Gs.warn(Oe)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Uo(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ho(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ho(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ba(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Oe){return Gs.warn(Oe),""}}}function Uo(){return(new Date).toISOString().substring(0,10)}class zo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!as()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Fo()).transaction(Oo),n=await t.objectStore(Oo).get(Vo(e));return await t.done,n}catch(Oe){if(Oe instanceof ss)Gs.warn(Oe.message);else{const t=To.create("idb-get",{originalErrorMessage:null===Oe||void 0===Oe?void 0:Oe.message});Gs.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $o(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $o(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ho(e){return Ba(JSON.stringify({version:2,heartbeats:e})).length}var Wo;Wo="",No(new vs("platform-logger",e=>new Hs(e),"PRIVATE")),No(new vs("heartbeat",e=>new Bo(e),"PRIVATE")),Mo(Ws,Ks,Wo),Mo(Ws,Ks,"esm2017"),Mo("fire-js","");var Ko,Go,qo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Xo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(d(t))throw Error("division by zero");if(d(e))return new m(o,o);if(u(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(u(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=x(n,1),a=x(r,1);for(r=x(r,2),n=x(n,2);!d(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=x(r,1),n=x(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);u(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);d(a)&&(a=l),i=i.add(a),e=p(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(u(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=p(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return o;if(u(this))return u(e)?h(this).j(h(e)):h(h(this).j(e));if(u(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,p=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=p*g,f(n,2*i+2*a),n[2*i+2*a+1]+=l*g,f(n,2*i+2*a+1),n[2*i+2*a+1]+=p*m,f(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,f(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Go=Xo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Ko=Xo.Integer=r}).apply("undefined"!==typeof qo?qo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Yo,Qo,Zo,Jo,el,tl,nl,rl,il="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},al={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof il&&il];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function x(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<y.length;t++)n=y[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function C(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _,e=>e.reset());class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,E=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(I)}};var I=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(Ue){S(Ue)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Ue){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Ge){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}u(M,R);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function $(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=z(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new $(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=J(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)q(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)X(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(a=e.g[t],n,r,i))&&(V(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(U(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function Q(e){return e in W?W[e]:W[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function J(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(s=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&U(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}u(le,P);var ce=[];function de(e){x(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),de(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=i.JSON.stringify,he=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xe(){R.call(this,"d")}function be(){R.call(this,"c")}u(xe,R),u(be,R);var ye={},we=null;function ke(){return we=we||new ne}function Se(e){R.call(this,ye.La,e)}function Ce(e){const t=ke();re(t,new Se(t))}function je(e,t){R.call(this,ye.STAT_EVENT,e),this.stat=t}function _e(e){const t=ke();re(t,new je(t,e))}function Ne(e,t){R.call(this,ye.Ma,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ae(){this.g=!0}function Te(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return ue(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}ye.La="serverreachability",u(Se,R),ye.STAT_EVENT="statevent",u(je,R),ye.Ma="timingevent",u(Ne,R),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ie,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}u(De,fe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ie=new De;var Ve={},Be={};function ze(e,t,n){e.L=1,e.v=vt(ht(t)),e.m=n,e.P=!0,He(e,null)}function He(e,t){e.F=Date.now(),Xe(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=xn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var s=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+c+"&":s+(d+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function We(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Be:(n=Number(t.substring(n,r)),isNaN(n)?Ve:(r+=1)+n>t.length?Be:(t=t.slice(r,r+n),e.C=r+n,t))}function Xe(e){e.S=Date.now()+e.I,Ye(e,e.I)}function Ye(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function Qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ze(e){0==e.j.G||e.J||pn(e.j,e)}function Je(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||at(n.h,e)))if(!e.K&&at(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Fe){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(Fe){}n.ca=void 0}}else mn(n,11)}else if((e.K||n.g==e)&&hn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const d=c[5];null!=d&&"number"===typeof d&&0<d&&(r=1.5*d,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(st(a,a.h),a.h=null))}if(r.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),s.K){ot(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(Qe(o),Xe(o)),r.g=s}else ln(r);0<n.i.length&&rn(n)}else"stop"!=c[0]&&"close"!=c[0]||mn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mn(n,7):en(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ce()}catch(Fe){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Yt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Yt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=h||7==t||Ce(),Qe(this);var n=this.g.Z();this.X=n;t:if(We(this)){var r=Qt(this.g);e="";var a=r.length,s=4==Yt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Je(this),Ze(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var d=l;break t}}d=null}if(!(n=d)){this.o=!1,this.s=3,_e(12),Je(this),Ze(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=qe(this,o),e==Be){4==h&&(this.s=4,_e(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ve){this.s=4,_e(15),Te(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),et(this,e)}if(We(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(u),u.M=!0,_e(11))}}else Te(this.i,this.l,o,"[Invalid Chunked Response]"),Je(this),Ze(this)}else Te(this.i,this.l,o,null),et(this,o);4==h&&Je(this),this.o&&!this.J&&(4==h?pn(this.j,this):(this.o=!1,Xe(this)))}else(function(e){const t={};e=(e.g&&2<=Yt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Je(this),Ze(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Je(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ce(),_e(17)),Je(this),this.s=2,Ze(this)):Ye(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function st(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ut){this.h=e.h,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(dt))?(this.h=!1,pt(this,t[1]||"",!0),this.o=xt(t[2]||""),this.g=xt(t[3]||"",!0),ft(this,t[4]),this.l=xt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=xt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ht(e){return new ut(e)}function pt(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),Tt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,Ct)),e.i=new _t(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ut.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?St:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,jt)),e.join("")};var wt=/[#\/\?@]/g,kt=/[#\?:]/g,St=/[#\?]/g,Ct=/[#\?@]/g,jt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Et(e,t){Nt(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function At(e,t){return Nt(e),t=It(e,t),e.g.has(t)}function Tt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),h(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Pt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Ge){}}function Rt(){this.g=new pe}function Dt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;s(e)&&(i=ue(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Oe){throw t.push(r+"type="+encodeURIComponent("_badmap")),Oe}}function Mt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.v=null,$t(e)}function $t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return x(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function Ut(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Nt(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)At(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,At(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},u(Mt,fe),Mt.prototype.g=function(){return new Ot(this.l,this.j)},Mt.prototype.i=function(e){return function(){return e}}({}),u(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,$t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$t(this)),this.g&&(this.readyState=3,$t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):$t(this),3==this.readyState&&Lt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Qa=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ut,ne);var zt=/^https?$/i,Ht=["POST","PUT"];function Wt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Kt(e),qt(e)}function Kt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Gt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Yt(e)||2!=e.Z()))if(e.u&&4==Yt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(dt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!zt.test(s?s.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Yt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Kt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Xt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Oe){}}}function Xt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Yt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Rt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function en(e){if(nn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Ke){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=xn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Xe(t)}gn(e)}function tn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.u&&(i.clearTimeout(e.u),e.u=null),hn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function rn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||T(),E||(N(),E=!0),A.add(t,e),e.B=0}}function an(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),sn(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=on(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),st(e.h,n),ze(n,r,t)}function sn(e,t){e.H&&x(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Dt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function ln(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||T(),E||(N(),E=!0),A.add(t,e),e.v=0}}function cn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),fn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function un(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),sn(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ht(t)),n.m=null,n.P=!0,He(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){hn(e),dn(e),e.g=null;var r=2}else{if(!at(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Ne(r,n)),rn(e)}else ln(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ee(c(e.Ga,e,t),fn(e,e.B)),e.B++,!0))}(e,t)||2==r&&cn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function fn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ut(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=d(Pt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=d(Pt,n,"TestLoadImage: error",!1,t,r),r.onabort=d(Pt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=d(Pt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout(()=>{n.abort(),Pt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Pt(0,0,!0,t):Pt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Pt(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),gn(e),nn(e)}function gn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof ut?ht(n):new ut(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new ut(null);r&&pt(s,r),t&&(s.g=t),a&&ft(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),sn(e,r),r}function xn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ut(new Mt({eb:n})):new Ut(e.pa)).Ha(e.J),t}function bn(){}function yn(){}function wn(e,t){ne.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cn(this)}function kn(e){xe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){be.call(this),this.status=1}function Cn(e){this.g=e}(e=Ut.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ge){return void Wt(this,Ge)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ht,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ge){Wt(this,Ge)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},e.bb=function(){Gt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch($e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch($e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Jt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),rn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),sn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Vt(a)))+"&"+t:this.m&&Bt(n,this.m,a)),st(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?an(this,e):0==this.i.length||rt(this.h)||an(this))},e.Fa=function(){if(this.u=null,un(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),tn(this),un(this))},e.Za=function(){null!=this.C&&(this.C=null,tn(this),cn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},yn.prototype.g=function(e,t){return new wn(e,t)},u(wn,ne),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.aa.N.call(this)},u(kn,xe),u(Sn,be),u(Cn,bn),Cn.prototype.ua=function(){re(this.g,"a")},Cn.prototype.ta=function(e){re(this.g,new kn(e))},Cn.prototype.sa=function(e){re(this.g,new Sn)},Cn.prototype.ra=function(){re(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,rl=al.createWebChannelTransport=function(){return new yn},nl=al.getStatEventTarget=function(){return ke()},tl=al.Event=ye,el=al.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Jo=al.ErrorCode=Pe,Re.COMPLETE="complete",Zo=al.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Qo=al.WebChannel=ge,al.FetchXmlHttpFactory=Mt,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,Yo=al.XhrIo=Ut}).apply("undefined"!==typeof il?il:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const sl="@firebase/firestore",ol="4.7.17";class ll{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ll.UNAUTHENTICATED=new ll(null),ll.GOOGLE_CREDENTIALS=new ll("google-credentials-uid"),ll.FIRST_PARTY=new ll("first-party-uid"),ll.MOCK_USER=new ll("mock-user");let cl="11.9.0";const dl=new Ns("@firebase/firestore");function ul(){return dl.logLevel}function hl(e){if(dl.logLevel<=ks.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ml);dl.debug("Firestore (".concat(cl,"): ").concat(e),...i)}}function pl(e){if(dl.logLevel<=ks.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ml);dl.error("Firestore (".concat(cl,"): ").concat(e),...i)}}function fl(e){if(dl.logLevel<=ks.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ml);dl.warn("Firestore (".concat(cl,"): ").concat(e),...i)}}function ml(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Le){return e}}function gl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,vl(e,r,n)}function vl(e,t,n){let r="FIRESTORE (".concat(cl,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw pl(r),new Error(r)}function xl(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||vl(t,i,r)}function bl(e,t){return e}const yl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wl extends ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class kl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Cl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ll.UNAUTHENTICATED))}shutdown(){}}class jl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _l{constructor(e){this.t=e,this.currentUser=ll.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xl(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new kl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new kl,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{hl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(hl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new kl)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(hl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xl("string"==typeof t.accessToken,31837,{l:t}),new Sl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xl(null===e||"string"==typeof e,2055,{h:e}),new ll(e)}}class Nl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ll.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class El{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Nl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ll.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Al{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tl{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ao(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xl(void 0===this.o,3512);const n=e=>{null!=e.error&&hl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,hl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{hl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):hl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Al(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(xl("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Al(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Il(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Pl(){return new TextEncoder}class Rl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Il(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Dl(e,t){return e<t?-1:e>t?1:0}function Ml(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Dl(r,i);{const a=Pl(),s=Ll(a.encode(Ol(e,n)),a.encode(Ol(t,n)));return 0!==s?s:Dl(r,i)}}n+=r>65535?2:1}return Dl(e.length,t.length)}function Ol(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ll(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Dl(e[n],t[n]);return Dl(e.length,t.length)}function Fl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const $l=-62135596800,Vl=1e6;class Bl{static now(){return Bl.fromMillis(Date.now())}static fromDate(e){return Bl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Vl);return new Bl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wl(yl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wl(yl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$l)throw new wl(yl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wl(yl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vl}_compareTo(e){return this.seconds===e.seconds?Dl(this.nanoseconds,e.nanoseconds):Dl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$l;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ul{static fromTimestamp(e){return new Ul(e)}static min(){return new Ul(new Bl(0,0))}static max(){return new Ul(new Bl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl="__name__";class Hl{constructor(e,t,n){void 0===t?t=0:t>e.length&&gl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&gl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Hl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Dl(e.length,t.length)}static compareSegments(e,t){const n=Hl.isNumericId(e),r=Hl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Hl.extractNumericId(e).compare(Hl.extractNumericId(t)):Ml(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ko.fromString(e.substring(4,e.length-2))}}class Wl extends Hl{construct(e,t,n){return new Wl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new wl(yl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Wl(e)}static emptyPath(){return new Wl([])}}const Kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gl extends Hl{construct(e,t,n){return new Gl(e,t,n)}static isValidIdentifier(e){return Kl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===zl}static keyField(){return new Gl([zl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new wl(yl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wl(yl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wl(yl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new wl(yl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gl(t)}static emptyPath(){return new Gl([])}}class ql{constructor(e){this.path=e}static fromPath(e){return new ql(Wl.fromString(e))}static fromName(e){return new ql(Wl.fromString(e).popFirst(5))}static empty(){return new ql(Wl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ql(new Wl(e.slice()))}}const Xl=-1;class Yl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Yl.UNKNOWN_ID=-1;function Ql(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ul.fromTimestamp(1e9===r?new Bl(n+1,0):new Bl(n,r));return new Jl(i,ql.empty(),t)}function Zl(e){return new Jl(e.readTime,e.key,Xl)}class Jl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Jl(Ul.min(),ql.empty(),Xl)}static max(){return new Jl(Ul.max(),ql.empty(),Xl)}}function ec(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ql.comparator(e.documentKey,t.documentKey),0!==n?n:Dl(e.largestBatchId,t.largestBatchId))}const tc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function rc(e){if(e.code!==yl.FAILED_PRECONDITION||e.message!==tc)throw e;hl("LocalStore","Unexpectedly lost primary lease")}class ic{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ic((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ic?t:ic.resolve(t)}catch(e){return ic.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ic.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ic.reject(t)}static resolve(e){return new ic((t,n)=>{t(e)})}static reject(e){return new ic((t,n)=>{n(e)})}static waitFor(e){return new ic((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=ic.resolve(!1);for(const n of e)t=t.next(e=>e?ic.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ic((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new ic((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ac(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(e){return"IndexedDbTransactionError"===e.name}class oc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}oc.le=-1;const lc=-1;function cc(e){return null==e}function dc(e){return 0===e&&1/e==-1/0}function uc(e){return"number"==typeof e&&Number.isInteger(e)&&!dc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const hc="\x01";function pc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=mc(t)),t=fc(e.get(n),t);return mc(t)}function fc(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case hc:n+="\x01\x11";break;default:n+=t}}return n}function mc(e){return e+hc+"\x01"}const gc="remoteDocuments",vc="owner",xc="mutationQueues",bc="mutations";const yc="documentMutations",wc="remoteDocumentsV14",kc="remoteDocumentGlobal",Sc="targets",Cc="targetDocuments",jc="targetGlobal",_c="collectionParents",Nc="clientMetadata",Ec="bundles",Ac="namedQueries",Tc="indexConfiguration",Ic="indexState",Pc="indexEntries",Rc="documentOverlays",Dc="globals",Mc=[xc,bc,yc,gc,Sc,vc,jc,Cc,Nc,kc,_c,Ec,Ac],Oc=[xc,bc,yc,wc,Sc,vc,jc,Cc,Nc,kc,_c,Ec,Ac,Rc],Lc=Oc,Fc=[...Lc,Tc,Ic,Pc];function $c(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Uc{constructor(e,t){this.comparator=e,this.root=t||Hc.EMPTY}insert(e,t){return new Uc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hc.BLACK,null,null))}remove(e){return new Uc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Hc.RED,this.left=null!=r?r:Hc.EMPTY,this.right=null!=i?i:Hc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Hc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gl(27949);return e+(this.isRed()?0:1)}}Hc.EMPTY=null,Hc.RED=!0,Hc.BLACK=!1,Hc.EMPTY=new class{constructor(){this.size=0}get key(){throw gl(57766)}get value(){throw gl(16141)}get color(){throw gl(16727)}get left(){throw gl(29726)}get right(){throw gl(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Hc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wc{constructor(e){this.comparator=e,this.data=new Uc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kc(this.data.getIterator())}getIteratorFrom(e){return new Kc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Wc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wc(this.comparator);return t.data=e,t}}class Kc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gc{constructor(e){this.fields=e,e.sort(Gl.comparator)}static empty(){return new Gc([])}unionWith(e){let t=new Wc(Gl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Gc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class qc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new qc("Invalid base64 string: "+e):e}}(e);return new Xc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xc.EMPTY_BYTE_STRING=new Xc("");const Yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qc(e){if(xl(!!e,39018),"string"==typeof e){let t=0;const n=Yc.exec(e);if(xl(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zc(e.seconds),nanos:Zc(e.nanos)}}function Zc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jc(e){return"string"==typeof e?Xc.fromBase64String(e):Xc.fromUint8Array(e)}const ed="server_timestamp",td="__type__",nd="__previous_value__",rd="__local_write_time__";function id(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[td])||void 0===n?void 0:n.stringValue)===ed}function ad(e){const t=e.mapValue.fields[nd];return id(t)?ad(t):t}function sd(e){const t=Qc(e.mapValue.fields[rd].timestampValue);return new Bl(t.seconds,t.nanos)}class od{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const ld="(default)";class cd{constructor(e,t){this.projectId=e,this.database=t||ld}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}const dd="__type__",ud="__max__",hd={mapValue:{fields:{__type__:{stringValue:ud}}}},pd="__vector__",fd="value";function md(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?id(e)?4:Pd(e)?9007199254740991:Td(e)?10:11:gl(28295,{value:e})}function gd(e,t){if(e===t)return!0;const n=md(e);if(n!==md(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sd(e).isEqual(sd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qc(e.timestampValue),r=Qc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Jc(e.bytesValue).isEqual(Jc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zc(e.geoPointValue.latitude)===Zc(t.geoPointValue.latitude)&&Zc(e.geoPointValue.longitude)===Zc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zc(e.integerValue)===Zc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Zc(e.doubleValue),r=Zc(t.doubleValue);return n===r?dc(n)===dc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fl(e.arrayValue.values||[],t.arrayValue.values||[],gd);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($c(n)!==$c(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gd(n[i],r[i])))return!1;return!0}(e,t);default:return gl(52216,{left:e})}}function vd(e,t){return void 0!==(e.values||[]).find(e=>gd(e,t))}function xd(e,t){if(e===t)return 0;const n=md(e),r=md(t);if(n!==r)return Dl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Zc(e.integerValue||e.doubleValue),r=Zc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bd(e.timestampValue,t.timestampValue);case 4:return bd(sd(e),sd(t));case 5:return Ml(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Jc(e),r=Jc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Dl(n[i],r[i]);if(0!==e)return e}return Dl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Dl(Zc(e.latitude),Zc(t.latitude));return 0!==n?n:Dl(Zc(e.longitude),Zc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return yd(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[fd])||void 0===n?void 0:n.arrayValue,c=null===(r=o[fd])||void 0===r?void 0:r.arrayValue,d=Dl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==d?d:yd(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===hd.mapValue&&t===hd.mapValue)return 0;if(e===hd.mapValue)return 1;if(t===hd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Ml(r[s],a[s]);if(0!==e)return e;const t=xd(n[r[s]],i[a[s]]);if(0!==t)return t}return Dl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gl(23264,{Pe:n})}}function bd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Dl(e,t);const n=Qc(e),r=Qc(t),i=Dl(n.seconds,r.seconds);return 0!==i?i:Dl(n.nanos,r.nanos)}function yd(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xd(n[i],r[i]);if(e)return e}return Dl(n.length,r.length)}function wd(e){return kd(e)}function kd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Jc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ql.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=kd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(kd(e.fields[i]));return n+"}"}(e.mapValue):gl(61005,{value:e})}function Sd(e){switch(md(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ad(e);return t?16+Sd(t):16;case 5:return 2*e.stringValue.length;case 6:return Jc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Sd(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Vc(e.fields,(e,n)=>{t+=e.length+Sd(n)}),t}(e.mapValue);default:throw gl(13486,{value:e})}}function Cd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jd(e){return!!e&&"integerValue"in e}function _d(e){return!!e&&"arrayValue"in e}function Nd(e){return!!e&&"nullValue"in e}function Ed(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ad(e){return!!e&&"mapValue"in e}function Td(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[dd])||void 0===n?void 0:n.stringValue)===pd}function Id(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Id(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Id(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Pd(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ud}class Rd{constructor(e){this.value=e}static empty(){return new Rd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ad(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(t)}setAll(e){let t=Gl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Id(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ad(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ad(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Rd(Id(this.value))}}function Dd(e){const t=[];return Vc(e.fields,(e,n)=>{const r=new Gl([e]);if(Ad(n)){const e=Dd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Gc(t)}class Md{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Md(e,0,Ul.min(),Ul.min(),Ul.min(),Rd.empty(),0)}static newFoundDocument(e,t,n,r){return new Md(e,1,t,Ul.min(),n,r,0)}static newNoDocument(e,t){return new Md(e,2,t,Ul.min(),Ul.min(),Rd.empty(),0)}static newUnknownDocument(e,t){return new Md(e,3,t,Ul.min(),Ul.min(),Rd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ul.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ul.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Md&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Md(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Od{constructor(e,t){this.position=e,this.inclusive=t}}function Ld(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ql.comparator(ql.fromName(s.referenceValue),n.key):xd(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gd(e.position[n],t.position[n]))return!1;return!0}class $d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Vd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bd{}class Ud extends Bd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Yd(e,t,n):"array-contains"===t?new eu(e,n):"in"===t?new tu(e,n):"not-in"===t?new nu(e,n):"array-contains-any"===t?new ru(e,n):new Ud(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qd(e,n):new Zd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(xd(t,this.value)):null!==t&&md(this.value)===md(t)&&this.matchesComparison(xd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zd extends Bd{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new zd(e,t)}matches(e){return Hd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Hd(e){return"and"===e.op}function Wd(e){return Kd(e)&&Hd(e)}function Kd(e){for(const t of e.filters)if(t instanceof zd)return!1;return!0}function Gd(e){if(e instanceof Ud)return e.field.canonicalString()+e.op.toString()+wd(e.value);if(Wd(e))return e.filters.map(e=>Gd(e)).join(",");{const t=e.filters.map(e=>Gd(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function qd(e,t){return e instanceof Ud?function(e,t){return t instanceof Ud&&e.op===t.op&&e.field.isEqual(t.field)&&gd(e.value,t.value)}(e,t):e instanceof zd?function(e,t){return t instanceof zd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&qd(n,t.filters[r]),!0)}(e,t):void gl(19439)}function Xd(e){return e instanceof Ud?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(wd(e.value))}(e):e instanceof zd?function(e){return e.op.toString()+" {"+e.getFilters().map(Xd).join(" ,")+"}"}(e):"Filter"}class Yd extends Ud{constructor(e,t,n){super(e,t,n),this.key=ql.fromName(n.referenceValue)}matches(e){const t=ql.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qd extends Ud{constructor(e,t){super(e,"in",t),this.keys=Jd("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zd extends Ud{constructor(e,t){super(e,"not-in",t),this.keys=Jd("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ql.fromName(e.referenceValue))}class eu extends Ud{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _d(t)&&vd(t.arrayValue,this.value)}}class tu extends Ud{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vd(this.value.arrayValue,t)}}class nu extends Ud{constructor(e,t){super(e,"not-in",t)}matches(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!vd(this.value.arrayValue,t)}}class ru extends Ud{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_d(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>vd(this.value.arrayValue,e))}}class iu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Ie=null}}function au(e){return new iu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function su(e){const t=bl(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Gd(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),cc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>wd(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>wd(e)).join(",")),t.Ie=e}return t.Ie}function ou(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fd(e.startAt,t.startAt)&&Fd(e.endAt,t.endAt)}function lu(e){return ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function du(e,t,n,r,i,a,s,o){return new cu(e,t,n,r,i,a,s,o)}function uu(e){return new cu(e)}function hu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pu(e){return null!==e.collectionGroup}function fu(e){const t=bl(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Wc(Gl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new $d(r,n))}),e.has(Gl.keyField().canonicalString())||t.Ee.push(new $d(Gl.keyField(),n))}return t.Ee}function mu(e){const t=bl(e);return t.de||(t.de=gu(t,fu(e))),t.de}function gu(e,t){if("F"===e.limitType)return au(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new $d(e.field,t)});const n=e.endAt?new Od(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Od(e.startAt.position,e.startAt.inclusive):null;return au(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vu(e,t){const n=e.filters.concat([t]);return new cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xu(e,t,n){return new cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bu(e,t){return ou(mu(e),mu(t))&&e.limitType===t.limitType}function yu(e){return"".concat(su(mu(e)),"|lt:").concat(e.limitType)}function wu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Xd(e)).join(", "),"]")),cc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>wd(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>wd(e)).join(",")),"Target(".concat(t,")")}(mu(e)),"; limitType=").concat(e.limitType,")")}function ku(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ql.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ld(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ld(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fu(e),t))}(e,t)}function Su(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cu(e){return(t,n)=>{let r=!1;for(const i of fu(e)){const e=ju(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ju(e,t,n){const r=e.field.isKeyField()?ql.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xd(r,i):gl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gl(19790,{direction:e.dir})}}class _u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Bc(this.inner)}size(){return this.innerSize}}const Nu=new Uc(ql.comparator);function Eu(){return Nu}const Au=new Uc(ql.comparator);function Tu(){let e=Au;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Iu(e){let t=Au;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Pu(){return Du()}function Ru(){return Du()}function Du(){return new _u(e=>e.toString(),(e,t)=>e.isEqual(t))}const Mu=new Uc(ql.comparator),Ou=new Wc(ql.comparator);function Lu(){let e=Ou;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fu=new Wc(Dl);function $u(){return Fu}function Vu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(t)?"-0":t}}function Bu(e){return{integerValue:""+e}}function Uu(e,t){return uc(t)?Bu(t):Vu(e,t)}class zu{constructor(){this._=void 0}}function Hu(e,t,n){return e instanceof Gu?function(e,t){const n={fields:{[td]:{stringValue:ed},[rd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&id(t)&&(t=ad(t)),t&&(n.fields[nd]=t),{mapValue:n}}(n,t):e instanceof qu?Xu(e,t):e instanceof Yu?Qu(e,t):function(e,t){const n=Ku(e,t),r=Ju(n)+Ju(e.Re);return jd(n)&&jd(e.Re)?Bu(r):Vu(e.serializer,r)}(e,t)}function Wu(e,t,n){return e instanceof qu?Xu(e,t):e instanceof Yu?Qu(e,t):n}function Ku(e,t){return e instanceof Zu?function(e){return jd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Gu extends zu{}class qu extends zu{constructor(e){super(),this.elements=e}}function Xu(e,t){const n=eh(t);for(const r of e.elements)n.some(e=>gd(e,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends zu{constructor(e){super(),this.elements=e}}function Qu(e,t){let n=eh(t);for(const r of e.elements)n=n.filter(e=>!gd(e,r));return{arrayValue:{values:n}}}class Zu extends zu{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ju(e){return Zc(e.integerValue||e.doubleValue)}function eh(e){return _d(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class th{constructor(e,t){this.version=e,this.transformResults=t}}class nh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nh}static exists(e){return new nh(void 0,e)}static updateTime(e){return new nh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ih{}function ah(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mh(e.key,nh.none()):new dh(e.key,e.data,nh.none());{const n=e.data,r=Rd.empty();let i=new Wc(Gl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new uh(e.key,r,new Gc(i.toArray()),nh.none())}}function sh(e,t,n){e instanceof dh?function(e,t,n){const r=e.value.clone(),i=ph(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uh?function(e,t,n){if(!rh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ph(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function oh(e,t,n,r){return e instanceof dh?function(e,t,n,r){if(!rh(e.precondition,t))return n;const i=e.value.clone(),a=fh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof uh?function(e,t,n,r){if(!rh(e.precondition,t))return n;const i=fh(e.fieldTransforms,r,t),a=t.data;return a.setAll(hh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return rh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ku(r.transform,e||null);null!=i&&(null===n&&(n=Rd.empty()),n.set(r.field,i))}return n||null}function ch(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qu&&t instanceof qu||e instanceof Yu&&t instanceof Yu?Fl(e.elements,t.elements,gd):e instanceof Zu&&t instanceof Zu?gd(e.Re,t.Re):e instanceof Gu&&t instanceof Gu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dh extends ih{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class uh extends ih{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ph(e,t,n){const r=new Map;xl(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Wu(s,o,n[i]))}return r}function fh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Hu(e,a,t))}return r}class mh extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gh extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&sh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=oh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=oh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ru();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=ah(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(Ul.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lu())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(e,t)=>ch(e,t))&&Fl(this.baseMutations,e.baseMutations,(e,t)=>ch(e,t))}}class xh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xl(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Mu;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new xh(e,t,n,r)}}class bh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class yh{constructor(e,t){this.count=e,this.unchangedNames=t}}var wh,kh;function Sh(e){switch(e){case yl.OK:return gl(64938);case yl.CANCELLED:case yl.UNKNOWN:case yl.DEADLINE_EXCEEDED:case yl.RESOURCE_EXHAUSTED:case yl.INTERNAL:case yl.UNAVAILABLE:case yl.UNAUTHENTICATED:return!1;case yl.INVALID_ARGUMENT:case yl.NOT_FOUND:case yl.ALREADY_EXISTS:case yl.PERMISSION_DENIED:case yl.FAILED_PRECONDITION:case yl.ABORTED:case yl.OUT_OF_RANGE:case yl.UNIMPLEMENTED:case yl.DATA_LOSS:return!0;default:return gl(15467,{code:e})}}function Ch(e){if(void 0===e)return pl("GRPC error has no .code"),yl.UNKNOWN;switch(e){case wh.OK:return yl.OK;case wh.CANCELLED:return yl.CANCELLED;case wh.UNKNOWN:return yl.UNKNOWN;case wh.DEADLINE_EXCEEDED:return yl.DEADLINE_EXCEEDED;case wh.RESOURCE_EXHAUSTED:return yl.RESOURCE_EXHAUSTED;case wh.INTERNAL:return yl.INTERNAL;case wh.UNAVAILABLE:return yl.UNAVAILABLE;case wh.UNAUTHENTICATED:return yl.UNAUTHENTICATED;case wh.INVALID_ARGUMENT:return yl.INVALID_ARGUMENT;case wh.NOT_FOUND:return yl.NOT_FOUND;case wh.ALREADY_EXISTS:return yl.ALREADY_EXISTS;case wh.PERMISSION_DENIED:return yl.PERMISSION_DENIED;case wh.FAILED_PRECONDITION:return yl.FAILED_PRECONDITION;case wh.ABORTED:return yl.ABORTED;case wh.OUT_OF_RANGE:return yl.OUT_OF_RANGE;case wh.UNIMPLEMENTED:return yl.UNIMPLEMENTED;case wh.DATA_LOSS:return yl.DATA_LOSS;default:return gl(39323,{code:e})}}(kh=wh||(wh={}))[kh.OK=0]="OK",kh[kh.CANCELLED=1]="CANCELLED",kh[kh.UNKNOWN=2]="UNKNOWN",kh[kh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kh[kh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kh[kh.NOT_FOUND=5]="NOT_FOUND",kh[kh.ALREADY_EXISTS=6]="ALREADY_EXISTS",kh[kh.PERMISSION_DENIED=7]="PERMISSION_DENIED",kh[kh.UNAUTHENTICATED=16]="UNAUTHENTICATED",kh[kh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kh[kh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kh[kh.ABORTED=10]="ABORTED",kh[kh.OUT_OF_RANGE=11]="OUT_OF_RANGE",kh[kh.UNIMPLEMENTED=12]="UNIMPLEMENTED",kh[kh.INTERNAL=13]="INTERNAL",kh[kh.UNAVAILABLE=14]="UNAVAILABLE",kh[kh.DATA_LOSS=15]="DATA_LOSS";let jh=null;const _h=new Ko([4294967295,4294967295],0);function Nh(e){const t=Pl().encode(e),n=new Go;return n.update(t),new Uint8Array(n.digest())}function Eh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ko([n,r],0),new Ko([i,a],0)]}class Ah{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Th("Invalid padding: ".concat(t));if(n<0)throw new Th("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Th("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Th("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Ko.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Ko.fromNumber(n)));return 1===r.compare(_h)&&(r=new Ko([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Nh(e),[n,r]=Eh(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Ah(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.pe)return;const t=Nh(e),[n,r]=Eh(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ih(Ul.min(),r,new Uc(Dl),Eu(),Lu())}}class Ph{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ph(n,t,Lu(),Lu(),Lu())}}class Rh{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Dh{constructor(e,t){this.targetId=e,this.Ce=t}}class Mh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Oh{constructor(){this.Fe=0,this.Me=$h(),this.xe=Xc.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Lu(),t=Lu(),n=Lu();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gl(38017,{changeType:i})}}),new Ph(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=$h()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xl(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Lh{constructor(e){this.ze=e,this.je=new Map,this.He=Eu(),this.Je=Fh(),this.Ye=Fh(),this.Ze=new Uc(Dl)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:gl(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(lu(i))if(0===n){const e=new ql(i.path);this.tt(t,e,Md.newNoDocument(e,Ul.min()))}else xl(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==jh||jh.ht(function(e,t,n,r,i){var a,s,o,l,c,d;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(d=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==d?d:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=Jc(n).toUint8Array()}catch(e){if(e instanceof qc)return fl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ah(a,r,i)}catch(e){return fl(e instanceof Th?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&lu(i.target)){const t=new ql(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Md.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=Lu();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new Ih(e,t,this.Ze,this.He,n);return this.He=Eu(),this.Je=Fh(),this.Ye=Fh(),this.Ze=new Uc(Dl),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Oh,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Wc(Dl),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Wc(Dl),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||hl("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Oh),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Fh(){return new Uc(ql.comparator)}function $h(){return new Uc(ql.comparator)}const Vh={asc:"ASCENDING",desc:"DESCENDING"},Bh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uh={and:"AND",or:"OR"};class zh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hh(e,t){return e.useProto3Json||cc(t)?t:{value:t}}function Wh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gh(e,t){return Wh(e,t.toTimestamp())}function qh(e){return xl(!!e,49232),Ul.fromTimestamp(function(e){const t=Qc(e);return new Bl(t.seconds,t.nanos)}(e))}function Xh(e,t){return Yh(e,t).canonicalString()}function Yh(e,t){const n=function(e){return new Wl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Qh(e){const t=Wl.fromString(e);return xl(vp(t),10190,{key:t.toString()}),t}function Zh(e,t){return Xh(e.databaseId,t.path)}function Jh(e,t){const n=Qh(t);if(n.get(1)!==e.databaseId.projectId)throw new wl(yl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wl(yl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ql(rp(n))}function ep(e,t){return Xh(e.databaseId,t)}function tp(e){const t=Qh(e);return 4===t.length?Wl.emptyPath():rp(t)}function np(e){return new Wl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rp(e){return xl(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ip(e,t,n){return{name:Zh(e,t),fields:n.value.mapValue.fields}}function ap(e,t){let n;if(t instanceof dh)n={update:ip(e,t.key,t.value)};else if(t instanceof mh)n={delete:Zh(e,t.key)};else if(t instanceof uh)n={update:ip(e,t.key,t.data),updateMask:gp(t.fieldMask)};else{if(!(t instanceof gh))return gl(16599,{ft:t.type});n={verify:Zh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Gu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zu)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw gl(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gl(27497)}(e,t.precondition)),n}function sp(e,t){return{documents:[ep(e,t.path)]}}function op(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ep(e,i);const a=function(e){if(0!==e.length)return mp(zd.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:pp(e.field),direction:dp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Hh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function lp(e){let t=tp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xl(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=cp(e);return t instanceof zd&&Wd(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new $d(fp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,cc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Od(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Od(n,t)}(n.endAt)),du(t,i,s,a,o,"F",l,c)}function cp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fp(e.unaryFilter.field);return Ud.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fp(e.unaryFilter.field);return Ud.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fp(e.unaryFilter.field);return Ud.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fp(e.unaryFilter.field);return Ud.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gl(61313);default:return gl(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ud.create(fp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gl(58110);default:return gl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zd.create(e.compositeFilter.filters.map(e=>cp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gl(1026)}}(e.compositeFilter.op))}(e):gl(30097,{filter:e})}function dp(e){return Vh[e]}function up(e){return Bh[e]}function hp(e){return Uh[e]}function pp(e){return{fieldPath:e.canonicalString()}}function fp(e){return Gl.fromServerFormat(e.fieldPath)}function mp(e){return e instanceof Ud?function(e){if("=="===e.op){if(Ed(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NAN"}};if(Nd(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ed(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NOT_NAN"}};if(Nd(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(e.field),op:up(e.op),value:e.value}}}(e):e instanceof zd?function(e){const t=e.getFilters().map(e=>mp(e));return 1===t.length?t[0]:{compositeFilter:{op:hp(e.op),filters:t}}}(e):gl(54877,{filter:e})}function gp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ul.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ul.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new xp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bp{constructor(e){this.wt=e}}function yp(e){const t=lp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xu(t,t.limit,"L"):t}class wp{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Zc(e.integerValue));else if("doubleValue"in e){const n=Zc(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),dc(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Qc(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Jc(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Pd(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Td(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):gl(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const a=fd,s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Zc(s)),this.Nt(a,t),this.Ct(i[a],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),ql.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}wp.Wt=new wp;class kp{constructor(){this.Cn=new Sp}addToCollectionParentIndex(e,t){return this.Cn.add(t),ic.resolve()}getCollectionParents(e,t){return ic.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ic.resolve()}deleteFieldIndex(e,t){return ic.resolve()}deleteAllFieldIndexes(e){return ic.resolve()}createTargetIndexes(e,t){return ic.resolve()}getDocumentsMatchingTarget(e,t){return ic.resolve(null)}getIndexType(e,t){return ic.resolve(0)}getFieldIndexes(e,t){return ic.resolve([])}getNextCollectionGroupToUpdate(e){return ic.resolve(null)}getMinOffset(e,t){return ic.resolve(Jl.min())}getMinOffsetFromCollectionGroup(e,t){return ic.resolve(Jl.min())}updateCollectionGroup(e,t,n){return ic.resolve()}updateIndexEntries(e,t){return ic.resolve()}}class Sp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wc(Wl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wc(Wl.comparator)).toArray()}}new Uint8Array(0);const Cp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jp=41943040;class _p{static withCacheSize(e){return new _p(e,_p.DEFAULT_COLLECTION_PERCENTILE,_p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}_p.DEFAULT_COLLECTION_PERCENTILE=10,_p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_p.DEFAULT=new _p(jp,_p.DEFAULT_COLLECTION_PERCENTILE,_p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_p.DISABLED=new _p(-1,0,0);class Np{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Np(0)}static lr(){return new Np(-1)}}const Ep="LruGarbageCollector",Ap=1048576;function Tp(e,t){let[n,r]=e,[i,a]=t;const s=Dl(n,i);return 0===s?Dl(r,a):s}class Ip{constructor(e){this.Er=e,this.buffer=new Wc(Tp),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Tp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){hl(Ep,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sc(e)?hl(Ep,"Ignoring IndexedDB error during garbage collection: ",e):await rc(e)}await this.mr(3e5)})}}class Rp{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ic.resolve(oc.le);const n=new Ip(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hl("LruGarbageCollector","Garbage collection skipped; disabled"),ic.resolve(Cp)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(hl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Cp):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(hl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),ul()<=ks.DEBUG&&hl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ic.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Dp(e,t){return new Rp(e,t)}class Mp{constructor(){this.changes=new _u(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Md.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ic.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Op{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&oh(n.mutation,e,Gc.empty(),Bl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Lu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu();const r=Pu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Tu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Pu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Lu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Eu();const a=Du(),s=Du();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof uh)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),oh(s.mutation,t,s.mutation.getFieldMask(),Bl.now())):a.set(t.key,Gc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Op(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Du();let r=new Uc((e,t)=>e-t),i=Lu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Gc.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Lu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=Ru();l.forEach(e=>{if(!i.has(e)){const r=ah(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ic.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ic.resolve(Pu());let s=Xl,o=i;return a.next(t=>ic.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ic.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Lu())).next(e=>({batchId:s,changes:Iu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ql(t)).next(e=>{let t=Tu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Tu();return this.indexManager.getCollectionParents(e,i).next(s=>ic.forEach(s,s=>{const o=function(e,t){return new cu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Md.newInvalidDocument(r)))});let n=Tu();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&oh(a.mutation,r,Gc.empty(),Bl.now()),ku(t,r)&&(n=n.insert(e,r))}),n})}}class Fp{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ic.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:qh(e.createTime)}}(t)),ic.resolve()}getNamedQuery(e,t){return ic.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:yp(e.bundledQuery),readTime:qh(e.readTime)}}(t)),ic.resolve()}}class $p{constructor(){this.overlays=new Uc(ql.comparator),this.Qr=new Map}getOverlay(e,t){return ic.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Pu();return ic.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ic.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),ic.resolve()}getOverlaysForCollection(e,t,n){const r=Pu(),i=t.length+1,a=new ql(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ic.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Uc((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Pu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Pu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return ic.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bh(t,n));let i=this.Qr.get(t);void 0===i&&(i=Lu(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class Vp{constructor(){this.sessionToken=Xc.EMPTY_BYTE_STRING}getSessionToken(e){return ic.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ic.resolve()}}class Bp{constructor(){this.$r=new Wc(Up.Ur),this.Kr=new Wc(Up.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Up(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new Up(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new ql(new Wl([])),n=new Up(t,e),r=new Up(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ql(new Wl([])),n=new Up(t,e),r=new Up(t,e+1);let i=Lu();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Up(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Up{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ql.comparator(e.key,t.key)||Dl(e.Zr,t.Zr)}static Wr(e,t){return Dl(e.Zr,t.Zr)||ql.comparator(e.key,t.key)}}class zp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Wc(Up.Ur)}checkEmpty(e){return ic.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vh(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Xr=this.Xr.add(new Up(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ic.resolve(a)}lookupMutationBatch(e,t){return ic.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return ic.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ic.resolve(0===this.mutationQueue.length?lc:this.nr-1)}getAllMutationBatches(e){return ic.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Up(t,0),r=new Up(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),ic.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wc(Dl);return t.forEach(e=>{const t=new Up(e,0),r=new Up(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),ic.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ql.isDocumentKey(i)||(i=i.child(""));const a=new Up(new ql(i),0);let s=new Wc(Dl);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Zr)),!0)},a),ic.resolve(this.ni(s))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){xl(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return ic.forEach(t.mutations,r=>{const i=new Up(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Up(t,0),r=this.Xr.firstAfterOrEqual(n);return ic.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ic.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hp{constructor(e){this.ii=e,this.docs=new Uc(ql.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ic.resolve(n?n.document.mutableCopy():Md.newInvalidDocument(t))}getEntries(e,t){let n=Eu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Md.newInvalidDocument(e))}),ic.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Eu();const a=t.path,s=new ql(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||ec(Zl(s),n)<=0||(r.has(s.key)||ku(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ic.resolve(i)}getAllFromCollectionGroup(e,t,n,r){gl(9500)}si(e,t){return ic.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Wp(this)}getSize(e){return ic.resolve(this.size)}}class Wp extends Mp{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),ic.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Kp{constructor(e){this.persistence=e,this.oi=new _u(e=>su(e),ou),this.lastRemoteSnapshotVersion=Ul.min(),this.highestTargetId=0,this._i=0,this.ai=new Bp,this.targetCount=0,this.ui=Np.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),ic.resolve()}getLastRemoteSnapshotVersion(e){return ic.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ic.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ic.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),ic.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Np(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ic.resolve()}updateTargetData(e,t){return this.Tr(t),ic.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ic.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),ic.waitFor(i).next(()=>r)}getTargetCount(e){return ic.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return ic.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),ic.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ic.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ic.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return ic.resolve(n)}containsKey(e,t){return ic.resolve(this.ai.containsKey(t))}}class Gp{constructor(e,t){this.ci={},this.overlays={},this.li=new oc(0),this.hi=!1,this.hi=!0,this.Pi=new Vp,this.referenceDelegate=e(this),this.Ti=new Kp(this),this.indexManager=new kp,this.remoteDocumentCache=function(e){return new Hp(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new bp(t),this.Ei=new Fp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $p,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new zp(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){hl("MemoryPersistence","Starting transaction:",e);const r=new qp(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return ic.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class qp extends nc{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Vi=new Bp,this.mi=null}static fi(e){return new Xp(e)}get gi(){if(this.mi)return this.mi;throw gl(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),ic.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),ic.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ic.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ic.forEach(this.gi,n=>{const r=ql.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,Ul.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ic.or([()=>ic.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Yp{constructor(e,t){this.persistence=e,this.yi=new _u(e=>pc(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Dp(this,t)}static fi(e,t){return new Yp(e,t)}di(){}Ai(e){return ic.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return ic.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?ic.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Ul.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ic.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),ic.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),ic.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ic.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sd(e.data.value)),t}Dr(e,t,n){return ic.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return ic.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Lu(),r=Lu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Qp(e,t.fromCache,n,r)}}class Zp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jp{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=is()?8:ac(ns())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Zp;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(ul()<=ks.DEBUG&&hl("QueryEngine","SDK will not create cache indexes for query:",wu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ic.resolve()):(ul()<=ks.DEBUG&&hl("QueryEngine","Query:",wu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(ul()<=ks.DEBUG&&hl("QueryEngine","The SDK decides to create cache indexes for query:",wu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mu(t))):ic.resolve())}ws(e,t){if(hu(t))return ic.resolve(null);let n=mu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xu(t,null,"F"),n=mu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Lu(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.vs(t,r);return this.Cs(t,a,i,n.readTime)?this.ws(e,xu(t,null,"F")):this.Fs(e,a,t,n)}))})))}bs(e,t,n,r){return hu(t)||r.isEqual(Ul.min())?ic.resolve(null):this.ys.getDocuments(e,n).next(i=>{const a=this.vs(t,i);return this.Cs(t,a,n,r)?ic.resolve(null):(ul()<=ks.DEBUG&&hl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wu(t)),this.Fs(e,a,t,Ql(r,Xl)).next(e=>e))})}vs(e,t){let n=new Wc(Cu(e));return t.forEach((t,r)=>{ku(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return ul()<=ks.DEBUG&&hl("QueryEngine","Using full collection scan to execute query:",wu(t)),this.ys.getDocumentsMatchingQuery(e,t,Jl.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ef="LocalStore";class tf{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Uc(Dl),this.Os=new _u(e=>su(e),ou),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lp(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function nf(e,t,n,r){return new tf(e,t,n,r)}async function rf(e,t){const n=bl(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=Lu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:a}))})})}function af(e){const t=bl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function sf(e,t,n){let r=Lu(),i=Lu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Eu();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ul.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hl(ef,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{qs:r,Qs:i}})}function of(e,t){const n=bl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=lc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function lf(e,t){const n=bl(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,ic.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new xp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function cf(e,t,n){const r=bl(e),i=r.xs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!sc(e))throw e;hl(ef,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function df(e,t,n){const r=bl(e);let i=Ul.min(),a=Lu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=bl(e),i=r.Os.get(n);return void 0!==i?ic.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,mu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:Ul.min(),n?a:Lu())).next(e=>(uf(r,Su(t),e),{documents:e,$s:a})))}function uf(e,t,n){let r=e.Ns.get(t)||Ul.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class hf{constructor(){this.activeTargetIds=$u()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pf{constructor(){this.xo=new hf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new hf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ff{No(e){}shutdown(){}}const mf="ConnectivityMonitor";class gf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){hl(mf,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){hl(mf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vf=null;function xf(){return null===vf?vf=268435456+Math.round(2147483648*Math.random()):vf++,"0x"+vf.toString(16)}const bf="RestConnection",yf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wf{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===ld?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const a=xf(),s=this.jo(e,t.toUriEncodedString());hl(bf,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,i);const{host:l}=new URL(s),c=Ya(l);return this.Jo(e,s,o,n,c).then(t=>(hl(bf,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw fl(bf,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}Yo(e,t,n,r,i,a){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=yf[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class kf{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Sf="WebChannelConnection";class Cf extends wf{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=xf();return new Promise((i,s)=>{const o=new Yo;o.setWithCredentials(!0),o.listenOnce(Zo.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Jo.NO_ERROR:const t=o.getResponseJson();hl(Sf,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case Jo.TIMEOUT:hl(Sf,"RPC '".concat(e,"' ").concat(a," timed out")),s(new wl(yl.DEADLINE_EXCEEDED,"Request time out"));break;case Jo.HTTP_ERROR:const n=o.getStatus();if(hl(Sf,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yl).indexOf(t)>=0?t:yl.UNKNOWN}(t.status);s(new wl(e,t.message))}else s(new wl(yl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new wl(yl.UNAVAILABLE,"Connection failed."));break;default:gl(9055,{h_:e,streamId:a,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{hl(Sf,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);hl(Sf,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}I_(e,t,n){const r=xf(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=rl(),s=nl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");hl(Sf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const d=a.createWebChannel(c,o);this.E_(d);let u=!1,h=!1;const p=new kf({Zo:t=>{h?hl(Sf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(hl(Sf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),u=!0),hl(Sf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),d.send(t))},Xo:()=>d.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(d,Qo.EventType.OPEN,()=>{h||(hl(Sf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.__())}),f(d,Qo.EventType.CLOSE,()=>{h||(h=!0,hl(Sf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.u_(),this.d_(d))}),f(d,Qo.EventType.ERROR,t=>{h||(h=!0,fl(Sf,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.u_(new wl(yl.UNAVAILABLE,"The operation could not be completed")))}),f(d,Qo.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];xl(!!i,16349);const a=i,s=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){hl(Sf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=wh[e];if(void 0!==t)return Ch(t)}(t),i=s.message;void 0===n&&(n=yl.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.u_(new wl(n,i)),d.close()}else hl(Sf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.c_(i)}}),f(s,tl.STAT_EVENT,t=>{t.stat===el.PROXY?hl(Sf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===el.NOPROXY&&hl(Sf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.a_()},0),p}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function jf(){return"undefined"!=typeof document?document:null}function _f(e){return new zh(e,!0)}class Nf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&hl("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Ef="PersistentStream";class Af{constructor(e,t,n,r,i,a,s,o){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Nf(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===yl.RESOURCE_EXHAUSTED?(pl(t.toString()),pl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===yl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new wl(yl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return hl(Ef,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(hl(Ef,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tf extends Af{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gl(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(xl(void 0===t||"string"==typeof t,58123),Xc.fromBase64String(t||"")):(xl(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Xc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?yl.UNKNOWN:Ch(e.code);return new wl(t,e.message||"")}(s);n=new Mh(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jh(e,r.document.name),a=qh(r.document.updateTime),s=r.document.createTime?qh(r.document.createTime):Ul.min(),o=new Rd({mapValue:{fields:r.document.fields}}),l=Md.newFoundDocument(i,a,s,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Rh(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Jh(e,r.document),a=r.readTime?qh(r.readTime):Ul.min(),s=Md.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Rh([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Jh(e,r.document),a=r.removedTargetIds||[];n=new Rh([],a,i,null)}else{if(!("filter"in t))return gl(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new yh(r,i),s=e.targetId;n=new Dh(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ul.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ul.min():t.readTime?qh(t.readTime):Ul.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=np(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lu(r)?{documents:sp(e,r)}:{query:op(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Kh(e,t.resumeToken);const r=Hh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ul.min())>0){n.readTime=Wh(e,t.snapshotVersion.toTimestamp());const r=Hh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=np(this.serializer),t.removeTarget=e,this.Q_(t)}}class If extends Af{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return xl(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xl(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){xl(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(xl(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?qh(e.updateTime):qh(t);return n.isEqual(Ul.min())&&(n=qh(t)),new th(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=qh(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=np(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ap(this.serializer,e))};this.Q_(t)}}class Pf{}class Rf extends Pf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new wl(yl.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.zo(e,Yh(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wl(yl.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Yo(e,Yh(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wl(yl.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Df{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(pl(t),this.ua=!1):hl("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const Mf="RemoteStore";class Of{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{Wf(this)&&(hl(Mf,"Restarting streams for network reachability change."),await async function(e){const t=bl(e);t.da.add(4),await Ff(t),t.Va.set("Unknown"),t.da.delete(4),await Lf(t)}(this))})}),this.Va=new Df(n,r)}}async function Lf(e){if(Wf(e))for(const t of e.Aa)await t(!0)}async function Ff(e){for(const t of e.Aa)await t(!1)}function $f(e,t){const n=bl(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Hf(n)?zf(n):dm(n).N_()&&Bf(n,t))}function Vf(e,t){const n=bl(e),r=dm(n);n.Ea.delete(t),r.N_()&&Uf(n,t),0===n.Ea.size&&(r.N_()?r.k_():Wf(n)&&n.Va.set("Unknown"))}function Bf(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ul.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dm(e).Z_(t)}function Uf(e,t){e.ma.Ke(t),dm(e).X_(t)}function zf(e){e.ma=new Lh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),dm(e).start(),e.Va.ca()}function Hf(e){return Wf(e)&&!dm(e).O_()&&e.Ea.size>0}function Wf(e){return 0===bl(e).da.size}function Kf(e){e.ma=void 0}async function Gf(e){e.Va.set("Online")}async function qf(e){e.Ea.forEach((t,n)=>{Bf(e,t)})}async function Xf(e,t){Kf(e),Hf(e)?(e.Va.Pa(t),zf(e)):e.Va.set("Unknown")}async function Yf(e,t,n){if(e.Va.set("Online"),t instanceof Mh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){hl(Mf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Qf(e,n)}else if(t instanceof Rh?e.ma.Xe(t):t instanceof Dh?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Ul.min()))try{const t=await af(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Xc.EMPTY_BYTE_STRING,r.snapshotVersion)),Uf(e,t);const i=new xp(r.target,t,n,r.sequenceNumber);Bf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){hl(Mf,"Failed to raise snapshot:",t),await Qf(e,t)}}async function Qf(e,t,n){if(!sc(t))throw t;e.da.add(1),await Ff(e),e.Va.set("Offline"),n||(n=()=>af(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{hl(Mf,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Lf(e)})}function Zf(e,t){return t().catch(n=>Qf(e,n,t))}async function Jf(e){const t=bl(e),n=um(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:lc;for(;em(t);)try{const e=await of(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,tm(t,e)}catch(e){await Qf(t,e)}nm(t)&&rm(t)}function em(e){return Wf(e)&&e.Ia.length<10}function tm(e,t){e.Ia.push(t);const n=um(e);n.N_()&&n.ea&&n.ta(t.mutations)}function nm(e){return Wf(e)&&!um(e).O_()&&e.Ia.length>0}function rm(e){um(e).start()}async function im(e){um(e).ia()}async function am(e){const t=um(e);for(const n of e.Ia)t.ta(n.mutations)}async function sm(e,t,n){const r=e.Ia.shift(),i=xh.from(r,t,n);await Zf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Jf(e)}async function om(e,t){t&&um(e).ea&&await async function(e,t){if(function(e){return Sh(e)&&e!==yl.ABORTED}(t.code)){const n=e.Ia.shift();um(e).L_(),await Zf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Jf(e)}}(e,t),nm(e)&&rm(e)}async function lm(e,t){const n=bl(e);n.asyncQueue.verifyOperationInProgress(),hl(Mf,"RemoteStore received new credentials");const r=Wf(n);n.da.add(3),await Ff(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Lf(n)}async function cm(e,t){const n=bl(e);t?(n.da.delete(2),await Lf(n)):t||(n.da.add(2),await Ff(n),n.Va.set("Unknown"))}function dm(e){return e.fa||(e.fa=function(e,t,n){const r=bl(e);return r.oa(),new Tf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Gf.bind(null,e),n_:qf.bind(null,e),i_:Xf.bind(null,e),Y_:Yf.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Hf(e)?zf(e):e.Va.set("Unknown")):(await e.fa.stop(),Kf(e))})),e.fa}function um(e){return e.ga||(e.ga=function(e,t,n){const r=bl(e);return r.oa(),new If(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:im.bind(null,e),i_:om.bind(null,e),na:am.bind(null,e),ra:sm.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Jf(e)):(await e.ga.stop(),e.Ia.length>0&&(hl(Mf,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class hm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new hm(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wl(yl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(e,t){if(pl("AsyncQueue","".concat(t,": ").concat(e)),sc(e))return new wl(yl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class fm{static emptySet(e){return new fm(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ql.comparator(t.key,n.key):(e,t)=>ql.comparator(e.key,t.key),this.keyedMap=Tu(),this.sortedSet=new Uc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new fm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mm{constructor(){this.pa=new Uc(ql.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):gl(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class gm{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new gm(e,t,fm.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vm{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xm{constructor(){this.queries=bm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=bl(e),r=n.queries;n.queries=bm(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new wl(yl.ABORTED,"Firestore shutting down"))}}function bm(){return new _u(e=>yu(e),bu)}async function ym(e,t){const n=bl(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Da()&&t.va()&&(r=2):(a=new vm,r=t.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=pm(e,"Initialization of query '".concat(wu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.Fa(n.onlineState),a.ba&&t.Ma(a.ba)&&Cm(n)}async function wm(e,t){const n=bl(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.va()?0:1:!a.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function km(e,t){const n=bl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&Cm(n)}function Sm(e,t,n){const r=bl(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Cm(e){e.Ca.forEach(e=>{e.next()})}var jm,_m;(_m=jm||(jm={})).xa="default",_m.Cache="cache";class Nm{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=gm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==jm.Cache}}class Em{constructor(e){this.key=e}}class Am{constructor(e){this.key=e}}class Tm{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lu(),this.mutatedKeys=Lu(),this.Za=Cu(e),this.Xa=new fm(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new mm,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),d=ku(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),p=!0):this.ru(c,d)||(n.track({type:2,doc:d}),p=!0,(o&&this.Za(d,o)>0||l&&this.Za(d,l)<0)&&(s=!0)):!c&&d?(n.track({type:0,doc:d}),p=!0):c&&!d&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(s=!0)),p&&(d?(a=a.add(d),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:a,nu:n,Cs:s,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gl(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const s=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==a.length||l?{snapshot:new gm(this.query,e.Xa,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Lu(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new Am(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new Em(n))}),t}au(e){this.Ha=e.$s,this.Ya=Lu();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return gm.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Im="SyncEngine";class Pm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rm{constructor(e){this.key=e,this.cu=!1}}class Dm{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new _u(e=>yu(e),bu),this.Pu=new Map,this.Tu=new Set,this.Iu=new Uc(ql.comparator),this.Eu=new Map,this.du=new Bp,this.Au={},this.Ru=new Map,this.Vu=Np.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function Mm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ng(e);let i;const a=r.hu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await Lm(r,t,n,!0),i}async function Om(e,t){const n=ng(e);await Lm(n,t,!0,!1)}async function Lm(e,t,n,r){const i=await lf(e.localStore,mu(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Fm(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&$f(e.remoteStore,i),o}async function Fm(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await df(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return Ym(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const a=await df(e.localStore,t,!0),s=new Tm(t,a.$s),o=s.tu(a.documents),l=Ph.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);Ym(e,n,c.ou);const d=new Pm(t,n,s);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function $m(e,t,n){const r=bl(e),i=r.hu.get(t),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(e=>!bu(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vf(r.remoteStore,i.targetId),qm(r,i.targetId)}).catch(rc)):(qm(r,i.targetId),await cf(r.localStore,i.targetId,!0))}async function Vm(e,t){const n=bl(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vf(n.remoteStore,r.targetId))}async function Bm(e,t){const n=bl(e);try{const e=await function(e,t){const n=bl(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Ti.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Ti.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Xc.EMPTY_BYTE_STRING,Ul.min()).withLastLimboFreeSnapshotVersion(Ul.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Ti.updateTargetData(e,c))});let o=Eu(),l=Lu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(sf(e,a,t.documentUpdates).next(e=>{o=e.qs,l=e.Qs})),!r.isEqual(Ul.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return ic.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(xl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?xl(r.cu,14607):e.removedDocuments.size>0&&(xl(r.cu,42227),r.cu=!1))}),await Jm(n,e,t)}catch(e){await rc(e)}}function Um(e,t,n){const r=bl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=bl(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&Cm(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zm(e,t,n){const r=bl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),a=i&&i.key;if(a){let e=new Uc(ql.comparator);e=e.insert(a,Md.newNoDocument(a,Ul.min()));const n=Lu().add(a),i=new Ih(Ul.min(),new Map,new Uc(Dl),e,n);await Bm(r,i),r.Iu=r.Iu.remove(a),r.Eu.delete(t),Zm(r)}else await cf(r.localStore,t,!1).then(()=>qm(r,t,n)).catch(rc)}async function Hm(e,t){const n=bl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=ic.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);xl(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Gm(n,r,null),Km(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jm(n,e)}catch(e){await rc(e)}}async function Wm(e,t,n){const r=bl(e);try{const e=await function(e,t){const n=bl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(xl(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Gm(r,t,n),Km(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jm(r,e)}catch(n){await rc(n)}}function Km(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function Gm(e,t,n){const r=bl(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||Xm(e,t)})}function Xm(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Vf(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Zm(e))}function Ym(e,t,n){for(const r of n)r instanceof Em?(e.du.addReference(r.key,t),Qm(e,r)):r instanceof Am?(hl(Im,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Xm(e,r.key)):gl(19791,{pu:r})}function Qm(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(hl(Im,"New document in limbo: "+n),e.Tu.add(r),Zm(e))}function Zm(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new ql(Wl.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Rm(n)),e.Iu=e.Iu.insert(n,r),$f(e.remoteStore,new xp(mu(uu(n.path)),r,"TargetPurposeLimboResolution",oc.le))}}async function Jm(e,t,n){const r=bl(e),i=[],a=[],s=[];r.hu.isEmpty()||(r.hu.forEach((e,o)=>{s.push(r.fu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Qp.Rs(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(e,t){const n=bl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ic.forEach(t,t=>ic.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ic.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!sc(e))throw e;hl(ef,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,a))}async function eg(e,t){const n=bl(e);if(!n.currentUser.isEqual(t)){hl(Im,"User change. New user:",t.toKey());const e=await rf(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new wl(yl.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Jm(n,e.ks)}}function tg(e,t){const n=bl(e),r=n.Eu.get(t);if(r&&r.cu)return Lu().add(r.key);{let e=Lu();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function ng(e){const t=bl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zm.bind(null,t),t.lu.Y_=km.bind(null,t.eventManager),t.lu.gu=Sm.bind(null,t.eventManager),t}function rg(e){const t=bl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wm.bind(null,t),t}class ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return nf(this.persistence,new Jp,e.initialUser,this.serializer)}Su(e){return new Gp(Xp.fi,this.serializer)}bu(e){return new pf}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ig.provider={build:()=>new ig};class ag extends ig{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){xl(this.persistence.referenceDelegate instanceof Yp,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Pp(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?_p.withCacheSize(this.cacheSizeBytes):_p.DEFAULT;return new Gp(e=>Yp.fi(e,t),this.serializer)}}class sg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Um(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=eg.bind(null,this.syncEngine),await cm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xm}createDatastore(e){const t=_f(e.databaseInfo.databaseId),n=function(e){return new Cf(e)}(e.databaseInfo);return function(e,t,n,r){return new Rf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Of(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Um(this.syncEngine,e,0),gf.C()?new gf:new ff)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Dm(e,t,n,r,i,a);return s&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=bl(e);hl(Mf,"RemoteStore shutting down."),t.da.add(5),await Ff(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}sg.provider={build:()=>new sg};class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):pl("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const lg="FirestoreClient";class cg{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ll.UNAUTHENTICATED,this.clientId=Rl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{hl(lg,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(hl(lg,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Le){const n=pm(Le,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function dg(e,t){e.asyncQueue.verifyOperationInProgress(),hl(lg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await rf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ug(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hg(e);hl(lg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>lm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>lm(t.remoteStore,n)),e._onlineComponents=t}async function hg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){hl(lg,"Using user provided OfflineComponentProvider");try{await dg(e,e._uninitializedComponentsProvider._offline)}catch(Le){const n=Le;if(!function(e){return"FirebaseError"===e.name?e.code===yl.FAILED_PRECONDITION||e.code===yl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await dg(e,new ig)}}else hl(lg,"Using default OfflineComponentProvider"),await dg(e,new ag(void 0));return e._offlineComponents}async function pg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(hl(lg,"Using user provided OnlineComponentProvider"),await ug(e,e._uninitializedComponentsProvider._online)):(hl(lg,"Using default OnlineComponentProvider"),await ug(e,new sg))),e._onlineComponents}function fg(e){return pg(e).then(e=>e.syncEngine)}async function mg(e){const t=await pg(e),n=t.eventManager;return n.onListen=Mm.bind(null,t.syncEngine),n.onUnlisten=$m.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Om.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Vm.bind(null,t.syncEngine),n}function gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new kl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new og({next:o=>{a.xu(),t.enqueueAndForget(()=>wm(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new wl(yl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new wl(yl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Nm(uu(n.path),a,{includeMetadataChanges:!0,Qa:!0});return ym(e,s)}(await mg(e),e.asyncQueue,t,n,r)),r.promise}function vg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new kl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new og({next:n=>{a.xu(),t.enqueueAndForget(()=>wm(e,s)),n.fromCache&&"server"===r.source?i.reject(new wl(yl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Nm(n,a,{includeMetadataChanges:!0,Qa:!0});return ym(e,s)}(await mg(e),e.asyncQueue,t,n,r)),r.promise}function xg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bg=new Map;function yg(e,t,n){if(!n)throw new wl(yl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wg(e){if(!ql.isDocumentKey(e))throw new wl(yl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function kg(e){if(ql.isDocumentKey(e))throw new wl(yl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":gl(12329,{type:typeof e})}function Cg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wl(yl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sg(e);throw new wl(yl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const jg="firestore.googleapis.com",_g=!0;class Ng{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new wl(yl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jg,this.ssl=_g}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:_g;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=jp;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ap)throw new wl(yl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new wl(yl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wl(yl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new wl(yl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new wl(yl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ng({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wl(yl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wl(yl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ng(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cl;switch(e.type){case"firstParty":return new El(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wl(yl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bg.get(e);t&&(hl("ComponentProvider","Removing Datastore"),bg.delete(e),t.terminate())}(this),Promise.resolve()}}class Ag{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ag(this.firestore,e,this._query)}}class Tg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ig(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tg(this.firestore,e,this._key)}}class Ig extends Ag{constructor(e,t,n){super(e,t,uu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tg(this.firestore,null,new ql(e))}withConverter(e){return new Ig(this.firestore,e,this._path)}}function Pg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gs(e),yg("collection","path",t),e instanceof Eg){const n=Wl.fromString(t,...r);return kg(n),new Ig(e,null,n)}{if(!(e instanceof Tg||e instanceof Ig))throw new wl(yl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wl.fromString(t,...r));return kg(n),new Ig(e.firestore,null,n)}}function Rg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gs(e),1===arguments.length&&(t=Rl.newId()),yg("doc","path",t),e instanceof Eg){const n=Wl.fromString(t,...r);return wg(n),new Tg(e,null,new ql(n))}{if(!(e instanceof Tg||e instanceof Ig))throw new wl(yl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wl.fromString(t,...r));return wg(n),new Tg(e.firestore,e instanceof Ig?e.converter:null,new ql(n))}}const Dg="AsyncQueue";class Mg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Nf(this,"async_queue_retry"),this.rc=()=>{const e=jf();e&&hl(Dg,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=jf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=jf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new kl;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(Oe){if(!sc(Oe))throw Oe;hl(Dg,"Operation failed with retryable error: "+Oe)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,pl("INTERNAL UNHANDLED ERROR: ",Og(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=hm.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&gl(47125,{cc:Og(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Og(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Lg extends Eg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Mg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mg(e),this._firestoreClient=void 0,await e}}}function Fg(e){if(e._terminated)throw new wl(yl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||$g(e),e._firestoreClient}function $g(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new od(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xg(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new cg(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Vg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vg(Xc.fromBase64String(e))}catch(e){throw new wl(yl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Vg(Xc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new wl(yl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ug{constructor(e){this._methodName=e}}class zg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wl(yl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wl(yl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dl(this._lat,e._lat)||Dl(this._long,e._long)}}class Hg{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Wg=/^__.*__$/;class Kg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new dh(e,this.data,t,this.fieldTransforms)}}class Gg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gl(40011,{Ic:e})}}class Xg{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return dv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(qg(this.Ic)&&Wg.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Yg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_f(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xg({Ic:e,methodName:t,wc:n,path:Gl.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(e){const t=e._freezeSettings(),n=_f(e._databaseId);return new Yg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zg(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.bc(a.merge||a.mergeFields?2:0,t,n,i);sv("Data must be an object, but it was:",s,r);const o=iv(r,s);let l,c;if(a.merge)l=new Gc(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=ov(t,r,n);if(!s.contains(i))throw new wl(yl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));uv(e,i)||e.push(i)}l=new Gc(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new Kg(new Rd(o),l,c)}class Jg extends Ug{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jg}}function ev(e,t,n,r){const i=e.bc(1,t,n);sv("Data must be an object, but it was:",i,r);const a=[],s=Rd.empty();Vc(r,(e,r)=>{const o=cv(t,e,n);r=gs(r);const l=i.mc(o);if(r instanceof Jg)a.push(o);else{const e=rv(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new Gc(a);return new Gg(s,o,i.fieldTransforms)}function tv(e,t,n,r,i,a){const s=e.bc(1,t,n),o=[ov(t,r,n)],l=[i];if(a.length%2!=0)throw new wl(yl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)o.push(ov(t,a[h])),l.push(a[h+1]);const c=[],d=Rd.empty();for(let h=o.length-1;h>=0;--h)if(!uv(c,o[h])){const e=o[h];let t=l[h];t=gs(t);const n=s.mc(e);if(t instanceof Jg)c.push(e);else{const r=rv(t,n);null!=r&&(c.push(e),d.set(e,r))}}const u=new Gc(c);return new Gg(d,u,s.fieldTransforms)}function nv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return rv(n,e.bc(r?4:3,t))}function rv(e,t){if(av(e=gs(e)))return sv("Unsupported field value:",t,e),iv(e,t);if(e instanceof Ug)return function(e,t){if(!qg(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=rv(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=gs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Uu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Bl.fromDate(e);return{timestampValue:Wh(t.serializer,n)}}if(e instanceof Bl){const n=new Bl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wh(t.serializer,n)}}if(e instanceof zg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vg)return{bytesValue:Kh(t.serializer,e._byteString)};if(e instanceof Tg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Xh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Hg)return function(e,t){return{mapValue:{fields:{[dd]:{stringValue:pd},[fd]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Vu(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Sg(e)))}(e,t)}function iv(e,t){const n={};return Bc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vc(e,(e,r)=>{const i=rv(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function av(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bl||e instanceof zg||e instanceof Vg||e instanceof Tg||e instanceof Ug||e instanceof Hg)}function sv(e,t,n){if(!av(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Sg(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function ov(e,t,n){if((t=gs(t))instanceof Bg)return t._internalPath;if("string"==typeof t)return cv(e,t);throw dv("Field path arguments must be of type string or ",e,!1,void 0,n)}const lv=new RegExp("[~\\*/\\[\\]]");function cv(e,t,n){if(t.search(lv)>=0)throw dv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Bg(...t.split("."))._internalPath}catch(r){throw dv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dv(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new wl(yl.INVALID_ARGUMENT,o+e+l)}function uv(e,t){return e.some(e=>e.isEqual(t))}class hv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pv extends hv{data(){return super.data()}}function fv(e,t){return"string"==typeof t?cv(e,t):t instanceof Bg?t._internalPath:t._delegate._internalPath}function mv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wl(yl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class vv extends gv{}function xv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof gv&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof yv).length,n=e.filter(e=>e instanceof bv).length;if(t>1||t>0&&n>0)throw new wl(yl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class bv extends vv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new bv(e,t,n)}_apply(e){const t=this._parse(e);return jv(e._query,t),new Ag(e.firestore,e.converter,vu(e._query,t))}_parse(e){const t=Qg(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new wl(yl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Cv(s,a);const t=[];for(const n of s)t.push(Sv(r,e,n));o={arrayValue:{values:t}}}else o=Sv(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Cv(s,a),o=nv(n,t,s,"in"===a||"not-in"===a);return Ud.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class yv extends gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yv(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:zd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)jv(n,i),n=vu(n,i)}(e._query,t),new Ag(e.firestore,e.converter,vu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wv extends vv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new wl(yl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wl(yl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $d(t,n)}(e._query,this._field,this._direction);return new Ag(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function kv(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fv("orderBy",e);return wv._create(n,t)}function Sv(e,t,n){if("string"==typeof(n=gs(n))){if(""===n)throw new wl(yl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pu(t)&&-1!==n.indexOf("/"))throw new wl(yl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Wl.fromString(n));if(!ql.isDocumentKey(r))throw new wl(yl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Cd(e,new ql(r))}if(n instanceof Tg)return Cd(e,n._key);throw new wl(yl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Sg(n),"."))}function Cv(e,t){if(!Array.isArray(e)||0===e.length)throw new wl(yl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new wl(yl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wl(yl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class _v{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(md(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[fd].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Zc(e.doubleValue));return new Hg(i)}convertGeoPoint(e){return new zg(Zc(e.latitude),Zc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ad(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const t=Qc(e);return new Bl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wl.fromString(e);xl(vp(n),9688,{name:e});const r=new cd(n.get(1),n.get(3)),i=new ql(n.popFirst(5));return r.isEqual(t)||pl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Nv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ev{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Av extends hv{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Tv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Tv extends Av{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Iv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ev(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Tv(this._firestore,this._userDataWriter,n.key,n,new Ev(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wl(yl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Tv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ev(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Tv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ev(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Pv(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Pv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gl(61501,{type:e})}}function Rv(e){e=Cg(e,Tg);const t=Cg(e.firestore,Lg);return gg(Fg(t),e._key).then(n=>Vv(t,e,n))}class Dv extends _v{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tg(this.firestore,null,t)}}function Mv(e){e=Cg(e,Ag);const t=Cg(e.firestore,Lg),n=Fg(t),r=new Dv(t);return mv(e._query),vg(n,e._query).then(n=>new Iv(t,r,e,n))}function Ov(e,t,n){e=Cg(e,Tg);const r=Cg(e.firestore,Lg),i=Nv(e.converter,t,n);return $v(r,[Zg(Qg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nh.none())])}function Lv(e,t,n){e=Cg(e,Tg);const r=Cg(e.firestore,Lg),i=Qg(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=gs(t))||t instanceof Bg?tv(i,"updateDoc",e._key,t,n,o):ev(i,"updateDoc",e._key,t),$v(r,[a.toMutation(e._key,nh.exists(!0))])}function Fv(e){return $v(Cg(e.firestore,Lg),[new mh(e._key,nh.none())])}function $v(e,t){return function(e,t){const n=new kl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=rg(e);try{const e=await function(e,t){const n=bl(e),r=Bl.now(),i=t.reduce((e,t)=>e.add(t.key),Lu());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Eu(),l=Lu();return n.Bs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=lh(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new uh(e.key,t,Dd(t.value.mapValue),nh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Iu(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new Uc(Dl)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Jm(r,e.changes),await Jf(r.remoteStore)}catch(e){const t=pm(e,"Failed to persist write");n.reject(t)}}(await fg(e),t,n)),n.promise}(Fg(e),t)}function Vv(e,t,n){const r=n.docs.get(t._key),i=new Dv(e);return new Av(e,i,t._key,r,new Ev(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cl=e}(Po),No(new vs("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Lg(new _l(e.getProvider("auth-internal")),new Tl(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wl(yl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Mo(sl,ol,e),Mo(sl,ol,"esm2017")}();const Bv=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?Bv(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(s)}))||void 0===n?void 0:n.classGroupId},Uv=/^\[(.+)\]$/,zv=e=>{if(Uv.test(e)){const t=Uv.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Hv=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Wv(n[i],r,i,t);return r},Wv=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:Kv(t,e)).classGroupId=n)}if("function"===typeof e)return Gv(e)?void Wv(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[i,a]=e;Wv(a,Kv(t,i),n,r)})})},Kv=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Gv=e=>e.isThemeGetter,qv=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Xv=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){n=l;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=Yv(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},Yv=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,Qv=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},Zv=e=>c({cache:qv(e.cacheSize),parseClassName:Xv(e),sortModifiers:Qv(e)},(e=>{const t=Hv(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Bv(n,t)||zv(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),Jv=/\s+/;function ex(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tx(e))&&(r&&(r+=" "),r+=t);return r}const tx=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tx(e[r]))&&(n&&(n+=" "),n+=t);return n};function nx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,a,s,o=function(t){const r=n.reduce((e,t)=>t(e),e());return i=Zv(r),a=i.cache.get,s=i.cache.set,o=l,l(t)};function l(e){const t=a(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(Jv);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=r(f?h.substring(0,p):h);if(!m){if(!f){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}f=!1}const g=a(d).join(":"),v=u?g+"!":g,x=v+m;if(s.includes(x))continue;s.push(x);const b=i(m,f);for(let n=0;n<b.length;++n){const e=b[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return s(e,n),n}return function(){return o(ex.apply(null,arguments))}}const rx=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},ix=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ax=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sx=/^\d+\/\d+$/,ox=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ux=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hx=e=>sx.test(e),px=e=>!!e&&!Number.isNaN(Number(e)),fx=e=>!!e&&Number.isInteger(Number(e)),mx=e=>e.endsWith("%")&&px(e.slice(0,-1)),gx=e=>ox.test(e),vx=()=>!0,xx=e=>lx.test(e)&&!cx.test(e),bx=()=>!1,yx=e=>dx.test(e),wx=e=>ux.test(e),kx=e=>!Cx(e)&&!Tx(e),Sx=e=>Lx(e,Bx,bx),Cx=e=>ix.test(e),jx=e=>Lx(e,Ux,xx),_x=e=>Lx(e,zx,px),Nx=e=>Lx(e,$x,bx),Ex=e=>Lx(e,Vx,wx),Ax=e=>Lx(e,Wx,yx),Tx=e=>ax.test(e),Ix=e=>Fx(e,Ux),Px=e=>Fx(e,Hx),Rx=e=>Fx(e,$x),Dx=e=>Fx(e,Bx),Mx=e=>Fx(e,Vx),Ox=e=>Fx(e,Wx,!0),Lx=(e,t,n)=>{const r=ix.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Fx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ax.exec(e);return!!r&&(r[1]?t(r[1]):n)},$x=e=>"position"===e||"percentage"===e,Vx=e=>"image"===e||"url"===e,Bx=e=>"length"===e||"size"===e||"bg-size"===e,Ux=e=>"length"===e,zx=e=>"number"===e,Hx=e=>"family-name"===e,Wx=e=>"shadow"===e,Kx=(Symbol.toStringTag,()=>{const e=rx("color"),t=rx("font"),n=rx("text"),r=rx("font-weight"),i=rx("tracking"),a=rx("leading"),s=rx("breakpoint"),o=rx("container"),l=rx("spacing"),c=rx("radius"),d=rx("shadow"),u=rx("inset-shadow"),h=rx("text-shadow"),p=rx("drop-shadow"),f=rx("blur"),m=rx("perspective"),g=rx("aspect"),v=rx("ease"),x=rx("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Tx,Cx],y=()=>[Tx,Cx,l],w=()=>[hx,"full","auto",...y()],k=()=>[fx,"none","subgrid",Tx,Cx],S=()=>["auto",{span:["full",fx,Tx,Cx]},fx,Tx,Cx],C=()=>[fx,"auto",Tx,Cx],j=()=>["auto","min","max","fr",Tx,Cx],_=()=>["auto",...y()],N=()=>[hx,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],E=()=>[e,Tx,Cx],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Rx,Nx,{position:[Tx,Cx]}],T=()=>["auto","cover","contain",Dx,Sx,{size:[Tx,Cx]}],I=()=>[mx,Ix,jx],P=()=>["","none","full",c,Tx,Cx],R=()=>["",px,Ix,jx],D=()=>[px,mx,Rx,Nx],M=()=>["","none",f,Tx,Cx],O=()=>["none",px,Tx,Cx],L=()=>["none",px,Tx,Cx],F=()=>[px,Tx,Cx],$=()=>[hx,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gx],breakpoint:[gx],color:[vx],container:[gx],"drop-shadow":[gx],ease:["in","out","in-out"],font:[kx],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gx],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gx],shadow:[gx],spacing:["px",px],text:[gx],"text-shadow":[gx],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hx,Cx,Tx,g]}],container:["container"],columns:[{columns:[px,Cx,Tx,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[fx,"auto",Tx,Cx]}],basis:[{basis:[hx,"full","auto",o,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[px,hx,"auto","initial","none",Cx]}],grow:[{grow:["",px,Tx,Cx]}],shrink:[{shrink:["",px,Tx,Cx]}],order:[{order:[fx,"first","last","none",Tx,Cx]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],w:[{w:[o,"screen",...N()]}],"min-w":[{"min-w":[o,"screen","none",...N()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",n,Ix,jx]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Tx,_x]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mx,Cx]}],"font-family":[{font:[Px,Cx,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Tx,Cx]}],"line-clamp":[{"line-clamp":[px,"none",Tx,_x]}],leading:[{leading:[a,...y()]}],"list-image":[{"list-image":["none",Tx,Cx]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Tx,Cx]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[px,"from-font","auto",Tx,jx]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[px,"auto",Tx,Cx]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tx,Cx]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tx,Cx]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fx,Tx,Cx],radial:["",Tx,Cx],conic:[fx,Tx,Cx]},Mx,Ex]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[px,Tx,Cx]}],"outline-w":[{outline:["",px,Ix,jx]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,Ox,Ax]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,Ox,Ax]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[px,jx]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,Ox,Ax]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[px,Tx,Cx]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[px]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[Tx,Cx]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[px]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Tx,Cx]}],filter:[{filter:["","none",Tx,Cx]}],blur:[{blur:M()}],brightness:[{brightness:[px,Tx,Cx]}],contrast:[{contrast:[px,Tx,Cx]}],"drop-shadow":[{"drop-shadow":["","none",p,Ox,Ax]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",px,Tx,Cx]}],"hue-rotate":[{"hue-rotate":[px,Tx,Cx]}],invert:[{invert:["",px,Tx,Cx]}],saturate:[{saturate:[px,Tx,Cx]}],sepia:[{sepia:["",px,Tx,Cx]}],"backdrop-filter":[{"backdrop-filter":["","none",Tx,Cx]}],"backdrop-blur":[{"backdrop-blur":M()}],"backdrop-brightness":[{"backdrop-brightness":[px,Tx,Cx]}],"backdrop-contrast":[{"backdrop-contrast":[px,Tx,Cx]}],"backdrop-grayscale":[{"backdrop-grayscale":["",px,Tx,Cx]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[px,Tx,Cx]}],"backdrop-invert":[{"backdrop-invert":["",px,Tx,Cx]}],"backdrop-opacity":[{"backdrop-opacity":[px,Tx,Cx]}],"backdrop-saturate":[{"backdrop-saturate":[px,Tx,Cx]}],"backdrop-sepia":[{"backdrop-sepia":["",px,Tx,Cx]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Tx,Cx]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[px,"initial",Tx,Cx]}],ease:[{ease:["linear","initial",v,Tx,Cx]}],delay:[{delay:[px,Tx,Cx]}],animate:[{animate:["none",x,Tx,Cx]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Tx,Cx]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[Tx,Cx,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$()}],"translate-x":[{"translate-x":$()}],"translate-y":[{"translate-y":$()}],"translate-z":[{"translate-z":$()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tx,Cx]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tx,Cx]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[px,Ix,jx,_x]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),Gx=nx(Kx);Mo("firebase","11.9.1","app");var qx=function(){return qx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qx.apply(this,arguments)};function Xx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Yx(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=Qx,Jx=new os("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),eb=new Ns("@firebase/auth");function tb(e){if(eb.logLevel<=ks.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];eb.error("Auth (".concat(Po,"): ").concat(e),...n)}}function nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw sb(e,...n)}function rb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sb(e,...n)}function ib(e,t,n){const r=Object.assign(Object.assign({},Zx()),{[t]:n});return new os("auth","Firebase",r).create(t,{appName:e.name})}function ab(e){return ib(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Jx.create(e,...n)}function ob(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw sb(t,...r)}}function lb(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tb(t),new Error(t)}function cb(e,t){e||lb(t)}function db(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ub(){return"http:"===hb()||"https:"===hb()}function hb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function pb(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ub()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class fb{constructor(e,t){this.shortDelay=e,this.longDelay=t,cb(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return pb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mb(e,t){cb(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class gb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void lb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void lb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void lb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bb=new fb(3e4,6e4);function yb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function wb(e,t,n,r){return kb(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=us(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ya(e.emulatorConfig.host)&&(l.credentials="include"),gb.fetch()(await Cb(e,e.config.apiHost,n,s),l)})}async function kb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},vb),t);try{const t=new _b(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Nb(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Nb(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Nb(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Nb(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ib(e,o,s);nb(e,o)}}catch(Oe){if(Oe instanceof ss)throw Oe;nb(e,"network-request-failed",{message:String(Oe)})}}async function Sb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await wb(e,t,n,r,i);return"mfaPendingCredential"in a&&nb(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Cb(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?mb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(xb.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function jb(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _b{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(rb(this.auth,"network-request-failed")),bb.get())})}}function Nb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rb(e,t,r);return i.customData._tokenResponse=n,i}function Eb(e){return void 0!==e&&void 0!==e.enterprise}class Ab{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jb(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tb(e,t){return wb(e,"GET","/v2/recaptchaConfig",yb(e,t))}async function Ib(e,t){return wb(e,"POST","/v1/accounts:lookup",t)}function Pb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Oe){}}function Rb(e){return 1e3*Number(e)}function Db(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return tb("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ua(n);return e?JSON.parse(e):(tb("Failed to decode base64 JWT payload"),null)}catch(Oe){return tb("Caught error parsing JWT payload as JSON",null===Oe||void 0===Oe?void 0:Oe.toString()),null}}function Mb(e){const t=Db(e);return ob(t,"internal-error"),ob("undefined"!==typeof t.exp,"internal-error"),ob("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ob(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Oe){throw Oe instanceof ss&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Oe)&&e.auth.currentUser===e&&await e.auth.signOut(),Oe}}class Lb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Oe){return void((null===Oe||void 0===Oe?void 0:Oe.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Fb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pb(this.lastLoginAt),this.creationTime=Pb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $b(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ob(e,Ib(n,{idToken:r}));ob(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Vb(a.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!l&&c,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Fb(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,u)}function Vb(e){return e.map(e=>{var{providerId:t}=e,n=Xx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Bb{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ob(e.idToken,"internal-error"),ob("undefined"!==typeof e.idToken,"internal-error"),ob("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ob(0!==e.length,"internal-error");const t=Mb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ob(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await kb(e,{},async()=>{const n=us({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Cb(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&Ya(e.emulatorConfig.host)&&(o.credentials="include"),gb.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Bb;return n&&(ob("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(ob("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(ob("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bb,this.toJSON())}_performRefresh(){return lb("not implemented")}}function Ub(e,t){ob("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class zb{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Xx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ob(this,this.stsTokenManager.getToken(this.auth,e));return ob(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=gs(e),r=await n.getIdToken(t),i=Db(r);ob(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Pb(Rb(i.auth_time)),issuedAtTime:Pb(Rb(i.iat)),expirationTime:Pb(Rb(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=gs(e);await $b(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ob(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zb(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ob(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $b(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ao(this.auth.app))return Promise.reject(ab(this.auth));const e=await this.getIdToken();return await Ob(this,async function(e,t){return wb(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:x,emailVerified:b,isAnonymous:y,providerData:w,stsTokenManager:k}=t;ob(x&&k,e,"internal-error");const S=Bb.fromJSON(this.name,k);ob("string"===typeof x,e,"internal-error"),Ub(d,e.name),Ub(u,e.name),ob("boolean"===typeof b,e,"internal-error"),ob("boolean"===typeof y,e,"internal-error"),Ub(h,e.name),Ub(p,e.name),Ub(f,e.name),Ub(m,e.name),Ub(g,e.name),Ub(v,e.name);const C=new zb({uid:x,auth:e,email:u,emailVerified:b,displayName:d,isAnonymous:y,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map(e=>Object.assign({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Bb;r.updateFromServerResponse(t);const i=new zb({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $b(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ob(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Vb(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Bb;s.updateFromIdToken(n);const o=new zb({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Hb=new Map;function Wb(e){cb(e instanceof Function,"Expected a class definition");let t=Hb.get(e);return t?(cb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hb.set(e,t),t)}class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kb.type="NONE";const Gb=Kb;function qb(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Xb{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=qb(this.userKey,r.apiKey,i),this.fullPersistenceKey=qb("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Ib(this.auth,{idToken:e}).catch(()=>{});return t?zb._fromGetAccountInfoResponse(this.auth,t,e):null}return zb._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xb(Wb(Gb),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Wb(Gb);const a=qb(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Ib(e,{idToken:t}).catch(()=>{});if(!r)break;n=await zb._fromGetAccountInfoResponse(e,r,t)}else n=zb._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new Xb(i,e,n)):new Xb(i,e,n)}}function Yb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ey(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ny(t))return"Blackberry";if(ry(t))return"Webos";if(Zb(t))return"Safari";if((t.includes("chrome/")||Jb(t))&&!t.includes("edge/"))return"Chrome";if(ty(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Qb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/firefox\//i.test(e)}function Zb(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/crios\//i.test(e)}function ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/iemobile/i.test(e)}function ty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/android/i.test(e)}function ny(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/blackberry/i.test(e)}function ry(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/webos/i.test(e)}function iy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ay(){return function(){const e=ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function sy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();return iy(e)||ty(e)||ry(e)||ny(e)||/windows phone/i.test(e)||ey(e)}function oy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yb(ns());break;case"Worker":t="".concat(Yb(ns()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Po,"/").concat(r)}class ly{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Oe){r(Oe)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Oe){t.reverse();for(const n of t)try{n()}catch(Mt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Oe||void 0===Oe?void 0:Oe.message})}}}class cy{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class dy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hy(this),this.idTokenSubscription=new hy(this),this.beforeStateQueue=new ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wb(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Xb.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Oe){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ib(this,{idToken:e}),n=await zb._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ao(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Oe){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Oe))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ob(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Oe){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $b(e)}catch(Oe){if((null===Oe||void 0===Oe?void 0:Oe.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ao(this.app))return Promise.reject(ab(this));const t=e?gs(e):null;return t&&ob(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ob(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ao(this.app)?Promise.reject(ab(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ao(this.app)?Promise.reject(ab(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wb(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return wb(e,"GET","/v2/passwordPolicy",yb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new cy(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new os("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return wb(e,"POST","/v2/accounts:revokeToken",yb(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wb(e)||this._popupRedirectResolver;ob(t,this,"argument-error"),this.redirectPersistenceManager=await Xb.create(this,[Wb(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ob(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ob(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ao(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(eb.logLevel<=ks.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];eb.warn("Auth (".concat(Po,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function uy(e){return gs(e)}class hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new fs(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return ob(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let py={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fy(e){return py.loadJS(e)}function my(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class gy{constructor(){this.enterprise=new vy}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vy{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xy="NO_RECAPTCHA";class by{constructor(e){this.type="recaptcha-enterprise",this.auth=uy(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Eb(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(xy)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new gy).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Tb(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ab(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Eb(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=py.recaptchaEnterpriseScript;0!==t.length&&(t+=i),fy(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function yy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new by(e);let s;if(i)s=xy;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wy(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await yy(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await yy(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await yy(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await yy(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await yy(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ky(e){const t=uy(e),n=await Tb(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ab(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new by(t).verify()}}function Sy(e,t,n){const r=uy(e);ob(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Cy(t),{host:s,port:o}=function(e){const t=Cy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:jy(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:jy(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(s).concat(l,"/")},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return ob(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ob(cs(c,r.config.emulator)&&cs(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ya(s)?(Qa("".concat(a,"//").concat(s).concat(l)),ts("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Cy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _y{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lb("not implemented")}_getIdTokenResponse(e){return lb("not implemented")}_linkToIdToken(e,t){return lb("not implemented")}_getReauthenticationResolver(e){return lb("not implemented")}}async function Ny(e,t){return wb(e,"POST","/v1/accounts:signUp",t)}async function Ey(e,t){return Sb(e,"POST","/v1/accounts:signInWithPassword",yb(e,t))}class Ay extends _y{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ay(e,t,"password")}static _fromEmailAndCode(e,t){return new Ay(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wy(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ey,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sb(e,"POST","/v1/accounts:signInWithEmailLink",yb(e,t))}(e,{email:this._email,oobCode:this._password});default:nb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ny,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sb(e,"POST","/v1/accounts:signInWithEmailLink",yb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:nb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ty(e,t){return Sb(e,"POST","/v1/accounts:signInWithIdp",yb(e,t))}class Iy extends _y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Iy(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Xx(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Iy(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ty(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ty(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ty(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=us(t)}return e}}async function Py(e,t){return wb(e,"POST","/v1/accounts:sendVerificationCode",yb(e,t))}const Ry={USER_NOT_FOUND:"user-not-found"};class Dy extends _y{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Dy({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Dy({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Sb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Sb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,t));if(n.temporaryProof)throw Nb(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Sb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ry)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Dy({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class My{constructor(e){var t,n,r,i,a,s;const o=hs(ps(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);ob(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=hs(ps(e)).link,n=t?hs(ps(t)).deep_link_id:null,r=hs(ps(e)).deep_link_id;return(r?hs(ps(r)).link:null)||r||n||t||e}(e);try{return new My(t)}catch(n){return null}}}class Oy{constructor(){this.providerId=Oy.PROVIDER_ID}static credential(e,t){return Ay._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=My.parseLink(t);return ob(n,"argument-error"),Ay._fromEmailAndCode(e,n.code,n.tenantId)}}Oy.PROVIDER_ID="password",Oy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Oy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ly{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fy extends Ly{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $y extends Fy{constructor(){super("facebook.com")}static credential(e){return Iy._fromParams({providerId:$y.PROVIDER_ID,signInMethod:$y.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $y.credentialFromTaggedObject(e)}static credentialFromError(e){return $y.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $y.credential(t.oauthAccessToken)}catch(n){return null}}}$y.FACEBOOK_SIGN_IN_METHOD="facebook.com",$y.PROVIDER_ID="facebook.com";class Vy extends Fy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Iy._fromParams({providerId:Vy.PROVIDER_ID,signInMethod:Vy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vy.credentialFromTaggedObject(e)}static credentialFromError(e){return Vy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Vy.credential(n,r)}catch(i){return null}}}Vy.GOOGLE_SIGN_IN_METHOD="google.com",Vy.PROVIDER_ID="google.com";class By extends Fy{constructor(){super("github.com")}static credential(e){return Iy._fromParams({providerId:By.PROVIDER_ID,signInMethod:By.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return By.credentialFromTaggedObject(e)}static credentialFromError(e){return By.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return By.credential(t.oauthAccessToken)}catch(n){return null}}}By.GITHUB_SIGN_IN_METHOD="github.com",By.PROVIDER_ID="github.com";class Uy extends Fy{constructor(){super("twitter.com")}static credential(e,t){return Iy._fromParams({providerId:Uy.PROVIDER_ID,signInMethod:Uy.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Uy.credentialFromTaggedObject(e)}static credentialFromError(e){return Uy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Uy.credential(n,r)}catch(i){return null}}}Uy.TWITTER_SIGN_IN_METHOD="twitter.com",Uy.PROVIDER_ID="twitter.com";class zy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await zb._fromIdTokenResponse(e,n,r),a=Hy(n);return new zy({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Hy(n);return new zy({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Hy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Wy extends ss{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Wy.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Wy(e,t,n,r)}}function Ky(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Wy._fromErrorAndOperation(e,n,t,r);throw n})}async function Gy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ob(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zy._forOperation(e,"link",r)}async function qy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ao(r.app))return Promise.reject(ab(r));const i="reauthenticate";try{const a=await Ob(e,Ky(r,i,t,e),n);ob(a.idToken,r,"internal-error");const s=Db(a.idToken);ob(s,r,"internal-error");const{sub:o}=s;return ob(e.uid===o,r,"user-mismatch"),zy._forOperation(e,i,a)}catch(Oe){throw(null===Oe||void 0===Oe?void 0:Oe.code)==="auth/".concat("user-not-found")&&nb(r,"user-mismatch"),Oe}}async function Xy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ao(e.app))return Promise.reject(ab(e));const r="signIn",i=await Ky(e,r,t),a=await zy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Yy(e,t){return wb(e,"POST","/v2/accounts/mfaEnrollment:start",yb(e,t))}new WeakMap;const Qy="__sak";class Zy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qy,"1"),this.storage.removeItem(Qy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Jy extends Zy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ay()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jy.type="LOCAL";const ew=Jy;function tw(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function nw(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class rw{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=nw(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return tw(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=nw(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=nw(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=tw(n);const i=setInterval(()=>{const e=tw(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}rw.type="COOKIE";class iw extends Zy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iw.type="SESSION";const aw=iw;class sw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new sw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sw.receivers=[];class lw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=ow("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function cw(){return window}function dw(){return"undefined"!==typeof cw().WorkerGlobalScope&&"function"===typeof cw().importScripts}const uw="firebaseLocalStorageDb",hw="firebaseLocalStorage",pw="fbase_key";class fw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mw(e,t){return e.transaction([hw],t?"readwrite":"readonly").objectStore(hw)}function gw(){const e=indexedDB.open(uw,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(hw,{keyPath:pw})}catch(Oe){n(Oe)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(hw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(uw);return new fw(e).toPromise()}(),t(await gw()))})})}async function vw(e,t,n){const r=mw(e,!0).put({[pw]:t,value:n});return new fw(r).toPromise()}function xw(e,t){const n=mw(e,!0).delete(t);return new fw(n).toPromise()}class bw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await gw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Oe){if(t++>3)throw Oe;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sw._getInstance(dw()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gw();return await vw(e,Qy,"1"),await xw(e,Qy),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=mw(e,!1).get(t),r=await new fw(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=mw(e,!1).getAll();return new fw(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}bw.type="LOCAL";const yw=bw;function ww(e,t){return wb(e,"POST","/v2/accounts/mfaSignIn:start",yb(e,t))}my("rcb"),new fb(3e4,6e4);const kw="recaptcha";async function Sw(e,t,n){var r;if(!e._getRecaptchaConfig())try{await ky(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){ob("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=wy(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===xy){ob((null===n||void 0===n?void 0:n.type)===kw,e,"argument-error");return Yy(e,await Cw(e,t,n))}return Yy(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{ob("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;ob(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=wy(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===xy){ob((null===n||void 0===n?void 0:n.type)===kw,e,"argument-error");return ww(e,await Cw(e,t,n))}return ww(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=wy(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===xy){ob((null===n||void 0===n?void 0:n.type)===kw,e,"argument-error");return Py(e,await Cw(e,t,n))}return Py(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Cw(e,t,n){ob(n.type===kw,e,"argument-error");const r=await n.verify();ob("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class jw{constructor(e){this.providerId=jw.PROVIDER_ID,this.auth=uy(e)}verifyPhoneNumber(e,t){return Sw(this.auth,e,gs(t))}static credential(e,t){return Dy._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jw.credentialFromTaggedObject(t)}static credentialFromError(e){return jw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Dy._fromTokenResponse(n,r):null}}function _w(e,t){return t?Wb(t):(ob(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jw.PROVIDER_ID="phone",jw.PHONE_SIGN_IN_METHOD="phone";class Nw extends _y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ty(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ty(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ty(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ew(e){return Xy(e.auth,new Nw(e),e.bypassAuthState)}function Aw(e){const{auth:t,user:n}=e;return ob(n,t,"internal-error"),qy(n,new Nw(e),e.bypassAuthState)}async function Tw(e){const{auth:t,user:n}=e;return ob(n,t,"internal-error"),Gy(n,new Nw(e),e.bypassAuthState)}class Iw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Oe){this.reject(Oe)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(Oe){this.reject(Oe)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return Tw;case"reauthViaPopup":case"reauthViaRedirect":return Aw;default:nb(this.auth,"internal-error")}}resolve(e){cb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pw=new fb(2e3,1e4);class Rw extends Iw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rw.currentPopupAction&&Rw.currentPopupAction.cancel(),Rw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ob(e,this.auth,"internal-error"),e}async onExecution(){cb(1===this.filter.length,"Popup operations only handle one event");const e=ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(rb(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(rb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rb(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Pw.get())};e()}}Rw.currentPopupAction=null;const Dw=new Map;class Mw extends Iw{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Dw.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Fw(t),r=Lw(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Oe){e=()=>Promise.reject(Oe)}Dw.set(this.auth._key(),e)}return this.bypassAuthState||Dw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ow(e,t){Dw.set(e._key(),t)}function Lw(e){return Wb(e._redirectPersistence)}function Fw(e){return qb("pendingRedirect",e.config.apiKey,e.name)}async function $w(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ao(e.app))return Promise.reject(ab(e));const r=uy(e),i=_w(r,t),a=new Mw(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Vw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Uw(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(rb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bw(e))}saveEventToCache(e){this.cachedEventUids.add(Bw(e)),this.lastProcessedEventTime=Date.now()}}function Bw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Uw(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Ww(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return wb(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Kw(r))return}catch(n){}nb(e,"unauthorized-domain")}function Kw(e){const t=db(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Hw.test(n))return!1;if(zw.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Gw=new fb(3e4,6e4);function qw(){const e=cw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Xw(e){return new Promise((t,n)=>{var r,i,a;function s(){qw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qw(),n(rb(e,"network-request-failed"))},timeout:Gw.get()})}if(null===(i=null===(r=cw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=cw().gapi)||void 0===a?void 0:a.load)){const t=my("iframefcb");return cw()[t]=()=>{gapi.load?s():n(rb(e,"network-request-failed"))},fy("".concat(py.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Yw=null,e})}let Yw=null;const Qw=new fb(5e3,15e3),Zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ek(e){const t=e.config;ob(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mb(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Po},i=Jw.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(us(r).slice(1))}async function tk(e){const t=await function(e){return Yw=Yw||Xw(e),Yw}(e),n=cw().gapi;return ob(n,e,"internal-error"),t.open({where:document.body,url:ek(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zw,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=rb(e,"network-request-failed"),a=cw().setTimeout(()=>{r(i)},Qw.get());function s(){cw().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Oe){}}}function ik(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},nk),{width:r.toString(),height:i.toString(),top:a,left:s}),c=ns().toLowerCase();n&&(o=Jb(c)?"_blank":n),Qb(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return iy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new rk(null);const u=window.open(t||"",o,d);ob(u,e,"popup-blocked");try{u.focus()}catch(Oe){}return new rk(u)}const ak="__/auth/handler",sk="emulator/auth/handler",ok=encodeURIComponent("fac");async function lk(e,t,n,r,i,a){ob(e.config.authDomain,e,"auth-domain-config-required"),ob(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(t instanceof Ly){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Fy){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?"#".concat(ok,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ak);return mb(t,sk)}(e),"?").concat(us(o).slice(1)).concat(c)}const ck="webStorageSupport";const dk=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=$w,this._overrideRedirectResult=Ow}async _openPopup(e,t,n,r){var i;cb(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ik(e,await lk(e,t,n,db(),r),ow())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){cw().location.href=e}(await lk(e,t,n,db(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(cb(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await tk(e),n=new Vw(e);return t.register("authEvent",t=>{ob(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ck,{type:ck},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ck];void 0!==i&&t(!!i),nb(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ww(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sy()||Zb()||iy()}};var uk="@firebase/auth",hk="1.10.7";class pk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ob(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fk=qa("authIdTokenMaxAge")||300;let mk=null;var gk;!function(e){py=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=rb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),gk="Browser",No(new vs("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ob(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:gk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oy(gk)},c=new dy(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),No(new vs("auth-internal",e=>(e=>new pk(e))(uy(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Mo(uk,hk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(gk)),Mo(uk,hk,"esm2017");const vk="firebasestorage.googleapis.com",xk="storageBucket";class bk extends ss{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(kk(e),"Firebase Storage: ".concat(t," (").concat(kk(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bk.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var yk,wk;function kk(e){return"storage/"+e}function Sk(){return new bk(yk.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ck(){return new bk(yk.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jk(){return new bk(yk.CANCELED,"User canceled the upload/download.")}function _k(){return new bk(yk.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nk(e){return new bk(yk.INVALID_ARGUMENT,e)}function Ek(){return new bk(yk.APP_DELETED,"The Firebase app was deleted.")}function Ak(e,t){return new bk(yk.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Tk(e){throw new bk(yk.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(yk||(yk={}));class Ik{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ik.makeFromUrl(e,t)}catch(Oe){return new Ik(e,"")}if(""===n.path)return n;throw r=e,new bk(yk.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===vk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ik(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new bk(yk.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Pk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Rk(e){return"string"===typeof e||e instanceof String}function Dk(e){return Mk()&&e instanceof Blob}function Mk(){return"undefined"!==typeof Blob}function Ok(e,t,n,r){if(r<t)throw Nk("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Nk("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Lk(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Fk(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function $k(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(wk||(wk={}));class Vk{constructor(e,t,n,r,i,a,s,o,l,c,d){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Bk(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===wk.NO_ERROR,i=n.getStatus();if(!t||$k(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===wk.ABORT;return void e(!1,new Bk(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new Bk(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Oe){r(Oe)}else if(null!==i){const e=Sk();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ek():jk())}else{r(Ck())}};this.canceled_?t(0,new Bk(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let c=!1;function d(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function u(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function h(){a&&clearTimeout(a)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void d.call(null,e,...n);if(l()||s)return h(),void d.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),u(a)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),u(0)):e||(o=1)))}return u(0),a=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bk{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Uk(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function zk(){const e=Uk();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Mk())return new Blob(n);throw new bk(yk.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Hk(e){if("undefined"===typeof atob)throw t="base-64",new bk(yk.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Wk="raw",Kk="base64",Gk="base64url",qk="data_url";class Xk{constructor(e,t){this.data=e,this.contentType=t||null}}function Yk(e,t){switch(e){case Wk:return new Xk(Qk(t));case Kk:case Gk:return new Xk(Zk(e,t));case qk:return new Xk(function(e){const t=new Jk(e);return t.base64?Zk(Kk,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Oe){throw Ak(qk,"Malformed data URL.")}return Qk(t)}(t.rest)}(t),new Jk(t).contentType)}throw Sk()}function Qk(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Zk(e,t){switch(e){case Kk:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ak(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Gk:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ak(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hk(t)}catch(Oe){if(Oe.message.includes("polyfill"))throw Oe;throw Ak(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Jk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ak(qk,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class eS{constructor(e,t){let n=0,r="";Dk(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Dk(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new eS(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new eS(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Mk()){const e=t.map(e=>e instanceof eS?e.data_:e);return new eS(zk.apply(null,e))}{const e=t.map(e=>Rk(e)?Yk(Wk,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new eS(r,!0)}}uploadData(){return this.data_}}function tS(e){let t;try{t=JSON.parse(e)}catch(Oe){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nS(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rS(e,t){return t}class iS{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rS}}let aS=null;function sS(){if(aS)return aS;const e=[];e.push(new iS("bucket")),e.push(new iS("generation")),e.push(new iS("metageneration")),e.push(new iS("name","fullPath",!0));const t=new iS("name");t.xform=function(e,t){return function(e){return!Rk(e)||e.length<2?e:nS(e)}(t)},e.push(t);const n=new iS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new iS("timeCreated")),e.push(new iS("updated")),e.push(new iS("md5Hash",null,!0)),e.push(new iS("cacheControl",null,!0)),e.push(new iS("contentDisposition",null,!0)),e.push(new iS("contentEncoding",null,!0)),e.push(new iS("contentLanguage",null,!0)),e.push(new iS("contentType",null,!0)),e.push(new iS("metadata","customMetadata",!0)),aS=e,aS}function oS(e,t,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Ik(n,r);return t._makeStorageReference(i)}})}(r,e),r}function lS(e,t,n){const r=tS(t);if(null===r)return null;return oS(e,r,n)}function cS(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class dS{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function uS(e){if(!e)throw Sk()}function hS(e,t){return function(n,r){const i=lS(e,r,t);return uS(null!==i),i}}function pS(e,t){return function(n,r){const i=lS(e,r,t);return uS(null!==i),function(e,t,n,r){const i=tS(t);if(null===i)return null;if(!Rk(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const s=encodeURIComponent;return a.split(",").map(t=>{const i=e.bucket,a=e.fullPath;return Lk("/b/"+s(i)+"/o/"+s(a),n,r)+Fk({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function fS(e){return function(t,n){let r;var i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new bk(yk.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new bk(yk.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new bk(yk.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new bk(yk.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function mS(e){const t=fS(e);return function(n,r){let i=t(n,r);var a;return 404===n.getStatus()&&(a=e.path,i=new bk(yk.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function gS(e,t,n){const r=Lk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new dS(r,"GET",hS(e,n),i);return a.errorHandler=mS(t),a}function vS(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function xS(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;const l=vS(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cS(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+o+"--",u=eS.getBlob(c,r,d);if(null===u)throw _k();const h={name:l.fullPath},p=Lk(a,e.host,e._protocol),f=e.maxUploadRetryTime,m=new dS(p,"POST",hS(e,n),f);return m.urlParams=h,m.headers=s,m.body=u.uploadData(),m.errorHandler=fS(t),m}class bS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wk.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wk.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wk.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw Tk("cannot .send() more than once");if(Ya(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tk("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tk("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Oe){return-1}}getResponse(){if(!this.sent_)throw Tk("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tk("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class yS extends bS{initXhr(){this.xhr_.responseType="text"}}function wS(){return new yS}class kS{constructor(e,t){this._service=e,this._location=t instanceof Ik?t:Ik.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kS(e,t)}get root(){const e=new Ik(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nS(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ik(this._location.bucket,e);return new kS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new bk(yk.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function SS(e,t,n){e._throwIfRoot("uploadBytes");const r=xS(e.storage,e._location,sS(),new eS(t,!0),n);return e.storage.makeRequestWithTokens(r,wS).then(t=>({metadata:t,ref:e}))}function CS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Lk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new dS(r,"GET",pS(e,n),i);return a.errorHandler=mS(t),a}(e.storage,e._location,sS());return e.storage.makeRequestWithTokens(t,wS).then(e=>{if(null===e)throw new bk(yk.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function jS(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ik(e._location.bucket,n);return new kS(e.storage,r)}function _S(e,t){if(e instanceof AS){const n=e;if(null==n._bucket)throw new bk(yk.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xk+"' property when initializing the app?");const r=new kS(n,n._bucket);return null!=t?_S(r,t):r}return void 0!==t?jS(e,t):e}function NS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof AS)return new kS(e,t);throw Nk("To use ref(service, url), the first argument must be a Storage instance.")}return _S(e,t)}function ES(e,t){const n=null===t||void 0===t?void 0:t[xk];return null==n?null:Ik.makeFromBucketSpec(n,e)}class AS{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=vk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ik.makeFromBucketSpec(r,this._host):ES(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ik.makeFromBucketSpec(this._url,e):this._bucket=ES(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Ao(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Pk(Ek());{const a=function(e,t,n,r,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Fk(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(d,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(d,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(d,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(d,r),new Vk(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const TS="@firebase/storage",IS="0.13.13",PS="storage";function RS(e,t,n){return SS(e=gs(e),t,n)}function DS(e,t,n,r){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wk,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");const i=Yk(n,t),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),SS(e,i.data,a)}(e=gs(e),t,n,r)}function MS(e){return function(e){e._throwIfRoot("getMetadata");const t=gS(e.storage,e._location,sS());return e.storage.makeRequestWithTokens(t,wS)}(e=gs(e))}function OS(e){return CS(e=gs(e))}function LS(e,t){return NS(e=gs(e),t)}function FS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do(),t=arguments.length>1?arguments[1]:void 0;e=gs(e);const n=Eo(e,PS).getImmediate({identifier:t}),r=Ka("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=Ya(t);i&&(Qa("https://".concat(e.host,"/b")),ts("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"===typeof a?a:Za(a,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function $S(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new AS(r,i,a,n,Po)}No(new vs(PS,$S,"PUBLIC").setMultipleInstances(!0)),Mo(TS,IS,""),Mo(TS,IS,"esm2017");const VS=Ro({apiKey:"AIzaSyBYBlPd_oLkYrare86yTzsIqhUJO1ZlIrw",authDomain:"l-plot.firebaseapp.com",projectId:"l-plot",storageBucket:"l-plot.firebasestorage.app",messagingSenderId:"629346971068",appId:"1:629346971068:web:8d0b8033278bdb329b4fb9",measurementId:"G-17B0ZFTZZ4"}),BS=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();const t=Eo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Eo(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(cs(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;nb(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dk,persistence:[yw,ew,aw]}),r=qa("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>fk)return;const r=null===t||void 0===t?void 0:t.token;mk!==r&&(mk=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){gs(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){gs(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=Wa("auth");a&&Sy(n,"http://".concat(a))}(VS),function(e,t){const n="object"==typeof e?e:Do(),r="string"==typeof e?e:t||ld,i=Eo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Ka("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Cg(e,Eg);const a=Ya(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);a&&(Qa("https://".concat(l)),ts("Firestore",!0)),s.host!==jg&&s.host!==l&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:a,emulatorOptions:r});if(!cs(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ll.MOCK_USER;else{t=Za(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new wl(yl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ll(a)}e._authCredentials=new jl(new Sl(t,n))}}(i,...e)}return i}(VS)),US=FS();function zS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gx(La(t))}const HS=async e=>{try{if(e){const t=Rg(BS,"housemodell_configure_broker",e),n=await Rv(t);if(n.exists())return n.data()}}catch(t){console.error("Error fetching husmodell data:",t)}},WS=async e=>{try{if(e){const t=Rg(BS,"room_configurator",e),n=await Rv(t);if(n.exists())return n.data()}}catch(t){console.error("Error fetching husmodell data:",t)}};function KS(e){const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return"".concat(n,".").concat(r,".").concat(i," ").concat(a,":").concat(s,":").concat(o)}function GS(e){const t="string"===typeof e?Number(e.replace(/\s/g,"").replace(/kr/i,"")):e;if(isNaN(Number(t)))return e;const n=new Intl.NumberFormat("no-NO",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(t);return"kr ".concat(n)}const qS={"+47":e=>8===e.length};const XS=async()=>{const e=localStorage.getItem("Iplot_admin_bolig");if(e)try{const t=xv(Pg(BS,"admin"),function(e,t,n){const r=t,i=fv("where",e);return bv._create(i,r,n)}("email","==",e)),n=await Mv(t);if(n.empty)return console.error("No document found for Email:",e),null;return n.docs[0].data()}catch(t){console.error("Error fetching admin data:",t)}};const YS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var QS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZS=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],JS=(0,e.forwardRef)((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:d}=t,u=Yt(t,ZS);return(0,e.createElement)("svg",c(c({ref:n},QS),{},{width:i,height:i,stroke:r,strokeWidth:s?24*Number(a)/Number(i):a,className:YS("lucide",o)},u),[...d.map(t=>{let[n,r]=t;return(0,e.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),eC=["className"],tC=(t,n)=>{const r=(0,e.forwardRef)((r,i)=>{let{className:a}=r,s=Yt(r,eC);return(0,e.createElement)(JS,c({ref:i,iconNode:n,className:YS("lucide-".concat((o=t,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),a)},s));var o});return r.displayName="".concat(t),r},nC=tC("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),rC=tC("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iC=()=>{const t=hi().pathname,[n,r]=(0,e.useState)(!1),i=(0,e.useRef)(null),a=mi(),[s,o]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=localStorage.getItem("Iplot_admin_bolig");o(e)},[s]),(0,e.useEffect)(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{const e=await XS();e&&(c(null===e||void 0===e?void 0:e.photo),u((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.f_name)))})()},[]);const[h,p]=(0,e.useState)(!1),f=()=>{p(!h)};return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"px-4 md:px-6 py-4 flex items-center border-b border-gray2 justify-between sticky top-0 bg-white",style:{zIndex:999},children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)(nC,{onClick:f,className:"md:hidden text-primary"}),(0,Pe.jsx)(Sa,{to:"/",children:(0,Pe.jsx)("img",{src:Da,alt:"logo",className:"w-[200px] lg:w-auto"})})]}),(0,Pe.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-base font-medium py-2 px-3 rounded-[6px] ".concat("/Husmodell"===t||t.startsWith("/se-husmodell/")||"/add-husmodell"===t||t.startsWith("/se-series/")||t.startsWith("/edit-husmodell/")?"bg-lightPurple text-primary":"text-black"),children:"Boligkonfigurator"}),(0,Pe.jsx)(Sa,{to:"/Bolig-configurator",className:"text-base font-medium py-2 px-3 rounded-[6px] ".concat("/Room-Configurator"===t||"/Bolig-configurator"===t||t.startsWith("/Room-Configurator/")?"bg-lightPurple text-primary":"text-black"),onClick:()=>{localStorage.setItem("currIndexBolig",(0).toString()),localStorage.setItem("currVerticalIndex",1..toString())},children:"Mine tiltak"})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 relative",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{r(e=>!e)},children:[l?(0,Pe.jsx)("div",{className:"w-8 h-8 md:h-[40px] md:w-[40px]",children:(0,Pe.jsx)("img",{src:l,alt:"profile",className:"rounded-full"})}):(0,Pe.jsx)("div",{className:"w-8 h-8 md:h-[40px] md:w-[40px] flex items-center justify-center border border-primary bg-lightPurple rounded-full",children:null===d||void 0===d?void 0:d[0]}),(0,Pe.jsx)("img",{src:Ma,alt:"arrow",className:"rotate-180"})]}),n&&(0,Pe.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white shadow-shadow1 rounded-md shadow-lg p-2 top-10 border border-gray2",ref:i,children:(0,Pe.jsx)(Sa,{to:"/login",className:"block px-4 py-2 text-sm hover:bg-lightPurple text-black w-full text-left cursor-pointer",onClick:async()=>{try{localStorage.removeItem("Iplot_admin_bolig"),r(!1),a("/login"),kt.success("Logout successfully",{position:"top-right"})}catch(e){console.error("Error logging out:",e)}},children:"Logout"})})]})]}),(0,Pe.jsx)("div",{style:{transition:"transform 1s, box-shadow 1s",transform:h?"translateX(0)":"translateX(-100%)",background:h?"rgba(0, 0, 0, 0.6)":"",zIndex:999999},className:"fixed top-0 left-0 w-full h-screen z-50",children:(0,Pe.jsxs)("div",{className:"bg-white h-full px-4 sm:px-5 md:px-8 lg:px-10 big:px-[120px] w-[85%]",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between py-4 mb-4",children:[(0,Pe.jsx)("div",{className:"gap-[12px] flex items-center",children:(0,Pe.jsx)("img",{src:Da,alt:"logo",className:"w-[200px] lg:w-auto"})}),(0,Pe.jsx)("button",{onClick:f,className:"text-3xl",children:(0,Pe.jsx)(rC,{className:"text-primary"})})]}),(0,Pe.jsxs)("div",{className:"flex flex-col items-start font-medium gap-3",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-base font-medium py-2 px-3 rounded-[6px] ".concat("/Husmodell"===t||t.startsWith("/se-husmodell/")||t.startsWith("/se-series/")||"/add-husmodell"===t||t.startsWith("/edit-husmodell/")?"bg-lightPurple text-primary":"text-black"),children:"Boligkonfigurator"}),(0,Pe.jsx)(Sa,{to:"/Bolig-configurator",className:"text-base font-medium py-2 px-3 rounded-[6px] ".concat("/Room-Configurator"===t||"/Bolig-configurator"===t||t.startsWith("/Room-Configurator/")?"bg-lightPurple text-primary":"text-black"),onClick:()=>{localStorage.setItem("currIndexBolig",(0).toString()),localStorage.setItem("currVerticalIndex",1..toString())},children:"Mine tiltak"})]})]})})]})},aC=()=>{const{pathname:t}=hi();return(0,e.useEffect)(()=>{window.scrollTo(0,0)},[t]),null},sC=()=>!!localStorage.getItem("Iplot_admin_bolig"),oC=()=>sC()?(0,Pe.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,Pe.jsx)(aC,{}),(0,Pe.jsx)(iC,{}),(0,Pe.jsx)("main",{className:"",children:(0,Pe.jsx)(e.Suspense,{fallback:(0,Pe.jsx)(Ra,{}),children:(0,Pe.jsx)($i,{})})})]}):(0,Pe.jsx)(Fi,{to:"/login",replace:!0}),lC=t=>{let{onClose:n,children:r,isOpen:i,outSideClick:a}=t;const s=(0,e.useRef)(null);return(0,e.useEffect)(()=>{var e,t;i&&!a?(null===(e=document.body)||void 0===e||e.classList.add("h-screen"),document.body.style.overflow="hidden"):(null===(t=document.body)||void 0===t||t.classList.remove("h-screen"),document.body.style.overflow="");return()=>{var e;null===(e=document.body)||void 0===e||e.classList.remove("h-screen"),document.body.style.overflow=""}},[i]),(0,e.useEffect)(()=>{const e=e=>{!s.current||s.current.contains(e.target)||a||n()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:99999},children:(0,Pe.jsx)("div",{className:"bg-white rounded-[12px] relative mx-[16px]",ref:s,children:(0,Pe.jsx)("div",{children:r})})})};const cC=n.p+"static/media/Ic_trash.470840ab3fb61eb8b0c47fe0899784ba.svg",dC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAABqCAYAAACSyJJrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkVSURBVHgB7Z19bBPnHce/z9lJ7CQwu+SFCDYMTJo0rSX0rwJTOV5CtwpGyjoJbaOko5UWaVrSaZumMS2O1v2xaRNEnVZpHUo8NrE/KpFIqOsEK+YPqnabVMNQpVWlOVArO29gyBvEvnv6PBecOC8UOzmbO9/vI50uz/lJ4vi++T2/t7sDCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCGLJ7N4bD4utAy7HC8Lka83xUFpHWzqFzXA5CggTXUcHN9AbfbNBg8shSzGLKoSxAwRZConwI1TOoc23Ek374i2q2h+Ay3ClKNTmBSd6OziPzZ/HgWPw+UgUbsCb9p9vevrjxjkHGUtmD6XjKXyMpBt9DFeKgnEe0H3KzZmxwpKcIQTCxJ0+hYKoZ0ppzgxTSkVECKU52394s3faQkh/Ay7DlaIQTmVEmIv2jAiivcEk56zXW+1rmzevU+xcl8xypSjOnWmIymijrNp/OHNMhKOdYgmZE2289UZDj9y7zVq4NiTlMLrEpmbG0qFkWGgtBK6zFq4VBYMiog02N9zkvA+cNWcf8nqhCasSgotws6VYkH9Ie30xMCOUfUyHHhAWJAkX4VpRKEzZLyxAT/axMoyHhMM5VwC6p1EIRYOLcKUoZGLKMMxax4U5LwgBMDY3symEc1hGJnARDCXOUJyriiLS2Fkc/fVIy/Ytldqenf5o9vGDLyRaXjy0Mrpre6Umx6+dvB26dOVuyx9+UxuGDeFpXKpZY71gS1oUQwN6WPgDOUUOkVOjItMNPHdwxcyxV0/cwtf3VCL0+TLYFcbY8VV17CVYSMmKYjjOW6Dw7lzmXrg4iX+cncQvfxpEZaXzPhIh/PCqetYJiyhZUdwY4KcN8OZc5k5McHPvREGYcERrViuW9YJQkw0cLIZ7iEyspeX9ko0+uIIYXAIDt/RvLVlRKF50iZ2G0kdLGYpl/oTEdstHPM5DsIBvHUqE1q7xahtD3hAKjIxOtm/z338ZYkgyDsuzoobIn6Q5uhoamAYLsY0oBhN6u0dhHZzzZa+P2vUUVtd7cPDZKhSDt9+9g/+8d9eMXhaFIyASYDEPx/NBi09gIbCFh5VP+JgLr/eNwV/F8Ny3q1EMxsYNfPd7wzjxSu1nzhMftqZMsM3B9faupdjCp2Ae3oYCoRu5bQbP/WeOjXNc/Sg9M66uUjA+YTzw+8SvCBl+HIbNsYUoRH2hEQUgj/OcF1c/SuHVP9/GkrA4fCwE9og+GGxtTq1E5BQ02BxbiMIwuKUhlY3RUvMrszbEFqKoW+05zhQWRmmjGYw90+CA6MM2IemqWtYpchQRnxfrsBTEWq3rELUOEcnYj6RYNzSF49hw4sGeDhPZWEVH12Lhq2wFEK9LZzXgYegN1rEILMZWyat7/0Ualk7f8ADvE/vTsBcBMK7mOlk43qquoH34E/5Mdr/E8KB+XLw4E6npHM0jA0bY6jC3JApiu/Z+0sygtAlr0XjwSML07n/S/jk4Hi/vvtnPo/KESwuRLYgMZphbCXncMr/M0aJoah5s5Ol096ZHKxqbdvrx1S0+VFXN5uMKFZIWkUCqzOwkjykeyJ7SRbnXIkCikNahys+7W48EAnt2+VGqlFWg6CbPkaKQjbc+v9L9u5eDgY0bZlvlLv1vCokB3fx602PlqK/zwOFowVpmhrCGjj7hYLYvNklhLAoLcaQoRJRxvvXIihlBfCgzjK+N4vKVVGzTo+WBW0kjNDCo41CBah8bN3jR+sIKFBo9Pdt7WdvAoiNDPMwNHs6eI1aU2Og4nFs6F05TIO1bXkr7V7+9oZb5EMosGdIydLycxJNb/dGjP3pEE1XWFlkQKySy1lG9YRkpnukM7n0bY7jBYlxBpH4NmzNHhu2DcX5NUfh+88cICyEEEVlvcYGtaKKQndU6eMeyy7Ii2D/wjVkL8OOf38A391XJfgaV8+K4llKIl65M4al8fRlTDKy9Zhm5hboG1iN2PSggRclojiT09lxb7T8LWYm8/rGOrU9UmON/npvEqqDHbHApJnJpOvuvSeRLSmebawqQbLKa4qS5GbOkNH7tetpczzO8/c4dIQgfnAHvcUKKW1IUUcgECyxgfNIw1/MMsq+htqb4EYbMhWRHPbkgkmsaHEJRRMGYNZ3VE0IE2cmph8UXhSDyjT6Ev6PCIRRFFLrOumAB677gxdX+2Y4n2Yc5NKzDETCow4Pc9l1XkqKIQnrMhsGexzJb7uVSMTAwK4LHvlKOCxfvwDFw3jMU18OwOUULSTOh1M2bfGmlccHKco9sku0RmUtVJKmwbUsF/npqDO//fwpf/lI5nABTWMfIoNEmcxEeBT1BG0YjRc9oBoPsGpbBzqfjkZOnxoQoHjGdzvDRgJm8OjCdq4ATEOkUs5QuSt+qsBzraxs8YdgIx10hJu9YF7s8pV185645llFA5y8COH1mHD8Lj+Avp0bx3/em4BSk5ZCZXtgIR142uOtJ30t//NNtJAan/QspjJMnavGD1pVYF/Lg2QOVeGq3cyqnehX2w0Y4siDW+p2A9ta/J9D6wxF8/8UVM+lm6WfILYNT+ik8NuvwdqQogmtZbHjA0ESIGvr9K7dwWZTMtz7hMwVRbYM8Rp7MlMftgmNvzCAvRC5T+HnxZUjeiUaGpjIKyfRQyLK5rKQaD75wy0Te2khZxqfRtC+Bv5+oz+t7ZIHMANtRV8dsddsEx3ZeyTqCEMYOIQFV3Va5Tmzm8fc/mMLrveOqyGeoKDLyNkN5TE7eLkDZ2woc3aN5r8DUM//47r1xPP54mYoiY+V9px4m9LgoYgEkCmIBJApiASQKYgG2cjR370u0c/BNmTHj0M6daehc7LX7oeh618NOWuXyXuX7TJVXaR79zrHM+Owba20Rmtor+uBc3hdq5oFvBjeyw7V+jzH72v2YMjxJ78O3fw98r/J9ysdUCQH1KgYPyDGIwiEfYh/52yg3OOdpPbdNl5OXgfidJXCV4jQlfcddmaCUWcpczlbJP84gD0pWFFf7U+YlAET+lKQo0mlELr57NyQ2FAsF9qpfEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEATheD4F9UevNS1KL0gAAAAASUVORK5CYII=",uC=e=>{let{text:t,className:n,type:r,onClick:i,path:a,icon:s}=e;const o=mi();return(0,Pe.jsxs)("button",{className:"".concat(n," text-base whitespace-nowrap px-4 py-[10px] h-[40px] flex items-center justify-center"),type:r||"button",onClick:()=>{a?o(a):null===i||void 0===i||i()},children:[s&&s,t]})},hC=tC("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),pC=tC("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fC=["children"],mC=["_f"],gC=["name"],vC=["_f"],xC=["ref","message","type"],bC=["formControl"];var yC=e=>"checkbox"===e.type,wC=e=>e instanceof Date,kC=e=>null==e;const SC=e=>"object"===typeof e;var CC=e=>!kC(e)&&!Array.isArray(e)&&SC(e)&&!wC(e),jC=e=>CC(e)&&e.target?yC(e.target)?e.target.checked:e.target.value:e,_C=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),NC="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function EC(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(NC&&(e instanceof Blob||r)||!n&&!CC(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return CC(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=EC(e[n]));else t=e}return t}var AC=e=>/^\w*$/.test(e),TC=e=>void 0===e,IC=e=>Array.isArray(e)?e.filter(Boolean):[],PC=e=>IC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),RC=(e,t,n)=>{if(!t||!CC(e))return n;const r=(AC(t)?[t]:PC(t)).reduce((e,t)=>kC(e)?e:e[t],e);return TC(r)||r===e?TC(e[t])?n:e[t]:r},DC=e=>"boolean"===typeof e,MC=(e,t,n)=>{let r=-1;const i=AC(t)?[t]:PC(t),a=i.length,s=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==s){const n=e[t];a=CC(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const OC="blur",LC="focusout",FC="change",$C="onBlur",VC="onChange",BC="onSubmit",UC="onTouched",zC="all",HC="max",WC="min",KC="maxLength",GC="minLength",qC="pattern",XC="required",YC="validate",QC=e.createContext(null);QC.displayName="HookFormContext";const ZC=()=>e.useContext(QC);var JC=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==zC&&(t._proxyFormState[i]=!r||zC),n&&(n[i]=!0),e[i]}});return i};const ej="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;var tj=e=>"string"===typeof e,nj=(e,t,n,r,i)=>tj(e)?(r&&t.watch.add(e),RC(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),RC(n,e))):(r&&(t.watchAll=!0),n);function rj(t){const n=ZC(),{name:r,disabled:i,control:a=n.control,shouldUnregister:s}=t,o=_C(a._names.array,r),l=function(t){const n=ZC(),{control:r=n.control,name:i,defaultValue:a,disabled:s,exact:o}=t||{},l=e.useRef(a),[c,d]=e.useState(r._getWatch(i,l.current));return ej(()=>r._subscribe({name:i,formState:{values:!0},exact:o,callback:e=>!s&&d(nj(i,r._names,e.values||r._formValues,!1,l.current))}),[i,r,s,o]),e.useEffect(()=>r._removeUnmounted()),c}({control:a,name:r,defaultValue:RC(a._formValues,r,RC(a._defaultValues,r,t.defaultValue)),exact:!0}),d=function(t){const n=ZC(),{control:r=n.control,disabled:i,name:a,exact:s}=t||{},[o,l]=e.useState(r._formState),d=e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ej(()=>r._subscribe({name:a,formState:d.current,exact:s,callback:e=>{!i&&l(c(c({},r._formState),e))}}),[a,i,s]),e.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),e.useMemo(()=>JC(o,r,d.current,!1),[o,r])}({control:a,name:r,exact:!0}),u=e.useRef(t),h=e.useRef(a.register(r,c(c({},t.rules),{},{value:l},DC(t.disabled)?{disabled:t.disabled}:{}))),p=e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!RC(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!RC(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!RC(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!RC(d.validatingFields,r)},error:{enumerable:!0,get:()=>RC(d.errors,r)}}),[d,r]),f=e.useCallback(e=>h.current.onChange({target:{value:jC(e),name:r},type:FC}),[r]),m=e.useCallback(()=>h.current.onBlur({target:{value:RC(a._formValues,r),name:r},type:OC}),[r,a._formValues]),g=e.useCallback(e=>{const t=RC(a._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus&&e.focus(),select:()=>e.select&&e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})},[a._fields,r]),v=e.useMemo(()=>c(c({name:r,value:l},DC(i)||d.disabled?{disabled:d.disabled||i}:{}),{},{onChange:f,onBlur:m,ref:g}),[r,i,d.disabled,f,m,g,l]);return e.useEffect(()=>{const e=a._options.shouldUnregister||s;a.register(r,c(c({},u.current.rules),DC(u.current.disabled)?{disabled:u.current.disabled}:{}));const t=(e,t)=>{const n=RC(a._fields,e);n&&n._f&&(n._f.mount=t)};if(t(r,!0),e){const e=EC(RC(a._options.defaultValues,r));MC(a._defaultValues,r,e),TC(RC(a._formValues,r))&&MC(a._formValues,r,e)}return!o&&a.register(r),()=>{(o?e&&!a._state.action:e)?a.unregister(r):t(r,!1)}},[r,a,o,s]),e.useEffect(()=>{a._setDisabledField({disabled:i,name:r})},[i,r,a]),e.useMemo(()=>({field:v,formState:d,fieldState:p}),[v,d,p])}const ij=e=>e.render(rj(e));var aj=(e,t,n,r,i)=>t?c(c({},n[e]),{},{types:c(c({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},sj=e=>Array.isArray(e)?e:[e],oj=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},lj=e=>kC(e)||!SC(e);function cj(e,t){if(lj(e)||lj(t))return e===t;if(wC(e)&&wC(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(wC(n)&&wC(e)||CC(n)&&CC(e)||Array.isArray(n)&&Array.isArray(e)?!cj(n,e):n!==e)return!1}}return!0}var dj=e=>CC(e)&&!Object.keys(e).length,uj=e=>"file"===e.type,hj=e=>"function"===typeof e,pj=e=>{if(!NC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fj=e=>"select-multiple"===e.type,mj=e=>"radio"===e.type,gj=e=>pj(e)&&e.isConnected;function vj(e,t){const n=Array.isArray(t)?t:AC(t)?[t]:PC(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=TC(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(CC(r)&&dj(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!TC(e[t]))return!1;return!0}(r))&&vj(e,n.slice(0,-1)),e}var xj=e=>{for(const t in e)if(hj(e[t]))return!0;return!1};function bj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(CC(e)||n)for(const r in e)Array.isArray(e[r])||CC(e[r])&&!xj(e[r])?(t[r]=Array.isArray(e[r])?[]:{},bj(e[r],t[r])):kC(e[r])||(t[r]=!0);return t}function yj(e,t,n){const r=Array.isArray(e);if(CC(e)||r)for(const i in e)Array.isArray(e[i])||CC(e[i])&&!xj(e[i])?TC(t)||lj(n[i])?n[i]=Array.isArray(e[i])?bj(e[i],[]):c({},bj(e[i])):yj(e[i],kC(t)?{}:t[i],n[i]):n[i]=!cj(e[i],t[i]);return n}var wj=(e,t)=>yj(e,t,bj(t));const kj={value:!1,isValid:!1},Sj={value:!0,isValid:!0};var Cj=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!TC(e[0].attributes.value)?TC(e[0].value)||""===e[0].value?Sj:{value:e[0].value,isValid:!0}:Sj:kj}return kj},jj=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return TC(e)?e:n?""===e?NaN:e?+e:e:r&&tj(e)?new Date(e):i?i(e):e};const _j={isValid:!1,value:null};var Nj=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,_j):_j;function Ej(e){const t=e.ref;return uj(t)?t.files:mj(t)?Nj(e.refs).value:fj(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):yC(t)?Cj(e.refs).value:jj(TC(t.value)?e.ref.value:t.value,e)}var Aj=e=>e instanceof RegExp,Tj=e=>TC(e)?e:Aj(e)?e.source:CC(e)?Aj(e.value)?e.value.source:e.value:e,Ij=e=>({isOnSubmit:!e||e===BC,isOnBlur:e===$C,isOnChange:e===VC,isOnAll:e===zC,isOnTouch:e===UC});const Pj="AsyncFunction";var Rj=e=>!!e&&!!e.validate&&!!(hj(e.validate)&&e.validate.constructor.name===Pj||CC(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Pj)),Dj=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Mj=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=RC(e,i);if(n){const{_f:e}=n,a=Yt(n,mC);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Mj(a,t))break}else if(CC(a)&&Mj(a,t))break}}};function Oj(e,t,n){const r=RC(e,n);if(r||AC(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=RC(t,r),s=RC(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(s&&s.type)return{name:r,error:s};if(s&&s.root&&s.root.type)return{name:"".concat(r,".root"),error:s.root};i.pop()}return{name:n}}var Lj=(e,t,n)=>{const r=sj(RC(e,n));return MC(r,"root",t[n]),MC(e,n,r),e},Fj=e=>tj(e);function $j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Fj(e)||Array.isArray(e)&&e.every(Fj)||DC(e)&&!e)return{type:n,message:Fj(e)?e:"",ref:t}}var Vj=e=>CC(e)&&!Aj(e)?e:{value:e,message:""},Bj=async(e,t,n,r,i,a)=>{const{ref:s,refs:o,required:l,maxLength:d,minLength:u,min:h,max:p,pattern:f,validate:m,name:g,valueAsNumber:v,mount:x}=e._f,b=RC(n,g);if(!x||t.has(g))return{};const y=o?o[0]:s,w=e=>{i&&y.reportValidity&&(y.setCustomValidity(DC(e)?"":e||""),y.reportValidity())},k={},S=mj(s),C=yC(s),j=S||C,_=(v||uj(s))&&TC(s.value)&&TC(b)||pj(s)&&""===s.value||""===b||Array.isArray(b)&&!b.length,N=aj.bind(null,g,r,k),E=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:KC,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:GC;const a=e?t:n;k[g]=c({type:e?r:i,message:a,ref:s},N(e?r:i,a))};if(a?!Array.isArray(b)||!b.length:l&&(!j&&(_||kC(b))||DC(b)&&!b||C&&!Cj(o).isValid||S&&!Nj(o).isValid)){const{value:e,message:t}=Fj(l)?{value:!!l,message:l}:Vj(l);if(e&&(k[g]=c({type:XC,message:t,ref:y},N(XC,t)),!r))return w(t),k}if(!_&&(!kC(h)||!kC(p))){let e,t;const n=Vj(p),i=Vj(h);if(kC(b)||isNaN(b)){const r=s.valueAsDate||new Date(b),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,l="week"==s.type;tj(n.value)&&b&&(e=o?a(b)>a(n.value):l?b>n.value:r>new Date(n.value)),tj(i.value)&&b&&(t=o?a(b)<a(i.value):l?b<i.value:r<new Date(i.value))}else{const r=s.valueAsNumber||(b?+b:b);kC(n.value)||(e=r>n.value),kC(i.value)||(t=r<i.value)}if((e||t)&&(E(!!e,n.message,i.message,HC,WC),!r))return w(k[g].message),k}if((d||u)&&!_&&(tj(b)||a&&Array.isArray(b))){const e=Vj(d),t=Vj(u),n=!kC(e.value)&&b.length>+e.value,i=!kC(t.value)&&b.length<+t.value;if((n||i)&&(E(n,e.message,t.message),!r))return w(k[g].message),k}if(f&&!_&&tj(b)){const{value:e,message:t}=Vj(f);if(Aj(e)&&!b.match(e)&&(k[g]=c({type:qC,message:t,ref:s},N(qC,t)),!r))return w(t),k}if(m)if(hj(m)){const e=$j(await m(b,n),y);if(e&&(k[g]=c(c({},e),N(YC,e.message)),!r))return w(e.message),k}else if(CC(m)){let e={};for(const t in m){if(!dj(e)&&!r)break;const i=$j(await m[t](b,n),y,t);i&&(e=c(c({},i),N(t,i.message)),w(i.message),r&&(k[g]=e))}if(!dj(e)&&(k[g]=c({ref:y},e),!r))return k}return w(!0),k};const Uj={mode:BC,reValidateMode:VC,shouldFocusError:!0};function zj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c(c({},Uj),e),n={submitCount:0,isDirty:!1,isReady:!1,isLoading:hj(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i,a=(CC(t.defaultValues)||CC(t.values))&&EC(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:EC(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h=c({},u);const p={array:oj(),state:oj()},f=t.criteriaMode===zC,m=async e=>{if(!t.disabled&&(u.isValid||h.isValid||e)){const e=t.resolver?dj((await y()).errors):await w(r,!0);e!==n.isValid&&p.state.next({isValid:e})}},g=(e,r)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(r?MC(n.validatingFields,e,r):vj(n.validatingFields,e))}),p.state.next({validatingFields:n.validatingFields,isValidating:!dj(n.validatingFields)}))},v=(e,t,n,i)=>{const l=RC(r,e);if(l){const r=RC(s,e,TC(n)?RC(a,e):n);TC(r)||i&&i.defaultChecked||t?MC(s,e,t?r:Ej(l._f)):C(e,r),o.mount&&m()}},x=(e,r,i,s,o)=>{let l=!1,c=!1;const d={name:e};if(!t.disabled){if(!i||s){(u.isDirty||h.isDirty)&&(c=n.isDirty,n.isDirty=d.isDirty=k(),l=c!==d.isDirty);const t=cj(RC(a,e),r);c=!!RC(n.dirtyFields,e),t?vj(n.dirtyFields,e):MC(n.dirtyFields,e,!0),d.dirtyFields=n.dirtyFields,l=l||(u.dirtyFields||h.dirtyFields)&&c!==!t}if(i){const t=RC(n.touchedFields,e);t||(MC(n.touchedFields,e,i),d.touchedFields=n.touchedFields,l=l||(u.touchedFields||h.touchedFields)&&t!==i)}l&&o&&p.state.next(d)}return l?d:{}},b=(e,r,a,s)=>{const o=RC(n.errors,e),l=(u.isValid||h.isValid)&&DC(r)&&n.isValid!==r;if(t.delayError&&a?(i=(e=>t=>{clearTimeout(d),d=setTimeout(e,t)})(()=>((e,t)=>{MC(n.errors,e,t),p.state.next({errors:n.errors})})(e,a)),i(t.delayError)):(clearTimeout(d),i=null,a?MC(n.errors,e,a):vj(n.errors,e)),(a?!cj(o,a):o)||!dj(s)||l){const t=c(c(c({},s),l&&DC(r)?{isValid:r}:{}),{},{errors:n.errors,name:e});n=c(c({},n),t),p.state.next(t)}},y=async e=>{g(e,!0);const n=await t.resolver(s,t.context,((e,t,n,r)=>{const i={};for(const a of e){const e=RC(t,a);e&&MC(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(e),n},w=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const o=e[a];if(o){const{_f:e}=o,c=Yt(o,vC);if(e){const c=l.array.has(e.name),d=o._f&&Rj(o._f);d&&u.validatingFields&&g([a],!0);const h=await Bj(o,l.disabled,s,f,t.shouldUseNativeValidation&&!r,c);if(d&&u.validatingFields&&g([a]),h[e.name]&&(i.valid=!1,r))break;!r&&(RC(h,e.name)?c?Lj(n.errors,h,e.name):MC(n.errors,e.name,h[e.name]):vj(n.errors,e.name))}!dj(c)&&await w(c,r,i)}}return i.valid},k=(e,n)=>!t.disabled&&(e&&n&&MC(s,e,n),!cj(T(),a)),S=(e,t,n)=>nj(e,l,c({},o.mount?s:TC(t)?a:tj(e)?{[e]:t}:t),n,t),C=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=RC(r,e);let a=t;if(i){const n=i._f;n&&(!n.disabled&&MC(s,e,jj(t,n)),a=pj(n.ref)&&kC(t)?"":t,fj(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?yC(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):n.refs.forEach(e=>e.checked=e.value===a):uj(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||p.state.next({name:e,values:EC(s)})))}(n.shouldDirty||n.shouldTouch)&&x(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&A(e)},j=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const a=t[i],s=e+"."+i,o=RC(r,s);(l.array.has(e)||CC(a)||o&&!o._f)&&!wC(a)?j(s,a,n):C(s,a,n)}},_=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=RC(r,e),f=l.array.has(e),m=EC(t);MC(s,e,m),f?(p.array.next({name:e,values:EC(s)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&i.shouldDirty&&p.state.next({name:e,dirtyFields:wj(a,s),isDirty:k(e,m)})):!d||d._f||kC(m)?C(e,m,i):j(e,m,i),Dj(e,l)&&p.state.next(c({},n)),p.state.next({name:o.mount?e:void 0,values:EC(s)})},N=async e=>{o.mount=!0;const a=e.target;let d=a.name,v=!0;const k=RC(r,d),S=e=>{v=Number.isNaN(e)||wC(e)&&isNaN(e.getTime())||cj(e,RC(s,d,e))},C=Ij(t.mode),j=Ij(t.reValidateMode);if(k){let o,_;const N=a.type?Ej(k._f):jC(e),E=e.type===OC||e.type===LC,T=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(k._f)&&!t.resolver&&!RC(n.errors,d)&&!k._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(E,RC(n.touchedFields,d),n.isSubmitted,j,C),I=Dj(d,l,E);MC(s,d,N),E?(k._f.onBlur&&k._f.onBlur(e),i&&i(0)):k._f.onChange&&k._f.onChange(e);const P=x(d,N,E),R=!dj(P)||I;if(!E&&p.state.next({name:d,type:e.type,values:EC(s)}),T)return(u.isValid||h.isValid)&&("onBlur"===t.mode?E&&m():E||m()),R&&p.state.next(c({name:d},I?{}:P));if(!E&&I&&p.state.next(c({},n)),t.resolver){const{errors:e}=await y([d]);if(S(N),v){const t=Oj(n.errors,r,d),i=Oj(e,r,t.name||d);o=i.error,d=i.name,_=dj(e)}}else g([d],!0),o=(await Bj(k,l.disabled,s,f,t.shouldUseNativeValidation))[d],g([d]),S(N),v&&(o?_=!1:(u.isValid||h.isValid)&&(_=await w(r,!0)));v&&(k._f.deps&&A(k._f.deps),b(d,_,o,P))}},E=(e,t)=>{if(RC(n.errors,t)&&e.focus)return e.focus(),1},A=async function(e){let i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=sj(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(e)for(const r of e){const e=RC(t,r);e?MC(n.errors,r,e):vj(n.errors,r)}else n.errors=t;return t})(TC(e)?e:o);i=dj(t),a=e?!o.some(e=>RC(t,e)):i}else e?(a=(await Promise.all(o.map(async e=>{const t=RC(r,e);return await w(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||n.isValid)&&m()):a=i=await w(r);return p.state.next(c(c(c({},!tj(e)||(u.isValid||h.isValid)&&i!==n.isValid?{}:{name:e}),t.resolver||!e?{isValid:i}:{}),{},{errors:n.errors})),s.shouldFocus&&!a&&Mj(r,E,e?o:l.mount),a},T=e=>{const t=c({},o.mount?s:a);return TC(e)?t:tj(e)?RC(t,e):e.map(e=>RC(t,e))},I=(e,t)=>({invalid:!!RC((t||n).errors,e),isDirty:!!RC((t||n).dirtyFields,e),error:RC((t||n).errors,e),isValidating:!!RC(n.validatingFields,e),isTouched:!!RC((t||n).touchedFields,e)}),P=(e,t,i)=>{const a=(RC(r,e,{_f:{}})._f||{}).ref,s=RC(n.errors,e)||{},{ref:o,message:l,type:d}=s,u=Yt(s,xC);MC(n.errors,e,c(c(c({},u),t),{},{ref:a})),p.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&a&&a.focus&&a.focus()},R=e=>p.state.subscribe({next:t=>{var r,i,a;r=e.name,i=t.name,a=e.exact,r&&i&&r!==i&&!sj(r).some(e=>e&&(a?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,a=Yt(e,gC);return dj(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||zC))})(t,e.formState||u,B,e.reRenderRoot)||e.callback(c(c({values:c({},s)},n),t))}}).unsubscribe,D=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?sj(e):l.mount)l.mount.delete(o),l.array.delete(o),i.keepValue||(vj(r,o),vj(s,o)),!i.keepError&&vj(n.errors,o),!i.keepDirty&&vj(n.dirtyFields,o),!i.keepTouched&&vj(n.touchedFields,o),!i.keepIsValidating&&vj(n.validatingFields,o),!t.shouldUnregister&&!i.keepDefaultValue&&vj(a,o);p.state.next({values:EC(s)}),p.state.next(c(c({},n),i.keepDirty?{isDirty:k()}:{})),!i.keepIsValid&&m()},M=e=>{let{disabled:t,name:n}=e;(DC(t)&&o.mount||t||l.disabled.has(n))&&(t?l.disabled.add(n):l.disabled.delete(n))},O=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=RC(r,e);const s=DC(n.disabled)||DC(t.disabled);return MC(r,e,c(c({},i||{}),{},{_f:c(c({},i&&i._f?i._f:{ref:{name:e}}),{},{name:e,mount:!0},n)})),l.mount.add(e),i?M({disabled:DC(n.disabled)?n.disabled:t.disabled,name:e}):v(e,!0,n.value),c(c(c({},s?{disabled:n.disabled||t.disabled}:{}),t.progressive?{required:!!n.required,min:Tj(n.min),max:Tj(n.max),minLength:Tj(n.minLength),maxLength:Tj(n.maxLength),pattern:Tj(n.pattern)}:{}),{},{name:e,onChange:N,onBlur:N,ref:s=>{if(s){O(e,n),i=RC(r,e);const t=TC(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>mj(e)||yC(e))(t),l=i._f.refs||[];if(o?l.find(e=>e===t):t===i._f.ref)return;MC(r,e,{_f:c(c({},i._f),o?{refs:[...l.filter(gj),t,...Array.isArray(RC(a,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t})}),v(e,!1,void 0,t)}else i=RC(r,e,{}),i._f&&(i._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!_C(l.array,e)||!o.action)&&l.unMount.add(e)}})},L=()=>t.shouldFocusError&&Mj(r,E,l.mount),F=(e,i)=>async a=>{let o;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let d=EC(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await y();n.errors=e,d=t}else await w(r);if(l.disabled.size)for(const e of l.disabled)MC(d,e,void 0);if(vj(n.errors,"root"),dj(n.errors)){p.state.next({errors:{}});try{await e(d,a)}catch(u){o=u}}else i&&await i(c({},n.errors),a),L(),setTimeout(L);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dj(n.errors)&&!o,submitCount:n.submitCount+1,errors:n.errors}),o)throw o},$=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=e?EC(e):a,h=EC(d),f=dj(e),m=f?a:h;if(i.keepDefaultValues||(a=d),!i.keepValues){if(i.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(wj(a,s))]);for(const t of Array.from(e))RC(n.dirtyFields,t)?MC(m,t,RC(s,t)):_(t,RC(m,t))}else{if(NC&&TC(e))for(const e of l.mount){const t=RC(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(pj(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of l.mount)_(e,RC(m,e))}s=EC(m),p.array.next({values:c({},m)}),p.state.next({values:c({},m)})}l={mount:i.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!i.keepIsValid||!!i.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:i.keepSubmitCount?n.submitCount:0,isDirty:!f&&(i.keepDirty?n.isDirty:!(!i.keepDefaultValues||cj(e,a))),isSubmitted:!!i.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&s?wj(a,s):n.dirtyFields:i.keepDefaultValues&&e?wj(a,e):i.keepDirty?n.dirtyFields:{},touchedFields:i.keepTouched?n.touchedFields:{},errors:i.keepErrors?n.errors:{},isSubmitSuccessful:!!i.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},V=(e,t)=>$(hj(e)?e(s):e,t),B=e=>{n=c(c({},n),e)},U={control:{register:O,unregister:D,getFieldState:I,handleSubmit:F,setError:P,_subscribe:R,_runSchema:y,_focusError:L,_getWatch:S,_getDirty:k,_setValid:m,_setFieldArray:function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!t.disabled){if(o.action=!0,f&&Array.isArray(RC(r,e))){const t=l(RC(r,e),c.argA,c.argB);d&&MC(r,e,t)}if(f&&Array.isArray(RC(n.errors,e))){const t=l(RC(n.errors,e),c.argA,c.argB);d&&MC(n.errors,e,t),((e,t)=>{!IC(RC(e,t)).length&&vj(e,t)})(n.errors,e)}if((u.touchedFields||h.touchedFields)&&f&&Array.isArray(RC(n.touchedFields,e))){const t=l(RC(n.touchedFields,e),c.argA,c.argB);d&&MC(n.touchedFields,e,t)}(u.dirtyFields||h.dirtyFields)&&(n.dirtyFields=wj(a,s)),p.state.next({name:e,isDirty:k(e,i),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else MC(s,e,i)},_setDisabledField:M,_setErrors:e=>{n.errors=e,p.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>IC(RC(o.mount?s:a,e,t.shouldUnregister?RC(a,e,[]):[])),_reset:$,_resetDefaultValues:()=>hj(t.defaultValues)&&t.defaultValues().then(e=>{V(e,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=RC(r,e);t&&(t._f.refs?t._f.refs.every(e=>!gj(e)):!gj(t._f.ref))&&D(e)}l.unMount=new Set},_disableForm:e=>{DC(e)&&(p.state.next({disabled:e}),Mj(r,(t,n)=>{const i=RC(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return n},get _options(){return t},set _options(e){t=c(c({},t),e)}},subscribe:e=>(o.mount=!0,h=c(c({},h),e.formState),R(c(c({},e),{},{formState:h}))),trigger:A,register:O,handleSubmit:F,watch:(e,t)=>hj(e)?p.state.subscribe({next:n=>e(S(void 0,t),n)}):S(e,t,!0),setValue:_,getValues:T,reset:V,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};RC(r,e)&&(TC(t.defaultValue)?_(e,EC(RC(a,e))):(_(e,t.defaultValue),MC(a,e,EC(t.defaultValue))),t.keepTouched||vj(n.touchedFields,e),t.keepDirty||(vj(n.dirtyFields,e),n.isDirty=t.defaultValue?k(e,EC(RC(a,e))):k()),t.keepError||(vj(n.errors,e),u.isValid&&m()),p.state.next(c({},n)))},clearErrors:e=>{e&&sj(e).forEach(e=>vj(n.errors,e)),p.state.next({errors:e?n.errors:{}})},unregister:D,setError:P,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=RC(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&hj(e.select)&&e.select())}},getFieldState:I};return c(c({},U),{},{formControl:U})}var Hj=()=>{if("undefined"!==typeof crypto&&crypto.randomUUID)return crypto.randomUUID();const e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)})},Wj=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.shouldFocus||TC(n.shouldFocus)?n.focusName||"".concat(e,".").concat(TC(n.focusIndex)?t:n.focusIndex,"."):""},Kj=(e,t)=>[...e,...sj(t)],Gj=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qj(e,t,n){return[...e.slice(0,t),...sj(n),...e.slice(t)]}var Xj=(e,t,n)=>Array.isArray(e)?(TC(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Yj=(e,t)=>[...sj(t),...sj(e)];var Qj=(e,t)=>TC(t)?[]:function(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return IC(r).length?r:[]}(e,sj(t).sort((e,t)=>e-t)),Zj=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},Jj=(e,t,n)=>(e[t]=n,e);function e_(t){const n=ZC(),{control:r=n.control,name:i,keyName:a="id",shouldUnregister:s,rules:o}=t,[l,d]=e.useState(r._getFieldArray(i)),u=e.useRef(r._getFieldArray(i).map(Hj)),h=e.useRef(l),p=e.useRef(i),f=e.useRef(!1);p.current=i,h.current=l,r._names.array.add(i),o&&r.register(i,o),ej(()=>r._subjects.array.subscribe({next:e=>{let{values:t,name:n}=e;if(n===p.current||!n){const e=RC(t,p.current);Array.isArray(e)&&(d(e),u.current=e.map(Hj))}}}).unsubscribe,[r]);const m=e.useCallback(e=>{f.current=!0,r._setFieldArray(i,e)},[r,i]);return e.useEffect(()=>{if(r._state.action=!1,Dj(i,r._names)&&r._subjects.state.next(c({},r._formState)),f.current&&(!Ij(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Ij(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([i]).then(e=>{const t=RC(e.errors,i),n=RC(r._formState.errors,i);(n?!t&&n.type||t&&(n.type!==t.type||n.message!==t.message):t&&t.type)&&(t?MC(r._formState.errors,i,t):vj(r._formState.errors,i),r._subjects.state.next({errors:r._formState.errors}))});else{const e=RC(r._fields,i);!e||!e._f||Ij(r._options.reValidateMode).isOnSubmit&&Ij(r._options.mode).isOnSubmit||Bj(e,r._names.disabled,r._formValues,r._options.criteriaMode===zC,r._options.shouldUseNativeValidation,!0).then(e=>!dj(e)&&r._subjects.state.next({errors:Lj(r._formState.errors,e,i)}))}r._subjects.state.next({name:i,values:EC(r._formValues)}),r._names.focus&&Mj(r._fields,(e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[l,i,r]),e.useEffect(()=>(!RC(r._formValues,i)&&r._setFieldArray(i),()=>{r._options.shouldUnregister||s?r.unregister(i):((e,t)=>{const n=RC(r._fields,e);n&&n._f&&(n._f.mount=t)})(i,!1)}),[i,r,a,s]),{swap:e.useCallback((e,t)=>{const n=r._getFieldArray(i);Zj(n,e,t),Zj(u.current,e,t),m(n),d(n),r._setFieldArray(i,n,Zj,{argA:e,argB:t},!1)},[m,i,r]),move:e.useCallback((e,t)=>{const n=r._getFieldArray(i);Xj(n,e,t),Xj(u.current,e,t),m(n),d(n),r._setFieldArray(i,n,Xj,{argA:e,argB:t},!1)},[m,i,r]),prepend:e.useCallback((e,t)=>{const n=sj(EC(e)),a=Yj(r._getFieldArray(i),n);r._names.focus=Wj(i,0,t),u.current=Yj(u.current,n.map(Hj)),m(a),d(a),r._setFieldArray(i,a,Yj,{argA:Gj(e)})},[m,i,r]),append:e.useCallback((e,t)=>{const n=sj(EC(e)),a=Kj(r._getFieldArray(i),n);r._names.focus=Wj(i,a.length-1,t),u.current=Kj(u.current,n.map(Hj)),m(a),d(a),r._setFieldArray(i,a,Kj,{argA:Gj(e)})},[m,i,r]),remove:e.useCallback(e=>{const t=Qj(r._getFieldArray(i),e);u.current=Qj(u.current,e),m(t),d(t),!Array.isArray(RC(r._fields,i))&&MC(r._fields,i,void 0),r._setFieldArray(i,t,Qj,{argA:e})},[m,i,r]),insert:e.useCallback((e,t,n)=>{const a=sj(EC(t)),s=qj(r._getFieldArray(i),e,a);r._names.focus=Wj(i,e,n),u.current=qj(u.current,e,a.map(Hj)),m(s),d(s),r._setFieldArray(i,s,qj,{argA:e,argB:Gj(t)})},[m,i,r]),update:e.useCallback((e,t)=>{const n=EC(t),a=Jj(r._getFieldArray(i),e,n);u.current=[...a].map((t,n)=>t&&n!==e?u.current[n]:Hj()),m(a),d([...a]),r._setFieldArray(i,a,Jj,{argA:e,argB:n},!0,!1)},[m,i,r]),replace:e.useCallback(e=>{const t=sj(EC(e));u.current=t.map(Hj),m([...t]),d([...t]),r._setFieldArray(i,[...t],e=>e,{},!0,!1)},[m,i,r]),fields:e.useMemo(()=>l.map((e,t)=>c(c({},e),{},{[a]:u.current[t]||Hj()})),[l,a])}}function t_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.useRef(void 0),r=e.useRef(void 0),[i,a]=e.useState({isDirty:!1,isValidating:!1,isLoading:hj(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:hj(t.defaultValues)?void 0:t.defaultValues});if(!n.current)if(t.formControl)n.current=c(c({},t.formControl),{},{formState:i}),t.defaultValues&&!hj(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const e=zj(t),{formControl:r}=e,a=Yt(e,bC);n.current=c(c({},a),{},{formState:i})}const s=n.current.control;return s._options=t,ej(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>a(c({},s._formState)),reRenderRoot:!0});return a(e=>c(c({},e),{},{isReady:!0})),s._formState.isReady=!0,e},[s]),e.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),e.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),e.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),e.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),e.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==i.isDirty&&s._subjects.state.next({isDirty:e})}},[s,i.isDirty]),e.useEffect(()=>{t.values&&!cj(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,a(e=>c({},e))):s._resetDefaultValues()},[s,t.values]),e.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next(c({},s._formState))),s._removeUnmounted()}),n.current.formState=JC(i,s),n.current}const n_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=RC(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},r_=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?n_(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>n_(t,n,e))}},i_=(e,t)=>{t.shouldUseNativeValidation&&r_(e,t);const n={};for(const r in e){const i=RC(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(a_(t.names||Object.keys(e),r)){const e=Object.assign({},RC(n,r));MC(e,"root",a),MC(n,r,e)}else MC(n,r,a)}return n},a_=(e,t)=>{const n=s_(t);return e.some(e=>s_(e).match("^".concat(n,"\\.\\d+")))};function s_(e){return e.replace(/\]|\[/g,"")}function o_(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[s]={message:o.message,type:o.code}}else n[s]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[s].types,c=l&&l[r.code];n[s]=aj(s,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function l_(e,t,n){return void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(i,s){try{var o=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return a.shouldUseNativeValidation&&r_({},a),{errors:{},values:n.raw?Object.assign({},r):e}})}catch(l){return s(l)}return o&&o.then?o.then(void 0,s):o}(0,function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:i_(o_(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e}))}catch(s){return Promise.reject(s)}}}var c_,d_;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!==typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"===typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(c_||(c_={})),function(e){e.mergeShapes=(e,t)=>c(c({},e),t)}(d_||(d_={}));const u_=c_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),h_=e=>{switch(typeof e){case"undefined":return u_.undefined;case"string":return u_.string;case"number":return Number.isNaN(e)?u_.nan:u_.number;case"boolean":return u_.boolean;case"function":return u_.function;case"bigint":return u_.bigint;case"symbol":return u_.symbol;case"object":return Array.isArray(e)?u_.array:null===e?u_.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?u_.promise:"undefined"!==typeof Map&&e instanceof Map?u_.map:"undefined"!==typeof Set&&e instanceof Set?u_.set:"undefined"!==typeof Date&&e instanceof Date?u_.date:u_.object;default:return u_.unknown}},p_=c_.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class f_ extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof f_))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,c_.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}f_.create=e=>new f_(e);const m_=(e,t)=>{let n;switch(e.code){case p_.invalid_type:n=e.received===u_.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case p_.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,c_.jsonStringifyReplacer));break;case p_.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(c_.joinValues(e.keys,", "));break;case p_.invalid_union:n="Invalid input";break;case p_.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(c_.joinValues(e.options));break;case p_.invalid_enum_value:n="Invalid enum value. Expected ".concat(c_.joinValues(e.options),", received '").concat(e.received,"'");break;case p_.invalid_arguments:n="Invalid function arguments";break;case p_.invalid_return_type:n="Invalid function return type";break;case p_.invalid_date:n="Invalid date";break;case p_.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):c_.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case p_.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case p_.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case p_.custom:n="Invalid input";break;case p_.invalid_intersection_types:n="Intersection results could not be merged";break;case p_.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case p_.not_finite:n="Number must be finite";break;default:n=t.defaultError,c_.assertNever(e)}return{message:n}};let g_=m_;function v_(){return g_}const x_=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s=c(c({},i),{},{path:a});if(void 0!==i.message)return c(c({},i),{},{path:a,message:i.message});let o="";const l=r.filter(e=>!!e).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return c(c({},i),{},{path:a,message:o})};function b_(e,t){const n=v_(),r=x_({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===m_?void 0:m_].filter(e=>!!e)});e.common.issues.push(r)}class y_{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return w_;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return y_.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return w_;if("aborted"===i.status)return w_;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const w_=Object.freeze({status:"aborted"}),k_=e=>({status:"dirty",value:e}),S_=e=>({status:"valid",value:e}),C_=e=>"aborted"===e.status,j_=e=>"dirty"===e.status,__=e=>"valid"===e.status,N_=e=>"undefined"!==typeof Promise&&e instanceof Promise;var E_;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(E_||(E_={}));class A_{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const T_=(e,t)=>{if(__(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new f_(e.common.issues);return this._error=t,this._error}}};function I_(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var a;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:i.defaultError}:"undefined"===typeof i.data?{message:null!==(o=null!==s&&void 0!==s?s:r)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!==s&&void 0!==s?s:n)&&void 0!==a?a:i.defaultError};var o},description:i}}class P_{get description(){return this._def.description}_getType(e){return h_(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:h_(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new y_,ctx:{common:e.parent.common,data:e.data,parsedType:h_(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(N_(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h_(e)},i=this._parseSync({data:e,path:r.path,parent:r});return T_(r,i)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h_(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return __(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>__(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h_(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(N_(r)?r:Promise.resolve(r));return T_(n,i)}refine(e,t){return this._refinement((n,r)=>{const i=e(n),a=()=>r.addIssue(c({code:p_.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1))}_refinement(e){return new PN({schema:this,typeName:UN.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return RN.create(this,this._def)}nullable(){return DN.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mN.create(this)}promise(){return IN.create(this,this._def)}or(e){return xN.create([this,e],this._def)}and(e){return kN.create(this,e,this._def)}transform(e){return new PN(c(c({},I_(this._def)),{},{schema:this,typeName:UN.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new MN(c(c({},I_(this._def)),{},{innerType:this,defaultValue:t,typeName:UN.ZodDefault}))}brand(){return new FN(c({typeName:UN.ZodBranded,type:this},I_(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new ON(c(c({},I_(this._def)),{},{innerType:this,catchValue:t,typeName:UN.ZodCatch}))}describe(e){return new(0,this.constructor)(c(c({},this._def),{},{description:e}))}pipe(e){return $N.create(this,e)}readonly(){return VN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const R_=/^c[^\s-]{8,}$/i,D_=/^[0-9a-z]+$/,M_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,O_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L_=/^[a-z0-9_-]{21}$/i,F_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,V_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let B_;const U_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,z_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,H_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,G_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,q_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",X_=new RegExp("^".concat(q_,"$"));function Y_(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function Q_(e){return new RegExp("^".concat(Y_(e),"$"))}function Z_(e){let t="".concat(q_,"T").concat(Y_(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function J_(e,t){return!("v4"!==t&&t||!U_.test(e))||!("v6"!==t&&t||!H_.test(e))}function eN(e,t){if(!F_.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&((!("typ"in i)||"JWT"===(null===i||void 0===i?void 0:i.typ))&&(!!i.alg&&(!t||i.alg===t)))}catch(n){return!1}}function tN(e,t){return!("v4"!==t&&t||!z_.test(e))||!("v6"!==t&&t||!W_.test(e))}class nN extends P_{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==u_.string){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.string,received:t.parsedType}),w_}const t=new y_;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?b_(n,{code:p_.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&b_(n,{code:p_.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)V_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"email",code:p_.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)B_||(B_=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),B_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"emoji",code:p_.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)O_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"uuid",code:p_.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)L_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"nanoid",code:p_.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)R_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"cuid",code:p_.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)D_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"cuid2",code:p_.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)M_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"ulid",code:p_.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),b_(n,{validation:"url",code:p_.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"regex",code:p_.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){Z_(i).test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){X_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){Q_(i).test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?$_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"duration",code:p_.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?J_(e.data,i.version)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"ip",code:p_.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?eN(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"jwt",code:p_.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?tN(e.data,i.version)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"cidr",code:p_.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?K_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"base64",code:p_.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?G_.test(e.data)||(n=this._getOrReturnCtx(e,n),b_(n,{validation:"base64url",code:p_.invalid_string,message:i.message}),t.dirty()):c_.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),c({validation:t,code:p_.invalid_string},E_.errToObj(n)))}_addCheck(e){return new nN(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(c({kind:"email"},E_.errToObj(e)))}url(e){return this._addCheck(c({kind:"url"},E_.errToObj(e)))}emoji(e){return this._addCheck(c({kind:"emoji"},E_.errToObj(e)))}uuid(e){return this._addCheck(c({kind:"uuid"},E_.errToObj(e)))}nanoid(e){return this._addCheck(c({kind:"nanoid"},E_.errToObj(e)))}cuid(e){return this._addCheck(c({kind:"cuid"},E_.errToObj(e)))}cuid2(e){return this._addCheck(c({kind:"cuid2"},E_.errToObj(e)))}ulid(e){return this._addCheck(c({kind:"ulid"},E_.errToObj(e)))}base64(e){return this._addCheck(c({kind:"base64"},E_.errToObj(e)))}base64url(e){return this._addCheck(c({kind:"base64url"},E_.errToObj(e)))}jwt(e){return this._addCheck(c({kind:"jwt"},E_.errToObj(e)))}ip(e){return this._addCheck(c({kind:"ip"},E_.errToObj(e)))}cidr(e){return this._addCheck(c({kind:"cidr"},E_.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(c({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},E_.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(c({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},E_.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(c({kind:"duration"},E_.errToObj(e)))}regex(e,t){return this._addCheck(c({kind:"regex",regex:e},E_.errToObj(t)))}includes(e,t){return this._addCheck(c({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},E_.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(c({kind:"startsWith",value:e},E_.errToObj(t)))}endsWith(e,t){return this._addCheck(c({kind:"endsWith",value:e},E_.errToObj(t)))}min(e,t){return this._addCheck(c({kind:"min",value:e},E_.errToObj(t)))}max(e,t){return this._addCheck(c({kind:"max",value:e},E_.errToObj(t)))}length(e,t){return this._addCheck(c({kind:"length",value:e},E_.errToObj(t)))}nonempty(e){return this.min(1,E_.errToObj(e))}trim(){return new nN(c(c({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new nN(c(c({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new nN(c(c({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function rN(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}nN.create=e=>{var t;return new nN(c({checks:[],typeName:UN.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},I_(e)))};class iN extends P_{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==u_.number){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.number,received:t.parsedType}),w_}let t;const n=new y_;for(const r of this._def.checks)if("int"===r.kind)c_.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==rN(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.not_finite,message:r.message}),n.dirty()):c_.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,E_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,E_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,E_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,E_.toString(t))}setLimit(e,t,n,r){return new iN(c(c({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:E_.toString(r)}]}))}_addCheck(e){return new iN(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:E_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:E_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:E_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:E_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:E_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:E_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:E_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:E_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:E_.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&c_.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}iN.create=e=>new iN(c({checks:[],typeName:UN.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},I_(e)));class aN extends P_{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==u_.bigint)return this._getInvalidInput(e);let t;const n=new y_;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),b_(t,{code:p_.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):c_.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.bigint,received:t.parsedType}),w_}gte(e,t){return this.setLimit("min",e,!0,E_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,E_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,E_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,E_.toString(t))}setLimit(e,t,n,r){return new aN(c(c({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:E_.toString(r)}]}))}_addCheck(e){return new aN(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:E_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:E_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:E_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:E_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:E_.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}aN.create=e=>{var t;return new aN(c({checks:[],typeName:UN.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},I_(e)))};class sN extends P_{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==u_.boolean){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.boolean,received:t.parsedType}),w_}return S_(e.data)}}sN.create=e=>new sN(c({typeName:UN.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},I_(e)));class oN extends P_{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==u_.date){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.date,received:t.parsedType}),w_}if(Number.isNaN(e.data.getTime())){return b_(this._getOrReturnCtx(e),{code:p_.invalid_date}),w_}const t=new y_;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),b_(n,{code:p_.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):c_.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oN(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:E_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:E_.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}oN.create=e=>new oN(c({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:UN.ZodDate},I_(e)));class lN extends P_{_parse(e){if(this._getType(e)!==u_.symbol){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.symbol,received:t.parsedType}),w_}return S_(e.data)}}lN.create=e=>new lN(c({typeName:UN.ZodSymbol},I_(e)));class cN extends P_{_parse(e){if(this._getType(e)!==u_.undefined){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.undefined,received:t.parsedType}),w_}return S_(e.data)}}cN.create=e=>new cN(c({typeName:UN.ZodUndefined},I_(e)));class dN extends P_{_parse(e){if(this._getType(e)!==u_.null){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.null,received:t.parsedType}),w_}return S_(e.data)}}dN.create=e=>new dN(c({typeName:UN.ZodNull},I_(e)));class uN extends P_{constructor(){super(...arguments),this._any=!0}_parse(e){return S_(e.data)}}uN.create=e=>new uN(c({typeName:UN.ZodAny},I_(e)));class hN extends P_{constructor(){super(...arguments),this._unknown=!0}_parse(e){return S_(e.data)}}hN.create=e=>new hN(c({typeName:UN.ZodUnknown},I_(e)));class pN extends P_{_parse(e){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.never,received:t.parsedType}),w_}}pN.create=e=>new pN(c({typeName:UN.ZodNever},I_(e)));class fN extends P_{_parse(e){if(this._getType(e)!==u_.undefined){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.void,received:t.parsedType}),w_}return S_(e.data)}}fN.create=e=>new fN(c({typeName:UN.ZodVoid},I_(e)));class mN extends P_{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==u_.array)return b_(t,{code:p_.invalid_type,expected:u_.array,received:t.parsedType}),w_;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(b_(t,{code:e?p_.too_big:p_.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(b_(t,{code:p_.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(b_(t,{code:p_.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new A_(t,e,t.path,n)))).then(e=>y_.mergeArray(n,e));const i=[...t.data].map((e,n)=>r.type._parseSync(new A_(t,e,t.path,n)));return y_.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new mN(c(c({},this._def),{},{minLength:{value:e,message:E_.toString(t)}}))}max(e,t){return new mN(c(c({},this._def),{},{maxLength:{value:e,message:E_.toString(t)}}))}length(e,t){return new mN(c(c({},this._def),{},{exactLength:{value:e,message:E_.toString(t)}}))}nonempty(e){return this.min(1,e)}}function gN(e){if(e instanceof vN){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=RN.create(gN(r))}return new vN(c(c({},e._def),{},{shape:()=>t}))}return e instanceof mN?new mN(c(c({},e._def),{},{type:gN(e.element)})):e instanceof RN?RN.create(gN(e.unwrap())):e instanceof DN?DN.create(gN(e.unwrap())):e instanceof SN?SN.create(e.items.map(e=>gN(e))):e}mN.create=(e,t)=>new mN(c({type:e,minLength:null,maxLength:null,exactLength:null,typeName:UN.ZodArray},I_(t)));class vN extends P_{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=c_.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==u_.object){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.object,received:t.parsedType}),w_}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof pN&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||a.push(o);const s=[];for(const o of i){const e=r[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new A_(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof pN){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(b_(n,{code:p_.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new A_(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>y_.mergeObjectSync(t,e)):y_.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return E_.errToObj,new vN(c(c({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,i,a,s;const o=null!==(r=null===(i=(a=this._def).errorMap)||void 0===i?void 0:i.call(a,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=E_.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}))}strip(){return new vN(c(c({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new vN(c(c({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new vN(c(c({},this._def),{},{shape:()=>c(c({},this._def.shape()),e)}))}merge(e){return new vN({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>c(c({},this._def.shape()),e._def.shape()),typeName:UN.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new vN(c(c({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of c_.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new vN(c(c({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of c_.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new vN(c(c({},this._def),{},{shape:()=>t}))}deepPartial(){return gN(this)}partial(e){const t={};for(const n of c_.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new vN(c(c({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of c_.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof RN;)e=e._def.innerType;t[n]=e}return new vN(c(c({},this._def),{},{shape:()=>t}))}keyof(){return EN(c_.objectKeys(this.shape))}}vN.create=(e,t)=>new vN(c({shape:()=>e,unknownKeys:"strip",catchall:pN.create(),typeName:UN.ZodObject},I_(t))),vN.strictCreate=(e,t)=>new vN(c({shape:()=>e,unknownKeys:"strict",catchall:pN.create(),typeName:UN.ZodObject},I_(t))),vN.lazycreate=(e,t)=>new vN(c({shape:e,unknownKeys:"strip",catchall:pN.create(),typeName:UN.ZodObject},I_(t)));class xN extends P_{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=c(c({},t),{},{common:c(c({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new f_(e.ctx.common.issues));return b_(t,{code:p_.invalid_union,unionErrors:n}),w_});{let e;const r=[];for(const a of n){const n=c(c({},t),{},{common:c(c({},t.common),{},{issues:[]}),parent:null}),i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map(e=>new f_(e));return b_(t,{code:p_.invalid_union,unionErrors:i}),w_}}get options(){return this._def.options}}xN.create=(e,t)=>new xN(c({options:e,typeName:UN.ZodUnion},I_(t)));const bN=e=>e instanceof _N?bN(e.schema):e instanceof PN?bN(e.innerType()):e instanceof NN?[e.value]:e instanceof AN?e.options:e instanceof TN?c_.objectValues(e.enum):e instanceof MN?bN(e._def.innerType):e instanceof cN?[void 0]:e instanceof dN?[null]:e instanceof RN?[void 0,...bN(e.unwrap())]:e instanceof DN?[null,...bN(e.unwrap())]:e instanceof FN||e instanceof VN?bN(e.unwrap()):e instanceof ON?bN(e._def.innerType):[];class yN extends P_{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==u_.object)return b_(t,{code:p_.invalid_type,expected:u_.object,received:t.parsedType}),w_;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(b_(t,{code:p_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),w_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=bN(i.shape[e]);if(!t.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const n of t){if(r.has(n))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(n)));r.set(n,i)}}return new yN(c({typeName:UN.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r},I_(n)))}}function wN(e,t){const n=h_(e),r=h_(t);if(e===t)return{valid:!0,data:e};if(n===u_.object&&r===u_.object){const n=c_.objectKeys(t),r=c_.objectKeys(e).filter(e=>-1!==n.indexOf(e)),i=c(c({},e),t);for(const a of r){const n=wN(e[a],t[a]);if(!n.valid)return{valid:!1};i[a]=n.data}return{valid:!0,data:i}}if(n===u_.array&&r===u_.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=wN(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===u_.date&&r===u_.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class kN extends P_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(C_(e)||C_(r))return w_;const i=wN(e.value,r.value);return i.valid?((j_(e)||j_(r))&&t.dirty(),{status:t.value,value:i.data}):(b_(n,{code:p_.invalid_intersection_types}),w_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return r(t,n)}):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}kN.create=(e,t,n)=>new kN(c({left:e,right:t,typeName:UN.ZodIntersection},I_(n)));class SN extends P_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u_.array)return b_(n,{code:p_.invalid_type,expected:u_.array,received:n.parsedType}),w_;if(n.data.length<this._def.items.length)return b_(n,{code:p_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w_;!this._def.rest&&n.data.length>this._def.items.length&&(b_(n,{code:p_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new A_(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>y_.mergeArray(t,e)):y_.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new SN(c(c({},this._def),{},{rest:e}))}}SN.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new SN(c({items:e,typeName:UN.ZodTuple,rest:null},I_(t)))};class CN extends P_{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u_.map)return b_(n,{code:p_.invalid_type,expected:u_.map,received:n.parsedType}),w_;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((e,t)=>{let[a,s]=e;return{key:r._parse(new A_(n,a,n.path,[t,"key"])),value:i._parse(new A_(n,s,n.path,[t,"value"]))}});if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return w_;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return w_;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}CN.create=(e,t,n)=>new CN(c({valueType:t,keyType:e,typeName:UN.ZodMap},I_(n)));class jN extends P_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==u_.set)return b_(n,{code:p_.invalid_type,expected:u_.set,received:n.parsedType}),w_;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(b_(n,{code:p_.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(b_(n,{code:p_.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return w_;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map((e,t)=>i._parse(new A_(n,e,n.path,t)));return n.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new jN(c(c({},this._def),{},{minSize:{value:e,message:E_.toString(t)}}))}max(e,t){return new jN(c(c({},this._def),{},{maxSize:{value:e,message:E_.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}jN.create=(e,t)=>new jN(c({valueType:e,minSize:null,maxSize:null,typeName:UN.ZodSet},I_(t)));class _N extends P_{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}_N.create=(e,t)=>new _N(c({getter:e,typeName:UN.ZodLazy},I_(t)));class NN extends P_{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return b_(t,{received:t.data,code:p_.invalid_literal,expected:this._def.value}),w_}return{status:"valid",value:e.data}}get value(){return this._def.value}}function EN(e,t){return new AN(c({values:e,typeName:UN.ZodEnum},I_(t)))}NN.create=(e,t)=>new NN(c({value:e,typeName:UN.ZodLiteral},I_(t)));class AN extends P_{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return b_(t,{expected:c_.joinValues(n),received:t.parsedType,code:p_.invalid_type}),w_}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return b_(t,{received:t.data,code:p_.invalid_enum_value,options:n}),w_}return S_(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return AN.create(e,c(c({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return AN.create(this.options.filter(t=>!e.includes(t)),c(c({},this._def),t))}}AN.create=EN;class TN extends P_{_parse(e){const t=c_.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==u_.string&&n.parsedType!==u_.number){const e=c_.objectValues(t);return b_(n,{expected:c_.joinValues(e),received:n.parsedType,code:p_.invalid_type}),w_}if(this._cache||(this._cache=new Set(c_.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=c_.objectValues(t);return b_(n,{received:n.data,code:p_.invalid_enum_value,options:e}),w_}return S_(e.data)}get enum(){return this._def.values}}TN.create=(e,t)=>new TN(c({values:e,typeName:UN.ZodNativeEnum},I_(t)));class IN extends P_{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==u_.promise&&!1===t.common.async)return b_(t,{code:p_.invalid_type,expected:u_.promise,received:t.parsedType}),w_;const n=t.parsedType===u_.promise?t.data:Promise.resolve(t.data);return S_(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}IN.create=(e,t)=>new IN(c({type:e,typeName:UN.ZodPromise},I_(t)));class PN extends P_{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===UN.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{b_(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return w_;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?w_:"dirty"===r.status||"dirty"===t.value?k_(r.value):r});{if("aborted"===t.value)return w_;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?w_:"dirty"===r.status||"dirty"===t.value?k_(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?w_:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?w_:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!__(e))return w_;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>__(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):w_)}c_.assertNever(r)}}PN.create=(e,t,n)=>new PN(c({schema:e,typeName:UN.ZodEffects,effect:t},I_(n))),PN.createWithPreprocess=(e,t,n)=>new PN(c({schema:t,effect:{type:"preprocess",transform:e},typeName:UN.ZodEffects},I_(n)));class RN extends P_{_parse(e){return this._getType(e)===u_.undefined?S_(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}RN.create=(e,t)=>new RN(c({innerType:e,typeName:UN.ZodOptional},I_(t)));class DN extends P_{_parse(e){return this._getType(e)===u_.null?S_(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}DN.create=(e,t)=>new DN(c({innerType:e,typeName:UN.ZodNullable},I_(t)));class MN extends P_{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===u_.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}MN.create=(e,t)=>new MN(c({innerType:e,typeName:UN.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},I_(t)));class ON extends P_{_parse(e){const{ctx:t}=this._processInputParams(e),n=c(c({},t),{},{common:c(c({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:c({},n)});return N_(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new f_(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new f_(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ON.create=(e,t)=>new ON(c({innerType:e,typeName:UN.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},I_(t)));class LN extends P_{_parse(e){if(this._getType(e)!==u_.nan){const t=this._getOrReturnCtx(e);return b_(t,{code:p_.invalid_type,expected:u_.nan,received:t.parsedType}),w_}return{status:"valid",value:e.data}}}LN.create=e=>new LN(c({typeName:UN.ZodNaN},I_(e)));Symbol("zod_brand");class FN extends P_{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class $N extends P_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?w_:"dirty"===e.status?(t.dirty(),k_(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?w_:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new $N({in:e,out:t,typeName:UN.ZodPipeline})}}class VN extends P_{_parse(e){const t=this._def.innerType._parse(e),n=e=>(__(e)&&(e.value=Object.freeze(e.value)),e);return N_(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function BN(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}VN.create=(e,t)=>new VN(c({innerType:e,typeName:UN.ZodReadonly},I_(t)));vN.lazycreate;var UN;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(UN||(UN={}));const zN=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?uN.create().superRefine((r,i)=>{const a=e(r);if(a instanceof Promise)return a.then(e=>{if(!e){var a,s;const e=BN(t,r),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a;i.addIssue(c(c({code:"custom"},e),{},{fatal:o}))}});if(!a){var s,o;const e=BN(t,r),a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===s||s;i.addIssue(c(c({code:"custom"},e),{},{fatal:a}))}}):uN.create()}(t=>t instanceof e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)})},HN=nN.create,WN=iN.create,KN=(LN.create,aN.create,sN.create),GN=(oN.create,lN.create,cN.create,dN.create,uN.create,hN.create,pN.create,fN.create,mN.create),qN=vN.create,XN=(vN.strictCreate,xN.create),YN=yN.create,QN=(kN.create,SN.create,CN.create,jN.create,_N.create,NN.create);AN.create,TN.create,IN.create,PN.create,RN.create,DN.create,PN.createWithPreprocess,$N.create;function ZN(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function JN(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function eE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=JN(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():JN(t[e],null)}}}}function tE(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(eE(...n),n)}const nE=["children"],rE=["children"];function iE(t){const n=sE(t),r=e.forwardRef((t,r)=>{const{children:i}=t,a=Yt(t,nE),s=e.Children.toArray(i),o=s.find(lE);if(o){const t=o.props.children,i=s.map(n=>n===o?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n);return(0,Pe.jsx)(n,c(c({},a),{},{ref:r,children:e.isValidElement(t)?e.cloneElement(t,void 0,i):null}))}return(0,Pe.jsx)(n,c(c({},a),{},{ref:r,children:i}))});return r.displayName="".concat(t,".Slot"),r}var aE=iE("Slot");function sE(t){const n=e.forwardRef((t,n)=>{const{children:r}=t,i=Yt(t,rE);if(e.isValidElement(r)){const t=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n=c({},t);for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){const e=a(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=c(c({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return c(c({},e),n)}(i,r.props);return r.type!==e.Fragment&&(a.ref=n?eE(n,t):t),e.cloneElement(r,a)}return e.Children.count(r)>1?e.Children.only(null):null});return n.displayName="".concat(t,".SlotClone"),n}var oE=Symbol("radix.slottable");function lE(t){return e.isValidElement(t)&&"function"===typeof t.type&&"__radixId"in t.type&&t.type.__radixId===oE}const cE=["asChild"];var dE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((t,n)=>{const r=iE("Primitive.".concat(n)),i=e.forwardRef((e,t)=>{const{asChild:i}=e,a=Yt(e,cE),s=i?r:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Pe.jsx)(s,c(c({},a),{},{ref:t}))});return i.displayName="Primitive.".concat(n),c(c({},t),{},{[n]:i})},{});var uE=e.forwardRef((e,t)=>(0,Pe.jsx)(dE.label,c(c({},e),{},{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));uE.displayName="Label";var hE=uE;const pE=["class","className"],fE=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,mE=La,gE=["className"],vE=(xE="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e=>{var t;if(null==(null===bE||void 0===bE?void 0:bE.variants))return mE(xE,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:n,defaultVariants:r}=bE,i=Object.keys(n).map(t=>{const i=null===e||void 0===e?void 0:e[t],a=null===r||void 0===r?void 0:r[t];if(null===i)return null;const s=fE(i)||fE(a);return n[t][s]}),a=e&&Object.entries(e).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),s=null===bE||void 0===bE||null===(t=bE.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:n,className:i}=t,s=Yt(t,pE);return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(c(c({},r),a)[t]):c(c({},r),a)[t]===n})?[...e,n,i]:e},[]);return mE(xE,i,s,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var xE,bE;const yE=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,gE);return(0,Pe.jsx)(hE,c({ref:t,className:zS(vE(),n)},r))});yE.displayName=hE.displayName;const wE=["className"],kE=["className"],SE=["className"],CE=["className","children"],jE=t=>{const{children:n}=t,r=Yt(t,fC);return e.createElement(QC.Provider,{value:r},n)},_E=e.createContext({}),NE=e=>{let t=Object.assign({},(ZN(e),e));return(0,Pe.jsx)(_E.Provider,{value:{name:t.name},children:(0,Pe.jsx)(ij,c({},t))})},EE=()=>{const t=e.useContext(_E),n=e.useContext(AE),{getFieldState:r,formState:i}=ZC(),a=r(t.name,i);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=n;return c({id:s,name:t.name,formItemId:"".concat(s,"-form-item"),formDescriptionId:"".concat(s,"-form-item-description"),formMessageId:"".concat(s,"-form-item-message")},a)},AE=e.createContext({}),TE=e.forwardRef((t,n)=>{let{className:r}=t,i=Yt(t,wE);const a=e.useId();return(0,Pe.jsx)(AE.Provider,{value:{id:a},children:(0,Pe.jsx)("div",c({ref:n,className:zS("",r)},i))})});TE.displayName="FormItem";const IE=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,kE);const{error:i,formItemId:a}=EE();return(0,Pe.jsx)(yE,c({ref:t,className:zS(i&&"text-destructive",n),htmlFor:a},r))});IE.displayName="FormLabel";const PE=e.forwardRef((e,t)=>{let n=Object.assign({},(ZN(e),e));const{error:r,formItemId:i,formDescriptionId:a,formMessageId:s}=EE();return(0,Pe.jsx)(aE,c({ref:t,id:i,"aria-describedby":r?"".concat(a," ").concat(s):"".concat(a),"aria-invalid":!!r,"data-error":!!r},n))});PE.displayName="FormControl";const RE=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,SE);const{formDescriptionId:i}=EE();return(0,Pe.jsx)("p",c({ref:t,id:i,className:zS("text-sm text-muted-foreground",n)},r))});RE.displayName="FormDescription";const DE=e.forwardRef((e,t)=>{let{className:n,children:r}=e,i=Yt(e,CE);const{error:a,formMessageId:s}=EE(),o=a?String(null===a||void 0===a?void 0:a.message):r;return o?(0,Pe.jsx)("p",c(c({ref:t,id:s,className:zS("text-sm text-destructive text-red mt-1",n)},i),{},{children:o})):null});DE.displayName="FormMessage";const ME=["className","type","value","defaultValue"],OE=e.forwardRef((e,t)=>{let{className:n,type:r,value:i,defaultValue:a}=e,s=Yt(e,ME);return(0,Pe.jsx)("input",c(c({type:r,value:null!==i&&void 0!==i?i:"",defaultValue:a,className:zS("flex h-11 w-full rounded-[8px] border border-input bg-white text-black px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1",n),ref:t},s),{},{disabled:s.disable}))});OE.displayName="Input";const LE=qN({Hovedkategoriname:HN().min(1,{message:"Hovedkategoriname m\xe5 best\xe5 av minst 2 tegn."}),isSelected:KN().optional()}),FE=t=>{var n,r;let{onClose:i,setCategory:a,editData:s,Category:o}=t;const l=t_({resolver:l_(LE)});(0,e.useEffect)(()=>{var e,t,n,r;null!==s&&void 0!==s&&null!==(e=s.data)&&void 0!==e&&e.name&&l.setValue("Hovedkategoriname",null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.name);null!==s&&void 0!==s&&null!==(t=s.data)&&void 0!==t&&t.isSelected&&l.setValue("isSelected",null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.isSelected)},[l,null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.name,null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.isSelected]);return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},l),{},{children:(0,Pe.jsxs)("form",{onSubmit:l.handleSubmit(async e=>{o.some((t,n)=>s?n!==s.index&&t.name.toLowerCase()===e.Hovedkategoriname.toLowerCase():t.name.toLowerCase()===e.Hovedkategoriname.toLowerCase())?l.setError("Hovedkategoriname",{type:"manual",message:"Kategorinavnet finnes allerede."}):(i(),a(s?t=>t.map((t,n)=>{var r;return n===s.index?c(c({},t),{},{name:e.Hovedkategoriname,isSelected:null!==(r=e.isSelected)&&void 0!==r&&r}):t}):t=>{var n;return[...t,{name:e.Hovedkategoriname,isSelected:null!==(n=e.isSelected)&&void 0!==n&&n}]}))}),className:"relative w-full",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:l.control,name:"Hovedkategoriname",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Hovedkategoriname"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Hovedkategoriname"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:l.control,name:"isSelected",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 mt-3 cursor-pointer",onClick:()=>{l.setValue("isSelected",!t.value)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] accent-primary border text-black\n                                  ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4"),type:"radio",onChange:e=>{const t=e.target.checked;t&&l.setValue("isSelected",t)},checked:t.value}),(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," text-sm font-medium"),children:"Is mandatory"})]})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center left-0 mt-8",children:[(0,Pe.jsx)("div",{onClick:()=>{l.reset(),i()},children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})}))})};const $E=n.p+"static/media/Ic_x_circle.d0042930fd1caed79d02556d7abbfece.svg",VE=tC("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),BE=qN({Kategorinavn:HN().min(1,{message:"Kategorinavn m\xe5 best\xe5 av minst 2 tegn."})}),UE=t=>{let{onClose:n,formData:r,activeTabData:i,setCategory:a,editIndex:s,defaultValue:o}=t;const l=t_({resolver:l_(BE),defaultValues:{Kategorinavn:o||""}});(0,e.useEffect)(()=>{null!=s&&o?l.setValue("Kategorinavn",o):l.setValue("Kategorinavn","")},[o,s]);return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},l),{},{children:(0,Pe.jsxs)("form",{onSubmit:l.handleSubmit(async e=>{const t=e.Kategorinavn,o=r.getValues("hovedkategorinavn.".concat(i,".Kategorinavn"))||[];if(o.some(e=>e.navn===t))l.setError("Kategorinavn",{type:"manual",message:"Kategorinavnet finnes allerede."});else{if(null!==s&&o[s]){const e=[...o];e[s].navn=t,a(t=>{const n=[...t];return n[i]=c(c({},n[i]),{},{Kategorinavn:e}),n}),r.setValue("hovedkategorinavn.".concat(i,".Kategorinavn"),e,{shouldValidate:!0})}else{const e={navn:t,produkter:[]};a(t=>{const n=[...t];return n[i]=c(c({},n[i]),{},{Kategorinavn:[...o,e]}),n}),r.setValue("hovedkategorinavn.".concat(i,".Kategorinavn"),[...o,e],{shouldValidate:!0})}n(),l.reset()}}),className:"relative w-full",children:[(0,Pe.jsx)("div",{className:"p-6",children:(0,Pe.jsx)(NE,{control:l.control,name:"Kategorinavn",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Kategorinavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kategorinavn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",value:t.value||""}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,Pe.jsx)("div",{onClick:()=>l.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})}))})},zE=e=>{let{isOpen:t,onClose:n,children:r}=e;return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"overlay ".concat(t?"show":""),style:{zIndex:t?99999999:1},onClick:n}),(0,Pe.jsx)("div",{className:"drawer relative ".concat(t?"open":""),style:{zIndex:t?99999999:1},children:r})]})},HE=["className"],WE=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,HE);return(0,Pe.jsx)("textarea",c({className:zS("flex w-full rounded-[8px] border border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1",n),ref:t},r))});WE.displayName="TextArea";const KE=XN([zN(File).refine(e=>null===e||e.size<=10485760,{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),HN()]),GE=qN({Produktnavn:HN().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:HN().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:GN(KE).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:HN().nullable(),IncludingOffer:KN().optional(),Produktbeskrivelse:HN().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:HN().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:HN().optional()}),qE=qN({produkter:GN(GE).min(1,"Minst ett produkt er p\xe5krevd.")}),XE=t=>{let{onClose:n,onSubmit:r}=t;const i=t_({resolver:l_(qE),defaultValues:{produkter:[{Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",Labour:"",LabourPris:""}]}}),a=e.useRef(null),s=(0,e.useCallback)(()=>{var e;null===(e=a.current)||void 0===e||e.click()},[]),o=(0,e.useCallback)(e=>e.preventDefault(),[]),[l,d]=(0,e.useState)(null),u=["Boligpartner","Salgskontor"],h=["Per m2","Per time","Per dag","Per stykk","Per ansatt"],{fields:p,append:f,remove:m}=e_({control:i.control,name:"produkter"}),g=i.watch("produkter");return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},i),{},{children:(0,Pe.jsxs)("form",{onSubmit:i.handleSubmit(async e=>{"function"===typeof r&&r(e),n(),i.reset()}),className:"relative w-full h-screen",children:[(0,Pe.jsxs)("div",{className:"overflow-y-auto h-full pb-[160px]",children:[p.map((e,t)=>{const n=i.watch("produkter.".concat(t,".Hovedbilde"));return(0,Pe.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,Pe.jsxs)("button",{type:"button",className:"flex gap-2 items-end ml-auto ".concat(1===g.length?"text-gray cursor-not-allowed":"text-primary"),onClick:()=>{g.length>1&&m(t)},children:[(0,Pe.jsx)(rC,{})," Fjern produkt"]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".Produktnavn"),render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues("produkter.".concat(t,".Produktnavn"))||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Produktnavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Produktnavn"},n),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),type:"text",value:null!==a&&void 0!==a?a:""}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".pris"),render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues("produkter.".concat(t,".pris"));return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," text-sm font-medium"),children:"Pris fra"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,Pe.jsxs)("div",{className:"toggle-container",children:[(0,Pe.jsx)("input",{type:"checkbox",id:"toggleSwitch.".concat(t,".IncludingOffer"),className:"toggle-input",checked:i.watch("produkter.".concat(t,".IncludingOffer"))||!1,name:"IncludingOffer",onChange:e=>{const n=e.target.checked;i.setValue("produkter.".concat(t,".IncludingOffer"),n),n?i.setValue("produkter.".concat(t,".pris"),null):i.setValue("produkter.".concat(t,".pris"),"")}}),(0,Pe.jsx)("label",{htmlFor:"toggleSwitch.".concat(t,".IncludingOffer"),className:"toggle-label"})]})]})]}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Pris fra"},n),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),inputMode:"numeric",disable:i.watch("produkter.".concat(t,".IncludingOffer")),type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const a=i.startsWith("-"),s=i.replace(/-/g,"");let o="";s?(o=new Intl.NumberFormat("no-NO").format(Number(s)),a&&(o="-"+o)):o=a?"-":"",n.onChange({target:{name:"produkter.".concat(t,".pris"),value:o}})},value:null===a?"-":a}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".delieverBy"),render:e=>{let{field:n,fieldState:r}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(r.error?"text-red":"text-black"," text-sm font-medium"),children:"Lever innen"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-5",children:u.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{i.setValue("produkter.".concat(t,".delieverBy"),e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," h-4 w-4 accent-primary"),type:"radio",value:e,onChange:e=>{i.setValue("produkter.".concat(t,".delieverBy"),e.target.value)},checked:n.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".Labour"),render:e=>{let{field:n,fieldState:r}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(r.error?"text-red":"text-black"," text-sm font-medium"),children:"Pris er oppgitt per"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:h.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{i.setValue("produkter.".concat(t,".Labour"),e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," h-4 w-4 accent-primary"),type:"radio",value:e,onChange:e=>{i.setValue("produkter.".concat(t,".Labour"),e.target.value)},checked:n.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".LabourPris"),render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues("produkter.".concat(t,".LabourPris"));return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," text-sm font-medium mb-2"),children:"Arbeidspris"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Arbeidspris"},n),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const a=i.startsWith("-"),s=i.replace(/-/g,"");let o="";s?(o=new Intl.NumberFormat("no-NO").format(Number(s)),a&&(o="-"+o)):o=a?"-":"",n.onChange({target:{name:"produkter.".concat(t,".LabourPris"),value:o}})},value:a||""})),(0,Pe.jsx)("div",{className:"bg-white absolute top-[1px] right-[1px] rounded-lg h-[calc(100%-2px)] flex items-center p-2 justify-center",children:(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold",children:"NOK"})})]})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".Produktbeskrivelse"),render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues("produkter.".concat(t,".Produktbeskrivelse"))||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Produktbeskrivelse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(WE,c(c({placeholder:"Skriv inn Produktbeskrivelse"},n),{},{className:"h-[130px] bg-white rounded-[8px] border text-black\n                                  ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),value:a}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"row-span-2",children:(0,Pe.jsx)(NE,{control:i.control,name:"produkter.".concat(t,".Hovedbilde"),render:e=>{let{fieldState:n}=e;const r="produkter.".concat(t,".Hovedbilde"),l=i.watch(r)||[],c=async e=>{if(e){let t=[...l||[]];for(let n=0;n<e.length;n++){const a=e[n];if(a.size>2097152){kt.error("Image size must be less than 2MB.",{position:"top-right"});continue}const s="images",o=(new Date).getTime(),l="".concat(o,"_").concat(null===a||void 0===a?void 0:a.name),c=LS(US,"".concat(s,"/").concat(l)),d=await RS(c,a),u=await OS(d.ref);t.push(u),i.setValue(r,t),i.clearErrors(r)}}};return(0,Pe.jsxs)(TE,{className:"w-full",children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Last opp bilde"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,Pe.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:o,onClick:s,onDrop:e=>{e.preventDefault(),c(e.dataTransfer.files)},children:(0,Pe.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,Pe.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,Pe.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,Pe.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,Pe.jsx)("input",{type:"file",ref:a,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>c(e.target.files)})]})})})}),(0,Pe.jsx)(DE,{})]})}})})]}),(0,Pe.jsx)("div",{children:n&&(0,Pe.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===n||void 0===n?void 0:n.map((e,r)=>(0,Pe.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>d(r),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===l||l===r)return;const e=[...n],a=e[l];e.splice(l,1),e.splice(r,0,a),i.setValue("produkter.".concat(t,".Hovedbilde"),e),d(null)},children:[(0,Pe.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,Pe.jsx)("div",{className:"absolute bottom-2 right-2 bg-[#FFFFFFCC] rounded-full p-[6px] cursor-pointer",onClick:()=>{const e=n.filter((e,t)=>t!==r);i.setValue("produkter.".concat(t,".Hovedbilde"),e)},children:(0,Pe.jsx)(VE,{className:"text-red w-4 h-4"})})]},r))})})]},t)}),(0,Pe.jsxs)("div",{className:"p-6 flex items-center gap-2 text-primary text-sm font-medium cursor-pointer",onClick:()=>f({Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",Labour:"",LabourPris:""}),children:[(0,Pe.jsx)(pC,{}),"Legg til et annet produkt"]})]}),(0,Pe.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,Pe.jsx)("div",{onClick:()=>i.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})}))})};var YE,QE=new Uint8Array(16);function ZE(){if(!YE&&!(YE="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return YE(QE)}const JE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const eA=function(e){return"string"===typeof e&&JE.test(e)};for(var tA=[],nA=0;nA<256;++nA)tA.push((nA+256).toString(16).substr(1));const rA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(tA[e[t+0]]+tA[e[t+1]]+tA[e[t+2]]+tA[e[t+3]]+"-"+tA[e[t+4]]+tA[e[t+5]]+"-"+tA[e[t+6]]+tA[e[t+7]]+"-"+tA[e[t+8]]+tA[e[t+9]]+"-"+tA[e[t+10]]+tA[e[t+11]]+tA[e[t+12]]+tA[e[t+13]]+tA[e[t+14]]+tA[e[t+15]]).toLowerCase();if(!eA(n))throw TypeError("Stringified UUID is invalid");return n};const iA=function(e,t,n){var r=(e=e||{}).random||(e.rng||ZE)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return rA(r)},aA=XN([zN(File).refine(e=>null===e||e.size<=10485760,{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),HN()]),sA=qN({Produktnavn:HN().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:HN().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:GN(aA).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:HN().nullable(),IncludingOffer:KN().optional(),Produktbeskrivelse:HN().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:HN().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:HN().optional(),produktId:HN().optional()}),oA=t=>{let{onClose:n,onSubmit:r,defaultValues:i}=t;const a=t_({resolver:l_(sA)});(0,e.useEffect)(()=>{i&&(a.setValue("Hovedbilde",null===i||void 0===i?void 0:i.Hovedbilde),a.setValue("IncludingOffer",null===i||void 0===i?void 0:i.IncludingOffer),a.setValue("Labour",null===i||void 0===i?void 0:i.Labour),a.setValue("LabourPris",null===i||void 0===i?void 0:i.LabourPris),a.setValue("Produktbeskrivelse",null===i||void 0===i?void 0:i.Produktbeskrivelse),a.setValue("Produktnavn",null===i||void 0===i?void 0:i.Produktnavn),a.setValue("delieverBy",null===i||void 0===i?void 0:i.delieverBy),a.setValue("pris",null===i||void 0===i?void 0:i.pris),a.setValue("produktId",null===i||void 0===i?void 0:i.produktId))},[i]);const s=e.useRef(null),o=()=>{var e;null===(e=s.current)||void 0===e||e.click()},l=(0,e.useCallback)(e=>e.preventDefault(),[]),[d,u]=(0,e.useState)(null),h=["Boligpartner","Salgskontor"],p=["Per m2","Per time","Per dag","Per stykk","Per ansatt"],f=a.watch("Hovedbilde");return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},a),{},{children:(0,Pe.jsxs)("form",{onSubmit:a.handleSubmit(async e=>{"function"===typeof r&&r(e),n()}),className:"relative w-full h-screen",children:[(0,Pe.jsx)("div",{className:"overflow-y-auto h-full pb-[160px]",children:(0,Pe.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:a.control,name:"Produktnavn",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("Produktnavn")||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Produktnavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Produktnavn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",value:null!==r&&void 0!==r?r:""}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:a.control,name:"pris",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("pris");return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," text-sm font-medium"),children:"Pris fra"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,Pe.jsxs)("div",{className:"toggle-container",children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IncludingOffer",className:"toggle-input",checked:a.watch("IncludingOffer")||!1,name:"IncludingOffer",onChange:e=>{const t=e.target.checked;a.setValue("IncludingOffer",t),t?a.setValue("pris",null):a.setValue("pris","")}}),(0,Pe.jsx)("label",{htmlFor:"IncludingOffer",className:"toggle-label"})]})]})]}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Pris fra"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),inputMode:"numeric",disable:a.watch("IncludingOffer"),type:"text",onChange:e=>{let{target:{value:n}}=e,r=n.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const i=r.startsWith("-"),a=r.replace(/-/g,"");let s="";a?(s=new Intl.NumberFormat("no-NO").format(Number(a)),i&&(s="-"+s)):s=i?"-":"",t.onChange({target:{name:"pris",value:s}})},value:null===r?"-":r}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"delieverBy",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm font-medium"),children:"Lever innen"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-5",children:h.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{a.setValue("delieverBy",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-primary"),type:"radio",value:e,onChange:e=>{a.setValue("delieverBy",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"Labour",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm font-medium"),children:"Pris er oppgitt per"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:p.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{a.setValue("Labour",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-primary"),type:"radio",value:e,onChange:e=>{a.setValue("Labour",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:a.control,name:"LabourPris",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("LabourPris");return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," text-sm font-medium mb-2"),children:"Arbeidspris"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Arbeidspris"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:n}}=e,r=n.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const i=r.startsWith("-"),a=r.replace(/-/g,"");let s="";a?(s=new Intl.NumberFormat("no-NO").format(Number(a)),i&&(s="-"+s)):s=i?"-":"",t.onChange({target:{name:"LabourPris",value:s}})},value:r||""})),(0,Pe.jsx)("div",{className:"bg-white absolute top-[1px] right-[1px] rounded-lg h-[calc(100%-2px)] flex items-center p-2 justify-center",children:(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold",children:"NOK"})})]})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"Produktbeskrivelse",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("Produktbeskrivelse")||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Produktbeskrivelse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(WE,c(c({placeholder:"Skriv inn Produktbeskrivelse"},t),{},{className:"h-[130px] bg-white rounded-[8px] border text-black\n                                  ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),value:r}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"row-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"Hovedbilde",render:e=>{let{fieldState:t}=e;const n="Hovedbilde",r=a.watch(n)||[],i=async e=>{if(e){let t=[...r||[]];for(let r=0;r<e.length;r++){const i=e[r];if(i.size>2097152){kt.error("Image size must be less than 2MB.",{position:"top-right"});continue}const s="images",o=(new Date).getTime(),l="".concat(o,"_").concat(null===i||void 0===i?void 0:i.name),c=LS(US,"".concat(s,"/").concat(l)),d=await RS(c,i),u=await OS(d.ref);t.push(u),a.setValue(n,t),a.clearErrors(n)}}};return(0,Pe.jsxs)(TE,{className:"w-full",children:[(0,Pe.jsx)("p",{className:"".concat(t.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Last opp bilde"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,Pe.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:l,onClick:o,onDrop:e=>{e.preventDefault(),i(e.dataTransfer.files)},children:(0,Pe.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,Pe.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,Pe.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,Pe.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,Pe.jsx)("input",{type:"file",ref:s,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>i(e.target.files)})]})})})}),(0,Pe.jsx)(DE,{})]})}})})]}),(0,Pe.jsx)("div",{children:f&&(0,Pe.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===f||void 0===f?void 0:f.map((e,t)=>(0,Pe.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>u(t),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===d||d===t)return;const e=[...f],n=e[d];e.splice(d,1),e.splice(t,0,n),a.setValue("Hovedbilde",e),u(null)},children:[(0,Pe.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,Pe.jsx)("div",{className:"absolute bottom-2 right-2 bg-[#FFFFFFCC] rounded-full p-[6px] cursor-pointer",onClick:()=>{const e=f.filter((e,n)=>n!==t);a.setValue("Hovedbilde",e)},children:(0,Pe.jsx)(VE,{className:"text-red w-4 h-4"})})]},t))})})]})}),(0,Pe.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,Pe.jsx)("div",{onClick:()=>a.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})}))})},lA=XN([zN(File).refine(e=>null===e||e.size<=10485760,{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),HN()]),cA=qN({Produktnavn:HN().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:HN().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:GN(lA).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:HN().nullable(),IncludingOffer:KN().optional(),Produktbeskrivelse:HN().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:HN().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:HN().optional(),produktId:HN().optional()}),dA=qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),id:HN().optional(),produkter:GN(cA).min(1,"Minst ett produkt er p\xe5krevd.")}),uA=qN({name:HN().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:GN(dA).min(1,"Minst \xe9n kategori er p\xe5krevd."),isSelected:KN().optional(),id:HN().optional()}),hA=qN({hovedkategorinavn:GN(uA)}),pA=t=>{var n;let{Category:r,activeTabData:i,setCategory:a}=t;const[s,o]=(0,e.useState)(0);(0,e.useEffect)(()=>{o(0)},[i]);const l=t_({resolver:l_(hA),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:[{navn:"",produkter:[{Produktnavn:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",delieverBy:"",Labour:"",LabourPris:"",produktId:""}]}]}]}}),d=l.watch("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter")),{remove:u}=e_({control:l.control,name:"hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter")}),[h,p]=(0,e.useState)(!1);(0,e.useEffect)(()=>{Array.isArray(r)&&r.length>0&&l.setValue("hovedkategorinavn",r)},[l,r]);const f=(0,e.useRef)([]);(0,e.useEffect)(()=>{const e=l.watch("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter"));e&&JSON.stringify(f.current)!==JSON.stringify(e)&&(a(t=>{var n,r;const a=[...t];return null!==(n=a[i])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[s]&&(a[i].Kategorinavn[s].produkter=null===e||void 0===e?void 0:e.map((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||"",Labour:e.Labour||"",LabourPris:e.LabourPris||"",produktId:e.produktId||""}))),a}),f.current=e)},[JSON.stringify(l.watch("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter")))]);const[m,g]=(0,e.useState)(null),v=((e,t)=>{const n=((null===(e=l.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[i])||void 0===t?void 0:t.Kategorinavn)||[]).filter(e=>{var t,n;if(null===e||void 0===e||!e.navn)return!1;const r=""!==e.navn.trim(),i=""!==(null===e||void 0===e||null===(t=e[s])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim());return r||i});return n.length>0?n:[]})(),[x,b]=(0,e.useState)(null),[y,w]=(0,e.useState)(null),[k,S]=(0,e.useState)(!1),C=l.watch("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".navn")),j=()=>{g(null),p(!1)},[_,N]=(0,e.useState)(!1),[E,A]=(0,e.useState)(null),[T,I]=(0,e.useState)(null),P=()=>{_?(N(!1),I(null),A(null)):N(!0)};return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(jE,c(c({},l),{},{children:(0,Pe.jsx)("form",{onSubmit:l.handleSubmit(async e=>{try{var t,n;const r=null===e||void 0===e?void 0:e.hovedkategorinavn;if(!Array.isArray(r)||0===r.length||!r[i])return void kt.error("Ingen gyldig kategori funnet.");const a=r[i],{name:s,isSelected:o,Kategorinavn:d=[]}=a;if(!s)return;const u=(null===(t=l.getValues("hovedkategorinavn"))||void 0===t||null===(n=t[i])||void 0===n?void 0:n.id)||iA(),h=Rg(BS,"inventory",u),p=await Rv(h);await Ov(h,{id:u,name:s,isSelected:o,[p.exists()?"updatedAt":"createdAt"]:(new Date).toISOString()},{merge:!0});const f=d.filter(e=>"string"===typeof e.navn&&""!==e.navn.trim()&&Array.isArray(e.produkter)&&e.produkter.length>0),m=Pg(h,"Kategorinavn");for(const e of f){const t=e.id||iA(),n=Rg(m,t),r={id:t,navn:e.navn,timestamp:(new Date).toISOString(),produkter:e.produkter.map(e=>{const t=!!e.produktId;return c(c({},e),{},{produktId:t?e.produktId:iA(),timestamp:(new Date).toISOString()})})};e.id?await Ov(n,r,{merge:!0}):await Ov(n,r)}kt.success("Kategori oppdatert!",{position:"top-right"})}catch(r){console.error("Firestore update failed:",r),kt.error("Noe gikk galt. Pr\xf8v igjen.",{position:"top-right"})}}),children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("div",{className:"p-4",children:(0,Pe.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,Pe.jsx)("h4",{className:"text-darkBlack font-semibold text-lg",children:"Customisation"})})}),(0,Pe.jsx)("div",{className:"border-t border-gray2"}),(0,Pe.jsxs)("div",{className:"p-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===v||void 0===v?void 0:v.length)>0?(0,Pe.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===v||void 0===v?void 0:v.map((e,t)=>(0,Pe.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap ".concat(s===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>o(t),children:[(0,Pe.jsx)("span",{className:"text-sm",children:e.navn}),(0,Pe.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),g(t),p(!0)},children:(0,Pe.jsx)(hC,{className:"w-5 h-5 text-primary"})}),(0,Pe.jsx)("img",{src:$E,alt:"close",onClick:async n=>{n.preventDefault(),n.stopPropagation();const r=v.filter((e,n)=>n!==t);a(e=>{const t=[...e];return t[i]=c(c({},t[i]),{},{Kategorinavn:r}),t}),l.setValue("hovedkategorinavn.".concat(i,".Kategorinavn"),r,{shouldValidate:!0});try{var s,o;const t=null===(s=l.getValues("hovedkategorinavn"))||void 0===s||null===(o=s[i])||void 0===o?void 0:o.id;if(t){const n=Pg(Rg(BS,"inventory",t),"Kategorinavn");if(null!==e&&void 0!==e&&e.id){const t=Rg(n,e.id);await Fv(t)}}}catch(d){console.error("Failed to delete category from Firestore:",d)}}})]},t))}):(0,Pe.jsx)("p",{className:"text-secondary text-sm",children:"Ingen tilpasningskategori lagt til"}),(0,Pe.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>p(!0),children:[(0,Pe.jsx)(pC,{}),"Legg til produkt"]})]}),v.length>0?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack text-base font-semibold",children:[C," options"]}),(0,Pe.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{S(!0)},children:[(0,Pe.jsx)(pC,{}),"Legge til ",C]})]}),(0,Pe.jsxs)("div",{className:"",children:[(0,Pe.jsx)("div",{className:"grid grid-cols-2 gap-6",children:null===d||void 0===d?void 0:d.map((e,t)=>(0,Pe.jsx)("div",{className:"cursor-move border-[#EFF1F5] border rounded-lg",draggable:!0,onDragStart:()=>b(t),onDragOver:e=>{e.preventDefault(),w(t)},onDrop:()=>(()=>{if(null===x||null===y||x===y)return;const e=[...d],t=e[x];e.splice(x,1),e.splice(y,0,t),l.setValue("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter"),e),b(null),w(null)})(),children:(0,Pe.jsxs)("div",{className:"flex gap-4 p-3",children:[(0,Pe.jsx)("div",{className:"w-[20%]",children:(0,Pe.jsx)("img",{src:"".concat(null===e||void 0===e?void 0:e.Hovedbilde[0]),alt:"floor",className:"w-full h-full border border-[#EFF1F5] rounded-[4px]"})}),(0,Pe.jsxs)("div",{className:"w-[80%]",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1 justify-between mb-2",children:[(0,Pe.jsx)("h4",{className:"text-darkBlack text-sm truncate",children:null===e||void 0===e?void 0:e.Produktnavn}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)(hC,{className:"text-purple w-5 h-5 cursor-pointer",onClick:()=>{A(t),I(e),N(!0)}}),(0,Pe.jsx)(VE,{className:"text-red w-5 h-5 cursor-pointer",onClick:async()=>{const n=null===e||void 0===e?void 0:e.produktId;(e=>{d.length>1&&u(e)})(t);try{if(n){var r,a;const e=null===(r=l.getValues("hovedkategorinavn"))||void 0===r||null===(a=r[i])||void 0===a?void 0:a.id,t=l.getValues("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s)),o=null===t||void 0===t?void 0:t.id;if(!e||!o||!n)return void console.warn("Missing inventoryId, categoryId, or productId");const c=Rg(BS,"inventory",e),d=Rg(c,"Kategorinavn",o),u=await Rv(d);if(!u.exists())return void console.error("Category doc not found");const h=u.data(),p=(h.produkter||[]).filter(e=>e.produktId!==n);await Ov(d,{produkter:p,updatedAt:(new Date).toISOString()},{merge:!0})}}catch(o){console.error("Failed to delete product from Firestore:",o)}}})]})]}),(0,Pe.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,Pe.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,Pe.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Pe.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:!1===(null===e||void 0===e?void 0:e.IncludingOffer)?null===e||void 0===e?void 0:e.pris:"Standard"}),(0,Pe.jsx)("span",{className:"text-purple font-medium text-sm cursor-pointer",children:"View Details"})]})]})]})},t))}),(0,Pe.jsxs)("div",{className:"flex justify-end gap-5 items-center bg-white border-t border-gray2 p-4 left-0 mt-6 pb-0",style:{zIndex:99999},children:[(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2"}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"})]})]})]}):(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)("div",{className:"h-full flex items-center justify-center px-6 py-[54px]",children:(0,Pe.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Pe.jsx)("img",{src:dC,alt:"no_data"}),(0,Pe.jsx)("h3",{className:"text-black font-semibold text-center mb-1.5",children:"No Customisation Category added"}),(0,Pe.jsxs)("p",{className:"text-sm text-center text-secondary",children:["N\xe5r du har lagt til tilpasningskategorien, kan du legge"," ",(0,Pe.jsx)("br",{})," til forskjellige produktalternativer."]})]})})})]})]})})})),(0,Pe.jsxs)(zE,{isOpen:h,onClose:j,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==m?"Rediger underkategori":"Legg til ny underkategori",(0,Pe.jsx)(rC,{onClick:j,className:"text-primary cursor-pointer"})]}),h&&(0,Pe.jsx)(UE,{onClose:()=>{g(null),p(!1)},formData:l,activeTabData:i,setCategory:a,editIndex:m,defaultValue:null!==m&&(null===(n=v[m])||void 0===n?void 0:n.navn)||""})]}),(0,Pe.jsxs)(zE,{isOpen:k,onClose:()=>{S(!k)},children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,Pe.jsx)(rC,{onClick:()=>{p(!h)},className:"text-primary cursor-pointer"})]}),k&&(0,Pe.jsx)(XE,{onClose:()=>S(!1),onSubmit:e=>{const t=l.getValues("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter"))||[];l.setValue("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter"),[...t,...e.produkter])}})]}),(0,Pe.jsxs)(zE,{isOpen:_,onClose:P,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,Pe.jsx)(rC,{onClick:P,className:"text-primary cursor-pointer"})]}),_&&(0,Pe.jsx)(oA,{onClose:()=>N(!1),defaultValues:T,onSubmit:e=>{const t=l.getValues("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter")).map((t,n)=>n===E?e:t);l.setValue("hovedkategorinavn.".concat(i,".Kategorinavn.").concat(s,".produkter"),t),P()}})]})]})},fA=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(!1),[a,s]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[d,u]=(0,e.useState)(null),[h,p]=(0,e.useState)(!0),f=()=>{r?(i(!1),u(null)):i(!0)},m=e=>{e.preventDefault()};return(0,e.useEffect)(()=>{(async()=>{const e=Pg(BS,"inventory"),t=await Mv(e),r=[];for(const n of t.docs){const e=n.data(),t=n.id,i=Pg(BS,"inventory",t,"Kategorinavn"),a=(await Mv(i)).docs.map(e=>c({id:e.id},e.data()));r.push(c(c({id:t},e),{},{Kategorinavn:a}))}s(r),n(0),p(!1)})()},[]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"p-8 flex gap-3 items-center justify-between bg-lightPurple",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-medium text-[32px] mb-2",children:"Romkonfigurator"}),(0,Pe.jsx)("p",{className:"text-secondary text-lg",children:"Her legger du til produkter, leverand\xf8r, pris og bilder for hvert produkt."})]}),(0,Pe.jsx)(uC,{text:"Lag ny serie",className:"border border-purple bg-purple text-white text-base rounded-[40px] h-[48px] font-medium relative px-5 py-3 flex items-center gap-2",path:"/add-husmodell"})]}),(0,Pe.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,Pe.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 h-[540px]",children:[(0,Pe.jsx)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:(0,Pe.jsx)("span",{className:"truncate",children:"Housing Configuration Elements"})}),(0,Pe.jsx)("div",{className:"flex flex-col p-4 pb-0 rounded-lg gap-3 h-full max-h-[calc(100%-129px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:a.length>0?a.map((e,r)=>(0,Pe.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{l(e)})(r),onDragOver:m,onDrop:()=>(e=>{if(null===o||o===e)return;const t=[...a],n=t[o];t.splice(o,1),t.splice(e,0,n),s(t),l(null)})(r),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 ".concat(t===r?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>n(r),children:[(0,Pe.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold",children:[(0,Pe.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:r+1}),(0,Pe.jsx)("span",{className:"w-[135px] truncate",children:""!==(null===e||void 0===e?void 0:e.name_no)&&null!==e&&void 0!==e&&e.name_no?null===e||void 0===e?void 0:e.name_no:null===e||void 0===e?void 0:e.name})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Pe.jsx)("div",{onClick:t=>{t.preventDefault(),t.stopPropagation(),u({index:r,data:e}),i(!0)},children:(0,Pe.jsx)(hC,{className:"w-5 h-5 text-primary"})}),(0,Pe.jsx)("div",{onClick:async t=>{t.preventDefault(),t.stopPropagation();const i=Rg(BS,"inventory",null===e||void 0===e?void 0:e.id);try{await Fv(i),Xt.success("Slettet",{position:"top-right"}),s(e=>e.filter((e,t)=>t!==r)),n(0)}catch(a){console.error("Error deleting category:",a)}},className:"w-5 h-5",children:(0,Pe.jsx)("img",{src:cC,alt:"delete",className:"w-full h-full"})})]})]},r)):(0,Pe.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Pe.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Pe.jsx)("img",{src:dC,alt:"no_data"}),(0,Pe.jsxs)("h3",{className:"text-black font-semibold text-center mb-1.5",children:["Ingen boligkonfigurasjon ",(0,Pe.jsx)("br",{})," Elementer lagt til"]}),(0,Pe.jsxs)("p",{className:"text-sm text-center text-secondary",children:["Klikk p\xe5 Legg til ny-knappen ",(0,Pe.jsx)("br",{})," for \xe5 legge til element"]})]})})}),(0,Pe.jsx)("div",{className:"flex items-center text-purple gap-2 cursor-pointer py-3 px-6",onClick:()=>i(!0),style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:(0,Pe.jsxs)("div",{className:"flex items-center gap-2 w-full justify-center border-2 border-primary rounded-[40px] p-2",children:[(0,Pe.jsx)(pC,{}),(0,Pe.jsx)("span",{className:"text-base font-medium whitespace-nowrap",children:"Nytt rom"})]})})]}),(0,Pe.jsx)("div",{className:"w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max",children:(0,Pe.jsx)(pA,{Category:a,activeTabData:t,setCategory:s})})]}),r&&(0,Pe.jsx)(lC,{onClose:f,isOpen:!0,children:(0,Pe.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,Pe.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,Pe.jsx)(FE,{onClose:f,setCategory:s,editData:d,Category:a})]})}),h&&(0,Pe.jsx)(Ra,{})]})},mA=()=>{const t=mi(),[n,r]=(0,e.useState)([]),[i,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{(async()=>{a(!0);try{let e=xv(Pg(BS,"housemodell_configure_broker"),kv("updatedAt","desc"));const t=(await Mv(e)).docs.map(e=>c({id:e.id},e.data()));r(t)}catch(e){console.error("Error fetching husmodell data:",e)}finally{a(!1)}})()},[]);const[s,o]=(0,e.useState)({}),l=e=>{o(t=>c(c({},t),{},{[e]:!0}))};return(0,Pe.jsxs)(Pe.Fragment,{children:[i&&(0,Pe.jsx)(Ra,{}),(0,Pe.jsx)("div",{className:"px-4 md:px-6 py-5 md:py-8 desktop:p-8 flex gap-3 items-center justify-between bg-lightPurple",children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-medium text-2xl md:text-[28px] desktop:text-[32px] mb-2",children:"Velg \xf8nsket serie"}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Velg \xf8nsket serie og du vil kunne konfigurere boligen i henhold til \xf8nsket seier"})]})}),(0,Pe.jsx)("div",{className:"px-4 md:px-6 py-5 md:py-8 desktop:p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 desktop:gap-6",children:n&&n.length>0&&(null===n||void 0===n?void 0:n.map((e,n)=>{const r=s[n];return(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"w-full h-[243px] mb-2.5 md:mb-4 relative",children:[!r&&(0,Pe.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer"}),(null===e||void 0===e?void 0:e.photo)&&(0,Pe.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"house",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 ".concat(r?"opacity-100":"opacity-0"),onLoad:()=>l(n),onError:()=>l(n),loading:"lazy"})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("h4",{className:"text-darkBlack font-medium",children:null===e||void 0===e?void 0:e.husmodell_name}),(0,Pe.jsx)("div",{className:"border-purple border-2 rounded-[40px] py-2 px-5 text-purple font-medium h-[40px] flex items-center justify-center cursor-pointer whitespace-nowrap",onClick:()=>t("/se-series/".concat(null===e||void 0===e?void 0:e.id)),children:"Velg serie"})]})]},n)}))})]})},gA=tC("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),vA=e=>{let{tabs:t,setActiveTab:n,activeTab:r}=e;return(0,Pe.jsx)("div",{className:"flex gap-2",children:t.map((e,t)=>(0,Pe.jsx)("button",{className:"py-2 px-2 text-sm md:text-base md:px-3 rounded-lg ".concat(r===t?"font-semibold text-purple shadow-shadow1":"text-black"," ").concat(n?"cursor-pointer":"cursor-auto"),onClick:()=>n?n(t):void 0,children:e.label},t))})},xA=n.p+"static/media/Img_product_3d_img1.65392a8a99c118933916.png";const bA=n.p+"static/media/Ic_download_primary.61971a5f2140e0283ac19ce7e3fe513b.svg";const yA=n.p+"static/media/Ic_close.92ec46151263d65efaf8b92ffe2ac500.svg",wA=tC("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),kA=t=>{let{file:n}=t;const[r,i]=(0,e.useState)({fileName:"",fileSize:""});return(0,e.useEffect)(()=>{(async()=>{const e=await(async e=>{try{const n=FS(),r=LS(n,decodeURIComponent(e).split("/o/")[1].split("?")[0].replace(/%2F/g,"/")),i=await MS(r),a=i.size?(t=i.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(2)," KB"):t<1073741824?"".concat((t/1048576).toFixed(2)," MB"):"".concat((t/1073741824).toFixed(2)," GB"):"Unknown size";return{fileName:i.name,fileSize:a}}catch(n){return console.error("Error fetching file info:",n),{fileName:"Unknown",fileSize:"Unknown size"}}var t})(n);i(e)})()},[n]),(0,Pe.jsxs)("div",{className:"truncate",children:[(0,Pe.jsx)("h5",{className:"text-darkBlack text-sm font-medium mb-1 truncate",children:r.fileName||"Loading..."}),(0,Pe.jsx)("p",{className:"text-gray text-xs",children:r.fileSize||"Fetching size..."})]})},SA=t=>{let{husmodellData:n}=t;const r=(0,e.useRef)(null);(0,e.useEffect)(()=>{r.current&&(r.current.style.height="auto",r.current.style.height="".concat(r.current.scrollHeight,"px"))},[null===n||void 0===n?void 0:n.OmHusmodellen]);const[i,a]=(0,e.useState)(!1),s=(null===n||void 0===n?void 0:n.photo3D)||[],o=s.slice(0,4),l=s.length-4;return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"flex gap-6 h-[333px] mb-[74px]",children:[(0,Pe.jsxs)("div",{className:"w-2/3 h-full",children:[(0,Pe.jsx)("h4",{className:"mb-4 text-darkBlack text-lg font-semibold",children:"Illustrasjoner"}),(0,Pe.jsxs)("div",{className:"gap-6 flex h-[calc(100%-40px)]",children:[(0,Pe.jsx)("div",{className:"w-1/2",children:(0,Pe.jsx)("img",{src:xA,alt:"product",className:"w-full h-full"})}),(0,Pe.jsx)("div",{className:"w-1/2 grid grid-cols-2 gap-6",children:o.map((e,t)=>(0,Pe.jsxs)("div",{className:"relative overflow-hidden h-full",children:[(0,Pe.jsx)("img",{src:e,alt:"product",className:"w-full h-full object-fill rounded-lg"}),3===t&&l>0&&(0,Pe.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-35 flex items-center justify-center text-white text-base font-bold cursor-pointer rounded-lg",onClick:()=>a(!0),children:["+",l]})]},t))})]})]}),(0,Pe.jsxs)("div",{className:"w-1/3 border border-gray2 shadow-shadow2 rounded-lg h-full",children:[(0,Pe.jsx)("div",{className:"px-4 py-5 border-b border-gray2 text-darkBlack text-base font-semibold",children:"Dokumenter"}),(0,Pe.jsx)("div",{className:"p-4 flex flex-col gap-4 overflow-y-auto h-[calc(100%-65px)] overFlowAutoY",children:null!==n&&void 0!==n&&n.documents&&(null===n||void 0===n?void 0:n.documents.length)>0?null===n||void 0===n?void 0:n.documents.map((e,t)=>(0,Pe.jsxs)("div",{className:"border border-gray2 rounded-lg p-3 bg-[#F9FAFB] flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-start gap-3 truncate",children:[(0,Pe.jsx)("div",{className:"border-[4px] border-lightPurple rounded-full flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-darkPurple w-7 h-7 rounded-full flex justify-center items-center",children:(0,Pe.jsx)(wA,{className:"text-primary w-4 h-4"})})}),(0,Pe.jsx)(kA,{file:e})]}),(0,Pe.jsx)("img",{src:bA,alt:"download",className:"cursor-pointer",onClick:()=>(async e=>{try{if(!e)return void console.error("File path is missing!");const t=LS(FS(),e),n=await OS(t),r=document.createElement("a");r.href=n,r.target="_blank",r.rel="noopener noreferrer",r.download=e.split("/").pop()||"download",document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(t){console.error("Error downloading file:",t)}})(e)})]},t)):(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)("p",{children:"Ingen dokument funnet."})})})]})]}),(0,Pe.jsxs)("div",{className:"w-full flex gap-[60px] mt-8",children:[(0,Pe.jsxs)("div",{className:"w-[43%]",children:[(0,Pe.jsx)("h4",{className:"text-darkBlack mb-6 font-semibold text-2xl",children:null===n||void 0===n?void 0:n.husmodell_name}),(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)("img",{src:null===n||void 0===n?void 0:n.photo,alt:"product-1",className:"w-full h-[262px] object-cover rounded-[12px] overflow-hidden"})}),(0,Pe.jsxs)("div",{className:"my-[20px] flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Pe.jsx)("p",{className:"text-gray text-base",children:"Pris fra"}),(0,Pe.jsx)("h4",{className:"text-xl font-semibold text-darkBlack",children:GS(null===n||void 0===n?void 0:n.pris)})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pe.jsxs)("div",{className:"text-gray text-sm",children:[(0,Pe.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.BRATotal})," ","m",(0,Pe.jsx)("sup",{children:"2"})]}),(0,Pe.jsx)("div",{className:"h-[12px] w-[1px] border-l border-gray"}),(0,Pe.jsxs)("div",{className:"text-gray text-sm",children:[(0,Pe.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.Soverom})," ","soverom"]}),(0,Pe.jsx)("div",{className:"h-[12px] w-[1px] border-l border-gray"}),(0,Pe.jsxs)("div",{className:"text-gray text-sm",children:[(0,Pe.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.Bad})," ","bad"]})]})]}),(0,Pe.jsxs)("div",{className:"w-full flex gap-8 mb-[60px]",children:[(0,Pe.jsx)("div",{className:"w-1/2 border-t-2 border-b-0 border-l-0 border-r-0 border-purple pt-4",children:(0,Pe.jsx)("table",{className:"table-auto border-0 w-full text-left property_detail_tbl",children:(0,Pe.jsxs)("tbody",{children:[(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"BRA total (bruksareal)"}),(0,Pe.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BRATotal," m",(0,Pe.jsx)("sup",{children:"2"})]})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"BRA bolig"}),(0,Pe.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BebygdAreal," m",(0,Pe.jsx)("sup",{children:"2"})]})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"GUA (Gulvareal):"}),(0,Pe.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.PRom," m",(0,Pe.jsx)("sup",{children:"2"})]})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bebygd areal (BYA)"}),(0,Pe.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BebygdAreal," m",(0,Pe.jsx)("sup",{children:"2"})]})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Lengde"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Lengde})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bredde"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Bredde})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Soverom"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Soverom})]})]})})}),(0,Pe.jsx)("div",{className:"w-1/2 border-t-2 border-b-0 border-l-0 border-r-0 border-purple pt-4",children:(0,Pe.jsx)("table",{className:"table-auto border-0 w-full text-left property_detail_tbl",children:(0,Pe.jsxs)("tbody",{children:[(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bad"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Bad})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Innvendig bod"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.InnvendigBod})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Energimerking"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Energimerking})]}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Tilgjengelig bolig"}),(0,Pe.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.TilgjengeligBolig})]})]})})})]}),(0,Pe.jsx)("h2",{className:"mb-6 text-darkBlack text-2xl font-semibold",children:"Plantegninger og fasader"}),(0,Pe.jsx)("img",{src:null===n||void 0===n?void 0:n.PlantegningerFasader[0],alt:"map",className:"w-full"})]}),(0,Pe.jsxs)("div",{className:"w-[57%]",children:[(0,Pe.jsx)("h2",{className:"text-darkBlack text-2xl font-semibold mb-4 truncate",children:null===n||void 0===n?void 0:n.Hustittel}),(0,Pe.jsx)("div",{className:"flex flex-col gap-4 mb-[60px]",children:(0,Pe.jsx)("textarea",{value:null===n||void 0===n?void 0:n.OmHusmodellen,className:"text-base text-gray h-full focus-within:outline-none resize-none",ref:r,readOnly:!0})}),(0,Pe.jsx)("h2",{className:"text-darkBlack text-2xl font-semibold mb-4",children:null===n||void 0===n?void 0:n.TittelVideo}),(0,Pe.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,Pe.jsx)("iframe",{width:"100%",height:"100%",src:(e=>{var t;const n=null===(t=e.split("v=")[1])||void 0===t?void 0:t.split("&")[0];return n?"https://www.youtube.com/embed/".concat(n,"?rel=0&modestbranding=1&controls=0&disablekb=1&fs=0"):""})(null===n||void 0===n?void 0:n.VideoLink),frameBorder:"0",allowFullScreen:!0,title:null===n||void 0===n?void 0:n.TittelVideo,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin"})})]})]}),i&&(0,Pe.jsx)(lC,{isOpen:!0,onClose:()=>{a(!i)},children:(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-4xl w-full relative",children:[(0,Pe.jsx)("button",{className:"absolute top-3 right-3",onClick:()=>a(!1),children:(0,Pe.jsx)("img",{src:yA,alt:"close"})}),(0,Pe.jsx)("div",{className:"grid grid-cols-3 gap-2 my-4",children:s.map((e,t)=>(0,Pe.jsx)("img",{src:e,alt:"product",className:"w-full h-[200px]"},t))})]})})]})};const CA=n.p+"static/media/Ic_info_circle.f235c5d49af556aa298afcd66ae739cd.svg",jA=e=>{var t,n,r;let{husmodellData:i}=e;const a=null===i||void 0===i?void 0:i.Byggekostnader,s=(a?a.reduce((e,t)=>{var n;const r=null===(n=t.pris)||void 0===n?void 0:n.replace(/\s/g,"").replace(/\./g,"").replace(",",".");return e+(r?parseFloat(r):0)},0):0).toLocaleString("nb-NO"),o=null===i||void 0===i?void 0:i.Tomtekost,l=(o?o.reduce((e,t)=>{var n;const r=null===(n=t.pris)||void 0===n?void 0:n.replace(/\s/g,"").replace(/\./g,"").replace(",",".");return e+(r?parseFloat(r):0)},0):0).toLocaleString("nb-NO");return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)("div",{className:"flex gap-6",children:[(0,Pe.jsxs)("div",{className:"w-1/2 p-4 border border-gray2 rounded-lg h-max",style:{boxShadow:"0px 4px 6px -2px #10182808, 0px 12px 16px -4px #10182814"},children:[(0,Pe.jsx)("div",{className:"text-center p-4 text-black font-medium text-lg bg-lightPurple mb-5",children:"Byggekostnader"}),(null===i||void 0===i||null===(t=i.Byggekostnader)||void 0===t?void 0:t.length)>0&&(0,Pe.jsxs)("div",{className:"flex flex-col gap-5",children:[null===i||void 0===i||null===(n=i.Byggekostnader)||void 0===n?void 0:n.map((e,t)=>(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("img",{src:CA,alt:"icon"}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:null===e||void 0===e?void 0:e.Headline})]}),(0,Pe.jsx)("h4",{className:"text-black font-medium text-base",children:null!==e&&void 0!==e&&e.pris?"kr ".concat(e.pris):"inkl. i tilbud"})]},t)),(0,Pe.jsxs)("div",{className:"bg-[#F7F1FF] flex items-center justify-between gap-2 p-2",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("img",{src:CA,alt:"icon"}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:"Antatt prisstigning til den 15.i den m\xe5ned t\xf8mrerne starter"})]}),(0,Pe.jsx)("div",{className:"border border-gray2 rounded-lg bg-white py-[10px] px-[14px] flex items-center justify-center text-darkBlack font-medium text-base",children:"kr 221 800"})]}),(0,Pe.jsx)("div",{className:"border-t border-gray2"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("img",{src:CA,alt:"icon"}),(0,Pe.jsx)("p",{className:"text-gray text-lg font-bold",children:"Sum byggkostnader"})]}),(0,Pe.jsxs)("h4",{className:"text-black font-bold text-base",children:["kr ",s]})]})]})]}),(0,Pe.jsxs)("div",{className:"w-1/2 p-4 border border-gray2 rounded-lg h-max",style:{boxShadow:"0px 4px 6px -2px #10182808, 0px 12px 16px -4px #10182814"},children:[(0,Pe.jsx)("div",{className:"text-center p-4 text-black font-medium text-lg bg-lightPurple mb-5",children:"Tomkostnader"}),(0,Pe.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("img",{src:CA,alt:"icon"}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:"Tomtekj\xf8p"})]}),(0,Pe.jsx)("input",{type:"text",className:"focus-within:outline-none placeholder:text-gray rounded-[8px] shadow-shadow1 border border-gray1 py-[10px] px-[14px] w-[140px]",placeholder:"Enter"})]}),(null===i||void 0===i?void 0:i.Tomtekost.length)>0&&(null===i||void 0===i||null===(r=i.Tomtekost)||void 0===r?void 0:r.map((e,t)=>(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("img",{src:CA,alt:"icon"}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:null===e||void 0===e?void 0:e.Headline})]}),(0,Pe.jsx)("h4",{className:"text-black font-medium text-base",children:null!==e&&void 0!==e&&e.pris?"kr ".concat(e.pris):"inkl. i tilbud"})]},t))),(0,Pe.jsx)("div",{className:"border-t border-gray2"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("img",{src:CA,alt:"icon"}),(0,Pe.jsx)("p",{className:"text-gray text-lg font-bold",children:"Sum tomtekostnader"})]}),(0,Pe.jsxs)("h4",{className:"text-black font-bold text-base",children:["kr ",l]})]})]})]})]})})},_A=()=>{var t,n,r,i,a,s;const[o,l]=(0,e.useState)(0),c=hi().pathname.split("/"),d=c.length>2?c[2]:null,[u,h]=(0,e.useState)(!0),[p,f]=(0,e.useState)(null);return(0,e.useEffect)(()=>{if(!d)return void h(!1);(async()=>{const e=await HS(d);e&&f(e),h(!1)})()},[d]),(0,Pe.jsx)(Pe.Fragment,{children:u?(0,Pe.jsx)(Ra,{}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"bg-lightPurple py-4 px-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-gray text-sm font-medium",children:"Husmodell"}),(0,Pe.jsx)(gA,{className:"text-gray2 w-4 h-4"}),(0,Pe.jsx)("span",{className:"text-primary text-sm font-medium",children:"Se husmodell"})]}),(0,Pe.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Pe.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,Pe.jsx)("img",{src:null===p||void 0===p||null===(t=p.Husdetaljer)||void 0===t?void 0:t.photo,alt:"plot-image",className:"w-[180px] h-[113px] rounded-lg"}),(0,Pe.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,Pe.jsx)("h4",{className:"text-darkBlack font-medium text-2xl",children:null===p||void 0===p||null===(n=p.Husdetaljer)||void 0===n?void 0:n.husmodell_name}),(0,Pe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pe.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===p||void 0===p||null===(r=p.Husdetaljer)||void 0===r?void 0:r.BRATotal," ",(0,Pe.jsxs)("span",{className:"text-gray font-normal",children:["m",(0,Pe.jsx)("sup",{children:"2"})]})]}),(0,Pe.jsx)("div",{className:"h-3 border-l border-gray2"}),(0,Pe.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===p||void 0===p||null===(i=p.Husdetaljer)||void 0===i?void 0:i.Soverom," ",(0,Pe.jsx)("span",{className:"text-gray font-normal",children:"soverom"})]}),(0,Pe.jsx)("div",{className:"h-3 border-l border-gray2"}),(0,Pe.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===p||void 0===p||null===(a=p.Husdetaljer)||void 0===a?void 0:a.Bad," ",(0,Pe.jsx)("span",{className:"text-gray font-normal",children:"bad"})]})]})]})]}),(0,Pe.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Pe.jsx)("p",{className:"text-gray text-sm",children:"Pris fra"}),(0,Pe.jsx)("h5",{className:"text-darkBlack text-xl font-semibold",children:GS(null===p||void 0===p||null===(s=p.Husdetaljer)||void 0===s?void 0:s.pris)})]})]})]}),(0,Pe.jsxs)("div",{className:"py-4 px-6",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray2 flex items-center justify-between gap-2 mb-6",children:[(0,Pe.jsx)(vA,{tabs:[{label:"Kundedetaljer"},{label:"Prisliste"}],activeTab:o,setActiveTab:l}),(0,Pe.jsx)(uC,{text:"Endre husmodell",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",path:"/edit-husmodell/".concat(d)})]}),0===o&&(0,Pe.jsx)(SA,{husmodellData:p.Husdetaljer}),1===o&&(0,Pe.jsx)(jA,{husmodellData:p.Prisliste})]})]})})},NA={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-467]|5[0-3]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|472[247-9]|505[2-57-9]|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var EA={}.constructor;function AA(e){return void 0!==e&&null!==e&&e.constructor===EA}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return RA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DA(e){var t,n,r,i=PA(Array.prototype.slice.call(e),4),a=i[0],s=i[1],o=i[2],l=i[3];if("string"!==typeof a)throw new TypeError("A text for parsing must be a string.");if(t=a,s&&"string"!==typeof s){if(!AA(s))throw new Error("Invalid second argument: ".concat(s));o?(n=s,r=o):r=s}else l?(n=o,r=l):(n=void 0,r=o),s&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(t){IA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({defaultCountry:s},n));return{text:t,options:n,metadata:r}}var MA="0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9",OA="".concat("-\u2010-\u2015\u2212\u30fc\uff0d").concat("\uff0f/").concat("\uff0e.").concat(" \xa0\xad\u200b\u2060\u3000").concat("()\uff08\uff09\uff3b\uff3d\\[\\]").concat("~\u2053\u223c\uff5e");function LA(e){return LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(e)}function FA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $A(e){var t=zA();return function(){var n,r=WA(e);if(t){var i=WA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===LA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return VA(e)}(this,n)}}function VA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BA(e){var t="function"===typeof Map?new Map:void 0;return BA=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return UA(e,arguments,WA(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),HA(r,e)},BA(e)}function UA(e,t,n){return UA=zA()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&HA(i,n.prototype),i},UA.apply(null,arguments)}function zA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Oe){return!1}}function HA(e,t){return HA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},HA(e,t)}function WA(e){return WA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},WA(e)}var KA=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}(a,e);var t,n,r,i=$A(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),Object.setPrototypeOf(VA(t),a.prototype),t.name=t.constructor.name,t}return t=a,n&&FA(t.prototype,n),r&&FA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(BA(Error));function GA(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var a=Number(n[i]),s=Number(r[i]);if(a>s)return 1;if(s>a)return-1;if(!isNaN(a)&&isNaN(s))return 1;if(isNaN(a)&&!isNaN(s))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function qA(e){return qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qA(e)}function XA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QA(e,t,n){return t&&YA(e.prototype,t),n&&YA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ZA=" ext. ",JA=/^\d+$/,eT=function(){function e(t){XA(this,e),sT(t),this.metadata=t,dT.call(this,t)}return QA(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&JA.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new tT(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new tT(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),tT=function(){function e(t,n){XA(this,e),this.globalMetadataObject=n,this.metadata=t,dT.call(this,n.metadata)}return QA(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map(function(t){return new nT(t,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&aT(this.types(),e))return new iT(aT(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?ZA:this.metadata[13]||ZA}}]),e}(),nT=function(){function e(t,n){XA(this,e),this._format=t,this.metadata=n}return QA(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||rT.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),rT=/^\(?\$1\)?$/,iT=function(){function e(t,n){XA(this,e),this.type=t,this.metadata=n}return QA(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function aT(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function sT(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!AA(e)||!AA(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(AA(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+oT(e)+": "+e,"."))}var oT=function(e){return qA(e)};function lT(e,t){if((t=new eT(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function cT(e,t){return t.countries.hasOwnProperty(e)}function dT(e){var t=e.version;"number"===typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===GA(t,"1.2.0")?this.v2=!0:-1===GA(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}var uT=function(e){return"([".concat(MA,"]{1,").concat(e,"})")};function hT(e){var t="[ \xa0\\t,]*",n="[:\\.\uff0e]?[ \xa0\\t,-]*",r="#?",i="[ \xa0\\t]*";return";ext="+uT("20")+"|"+(t+"(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|anexo)"+n+uT("20")+r)+"|"+(t+"(?:[x\uff58#\uff03~\uff5e]|int|\uff49\uff4e\uff54)"+n+uT("9")+r)+"|"+("[- ]+"+uT("6")+"#")+"|"+(i+"(?:,{2}|;)"+n+uT("15")+r)+"|"+(i+"(?:,)+"+n+uT("9")+r)}var pT="["+MA+"]{2}",fT="[+\uff0b]{0,1}(?:["+OA+"]*["+MA+"]){3,}["+OA+MA+"]*",mT=new RegExp("^[+\uff0b]{0,1}(?:["+OA+"]*["+MA+"]){1,2}$","i"),gT=fT+"(?:"+hT()+")?",vT=new RegExp("^"+pT+"$|^"+gT+"$","i");var xT=new RegExp("(?:"+hT()+")$","i");function bT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return yT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wT={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"};function kT(e){return wT[e]}function ST(e){for(var t,n="",r=bT(e.split(""));!(t=r()).done;){var i=kT(t.value);i&&(n+=i)}return n}function CT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return jT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _T(e){for(var t,n="",r=CT(e.split(""));!(t=r()).done;){n+=NT(t.value,n)||""}return n}function NT(e,t,n){return"+"===e?t?void("function"===typeof n&&n("end")):"+":kT(e)}function ET(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return AT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TT(e,t){return IT(e,void 0,t)}function IT(e,t,n){var r=n.type(t),i=r&&r.possibleLengths()||n.possibleLengths();if(!i)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!n.type("FIXED_LINE"))return IT(e,"MOBILE",n);var a=n.type("MOBILE");a&&(i=function(e,t){for(var n,r=e.slice(),i=ET(t);!(n=i()).done;){var a=n.value;e.indexOf(a)<0&&r.push(a)}return r.sort(function(e,t){return e-t})}(i,a.possibleLengths()))}else if(t&&!r)return"INVALID_LENGTH";var s=e.length,o=i[0];return o===s?"IS_POSSIBLE":o>s?"TOO_SHORT":i[i.length-1]<s?"TOO_LONG":i.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function PT(e,t){return"IS_POSSIBLE"===TT(e,t)}function RT(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function DT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function MT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OT=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function LT(e,t,n){if(t=t||{},e.country||e.countryCallingCode){(n=new eT(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(RT(r,n.nationalNumberPattern())){if(FT(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?FT(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var i,a=DT(OT);!(i=a()).done;){var s=i.value;if(FT(r,s,n))return s}}}}function FT(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&RT(e,t.pattern()))}function $T(e,t,n){var r=new eT(n).getCountryCodesForCallingCode(e);return r?r.filter(function(e){return function(e,t,n){var r=new eT(n);if(r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0)return!0;return!1}(t,e,n)}):[]}var VT=new RegExp("(["+MA+"])");function BT(e,t,n,r){if(t){var i=new eT(r);i.selectNumberingPlan(t,n);var a=new RegExp(i.IDDPrefix());if(0===e.search(a)){var s=(e=e.slice(e.match(a)[0].length)).match(VT);if(!(s&&null!=s[1]&&s[1].length>0&&"0"===s[1]))return e}}}function UT(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,a,s,o=r.length-1,l=o>0&&r[o];if(t.nationalPrefixTransformRule()&&l)i=e.replace(n,t.nationalPrefixTransformRule()),o>1&&(a=r[1]);else{var c=r[0];i=e.slice(c.length),l&&(a=r[1])}if(l){var d=e.indexOf(r[1]);e.slice(0,d)===t.numberingPlan.nationalPrefix()&&(s=t.numberingPlan.nationalPrefix())}else s=r[0];return{nationalNumber:i,nationalPrefix:s,carrierCode:a}}}return{nationalNumber:e}}function zT(e,t){var n=UT(e,t),r=n.carrierCode,i=n.nationalNumber;if(i!==e){if(!function(e,t,n){if(RT(e,n.nationalNumberPattern())&&!RT(t,n.nationalNumberPattern()))return!1;return!0}(e,i,t))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch(TT(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(i,t))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:r}}function HT(e,t,n,r){var i=t?lT(t,r):n;if(0===e.indexOf(i)){(r=new eT(r)).selectNumberingPlan(t,n);var a=e.slice(i.length),s=zT(a,r).nationalNumber,o=zT(e,r).nationalNumber;if(!RT(o,r.nationalNumberPattern())&&RT(s,r.nationalNumberPattern())||"TOO_LONG"===TT(o,r))return{countryCallingCode:i,number:a}}return{number:e}}function WT(e,t,n,r){if(!e)return{};var i;if("+"!==e[0]){var a=BT(e,t,n,r);if(!a||a===e){if(t||n){var s=HT(e,t,n,r),o=s.countryCallingCode,l=s.number;if(o)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:o,number:l}}return{number:e}}i=!0,e="+"+a}if("0"===e[1])return{};r=new eT(r);for(var c=2;c-1<=3&&c<=e.length;){var d=e.slice(1,c);if(r.hasCallingCode(d))return r.selectNumberingPlan(d),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:e.slice(c)};c++}return{}}function KT(e){return e.replace(new RegExp("[".concat(OA,"]+"),"g")," ").trim()}var GT=/(\$\d)/;function qT(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix,a=(n.carrierCode,n.metadata,e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(GT,t.nationalPrefixFormattingRule()):t.format()));return r?KT(a):a}var XT=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function YT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return QT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function QT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(t){eI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tI={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function nI(e,t,n,r){if(n=n?JT(JT({},tI),n):tI,r=new eT(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.selectNumberingPlan(e.countryCallingCode)}var i,a=r.countryCallingCode(),s=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return s?iI(i=rI(s,e.carrierCode,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return s?(i=rI(s,null,"INTERNATIONAL",r,n),iI(i="+".concat(a," ").concat(i),e.ext,r,n.formatExtension)):"+".concat(a);case"E.164":return"+".concat(a).concat(s);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(a).concat(s),ext:e.ext});case"IDD":if(!n.fromCountry)return;var o=function(e,t,n,r,i){var a=lT(r,i.metadata);if(a===n){var s=rI(e,t,"NATIONAL",i);return"1"===n?n+" "+s:s}var o=function(e,t,n){var r=new eT(n);return r.selectNumberingPlan(e,t),r.defaultIDDPrefix()?r.defaultIDDPrefix():XT.test(r.IDDPrefix())?r.IDDPrefix():void 0}(r,void 0,i.metadata);if(o)return"".concat(o," ").concat(n," ").concat(rI(e,null,"INTERNATIONAL",i))}(s,e.carrierCode,a,n.fromCountry,r);return iI(o,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function rI(e,t,n,r,i){var a=function(e,t){for(var n,r=YT(e);!(n=r()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var a=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(a))continue}if(RT(t,i.pattern()))return i}}(r.formats(),e);return a?qT(e,a,{useInternationalFormat:"INTERNATIONAL"===n,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:r}):e}function iI(e,t,n,r){return t?r(e,t,n):e}function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(t){oI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cI=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("First argument is required");if("string"!==typeof t)throw new TypeError("First argument must be a string");if("string"===typeof t){if("+"===t[0]&&!n)throw new TypeError("`metadata` argument not passed");if(AA(n)&&AA(n.countries)){r=n;var i=t;if(!uI.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=WT(i,void 0,void 0,r);if(t=a.countryCallingCode,!(n=a.number))throw new Error("Invalid `number` argument passed: too short")}}if(!n)throw new TypeError("`nationalNumber` argument is required");if("string"!==typeof n)throw new TypeError("`nationalNumber` argument must be a string");sT(r);var s=function(e,t){var n,r,i=new eT(t);dI(e)?(n=e,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=e;return{country:n,countryCallingCode:r}}(t,r),o=s.country,l=s.countryCallingCode;this.country=o,this.countryCallingCode=l,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}var t,n,r;return t=e,n=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:$T(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new eT(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return PT(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return function(e,t,n){return t=t||{},(n=new eT(n)).selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==LT(e,t,n.metadata):RT(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern())}(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){return new eT(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return LT(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return nI(this,e,t?sI(sI({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],n&&lI(t.prototype,n),r&&lI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),dI=function(e){return/^[A-Z]{2}$/.test(e)};var uI=/^\+\d+$/;function hI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fI(e,t){var n=t.countries,r=(t.defaultCountry,t.metadata);r=new eT(r);for(var i,a=hI(n);!(i=a()).done;){var s=i.value;if(r.country(s),r.leadingDigits()){if(e&&0===e.search(r.leadingDigits()))return s}else if(LT({phone:e,country:s},void 0,r.metadata))return s}}function mI(e,t){var n=t.nationalNumber,r=t.defaultCountry,i=t.metadata;var a=i.getCountryCodesForCallingCode(e);if(a)return 1===a.length?a[0]:fI(n,{countries:a,defaultCountry:r,metadata:i.metadata})}var gI="(["+MA+"]|[\\-\\.\\(\\)]?)",vI=new RegExp("^\\+"+gI+"*["+MA+"]"+gI+"*$","g"),xI=new RegExp("^("+("["+MA+"]+((\\-)*["+MA+"])*")+"\\.)*"+("[a-zA-Z]+((\\-)*["+MA+"])*")+"\\.?$","g"),bI="tel:",yI=";phone-context=";function wI(e,t){var n,r=t.extractFormattedPhoneNumber,i=function(e){var t=e.indexOf(yI);if(t<0)return null;var n=t+15;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}(e);if(!function(e){return null===e||0!==e.length&&(vI.test(e)||xI.test(e))}(i))throw new KA("NOT_A_NUMBER");if(null===i)n=r(e)||"";else{n="","+"===i.charAt(0)&&(n+=i);var a,s=e.indexOf(bI);a=s>=0?s+4:0;var o=e.indexOf(yI);n+=e.substring(a,o)}var l=n.indexOf(";isub=");if(l>0&&(n=n.substring(0,l)),""!==n)return n}var kI=new RegExp("[+\uff0b"+MA+"]"),SI=new RegExp("[^"+MA+"#]+$");function CI(e,t,n){if(t=t||{},n=new eT(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new KA("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t,n){var r=wI(e,{extractFormattedPhoneNumber:function(e){return function(e,t,n){if(!e)return;if(e.length>250){if(n)throw new KA("TOO_LONG");return}if(!1===t)return e;var r=e.search(kI);if(r<0)return;return e.slice(r).replace(SI,"")}(e,n,t)}});if(!r)return{};if(!function(e){return e.length>=2&&vT.test(e)}(r))return function(e){return mT.test(e)}(r)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(xT);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(xT),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}(r);if(i.ext)return i;return{number:r}}(e,t.v2,t.extract),i=r.number,a=r.ext,s=r.error;if(!i){if(t.v2){if("TOO_SHORT"===s)throw new KA("TOO_SHORT");throw new KA("NOT_A_NUMBER")}return{}}var o=function(e,t,n,r){var i,a=WT(_T(e),t,n,r.metadata),s=a.countryCallingCodeSource,o=a.countryCallingCode,l=a.number;if(o)r.selectNumberingPlan(o);else{if(!l||!t&&!n)return{};r.selectNumberingPlan(t,n),t&&(i=t),o=n||lT(t,r.metadata)}if(!l)return{countryCallingCodeSource:s,countryCallingCode:o};var c=zT(_T(l),r),d=c.nationalNumber,u=c.carrierCode,h=mI(o,{nationalNumber:d,defaultCountry:t,metadata:r});h&&(i=h,"001"===h||r.country(i));return{country:i,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:d,carrierCode:u}}(i,t.defaultCountry,t.defaultCallingCode,n),l=o.country,c=o.nationalNumber,d=o.countryCallingCode,u=o.countryCallingCodeSource,h=o.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new KA("INVALID_COUNTRY");return{}}if(!c||c.length<2){if(t.v2)throw new KA("TOO_SHORT");return{}}if(c.length>17){if(t.v2)throw new KA("TOO_LONG");return{}}if(t.v2){var p=new cI(d,c,n.metadata);return l&&(p.country=l),h&&(p.carrierCode=h),a&&(p.ext=a),p.__countryCallingCodeSource=u,p}var f=!!(t.extended?n.hasSelectedNumberingPlan():l)&&RT(c,n.nationalNumberPattern());return t.extended?{country:l,countryCallingCode:d,carrierCode:h,valid:f,possible:!!f||!(!0!==t.extended||!n.possibleLengths()||!PT(c,n)),phone:c,ext:a}:f?function(e,t,n){var r={country:e,phone:t};n&&(r.ext=n);return r}(l,c,a):{}}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(t){TI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function II(e,t,n){t&&t.defaultCountry&&!cT(t.defaultCountry,n)&&(t=AI(AI({},t),{},{defaultCountry:void 0}));try{return function(e,t,n){return CI(e,_I(_I({},t),{},{v2:!0}),n)}(e,t,n)}catch(r){if(!(r instanceof KA))throw r}}function PI(){var e=DA(arguments);return II(e.text,e.options,e.metadata)}const RI={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xc5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xe9lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xe7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var DI=n(173),MI=DI.shape({country_calling_codes:DI.object.isRequired,countries:DI.object.isRequired}),OI=DI.objectOf(DI.string),LI=n(139);function FI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VI(e,t){for(var n,r=0,i=FI(t.split(""));!(n=i()).done;){n.value===e&&r++}return r}function BI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return UI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function UI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(e){return{text:e}};var r=VI(t,e);return function(i){if(!i)return{text:"",template:e};for(var a,s=0,o="",l=BI(e.split(""));!(a=l()).done;){var c=a.value;if(c===t){if(o+=i[s],++s===i.length&&i.length<r)break}else o+=c}return n&&(o=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",i=e.length,a=VI("(",e)-VI(")",e);a>0&&i<t.length;)e+=t[i].replace(n,r),")"===t[i]&&a--,i++;return e}(o,e)),{text:o,template:e}}}var HI=8,WI=46;function KI(e,t){void 0!==t&&(!function(){if("undefined"!==typeof navigator)return GI.test(navigator.userAgent)}()?e.setSelectionRange(t,t):setTimeout(function(){return e.setSelectionRange(t,t)},0))}var GI=/Android/i;function qI(e,t,n,r,i){if(!t.hasAttribute("readonly")){var a=function(e){switch(e.keyCode){case HI:return"Backspace";case WI:return"Delete"}}(e);switch(a){case"Delete":case"Backspace":e.preventDefault();var s=function(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}(t);return s?(XI(t,s),YI(t,n,r,void 0,i)):YI(t,n,r,a,i)}}}function XI(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,KI(e,t.start)}function YI(e,t,n,r,i){var a=function(e,t,n){for(var r={},i="",a=0,s=0;s<e.length;){var o=n(e[s],i,r);void 0!==o&&(i+=o,void 0!==t&&(t===s?a=i.length-1:t>s&&(a=i.length))),s++}return void 0===t&&(a=i.length),{value:i,caret:a}}(e.value,e.selectionStart,t),s=a.value,o=a.caret;if(r){var l=function(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1)}return{value:e,caret:t}}(s,o,r);s=l.value,o=l.caret}var c=function(e,t,n){"string"===typeof n&&(n=zI(n));var r=n(e)||{},i=r.text,a=r.template;if(void 0===i&&(i=e),a)if(void 0===t)t=i.length;else{for(var s=0,o=!1,l=-1;s<i.length&&s<a.length;){if(i[s]!==a[s]){if(0===t){o=!0,t=s;break}l=s,t--}s++}o||(t=l+1)}return{text:i,caret:t}}(s,o,n),d=c.text;o=c.caret,e.value=d,KI(e,o),i&&i(s)}var QI=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(t){eP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nP(t){var n=t.ref,r=t.parse,i=t.format,a=t.value,s=t.defaultValue,o=t.controlled,l=void 0===o||o,c=t.onChange,d=t.onKeyDown,u=tP(t,QI),h=(0,e.useRef)(),p=(0,e.useCallback)(function(e){h.current=e,n&&("function"===typeof n?n(e):n.current=e)},[n]),f=(0,e.useCallback)(function(e){YI(h.current,r,i,void 0,c)},[h,r,i,c]),m=(0,e.useCallback)(function(e){if(d&&d(e),!e.defaultPrevented)return qI(e,h.current,r,i,c)},[h,r,i,c,d]),g=JI(JI({},u),{},{ref:p,onChange:f,onKeyDown:m});return JI(JI({},g),{},l?{value:i(rP(a)?"":a).text}:{defaultValue:i(rP(s)?"":s).text})}function rP(e){return void 0===e||null===e}var iP=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lP(t,n){var r=t.inputComponent,i=void 0===r?"input":r,a=t.parse,s=t.format,o=t.value,l=t.defaultValue,c=t.onChange,d=t.controlled,u=t.onKeyDown,h=t.type,p=nP(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(t){sP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({ref:n,parse:a,format:s,value:o,defaultValue:l,onChange:c,controlled:d,onKeyDown:u,type:void 0===h?"text":h},oP(t,iP)));return e.createElement(i,p)}(lP=e.forwardRef(lP)).propTypes={parse:DI.func.isRequired,format:DI.func.isRequired,inputComponent:DI.elementType,type:DI.string,value:DI.string,defaultValue:DI.string,onChange:DI.func,controlled:DI.bool,onKeyDown:DI.func,onCut:DI.func,onPaste:DI.func};const cP=lP;function dP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var uP=function(){function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCountryChange=n,this.onCallingCodeChange=r}var t,n,r;return t=e,(n=[{key:"reset",value:function(e){var t=e.country,n=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,n)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])&&dP(t.prototype,n),r&&dP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function hP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fP="x",mP=new RegExp(fP);function gP(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function vP(e,t){return")"===e[t]&&t++,function(e){var t=[],n=0;for(;n<e.length;)"("===e[n]?t.push(n):")"===e[n]&&t.pop(),n++;var r=0,i="";t.push(e.length);for(var a=0,s=t;a<s.length;a++){var o=s[a];i+=e.slice(r,o),r=o+1}return i}(e.slice(0,t))}function xP(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode;if(i(t)){var s=bP(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(s)return s}return bP(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}function bP(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,s=qT(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?s=e.nationalPrefix+a(t)+s:e.complexPrefixBeforeNationalSignificantNumber&&(s=e.complexPrefixBeforeNationalSignificantNumber+" "+s)),function(e,t){return ST(e)===t.getNationalDigits()}(s,e))return s}function yP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw new Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],n=t.branches,r=t.instructions;if(n)return{op:"|",args:n.concat([jP(r)])};if(0===r.length)throw new Error("Pattern is required");return 1===r.length?r[0]:r}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var t=e.match(CP);if(t){var n=t[1],r=e.slice(0,t.index),i=e.slice(t.index+n.length);switch(n){case"(?:":r&&this.parsePattern(r),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(r&&this.parsePattern(r),0===this.getContext().instructions.length)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext().branches;a.push(jP(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:a});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(r&&this.parsePattern(r),!this.getContext().branches){if(1!==this.context.length)throw new Error('"branches" not found in an "or" group context');this.getContext().branches=[]}this.getContext().branches.push(jP(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":r&&this.parsePattern(r),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:kP(r)});break;default:throw new Error("Unknown operator: ".concat(n))}i&&this.parsePattern(i)}else{if(SP.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""))}}}])&&yP(t.prototype,n),r&&yP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function kP(e){for(var t=[],n=0;n<e.length;){if("-"===e[n]){if(0===n||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,a=r;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[n]);n++}return t}var SP=/[\(\)\[\]\?\:\|]/,CP=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function jP(e){return 1===e.length?e[0]:e}function _P(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return NP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function NP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var AP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matchTree=(new wP).parse(t)}var t,n,r;return t=e,n=[{key:"match",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOverflow;if(!e)throw new Error("String is required");var n=TP(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||t)return n}}],n&&EP(t.prototype,n),r&&EP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function TP(e,t,n){if("string"===typeof t){var r=e.join("");return 0===t.indexOf(r)?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:0===r.indexOf(t)?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),a=0;a<t.length;){var s=TP(i,t[a],n&&a===t.length-1);if(!s)return;if(s.overflow)return s;if(!s.match){if(s.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(s,null,2)))}if(0===(i=i.slice(s.matchedChars.length)).length)return a===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0};a++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var o,l,c=_P(t.args);!(l=c()).done;){var d=TP(e,l.value,n);if(d){if(d.overflow)return d;if(d.match)return{match:!0,matchedChars:d.matchedChars};if(!d.partialMatch)throw new Error("Unsupported match result:\n".concat(JSON.stringify(d,null,2)));o=!0}}return o?{partialMatch:!0}:void 0;case"[]":for(var u,h=_P(t.args);!(u=h()).done;){var p=u.value;if(e[0]===p)return 1===e.length?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[p]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function IP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return PP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function PP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var DP=gP("9",15),MP=/[- ]/,OP=function(){return/\[([^\[\]])*\]/g},LP=function(){return/\d(?=[^,}][^,}])/g},FP=new RegExp("["+OA+"]*\\$1["+OA+"]*(\\$\\d["+OA+"]*)*$"),$P=function(){function e(t){t.state;var n=t.metadata;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=n,this.resetFormat()}var t,n,r;return t=e,n=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var n=this;if(function(e,t){return"IS_POSSIBLE"===TT(e,t)}(t.nationalSignificantNumber,this.metadata))for(var r,i=IP(this.matchingFormats);!(r=i()).done;){var a=r.value,s=xP(t,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return n.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return n.getSeparatorAfterNationalPrefix(e)}});if(s)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(s.replace(/\d/g,fP),t),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(fP),s}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var n=this.chosenFormat,r=this.chooseFormat(t);if(r)return r===n?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,n=e.nationalSignificantNumber,r=e.nationalPrefix,i=e.international,a=n,s=a.length-3;s<0&&(s=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,i,r)&&t.formatMatches(e,a,s)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,n){return!(n&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat())&&!(!t&&!n&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,n){var r=e.leadingDigitsPatterns().length;if(0===r)return!0;n=Math.min(n,r-1);var i=e.leadingDigitsPatterns()[n];if(t.length<3)try{return void 0!==new AP(i).match(t,{allowOverflow:!0})}catch(a){return console.error(a),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,n=this,r=function(){var r=t.value;return n.chosenFormat===r?"break":FP.test(n.getFormatFormat(r,e.international))?n.createTemplateForFormat(r,e)?(n.chosenFormat=r,"break"):(n.matchingFormats=n.matchingFormats.filter(function(e){return e!==r}),"continue"):"continue"},i=IP(this.matchingFormats.slice());!(t=i()).done;){var a=r();if("break"===a)break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var n=this.getTemplateForFormat(e,t);return n?(this.setNationalNumberTemplate(n,t),!0):void 0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&MP.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var n=e.IDDPrefix,r=e.missingPlus;return n?t&&!1===t.spacing?n:n+" ":r?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,n=0,r=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";n<r.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(fP,t+1),n++;return vP(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,fP)+gP(fP,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var n=t.nationalSignificantNumber,r=t.international,i=t.nationalPrefix,a=t.complexPrefixBeforeNationalSignificantNumber,s=e.pattern();s=s.replace(OP(),"\\d").replace(LP(),"\\d");var o=DP.match(s)[0];if(!(n.length>o.length)){var l=new RegExp("^"+s+"$"),c=n.replace(/\d/g,"9");l.test(c)&&(o=c);var d,u=this.getFormatFormat(e,r);if(this.shouldTryNationalPrefixFormattingRule(e,{international:r,nationalPrefix:i})){var h=u.replace(GT,e.nationalPrefixFormattingRule());if(ST(e.nationalPrefixFormattingRule())===(i||"")+ST("$1")&&(u=h,d=!0,i))for(var p=i.length;p>0;)u=u.replace(/\d/,fP),p--}var f=o.replace(new RegExp(s),u).replace(new RegExp("9","g"),fP);return d||(a?f=gP(fP,a.length)+" "+f:i&&(f=gP(fP,i.length)+this.getSeparatorAfterNationalPrefix(e)+f)),r&&(f=KT(f)),f}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,n){for(var r,i=hP(n.split(""));!(r=i()).done;){var a=r.value;if(e.slice(t+1).search(mP)<0)return;t=e.search(mP),e=e.replace(mP,a)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(t)return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],vP(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1);this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var n=t.international,r=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&r||!i&&!n)return!0}}}],n&&RP(t.prototype,n),r&&RP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function VP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return BP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zP=new RegExp("^"+("["+OA+MA+"]+")+"$","i"),HP="(?:[+\uff0b]["+OA+MA+"]*|["+OA+MA+"]+)",WP=new RegExp("[^"+OA+MA+"]+.*$"),KP=/[^\d\[\]]/,GP=function(){function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,a=t.onNationalSignificantNumberChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=a}var t,n,r;return t=e,(n=[{key:"input",value:function(e,t){var n,r=function(e){var t=function(e){var t=function(e){var t,n=e.search(HP);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice(1)),e=e.replace(WP,""),t&&(e="+"+e),e}(e)||"";return"+"===t[0]?[t.slice(1),!0]:[t]}(e),n=VP(t,2),r=n[0],i=n[1];return zP.test(r)||(r=""),[r,i]}(e),i=VP(r,2),a=i[0],s=i[1],o=ST(a);return s&&(t.digits||(t.startInternationalNumber(),o||(n=!0))),o&&this.inputDigits(o,t),{digits:o,justLeadingPlus:n}}},{key:"inputDigits",value:function(e,t){var n=t.digits,r=n.length<3&&n.length+e.length>=3;if(t.appendDigits(e),r&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,n=e.callingCode;return t&&!n}},{key:"extractCountryCallingCode",value:function(e){var t=WT("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,r=t.number;if(n)return e.setCallingCode(n),e.update({nationalSignificantNumber:r}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&KP.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var n=UT(e,this.metadata),r=n.nationalPrefix,i=n.nationalNumber,a=n.carrierCode;if(i!==e)return this.onExtractedNationalNumber(r,a,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,n){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,n);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var r=UT(e,this.metadata),i=r.nationalPrefix,a=r.nationalNumber,s=r.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,s,a,e,n),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,n,r,i){var a,s,o=r.lastIndexOf(n);if(o>=0&&o===r.length-n.length){s=!0;var l=r.slice(0,o);l!==e&&(a=l)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:n,nationalSignificantNumberMatchesInput:s,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)})||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,n=e.IDDPrefix,r=e.digits;if(e.nationalSignificantNumber,!t&&!n){var i=BT(r,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);return void 0!==i&&i!==r?(e.update({IDDPrefix:r.slice(0,r.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0):void 0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=HT(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode;if(t.number,n)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:n}),!0}}},{key:"startInternationalNumber",value:function(e,t){var n=t.country,r=t.callingCode;e.startInternationalNumber(n,r),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}])&&UP(t.prototype,n),r&&UP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return XP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var QP=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=new eT(n);var r=qP(this.getCountryAndCallingCode(t),2),i=r[0],a=r[1];this.defaultCountry=i,this.defaultCallingCode=a,this.reset()}var t,n,r;return t=e,n=[{key:"getCountryAndCallingCode",value:function(e){var t,n;return e&&(AA(e)?(t=e.defaultCountry,n=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,n]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),n=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(n){var r;if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(r=this.formatter.format(n,this.state)),void 0===r&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var i=this.state.getNationalDigits();i&&(r=this.formatter.format(i,this.state))}this.formattedOutput=r?this.getFullNumber(r):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new uP({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,n){e.metadata.selectNumberingPlan(n,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new $P({state:this.state,metadata:this.metadata}),this.parser=new GP({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;return e}},{key:"determineTheCountryIfNeeded",value:function(){this.state.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var n=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},r=this.state.callingCode;return n(r?e?"".concat(r," ").concat(e):r:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.complexPrefixBeforeNationalSignificantNumber,r=e.nationalPrefix,i=t,a=n||r;return a&&(i=a+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,fP)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(mI(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,n=e.callingCode,r=e.country,i=e.nationalSignificantNumber;if(t)return this.isInternational()?n?"+"+n+i:"+"+t:r||n?"+"+(r?this.metadata.countryCallingCode():n)+i:void 0}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.carrierCode,r=e.callingCode,i=this._getCountry();if(t&&(i||r)){if(i&&i===this.defaultCountry){var a=new eT(this.metadata.metadata);a.selectNumberingPlan(i);var s=a.numberingPlan.callingCode(),o=this.metadata.getCountryCodesForCallingCode(s);if(o.length>1){var l=fI(t,{countries:o,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});l&&(i=l)}}var c=new cI(i||r,t,this.metadata.metadata);return n&&(c.carrierCode=n),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}],n&&YP(t.prototype,n),r&&YP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ZP(e){var t=e.inputFormat,n=e.country,r=e.metadata;return"NATIONAL_PART_OF_INTERNATIONAL"===t?"+".concat(lT(n,r)):""}function JP(e,t){return t&&" "===(e=e.slice(t.length))[0]&&(e=e.slice(1)),e}function eR(e,t,n){if(!n||!n.ignoreRest){return NT(e,t,function(e){if(n&&"end"===e)n.ignoreRest=!0})}}function tR(t){var n=t.onKeyDown,r=t.inputFormat;return(0,e.useCallback)(function(e){e.keyCode===nR&&"INTERNATIONAL"===r&&e.target instanceof HTMLInputElement&&e.target.selectionStart===rR.length?e.preventDefault():n&&n(e)},[n,r])}var nR=8,rR="+",iR=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function aR(){return aR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aR.apply(this,arguments)}function sR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const oR=function(t){function n(n,r){var i=n.onKeyDown,a=n.country,s=n.inputFormat,o=n.metadata,l=void 0===o?t:o,c=(n.international,n.withCountryCallingCode,sR(n,iR)),d=(0,e.useCallback)(function(e){var t=new QP(a,l),n=ZP({inputFormat:s,country:a,metadata:l}),r=t.input(n+e),i=t.getTemplate();return n&&(r=JP(r,n),i&&(i=JP(i,n))),{text:r,template:i}},[a,l]),u=tR({onKeyDown:i,inputFormat:s});return e.createElement(cP,aR({},c,{ref:r,parse:eR,format:d,onKeyDown:u}))}return(n=e.forwardRef(n)).propTypes={value:DI.string.isRequired,onChange:DI.func.isRequired,onKeyDown:DI.func,country:DI.string,inputFormat:DI.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:DI.object},n}();var lR=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function cR(){return cR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cR.apply(this,arguments)}function dR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const uR=function(t){function n(n,r){var i=n.value,a=n.onChange,s=n.onKeyDown,o=n.country,l=n.inputFormat,c=n.metadata,d=void 0===c?t:c,u=n.inputComponent,h=void 0===u?"input":u,p=(n.international,n.withCountryCallingCode,dR(n,lR)),f=ZP({inputFormat:l,country:o,metadata:d}),m=(0,e.useCallback)(function(e){var t=_T(e.target.value);t===i&&(0===hR(f,t,o,d).indexOf(e.target.value)&&(t=t.slice(0,-1)));a(t)},[f,i,a,o,d]),g=tR({onKeyDown:s,inputFormat:l});return e.createElement(h,cR({},p,{ref:r,value:hR(f,i,o,d),onChange:m,onKeyDown:g}))}return(n=e.forwardRef(n)).propTypes={value:DI.string.isRequired,onChange:DI.func.isRequired,onKeyDown:DI.func,country:DI.string,inputFormat:DI.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:DI.object,inputComponent:DI.elementType},n}();function hR(e,t,n,r){return JP(function(e,t,n){return n||(n=t,t=void 0),new QP(t,n).input(e)}(e+t,n,r),e)}function pR(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var fR=["value","onChange","options","disabled","readOnly"],mR=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function gR(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return vR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vR(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xR(){return xR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xR.apply(this,arguments)}function bR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yR(t){var n=t.value,r=t.onChange,i=t.options,a=t.disabled,s=t.readOnly,o=bR(t,fR),l=(0,e.useCallback)(function(e){var t=e.target.value;r("ZZ"===t?void 0:t)},[r]);(0,e.useMemo)(function(){return CR(i,n)},[i,n]);return e.createElement("select",xR({},o,{disabled:a||s,readOnly:s,value:n||"ZZ",onChange:l}),i.map(function(t){var n=t.value,r=t.label,i=t.divider;return e.createElement("option",{key:i?"|":n||"ZZ",value:i?"|":n||"ZZ",disabled:!!i,style:i?wR:void 0},r)}))}yR.propTypes={value:DI.string,onChange:DI.func.isRequired,options:DI.arrayOf(DI.shape({value:DI.string,label:DI.string,divider:DI.bool})).isRequired,disabled:DI.bool,readOnly:DI.bool};var wR={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function kR(t){var n,r=t.value,i=t.options,a=t.className,s=t.iconComponent,o=(t.getIconAspectRatio,t.arrowComponent),l=void 0===o?SR:o,c=t.unicodeFlags,d=bR(t,mR),u=(0,e.useMemo)(function(){return CR(i,r)},[i,r]);return e.createElement("div",{className:"PhoneInputCountry"},e.createElement(yR,xR({},d,{value:r,options:i,className:LI("PhoneInputCountrySelect",a)})),u&&(c&&r?e.createElement("div",{className:"PhoneInputCountryIconUnicode"},pR((n=r)[0])+pR(n[1])):e.createElement(s,{"aria-hidden":!0,country:r,label:u.label,aspectRatio:c?1:void 0})),e.createElement(l,null))}function SR(){return e.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function CR(e,t){for(var n,r=gR(e);!(n=r()).done;){var i=n.value;if(!i.divider&&jR(i.value,t))return i}}function jR(e,t){return void 0===e||null===e?void 0===t||null===t:e===t}kR.propTypes={iconComponent:DI.elementType,arrowComponent:DI.elementType,unicodeFlags:DI.bool};var _R=["country","countryName","flags","flagUrl"];function NR(){return NR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NR.apply(this,arguments)}function ER(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AR(t){var n=t.country,r=t.countryName,i=t.flags,a=t.flagUrl,s=ER(t,_R);return i&&i[n]?i[n]({title:r}):e.createElement("img",NR({},s,{alt:r,role:r?void 0:"presentation",src:a.replace("{XX}",n).replace("{xx}",n.toLowerCase())}))}AR.propTypes={country:DI.string.isRequired,countryName:DI.string.isRequired,flags:DI.objectOf(DI.elementType),flagUrl:DI.string.isRequired};var TR=["aspectRatio"],IR=["title"],PR=["title"];function RR(){return RR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RR.apply(this,arguments)}function DR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MR(t){var n=t.aspectRatio,r=DR(t,TR);return 1===n?e.createElement(LR,r):e.createElement(OR,r)}function OR(t){var n=t.title,r=DR(t,IR);return e.createElement("svg",RR({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),e.createElement("title",null,n),e.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},e.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),e.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),e.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),e.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),e.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),e.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),e.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}function LR(t){var n=t.title,r=DR(t,PR);return e.createElement("svg",RR({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),e.createElement("title",null,n),e.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},e.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),e.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),e.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),e.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),e.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),e.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),e.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}function FR(e){(function(e){if(e.length<2)return!1;if("+"!==e[0])return!1;for(var t=1;t<e.length;){var n=e.charCodeAt(t);if(!(n>=48&&n<=57))return!1;t++}return!0})(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function $R(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return VR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BR(e,t){return!!cT(e,t)||(console.error("Country not found: ".concat(e)),!1)}function UR(e,t){return e&&0===(e=e.filter(function(e){return BR(e,t)})).length&&(e=void 0),e}function zR(e){return new eT(e).getCountries()}MR.propTypes={title:DI.string.isRequired,aspectRatio:DI.number},OR.propTypes={title:DI.string.isRequired},LR.propTypes={title:DI.string.isRequired};var HR=["country","label","aspectRatio"];function WR(){return WR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WR.apply(this,arguments)}function KR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GR(t){var n=t.flags,r=t.flagUrl,i=t.flagComponent,a=t.internationalIcon;function s(t){var s=t.country,o=t.label,l=t.aspectRatio,c=KR(t,HR),d=a===MR?l:void 0;return e.createElement("div",WR({},c,{className:LI("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":1===d,"PhoneInputCountryIcon--border":s})}),s?e.createElement(i,{country:s,countryName:o,flags:n,flagUrl:r,className:"PhoneInputCountryIconImg"}):e.createElement(a,{title:o,aspectRatio:d,className:"PhoneInputCountryIconImg"}))}return s.propTypes={country:DI.string,label:DI.string.isRequired,aspectRatio:DI.number},s}GR({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:AR,internationalIcon:MR});function qR(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return XR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XR(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function XR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YR(e,t){for(var n,r=qR(e);!(n=r()).done;){var i=n.value;i&&QR(i,t)}}function QR(e,t){"function"===typeof e?e(t):e.current=t}function ZR(e,t){return"+"+lT(e,t)}function JR(e,t){return PI(e||"",t)}function eD(e,t){var n=t.prevCountry,r=t.newCountry,i=t.metadata,a=t.useNationalFormat;if(n===r)return e;if(!e)return a?"":r?ZR(r,i):"";if(r){if("+"===e[0]){if(a)return 0===e.indexOf("+"+lT(r,i))?function(e,t,n){if(t){var r="+"+lT(t,n);if(e.length<r.length){if(0===r.indexOf(e))return""}else if(0===e.indexOf(r))return e.slice(r.length)}for(var i=0,a=Object.keys(n.country_calling_codes);i<a.length;i++){var s=a[i];if(1===e.indexOf(s))return e.slice(1+s.length)}return""}(e,r,i):"";if(n){var s=ZR(r,i);return 0===e.indexOf(s)?e:s}var o=ZR(r,i);return 0===e.indexOf(o)?e:o}}else if("+"!==e[0])return tD(e,n,i)||"";return e}function tD(e,t,n){if(e){if("+"===e[0]){if("+"===e)return;var r=new QP(t,n);return r.input(e),r.getNumberValue()}if(t){var i=sD(e,t,n);return"+".concat(lT(t,n)).concat(i||"")}}}function nD(e,t,n){var r=sD(e,t,n);if(r){var i=r.length-function(e,t){return t=new eT(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}(t,n);if(i>0)return e.slice(0,e.length-i)}return e}function rD(e,t){var n=t.country,r=t.countries,i=t.defaultCountry,a=t.latestCountrySelectedByUser,s=t.required,o=t.metadata;if("+"===e)return n;var l=function(e,t){var n=new QP(null,t);return n.input(e),n.getCountry()}(e,o);if(l)return!r||r.indexOf(l)>=0?l:void 0;if(n)if(oD(e,n,o)){if(a&&oD(e,a,o))return a;if(i&&oD(e,i,o))return i;if(!s)return}else if(!s)return;return n}function iD(e,t,n){if(0===e.indexOf(ZR(t,n))){var r=new QP(t,n);r.input(e);var i=r.getNumber();return i?i.formatNational().replace(/\D/g,""):""}return e.replace(/\D/g,"")}function aD(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function sD(e,t,n){var r=new QP(t,n);r.input(e);var i=r.getNumber();return i&&i.nationalNumber}function oD(e,t,n){for(var r=ZR(t,n),i=0;i<e.length&&i<r.length;){if(e[i]!==r[i])return!1;i++}return!0}function lD(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.international,a=e.useNationalFormat,s=e.metadata;return(!1===i||a)&&n&&n.country?function(e){return e.formatNational().replace(/\D/g,"")}(n):!t&&i&&r?ZR(r,s):t}function cD(e){return cD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cD(e)}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(t){hD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pD(e,t){return null===e&&(e=void 0),null===t&&(t=void 0),e===t}var fD=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function mD(e){return mD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mD(e)}function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(t){jD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xD(){return xD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xD.apply(this,arguments)}function bD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_D(r.key),r)}}function wD(e,t,n){return t=SD(t),function(e,t){if(t&&("object"===mD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kD()?Reflect.construct(t,n||[],SD(e).constructor):t.apply(e,n))}function kD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kD=function(){return!!e})()}function SD(e){return SD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SD(e)}function CD(e,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CD(e,t)}function jD(e,t,n){return(t=_D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=function(e,t){if("object"!=mD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mD(t)?t:t+""}var ND=function(t){function n(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),jD(r=wD(this,n,[t]),"setInputRef",function(e){YR([r.props.inputRef,r.inputRef],e)}),jD(r,"isCountrySupportedWithError",function(e){return BR(e,r.props.metadata)}),jD(r,"onCountryChange",function(e){var t=r.props,n=t.international,i=t.metadata,a=t.onChange,s=t.focusInputOnCountrySelection,o=r.state,l=eD(o.phoneDigits,{prevCountry:o.country,newCountry:e,metadata:i,useNationalFormat:!n}),c=tD(l,e,i);s&&r.inputRef.current.focus(),r.setState({country:e,latestCountrySelectedByUser:e,hasUserSelectedACountry:!0,phoneDigits:l,value:c},function(){a(c)})}),jD(r,"onChange",function(e){var t=r.props,n=t.defaultCountry,i=t.onChange,a=t.addInternationalOption,s=t.international,o=t.limitMaxLength,l=t.countryCallingCodeEditable,c=t.metadata,d=r.state,u=d.countries,h=d.phoneDigits,p=d.country,f=d.latestCountrySelectedByUser,m=function(e,t){var n,r=t.prevPhoneDigits,i=t.country,a=t.defaultCountry,s=t.latestCountrySelectedByUser,o=t.countryRequired,l=t.getAnyCountry,c=t.countries,d=t.international,u=t.limitMaxLength,h=t.countryCallingCodeEditable,p=t.metadata;if(d&&!1===h&&i){var f,m=ZR(i,p);if(0!==e.indexOf(m))return e&&"+"!==e[0]?f=tD(e=m+e,i,p):e=m,{phoneDigits:e,value:f,country:i}}return!1===d&&i&&e&&"+"===e[0]&&(e=iD(e,i,p)),e&&i&&u&&(e=nD(e,i,p)),!e||"+"===e[0]||i&&!d||(e="+"+e),!e&&r&&"+"===r[0]&&(i=d?void 0:a),"+"===e&&r&&"+"===r[0]&&r.length>1&&(i=void 0),e&&(n="+"===e[0]&&("+"===e||i&&0===ZR(i,p).indexOf(e))?void 0:tD(e,i,p)),n&&(i=rD(n,{country:i,countries:c,defaultCountry:a,latestCountrySelectedByUser:s,required:!1,metadata:p}),!1===d&&i&&e&&"+"===e[0]&&(n=tD(e=iD(e,i,p),i,p))),!i&&o&&(i=a||l()),{phoneDigits:e,country:i,value:n}}(e,{prevPhoneDigits:h,country:p,countryRequired:!a,defaultCountry:n,latestCountrySelectedByUser:f,getAnyCountry:function(){return r.getFirstSupportedCountry({countries:u})},countries:u,international:s,limitMaxLength:o,countryCallingCodeEditable:l,metadata:c}),g=m.phoneDigits,v=m.country,x=m.value,b={phoneDigits:g,value:x,country:v};f&&x&&!oD(x,f,c)&&(b.latestCountrySelectedByUser=void 0),!1===l&&(x||g!==r.state.phoneDigits||(b.forceRerender={})),r.setState(b,function(){return i(x)})}),jD(r,"_onFocus",function(){return r.setState({isFocused:!0})}),jD(r,"_onBlur",function(){return r.setState({isFocused:!1})}),jD(r,"onFocus",function(e){r._onFocus();var t=r.props.onFocus;t&&t(e)}),jD(r,"onBlur",function(e){var t=r.props.onBlur;r._onBlur(),t&&t(e)}),jD(r,"onCountryFocus",function(e){r._onFocus();var t=r.props.countrySelectProps;if(t){var n=t.onFocus;n&&n(e)}}),jD(r,"onCountryBlur",function(e){r._onBlur();var t=r.props.countrySelectProps;if(t){var n=t.onBlur;n&&n(e)}}),r.inputRef=e.createRef();var i=r.props,a=i.value,s=(i.labels,i.international),o=i.addInternationalOption,l=i.displayInitialValueAsLocalNumber,c=i.initialValueFormat,d=i.metadata,u=r.props,h=u.defaultCountry,p=u.countries;h&&(r.isCountrySupportedWithError(h)||(h=void 0)),a&&FR(a),p=UR(p,d);var f=JR(a,d);r.CountryIcon=GR(r.props);var m=function(e){var t,n=e.value,r=e.phoneNumber,i=e.defaultCountry,a=e.getAnyCountry,s=e.countries,o=e.required,l=e.metadata;return r&&r.country?t=r.country:i&&(n&&!oD(n,i,l)||(t=i)),s&&s.indexOf(t)<0&&(t=void 0),!t&&o&&s&&s.length>0&&(t=a()),t}({value:a,phoneNumber:f,defaultCountry:h,required:!o,countries:p||zR(d),getAnyCountry:function(){return r.getFirstSupportedCountry({countries:p})},metadata:d});return r.state={props:r.props,country:m,countries:p,phoneDigits:lD({value:a,phoneNumber:f,defaultCountry:h,international:s,useNationalFormat:l||"national"===c,metadata:d}),value:a},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CD(e,t)}(n,t),r=n,i=[{key:"componentDidMount",value:function(){var e=this.props.onCountryChange,t=this.props.defaultCountry,n=this.state.country;e&&(t&&(this.isCountrySupportedWithError(t)||(t=void 0)),n!==t&&e(n))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onCountryChange,r=this.state.country;n&&r!==t.country&&n(r)}},{key:"getCountrySelectOptions",value:function(e){var t=e.countries,n=this.props,r=n.international,i=n.countryCallingCodeEditable,a=n.countryOptionsOrder,s=n.addInternationalOption,o=n.labels,l=n.locales,c=n.metadata;return this.useMemoCountrySelectOptions(function(){return function(e,t){if(!t)return e;for(var n,r=[],i=[],a=r,s=function(){var t=n.value;if("|"===t)a.push({divider:!0});else if("..."===t||"\u2026"===t)a=i;else{var r;r="\ud83c\udf10"===t?void 0:t;var s=e.indexOf(e.filter(function(e){return e.value===r})[0]),o=e[s];e.splice(s,1),a.push(o)}},o=$R(t);!(n=o()).done;)s();return r.concat(e).concat(i)}(function(e){var t=e.countries,n=e.countryNames,r=e.addInternationalOption,i=e.compareStringsLocales,a=e.compareStrings;a||(a=aD);var s=t.map(function(e){return{value:e,label:n[e]||e}});return s.sort(function(e,t){return a(e.label,t.label,i)}),r&&s.unshift({label:n.ZZ}),s}({countries:t||zR(c),countryNames:o,addInternationalOption:(!r||!1!==i)&&s,compareStringsLocales:l}),function(e,t){if(e&&(e=e.filter(function(e){switch(e){case"\ud83c\udf10":case"|":case"...":case"\u2026":return!0;default:return BR(e,t)}})).length>0)return e}(a,c))},[t,a,s,o,c])}},{key:"useMemoCountrySelectOptions",value:function(e,t){return this.countrySelectOptionsMemoDependencies&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}(t,this.countrySelectOptionsMemoDependencies)||(this.countrySelectOptionsMemo=e(),this.countrySelectOptionsMemoDependencies=t),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(e){var t=e.countries;return this.getCountrySelectOptions({countries:t})[0].value}},{key:"render",value:function(){var t=this.props,n=t.name,r=t.disabled,i=t.readOnly,a=t.autoComplete,s=t.style,o=t.className,l=(t.inputRef,t.inputComponent),c=t.numberInputProps,d=t.smartCaret,u=t.countrySelectComponent,h=t.countrySelectProps,p=t.containerComponent,f=t.containerComponentProps,m=(t.defaultCountry,t.countries,t.countryOptionsOrder,t.labels),g=(t.flags,t.flagComponent,t.flagUrl,t.addInternationalOption,t.internationalIcon,t.displayInitialValueAsLocalNumber,t.initialValueFormat,t.onCountryChange,t.limitMaxLength,t.countryCallingCodeEditable,t.focusInputOnCountrySelection,t.reset,t.metadata),v=t.international,x=(t.locales,bD(t,fD)),b=this.state,y=b.country,w=b.countries,k=b.phoneDigits,S=b.isFocused,C=d?oR:uR,j=this.getCountrySelectOptions({countries:w});return e.createElement(p,xD({style:s,className:LI(o,"PhoneInput",{"PhoneInput--focus":S,"PhoneInput--disabled":r,"PhoneInput--readOnly":i})},f),e.createElement(u,xD({name:n?"".concat(n,"Country"):void 0,"aria-label":m.country},h,{value:y,options:j,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:r||h&&h.disabled,readOnly:i||h&&h.readOnly,iconComponent:this.CountryIcon})),e.createElement(C,xD({ref:this.setInputRef,type:"tel",autoComplete:a},c,x,{inputFormat:!0===v?"INTERNATIONAL":!1===v?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:!!v||void 0,withCountryCallingCode:!!v||void 0,name:n,metadata:g,country:y,value:k||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:r,readOnly:i,inputComponent:l,className:LI("PhoneInputInput",c&&c.className,x.className)})))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return vD({props:e},function(e,t,n){var r=e.metadata,i=e.countries,a=e.defaultCountry,s=e.value,o=e.reset,l=e.international,c=e.displayInitialValueAsLocalNumber,d=e.initialValueFormat,u=t.defaultCountry,h=t.value,p=t.reset,f=(n.country,n.value),m=n.hasUserSelectedACountry,g=n.latestCountrySelectedByUser,v=function(e){return lD(uD(uD({},e),{},{international:l,useNationalFormat:c||"national"===d,metadata:r}))};if(o!==p)return{phoneDigits:v({value:void 0,defaultCountry:a}),value:void 0,country:a,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(a!==u){var x=!a||BR(a,r),b=!f||l&&f===v({value:void 0,defaultCountry:u});if(!m&&x&&!s&&b)return{country:a,phoneDigits:v({value:void 0,defaultCountry:a}),value:void 0}}if(!pD(s,h)&&!pD(s,f)){var y,w,k;if(s){s&&FR(s),y=JR(s,r);var S=UR(i,r);y&&y.country?(!S||S.indexOf(y.country)>=0)&&(w=y.country):(w=rD(s,{country:void 0,countries:S,metadata:r}))||a&&0===s.indexOf(ZR(a,r))&&(w=a)}return s?g&&((w?g===w:oD(s,g,r))?w||(w=g):k={latestCountrySelectedByUser:void 0}):k={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0},uD(uD({},k),{},{phoneDigits:v({phoneNumber:y,value:s,defaultCountry:a}),value:s,country:s?w:a})}}(e,t.props,t))}}],i&&yD(r.prototype,i),a&&yD(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(e.PureComponent),ED=e.forwardRef(function(t,n){return e.createElement(ND,xD({},function(e){for(var t in e=vD({},e),AD)void 0===e[t]&&(e[t]=AD[t]);return e}(t),{inputRef:n}))});ED.propTypes={value:DI.string,onChange:DI.func.isRequired,onFocus:DI.func,onBlur:DI.func,disabled:DI.bool,readOnly:DI.bool,autoComplete:DI.string,initialValueFormat:DI.oneOf(["national"]),displayInitialValueAsLocalNumber:DI.bool,defaultCountry:DI.string,countries:DI.arrayOf(DI.string),labels:OI,locales:DI.oneOfType([DI.string,DI.arrayOf(DI.string)]),flagUrl:DI.string,flags:DI.objectOf(DI.elementType),flagComponent:DI.elementType,addInternationalOption:DI.bool,internationalIcon:DI.elementType,countryOptionsOrder:DI.arrayOf(DI.string),style:DI.object,className:DI.string,countrySelectComponent:DI.elementType,countrySelectProps:DI.object,inputComponent:DI.elementType,numberInputProps:DI.object,containerComponent:DI.elementType,containerComponentProps:DI.object,smartCaret:DI.bool,international:DI.bool,limitMaxLength:DI.bool,countryCallingCodeEditable:DI.bool,metadata:MI,onCountryChange:DI.func,focusInputOnCountrySelection:DI.bool};var AD={autoComplete:"tel",countrySelectComponent:kR,flagComponent:AR,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:MR,inputComponent:"input",containerComponent:"div",reset:DI.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};const TD=ED;var ID=["metadata","labels"];function PD(){return PD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PD.apply(this,arguments)}function RD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DD(t){var n=e.forwardRef(function(n,r){var i=n.metadata,a=void 0===i?t:i,s=n.labels,o=void 0===s?RI:s,l=RD(n,ID);return e.createElement(TD,PD({},l,{ref:r,metadata:a,labels:o}))});return n.propTypes={metadata:MI,labels:OI},n}DD();function MD(e,t){var n=Array.prototype.slice.call(t);return n.push(NA),e.apply(this,n)}const OD=DD(NA);function LD(){return MD(PI,arguments)}const FD=["className","value","onChange"],$D=e.forwardRef((t,n)=>{let{className:r,value:i,onChange:a}=t,s=Yt(t,FD);const[o,l]=e.useState(i),[d,u]=e.useState(null);e.useEffect(()=>{l(i)},[i]);const h=e.useCallback(e=>{if(!e)return!1;const t=LD(e||""),n=null!==t&&void 0!==t&&t.countryCallingCode?"+".concat(t.countryCallingCode):"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"",i=qS[n];return!!i&&i(r)},[]);return(0,Pe.jsx)("div",{className:zS("flex gap-[8px] h-12 w-full items-center rounded-[8px] border px-3 py-2 text-sm",!1===d?"border-red text-red":"border-gray1 text-black",r),children:(0,Pe.jsx)(OD,c({ref:n,className:zS("border-none h-full focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus-within:outline-none w-full text-base"),international:!0,defaultCountry:"NO",value:o,onChange:e=>{l(e);const t=h(e);u(t),a&&a(e)},countries:["NO"],autoComplete:"off"},s))})});$D.displayName="InputMobile";const VD={getAddress:async function(e){try{return await fetch("https://ws.geonorge.no/adresser/v1/sok?sok=".concat(e))}catch(t){throw t.response}},getSingleAddress:async function(e){try{const t="https://ws.geonorge.no/adresser/v1/sok?sok=".concat("".concat(e.adressenavn," ").concat(e.nummer)),n=await fetch(t);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw console.error("Error fetching address:",t),t}},handleLookup:async e=>{if(!e)return;const t=e.replace(/\D/g,"").replace(/^47/,"");try{const e=await fetch("https://services.api1881.no/lookup/phonenumber/".concat(t),{method:"GET",headers:{"Ocp-Apim-Subscription-Key":"cce12bb764f34e9083eec0f57fd0dc53"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(n){console.error(n)}}};const BD=n.p+"static/media/Ic_search_location.8520b4258b6bd6c81dca7dedeed4dc39.svg",UD=qN({Kundenavn:HN().min(1,{message:"Kundenavn m\xe5 best\xe5 av minst 2 tegn."}),Anleggsadresse:HN().min(1,{message:"Anleggsadresse m\xe5 best\xe5 av minst 2 tegn."}),mobileNummer:HN().refine(e=>{const t=LD(e),n=null!==t&&void 0!==t&&t.countryCallingCode?"+".concat(t.countryCallingCode):"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=qS[n];return!!i&&i(r)},{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}),EPost:HN().email({message:"Vennligst skriv inn en gyldig e-postadresse."}).min(1,{message:"E-posten m\xe5 v\xe6re p\xe5 minst 2 tegn."}),Kundenummer:HN().min(1,{message:"Kundenummer m\xe5 best\xe5 av minst 2 tegn."})}),zD=t=>{let{setActiveTab:n}=t;const r=t_({resolver:l_(UD)}),i=hi().pathname.split("/"),a=i.length>2?i[2]:null,s=i.length>4?i[4]:null,[o,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)(""),h=mi();(0,e.useEffect)(()=>{if(!a||!s)return void l(!1);(async()=>{const e=await HS(a);if(e&&e.KundeInfo){const t=e.KundeInfo.find(e=>e.uniqueId===s);Object.entries(t).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&r.setValue(t,n),"Anleggsadresse"===t&&u(String(n))})}l(!1)})()},[r,a,s]);const[p,f]=(0,e.useState)(null),m=(0,e.useRef)(null),g=async e=>{const t=e.target.value;if(u(t),t)try{const e=await VD.getAddress(t);if(!e.ok)throw new Error("Response status: ".concat(e.status));const n=await e.json();f(n.adresser),r.resetField("Anleggsadresse")}catch(n){console.error(null===n||void 0===n?void 0:n.message)}};return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},r),{},{children:(0,Pe.jsxs)("form",{onSubmit:r.handleSubmit(async e=>{try{const t=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),r=Rg(BS,"housemodell_configure_broker",String(a)),i=s||iA(),o=c(c({},e),{},{uniqueId:i,updatedAt:t(new Date),createdAt:t(new Date)}),l=await Rv(r);if(l.exists()){const e=l.data().KundeInfo||[];let n;n=s?e.map(e=>e.uniqueId===s?o:e):[...e,o],await Lv(r,{KundeInfo:n,updatedAt:t(new Date)}),Xt.success("Updated successfully",{position:"top-right"})}h("/se-series/".concat(a,"/edit-husmodell/").concat(i)),n(1)}catch(t){console.error("Firestore operation failed:",t),Xt.error("Something went wrong. Please try again.",{position:"top-right"})}}),className:"relative",children:[(0,Pe.jsxs)("div",{className:"pt-6 px-4 md:px-6 desktop:px-8 mb-[130px]",children:[(0,Pe.jsx)("div",{className:"mb-4 md:mb-6",children:(0,Pe.jsx)("h4",{className:"text-darkBlack font-bold text-lg md:text-xl desktop:text-2xl",children:"Kundeopplysninger"})}),(0,Pe.jsx)("div",{className:"border-[#EFF1F5] border rounded-lg overflow-hidden",children:(0,Pe.jsxs)("div",{className:"md:grid flex flex-col md:grid-cols-2 gap-4 md:gap-6 w-[100%] p-4",children:[(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)("p",{className:"text-black text-sm font-medium",children:"KundeInformation"})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:r.control,name:"Kundenavn",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Kundenavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kundenavn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:r.control,name:"Anleggsadresse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Anleggsadresse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Anleggsadresse"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",ref:m,onChange:g,value:d})),d&&p&&p.length>0&&(0,Pe.jsx)("div",{className:"absolute top-[45px] left-0 bg-white rounded-[8px] w-full h-auto max-h-[200px] overflow-y-auto overFlowYAuto",style:{zIndex:999,boxShadow:"rgba(16, 24, 40, 0.09) 0px 4px 6px -2px, rgba(16, 24, 40, 0.09) 0px 12px 16px -4px"},children:p&&(null===p||void 0===p?void 0:p.map((e,t)=>(0,Pe.jsxs)("div",{className:"p-2 desktop:p-3 flex items-center gap-2 hover:bg-lightPurple cursor-pointer",onClick:()=>{r.setValue("Anleggsadresse","".concat(e.adressetekst," ").concat(e.postnummer," ").concat(e.poststed)),f(null),u("".concat(e.adressetekst," ").concat(e.postnummer," ").concat(e.poststed))},children:[(0,Pe.jsx)("img",{src:BD,alt:"location",className:"w-6 h-6 md:w-auto md:h-auto"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("span",{className:"text-black font-medium text-sm md:text-base",children:"".concat(e.adressetekst,"  ").concat(e.postnummer," ").concat(e.poststed)||"N/A"})})]},t)))})]})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:r.control,name:"mobileNummer",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Mobilnummer"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative flex gap-1.5 items-center",children:(0,Pe.jsx)($D,c(c({placeholder:"Skriv inn Telefon"},t),{},{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"tel"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:r.control,name:"EPost",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"E-post"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn E-post"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"email"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:r.control,name:"Kundenummer",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Kundenummer"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kundenummer"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"number"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})})]}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,Pe.jsx)(Sa,{to:"/se-series/".concat(a),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]}),o&&(0,Pe.jsx)(Ra,{})]})}))})};const HD=n.p+"static/media/Ic_upload_blue_img.4fb885ee8aa78aea6e17ccaedb952721.svg";function WD(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}function KD(e,t,n){return n(h(e,t))}function GD(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return GD=function(e){this.s=e,this.n=e.next},GD.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new GD(e)}var qD,XD,YD,QD,ZD,JD,eM,tM,nM,rM,iM,aM,sM,oM,lM;const cM="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),dM=[.001,0,0,.001,0,0],uM=1.35,hM=1,pM=2,fM=4,mM=16,gM=32,vM=64,xM=128,bM=256,yM={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},wM={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},kM={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},SM=0,CM=1,jM=2,_M=3,NM=3,EM=4,AM={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},TM={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},IM=1,PM=2,RM=3,DM=4,MM=5,OM={ERRORS:0,WARNINGS:1,INFOS:5},LM={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},FM=0,$M=1,VM=2,BM=3;let UM=OM.WARNINGS;function zM(e){Number.isInteger(e)&&(UM=e)}function HM(){return UM}function WM(e){UM>=OM.INFOS&&console.log("Info: ".concat(e))}function KM(e){UM>=OM.WARNINGS&&console.log("Warning: ".concat(e))}function GM(e){throw new Error(e)}function qM(e,t){e||GM(t)}function XM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(i){}}const r=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r)?r:null}function YM(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=URL.parse(e);return r?(r.hash=t,r.href):n&&XM(e,"http://example.com")?e.split("#",1)[0]+"".concat(t?"#".concat(t):""):""}function QM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const ZM=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class JM extends ZM{constructor(e,t){super(e,"PasswordException"),this.code=t}}class eO extends ZM{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class tO extends ZM{constructor(e){super(e,"InvalidPDFException")}}class nO extends ZM{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class rO extends ZM{constructor(e){super(e,"FormatError")}}class iO extends ZM{constructor(e){super(e,"AbortException")}}function aO(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||GM("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function sO(e){"string"!==typeof e&&GM("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}class oO{static get isLittleEndian(){return QM(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return QM(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return QM(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return QM(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return QM(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return QM(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const lO=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class cO{static makeHexColor(e,t,n){return"#".concat(lO[e]).concat(lO[t]).concat(lO[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e[n],i=e[n+1];e[n]=r*t[0]+i*t[2]+t[4],e[n+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[n+c],d=e[n+c+1];e[n+c]=t*r+d*a+o,e[n+c+1]=t*i+d*s+l}}static applyInverseTransform(e,t){const n=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,n){const r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=e[0],d=e[1],u=e[2],h=e[3];let p=r*c+o,f=p,m=r*u+o,g=m,v=s*d+l,x=v,b=s*h+l,y=b;if(0!==i||0!==a){const e=i*c,t=i*u,n=a*d,r=a*h;p+=n,g+=n,m+=r,f+=r,v+=e,y+=e,b+=t,x+=t}n[0]=Math.min(n[0],p,m,f,g),n[1]=Math.min(n[1],v,b,x,y),n[2]=Math.max(n[2],p,m,f,g),n[3]=Math.max(n[3],v,b,x,y)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],i=e[2],a=e[3],s=n**2+r**2,o=n*i+r*a,l=i**2+a**2,c=(s+l)/2,d=Math.sqrt(c**2-(s*l-o**2));t[0]=Math.sqrt(c+d||1),t[1]=Math.sqrt(c-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,n,r,i,a,s,o,l){l[0]=Math.min(l[0],e,s),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,s),l[3]=Math.max(l[3],t,o),h(cO,this,uO).call(this,e,n,i,s,t,r,a,o,3*(3*(n-i)-e+s),6*(e-2*n+i),3*(n-e),l),h(cO,this,uO).call(this,e,n,i,s,t,r,a,o,3*(3*(r-a)-t+o),6*(t-2*r+a),3*(r-t),l)}}function dO(e,t,n,r,i,a,s,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,p=d*(d*(d*e+3*l*t)+3*u*n)+h*r,f=d*(d*(d*i+3*l*a)+3*u*s)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}function uO(e,t,n,r,i,a,s,o,l,c,d,u){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&h(qD,this,dO).call(this,e,t,n,r,i,a,s,o,-d/c,u));const p=c**2-4*d*l;if(p<0)return;const f=Math.sqrt(p),m=2*l;h(qD,this,dO).call(this,e,t,n,r,i,a,s,o,(-c+f)/m,u),h(qD,this,dO).call(this,e,t,n,r,i,a,s,o,(-c-f)/m,u)}qD=cO;let hO=null,pO=null;function fO(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),aO(e)}const mO="pdfjs_internal_id_";function gO(e,t,n){return Math.min(Math.max(e,t),n)}function vO(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(aO(e))}"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(t=>{t(e(...n))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});const xO="http://www.w3.org/2000/svg";class bO{}async function yO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(_O(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)})}XD=bO,o(bO,"CSS",96),o(bO,"PDF",72),o(bO,"PDF_TO_CSS_UNITS",XD.CSS/XD.PDF);class wO{constructor(e){let{viewBox:t,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}=e;this.viewBox=t,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let d,u,h,p,f,m,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,u=0,h=0,p=1;break;case 90:d=0,u=1,h=1,p=0;break;case 270:d=0,u=-1,h=-1,p=0;break;case 0:d=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p),0===d?(f=Math.abs(c-t[1])*r+a,m=Math.abs(l-t[0])*r+s,g=(t[3]-t[1])*r,v=(t[2]-t[0])*r):(f=Math.abs(l-t[0])*r+a,m=Math.abs(c-t[1])*r+s,g=(t[2]-t[0])*r,v=(t[3]-t[1])*r),this.transform=[d*r,u*r,h*r,p*r,f-d*r*l-h*r*c,m-u*r*l-p*r*c],this.width=g,this.height=v}get rawDims(){const e=this.viewBox;return QM(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new wO({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const n=[e,t];return cO.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];cO.applyTransform(t,this.transform);const n=[e[2],e[3]];return cO.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return cO.applyInverseTransform(n,this.transform),n}}class kO extends ZM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function SO(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function CO(e){return"string"===typeof e&&/\.pdf$/i.test(e)}class jO{constructor(){o(this,"started",Object.create(null)),o(this,"times",[])}time(e){e in this.started&&KM("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||KM("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}}function _O(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function NO(e){e.preventDefault()}function EO(e){e.preventDefault(),e.stopPropagation()}class AO{static toDateObject(e){if(!e||"string"!==typeof e)return null;h(AO,this,TO)._||(TO._=h(AO,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=h(AO,this,TO)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,s+=d):"+"===l&&(a-=c,s-=d),new Date(Date.UTC(n,r,i,a,s,o))}}var TO={_:void 0};function IO(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(KM('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function PO(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform();return[t,n,r,i,a,s]}function RO(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform().invertSelf();return[t,n,r,i,a,s]}function DO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof wO){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:a}=e,s=oO.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(r,"px"),l="var(--total-scale-factor) * ".concat(i,"px"),c=s?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),d=s?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(a.width=d,a.height=c):(a.width=c,a.height=d)}r&&e.setAttribute("data-main-rotation",t.rotation)}class MO{constructor(){const{pixelRatio:e}=MO;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=1/0,s=1/0,o=1/0;(n=MO.capPixels(n,i))>0&&(a=Math.sqrt(n/(e*t))),-1!==r&&(s=r/e,o=r/t);const l=Math.min(a,s,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const OO=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var LO=new WeakMap,FO=new WeakMap,$O=new WeakMap,VO=new WeakMap,BO=new WeakMap,UO=new WeakMap,zO=new WeakSet;class HO{constructor(e){P(this,zO),u(this,LO,null),u(this,FO,null),u(this,$O,void 0),u(this,VO,null),u(this,BO,null),u(this,UO,null),f($O,this,e),QO._||(QO._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=f(LO,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=p($O,this)._uiManager._signal;e.addEventListener("contextmenu",NO,{signal:t}),e.addEventListener("pointerdown",WO,{signal:t});const n=f(VO,this,document.createElement("div"));n.className="buttons",e.append(n);const r=p($O,this).toolbarPosition;if(r){const{style:t}=e,n="ltr"===p($O,this)._uiManager.direction?1-r[0]:r[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*r[1],"% + var(--editor-toolbar-vert-offset))")}return h(zO,this,XO).call(this),e}get div(){return p(LO,this)}hide(){var e;p(LO,this).classList.add("hidden"),null===(e=p(FO,this))||void 0===e||e.hideDropdown()}show(){var e;p(LO,this).classList.remove("hidden"),null===(e=p(BO,this))||void 0===e||e.shown()}async addAltText(e){const t=await e.render();h(zO,this,qO).call(this,t),p(VO,this).prepend(t,KD(zO,this,YO)),f(BO,this,e)}addColorPicker(e){f(FO,this,e);const t=e.renderButton();h(zO,this,qO).call(this,t),p(VO,this).prepend(t,KD(zO,this,YO))}async addEditSignatureButton(e){const t=f(UO,this,await e.renderEditButton(p($O,this)));h(zO,this,qO).call(this,t),p(VO,this).prepend(t,KD(zO,this,YO))}updateEditSignatureButton(e){p(UO,this)&&(p(UO,this).title=e)}remove(){var e;p(LO,this).remove(),null===(e=p(FO,this))||void 0===e||e.destroy(),f(FO,this,null)}}function WO(e){e.stopPropagation()}function KO(e){p($O,this)._focusEventsAllowed=!1,EO(e)}function GO(e){p($O,this)._focusEventsAllowed=!0,EO(e)}function qO(e){const t=p($O,this)._uiManager._signal;e.addEventListener("focusin",h(zO,this,KO).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",h(zO,this,GO).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",NO,{signal:t})}function XO(){const{editorType:e,_uiManager:t}=p($O,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",QO._[e]),h(zO,this,qO).call(this,n),n.addEventListener("click",e=>{t.delete()},{signal:t._signal}),p(VO,this).append(n)}function YO(e){const t=document.createElement("div");return t.className="divider",t}var QO={_:null},ZO=new WeakMap,JO=new WeakMap,eL=new WeakMap,tL=new WeakSet;class nL{constructor(e){P(this,tL),u(this,ZO,null),u(this,JO,null),u(this,eL,void 0),f(eL,this,e)}show(e,t,n){const[r,i]=h(tL,this,iL).call(this,t,n),{style:a}=p(JO,this)||f(JO,this,h(tL,this,rL).call(this));e.append(p(JO,this)),a.insetInlineEnd="".concat(100*r,"%"),a.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){p(JO,this).remove()}}function rL(){const e=f(JO,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",NO,{signal:p(eL,this)._signal});const t=f(ZO,this,document.createElement("div"));return t.className="buttons",e.append(t),h(tL,this,aL).call(this),e}function iL(e,t){let n=0,r=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const a=i.x+(t?i.width:0);e>n?(r=a,n=e):t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,n]}function aL(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=p(eL,this)._signal;e.addEventListener("contextmenu",NO,{signal:n}),e.addEventListener("click",()=>{p(eL,this).highlightSelection("floating_button")},{signal:n}),p(ZO,this).append(e)}function sL(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}var oL=new WeakMap;class lL{constructor(){u(this,oL,0)}get id(){var e,t;return"".concat("pdfjs_internal_editor_").concat((f(oL,this,(e=p(oL,this),t=e++,e)),t))}}var cL=new WeakMap,dL=new WeakMap,uL=new WeakMap,hL=new WeakSet;class pL{constructor(){P(this,hL),u(this,cL,fO()),u(this,dL,0),u(this,uL,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return QM(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return h(hL,this,fL).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return h(hL,this,fL).call(this,e,e)}async getFromBlob(e,t){const n=await t;return h(hL,this,fL).call(this,e,n)}async getFromId(e){p(uL,this)||f(uL,this,new Map);const t=p(uL,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,r,i;p(uL,this)||f(uL,this,new Map);let a=p(uL,this).get(e);if(null!==(i=a)&&void 0!==i&&i.bitmap)return a.refCounter+=1,a;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),a={bitmap:s.transferToImageBitmap(),id:"image_".concat(p(cL,this),"_").concat((f(dL,this,(n=p(dL,this),r=n++,n)),r)),refCounter:1,isSvg:!1},p(uL,this).set(e,a),p(uL,this).set(a.id,a),a}getSvgUrl(e){const t=p(uL,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;p(uL,this)||f(uL,this,new Map);const n=p(uL,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:r}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(r.width,r.height);e.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=e.convertToBlob()}null===(t=r.close)||void 0===t||t.call(r),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(p(cL,this),"_"))}}async function fL(e,t){var n;p(uL,this)||f(uL,this,new Map);let r=p(uL,this).get(e);if(null===r)return null;if(null!==(n=r)&&void 0!==n&&n.bitmap)return r.refCounter+=1,r;try{var i,a;let e;if(r||(r={bitmap:null,id:"image_".concat(p(cL,this),"_").concat((f(dL,this,(i=p(dL,this),a=i++,i)),a)),refCounter:0,isSvg:!1}),"string"===typeof t?(r.url=t,e=await yO(t,"blob")):t instanceof File?e=r.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=YD._isSVGFittingCanvas,n=new FileReader,i=new Image,a=new Promise((e,a)=>{i.onload=()=>{r.bitmap=i,r.isSvg=!0,e()},n.onload=async()=>{const e=r.svgUrl=n.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=n.onerror=a});n.readAsDataURL(e),await a}else r.bitmap=await createImageBitmap(e);r.refCounter=1}catch(Oe){KM(Oe),r=null}return p(uL,this).set(e,r),r&&p(uL,this).set(r.id,r),r}YD=pL;var mL=new WeakMap,gL=new WeakMap,vL=new WeakMap,xL=new WeakMap;class bL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;u(this,mL,[]),u(this,gL,!1),u(this,vL,void 0),u(this,xL,-1),f(vL,this,e)}add(e){let{cmd:t,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=e;if(i&&t(),p(gL,this))return;const l={cmd:t,undo:n,post:r,type:a};if(-1===p(xL,this))return p(mL,this).length>0&&(p(mL,this).length=0),f(xL,this,0),void p(mL,this).push(l);if(s&&p(mL,this)[p(xL,this)].type===a)return o&&(l.undo=p(mL,this)[p(xL,this)].undo),void(p(mL,this)[p(xL,this)]=l);const c=p(xL,this)+1;c===p(vL,this)?p(mL,this).splice(0,1):(f(xL,this,c),c<p(mL,this).length&&p(mL,this).splice(c)),p(mL,this).push(l)}undo(){if(-1===p(xL,this))return;f(gL,this,!0);const{undo:e,post:t}=p(mL,this)[p(xL,this)];e(),null===t||void 0===t||t(),f(gL,this,!1),f(xL,this,p(xL,this)-1)}redo(){if(p(xL,this)<p(mL,this).length-1){f(xL,this,p(xL,this)+1),f(gL,this,!0);const{cmd:e,post:t}=p(mL,this)[p(xL,this)];e(),null===t||void 0===t||t(),f(gL,this,!1)}}hasSomethingToUndo(){return-1!==p(xL,this)}hasSomethingToRedo(){return p(xL,this)<p(mL,this).length-1}cleanType(e){if(-1!==p(xL,this)){for(let t=p(xL,this);t>=0;t--)if(p(mL,this)[t].type!==e)return p(mL,this).splice(t+1,p(xL,this)-t),void f(xL,this,t);p(mL,this).length=0,f(xL,this,-1)}}destroy(){f(mL,this,null)}}var yL=new WeakSet;class wL{constructor(e){P(this,yL),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=oO.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(h(yL,this,kL).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:a=[],checker:s=null}}=n;s&&!s(e,t)||(r.bind(e,...a,t)(),i||EO(t))}}function kL(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class SL{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,IO(r))}t.remove()}(e),QM(this,"_colors",e)}convert(e){const t=IO(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((e,n)=>e===t[n]))return SL._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?cO.makeHexColor(...t):e}}o(SL,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var CL=new WeakMap,jL=new WeakMap,_L=new WeakMap,NL=new WeakMap,EL=new WeakMap,AL=new WeakMap,TL=new WeakMap,IL=new WeakMap,PL=new WeakMap,RL=new WeakMap,DL=new WeakMap,ML=new WeakMap,OL=new WeakMap,LL=new WeakMap,FL=new WeakMap,$L=new WeakMap,VL=new WeakMap,BL=new WeakMap,UL=new WeakMap,zL=new WeakMap,HL=new WeakMap,WL=new WeakMap,KL=new WeakMap,GL=new WeakMap,qL=new WeakMap,XL=new WeakMap,YL=new WeakMap,QL=new WeakMap,ZL=new WeakMap,JL=new WeakMap,eF=new WeakMap,tF=new WeakMap,nF=new WeakMap,rF=new WeakMap,iF=new WeakMap,aF=new WeakMap,sF=new WeakMap,oF=new WeakMap,lF=new WeakMap,cF=new WeakMap,dF=new WeakMap,uF=new WeakMap,hF=new WeakMap,pF=new WeakMap,fF=new WeakSet;class mF{static get _keyboardManager(){const e=mF.prototype,t=e=>p(uF,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return QM(this,"_keyboardManager",new wL([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&p(uF,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&p(uF,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,r,i,a,s,l,c,d,m,g,v,x){P(this,fF),u(this,CL,new AbortController),u(this,jL,null),u(this,_L,new Map),u(this,NL,new Map),u(this,EL,null),u(this,AL,null),u(this,TL,null),u(this,IL,new bL),u(this,PL,null),u(this,RL,null),u(this,DL,0),u(this,ML,new Set),u(this,OL,null),u(this,LL,null),u(this,FL,new Set),o(this,"_editorUndoBar",null),u(this,$L,!1),u(this,VL,!1),u(this,BL,!1),u(this,UL,null),u(this,zL,null),u(this,HL,null),u(this,WL,null),u(this,KL,!1),u(this,GL,null),u(this,qL,new lL),u(this,XL,!1),u(this,YL,!1),u(this,QL,null),u(this,ZL,null),u(this,JL,null),u(this,eF,null),u(this,tF,null),u(this,nF,wM.NONE),u(this,rF,new Set),u(this,iF,null),u(this,aF,null),u(this,sF,null),u(this,oF,null),u(this,lF,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),u(this,cF,[0,0]),u(this,dF,null),u(this,uF,null),u(this,hF,null),u(this,pF,null);const b=this._signal=p(CL,this).signal;f(uF,this,e),f(hF,this,t),f(EL,this,n),f(aF,this,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:b}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),i._on("setpreference",this.onSetPreference.bind(this),{signal:b}),i._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:b}),h(fF,this,wF).call(this),h(fF,this,EF).call(this),h(fF,this,CF).call(this),f(AL,this,a.annotationStorage),f(UL,this,a.filterFactory),f(sF,this,s),f(WL,this,l||null),f($L,this,c),f(VL,this,d),f(BL,this,m),f(tF,this,g||null),this.viewParameters={realScale:bO.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=!1!==x}destroy(){var e,t,n,r,i,a,s,o;null===(e=p(pF,this))||void 0===e||e.resolve(),f(pF,this,null),null===(t=p(CL,this))||void 0===t||t.abort(),f(CL,this,null),this._signal=null;for(const l of p(NL,this).values())l.destroy();p(NL,this).clear(),p(_L,this).clear(),p(FL,this).clear(),null===(n=p(eF,this))||void 0===n||n.clear(),f(jL,this,null),p(rF,this).clear(),p(IL,this).destroy(),null===(r=p(EL,this))||void 0===r||r.destroy(),null===(i=p(aF,this))||void 0===i||i.destroy(),null===(a=p(GL,this))||void 0===a||a.hide(),f(GL,this,null),null===(s=p(JL,this))||void 0===s||s.destroy(),f(JL,this,null),p(zL,this)&&(clearTimeout(p(zL,this)),f(zL,this,null)),p(dF,this)&&(clearTimeout(p(dF,this)),f(dF,this,null)),null===(o=this._editorUndoBar)||void 0===o||o.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return p(tF,this)}get useNewAltTextFlow(){return p(VL,this)}get useNewAltTextWhenAddingImage(){return p(BL,this)}get hcmFilter(){return QM(this,"hcmFilter",p(sF,this)?p(UL,this).addHCMFilter(p(sF,this).foreground,p(sF,this).background):"none")}get direction(){return QM(this,"direction",getComputedStyle(p(uF,this)).direction)}get highlightColors(){return QM(this,"highlightColors",p(WL,this)?new Map(p(WL,this).split(",").map(e=>e.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return QM(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),f(RL,this,e)}setMainHighlightColorPicker(e){f(JL,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=p(EL,this))||void 0===t||t.editAltText(this,e,n)}getSignature(e){var t;null===(t=p(aF,this))||void 0===t||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return p(aF,this)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)f(BL,this,n)}onPageChanging(e){let{pageNumber:t}=e;f(DL,this,t-1)}focusMainContainer(){p(uF,this).focus()}findParent(e,t){for(const n of p(NL,this).values()){const{x:r,y:i,width:a,height:s}=n.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=i&&t<=i+s)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(hF,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){p(FL,this).add(e)}removeShouldRescale(e){p(FL,this).delete(e)}onScaleChanging(e){var t;let{scale:n}=e;this.commitOrRemove(),this.viewParameters.realScale=n*bO.PDF_TO_CSS_UNITS;for(const r of p(FL,this))r.onScaleChanging();null===(t=p(RL,this))||void 0===t||t.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t,s=t.toString(),o=h(fF,this,gF).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=h(fF,this,vF).call(this,o),d=p(nF,this)===wM.NONE,u=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a,text:s}),d&&this.showAllEditors("highlight",!0,!0)};d?this.switchToMode(wM.HIGHLIGHT,u):u()}addToAnnotationStorage(e){e.isEmpty()||!p(AL,this)||p(AL,this).has(e.id)||p(AL,this).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,p(KL,this)&&(f(KL,this,!1),h(fF,this,yF).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of p(rF,this))if(t.div.contains(e)){f(ZL,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!p(ZL,this))return;const[e,t]=p(ZL,this);f(ZL,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){h(fF,this,CF).call(this),h(fF,this,_F).call(this)}removeEditListeners(){h(fF,this,jF).call(this),h(fF,this,NF).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of p(LL,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of p(LL,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=p(jL,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of p(rF,this)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of p(LL,this))if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void KM('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const a of n){const t=await r.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)h(fF,this,RF).call(this,t);h(fF,this,OF).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){KM('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),p(nF,this)===wM.NONE||this.isEditorHandlingKeyboard||mF._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,p(KL,this)&&(f(KL,this,!1),h(fF,this,yF).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(h(fF,this,kF).call(this),h(fF,this,_F).call(this),h(fF,this,AF).call(this,{isEditing:p(nF,this)!==wM.NONE,isEmpty:h(fF,this,MF).call(this),hasSomethingToUndo:p(IL,this).hasSomethingToUndo(),hasSomethingToRedo:p(IL,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(h(fF,this,SF).call(this),h(fF,this,NF).call(this),h(fF,this,AF).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!p(LL,this)){f(LL,this,e);for(const e of p(LL,this))h(fF,this,TF).call(this,e.defaultPropertiesToUpdate)}}getId(){return p(qL,this).id}get currentLayer(){return p(NL,this).get(p(DL,this))}getLayer(e){return p(NL,this).get(e)}get currentPageIndex(){return p(DL,this)}addLayer(e){p(NL,this).set(e.pageIndex,e),p(XL,this)?e.enable():e.disable()}removeLayer(e){p(NL,this).delete(e.pageIndex)}async updateMode(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(p(nF,this)!==e&&(!p(pF,this)||(await p(pF,this).promise,p(pF,this)))){var i,a;if(f(pF,this,Promise.withResolvers()),null===(t=p(RL,this))||void 0===t||t.commitOrRemove(),f(nF,this,e),e===wM.NONE)return this.setEditingState(!1),h(fF,this,PF).call(this),null===(i=this._editorUndoBar)||void 0===i||i.hide(),void p(pF,this).resolve();if(e===wM.SIGNATURE)await(null===(a=p(aF,this))||void 0===a?void 0:a.loadSignatures());this.setEditingState(!0),await h(fF,this,IF).call(this),this.unselectAll();for(const t of p(NL,this).values())t.updateMode(e);if(!n)return r&&this.addNewEditorFromKeyboard(),void p(pF,this).resolve();for(const e of p(_L,this).values())e.annotationElementId===n||e.id===n?(this.setSelected(e),e.enterInEditMode()):e.unselect();p(pF,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==p(nF,this)&&this._eventBus.dispatch("switchannotationeditormode",c({source:this},e))}updateParams(e,t){var n;if(p(LL,this)){switch(e){case kM.CREATE:return void this.currentLayer.addNewEditor(t);case kM.HIGHLIGHT_DEFAULT_COLOR:null===(n=p(JL,this))||void 0===n||n.updateColor(t);break;case kM.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(oF,this)||f(oF,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of p(rF,this))n.updateParams(e,t);for(const n of p(LL,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,r;for(const i of p(_L,this).values())i.editorType===e&&i.show(t);(null===(n=null===(r=p(oF,this))||void 0===r?void 0:r.get(kM.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&h(fF,this,TF).call(this,[[kM.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(p(YL,this)!==e){f(YL,this,e);for(const t of p(NL,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of p(_L,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return p(_L,this).get(e)}addEditor(e){p(_L,this).set(e.id,e)}removeEditor(e){var t,n;(e.div.contains(document.activeElement)&&(p(zL,this)&&clearTimeout(p(zL,this)),f(zL,this,setTimeout(()=>{this.focusMainContainer(),f(zL,this,null)},0))),p(_L,this).delete(e.id),e.annotationElementId)&&(null===(t=p(eF,this))||void 0===t||t.delete(e.annotationElementId));(this.unselect(e),e.annotationElementId&&p(ML,this).has(e.annotationElementId))||(null===(n=p(AL,this))||void 0===n||n.remove(e.id))}addDeletedAnnotationElement(e){p(ML,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return p(ML,this).has(e)}removeDeletedAnnotationElement(e){p(ML,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){p(jL,this)!==e&&(f(jL,this,e),e&&h(fF,this,TF).call(this,e.propertiesToUpdate))}updateUI(e){KD(fF,this,DF)===e&&h(fF,this,TF).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){h(fF,this,TF).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(p(rF,this).has(e))return p(rF,this).delete(e),e.unselect(),void h(fF,this,AF).call(this,{hasSelectedEditor:this.hasSelection});p(rF,this).add(e),e.select(),h(fF,this,TF).call(this,e.propertiesToUpdate),h(fF,this,AF).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;null===(t=p(RL,this))||void 0===t||t.commitOrRemove();for(const n of p(rF,this))n!==e&&n.unselect();p(rF,this).clear(),p(rF,this).add(e),e.select(),h(fF,this,TF).call(this,e.propertiesToUpdate),h(fF,this,AF).call(this,{hasSelectedEditor:!0})}isSelected(e){return p(rF,this).has(e)}get firstSelectedEditor(){return p(rF,this).values().next().value}unselect(e){e.unselect(),p(rF,this).delete(e),h(fF,this,AF).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==p(rF,this).size}get isEnterHandled(){return 1===p(rF,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;p(IL,this).undo(),h(fF,this,AF).call(this,{hasSomethingToUndo:p(IL,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:h(fF,this,MF).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}redo(){p(IL,this).redo(),h(fF,this,AF).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(IL,this).hasSomethingToRedo(),isEmpty:h(fF,this,MF).call(this)})}addCommands(e){p(IL,this).add(e),h(fF,this,AF).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:h(fF,this,MF).call(this)})}cleanUndoStack(e){p(IL,this).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...p(rF,this)],r=()=>{for(const e of n)h(fF,this,RF).call(this,e)};this.addCommands({cmd:()=>{var e;null===(e=this._editorUndoBar)||void 0===e||e.show(r,1===n.length?n[0].editorType:n.length);for(const t of n)t.remove()},undo:r,mustExec:!0})}commitOrRemove(){var e;null===(e=p(jL,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return p(jL,this)||this.hasSelection}selectAll(){for(const e of p(rF,this))e.commit();h(fF,this,OF).call(this,p(_L,this).values())}unselectAll(){var e;if((!p(jL,this)||(p(jL,this).commitOrRemove(),p(nF,this)===wM.NONE))&&(null===(e=p(RL,this))||void 0===e||!e.commitOrRemove())&&this.hasSelection){for(const e of p(rF,this))e.unselect();p(rF,this).clear(),h(fF,this,AF).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;p(cF,this)[0]+=e,p(cF,this)[1]+=t;const[n,r]=p(cF,this),i=[...p(rF,this)];p(dF,this)&&clearTimeout(p(dF,this)),f(dF,this,setTimeout(()=>{f(dF,this,null),p(cF,this)[0]=p(cF,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)p(_L,this).has(e.id)&&(e.translateInPage(n,r),e.translationDone())},undo:()=>{for(const e of i)p(_L,this).has(e.id)&&(e.translateInPage(-n,-r),e.translationDone())},mustExec:!1})},1e3));for(const a of i)a.translateInPage(e,t),a.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),f(OL,this,new Map);for(const e of p(rF,this))p(OL,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(OL,this))return!1;this.disableUserSelect(!1);const e=p(OL,this);f(OL,this,null);let t=!1;for(const[{x:r,y:i,pageIndex:a},s]of e)s.newX=r,s.newY=i,s.newPageIndex=a,t||(t=r!==s.savedX||i!==s.savedY||a!==s.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if(p(_L,this).has(e.id)){const i=p(NL,this).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:a}]of e)n(t,r,i,a)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:a}]of e)n(t,r,i,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(p(OL,this))for(const n of p(OL,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===p(rF,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return p(jL,this)===e}getActive(){return p(jL,this)}getMode(){return p(nF,this)}get imageManager(){return QM(this,"imageManager",new pL)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(e,t,s,o)=>({x:(t-r)/a,y:1-(e+s-n)/i,width:o/a,height:s/i});break;case"180":s=(e,t,s,o)=>({x:1-(e+s-n)/i,y:1-(t+o-r)/a,width:s/i,height:o/a});break;case"270":s=(e,t,s,o)=>({x:1-(t+o-r)/a,y:(e-n)/i,width:o/a,height:s/i});break;default:s=(e,t,s,o)=>({x:(e-n)/i,y:(t-r)/a,width:s/i,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:r,height:i}of e.getClientRects())0!==r&&0!==i&&o.push(s(t,n,r,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(p(TL,this)||f(TL,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=p(TL,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=p(TL,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const r=p(AL,this).getRawValue(n);r&&(p(nF,this)!==wM.NONE||r.hasBeenModified)&&r.renderAnnotationElement(e)}setMissingCanvas(e,t,n){var r;const i=null===(r=p(eF,this))||void 0===r?void 0:r.get(e);i&&(i.setCanvas(t,n),p(eF,this).delete(e))}addMissingCanvas(e,t){(p(eF,this)||f(eF,this,new Map)).set(e,t)}}function gF(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function vF(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of p(NL,this).values())if(n.hasTextLayer(e))return n;return null}function xF(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=h(fF,this,gF).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(p(GL,this)||f(GL,this,new nL(this)),p(GL,this).show(t,n,"ltr"===this.direction))}function bF(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(p(iF,this))null===(n=p(GL,this))||void 0===n||n.hide(),f(iF,this,null),h(fF,this,AF).call(this,{hasSelectedText:!1});return}const{anchorNode:r}=t;if(r===p(iF,this))return;const i=h(fF,this,gF).call(this,t).closest(".textLayer");var a;if(i){if(null===(e=p(GL,this))||void 0===e||e.hide(),f(iF,this,r),h(fF,this,AF).call(this,{hasSelectedText:!0}),(p(nF,this)===wM.HIGHLIGHT||p(nF,this)===wM.NONE)&&(p(nF,this)===wM.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),f(KL,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=p(nF,this)===wM.HIGHLIGHT?h(fF,this,vF).call(this,i):null;null===e||void 0===e||e.toggleDrawing();const t=new AbortController,n=this.combinedSignal(t),r=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&h(fF,this,yF).call(this,"main_toolbar"))};window.addEventListener("pointerup",r,{signal:n}),window.addEventListener("blur",r,{signal:n})}}else p(iF,this)&&(null===(a=p(GL,this))||void 0===a||a.hide(),f(iF,this,null),h(fF,this,AF).call(this,{hasSelectedText:!1}))}function yF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p(nF,this)===wM.HIGHLIGHT?this.highlightSelection(e):p($L,this)&&h(fF,this,xF).call(this)}function wF(){document.addEventListener("selectionchange",h(fF,this,bF).bind(this),{signal:this._signal})}function kF(){if(p(HL,this))return;f(HL,this,new AbortController);const e=this.combinedSignal(p(HL,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function SF(){var e;null===(e=p(HL,this))||void 0===e||e.abort(),f(HL,this,null)}function CF(){if(p(QL,this))return;f(QL,this,new AbortController);const e=this.combinedSignal(p(QL,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function jF(){var e;null===(e=p(QL,this))||void 0===e||e.abort(),f(QL,this,null)}function _F(){if(p(PL,this))return;f(PL,this,new AbortController);const e=this.combinedSignal(p(PL,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function NF(){var e;null===(e=p(PL,this))||void 0===e||e.abort(),f(PL,this,null)}function EF(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function AF(e){Object.entries(e).some(e=>{let[t,n]=e;return p(lF,this)[t]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(lF,this),e)}),p(nF,this)===wM.HIGHLIGHT&&!1===e.hasSelectedEditor&&h(fF,this,TF).call(this,[[kM.HIGHLIGHT_FREE,!0]]))}function TF(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function IF(){if(!p(XL,this)){f(XL,this,!0);const e=[];for(const t of p(NL,this).values())e.push(t.enable());await Promise.all(e);for(const t of p(_L,this).values())t.enable()}}function PF(){if(this.unselectAll(),p(XL,this)){f(XL,this,!1);for(const e of p(NL,this).values())e.disable();for(const e of p(_L,this).values())e.disable()}}function RF(e){const t=p(NL,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function DF(e){let t=null;for(t of p(rF,e));return t}function MF(){if(0===p(_L,this).size)return!0;if(1===p(_L,this).size)for(const e of p(_L,this).values())return e.isEmpty();return!1}function OF(e){for(const t of p(rF,this))t.unselect();p(rF,this).clear();for(const t of e)t.isEmpty()||(p(rF,this).add(t),t.select());h(fF,this,AF).call(this,{hasSelectedEditor:this.hasSelection})}o(mF,"TRANSLATE_SMALL",1),o(mF,"TRANSLATE_BIG",10);var LF=new WeakMap,FF=new WeakMap,$F=new WeakMap,VF=new WeakMap,BF=new WeakMap,UF=new WeakMap,zF=new WeakMap,HF=new WeakMap,WF=new WeakMap,KF=new WeakMap,GF=new WeakMap,qF=new WeakMap,XF=new WeakSet;class YF{constructor(e){P(this,XF),u(this,LF,null),u(this,FF,!1),u(this,$F,null),u(this,VF,null),u(this,BF,null),u(this,UF,null),u(this,zF,!1),u(this,HF,null),u(this,WF,null),u(this,KF,null),u(this,GF,null),u(this,qF,!1),f(WF,this,e),f(qF,this,e._uiManager.useNewAltTextFlow),JF._||(JF._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=YF._l10n)&&void 0!==t||(YF._l10n=e)}async render(){const e=f($F,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=f(VF,this,document.createElement("span"));e.append(t),p(qF,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",JF._.missing),t.setAttribute("data-l10n-id",JF._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=p(WF,this)._uiManager._signal;e.addEventListener("contextmenu",NO,{signal:n}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const r=e=>{e.preventDefault(),p(WF,this)._uiManager.editAltText(p(WF,this)),p(qF,this)&&p(WF,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:KD(XF,this,QF)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(f(zF,this,!0),r(t))},{signal:n}),await h(XF,this,ZF).call(this),e}finish(){p($F,this)&&(p($F,this).focus({focusVisible:p(zF,this)}),f(zF,this,!1))}isEmpty(){return p(qF,this)?null===p(LF,this):!p(LF,this)&&!p(FF,this)}hasData(){return p(qF,this)?null!==p(LF,this)||!!p(KF,this):this.isEmpty()}get guessedText(){return p(KF,this)}async setGuessedText(e){null===p(LF,this)&&(f(KF,this,e),f(GF,this,await YF._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),h(XF,this,ZF).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!p(qF,this)||p(LF,this))return null===(t=p(HF,this))||void 0===t||t.remove(),void f(HF,this,null);if(!p(HF,this)){const e=f(HF,this,document.createElement("div"));e.className="noAltTextBadge",p(WF,this).div.append(e)}p(HF,this).classList.toggle("hidden",!e)}serialize(e){let t=p(LF,this);return e||p(KF,this)!==t||(t=p(GF,this)),{altText:t,decorative:p(FF,this),guessedText:p(KF,this),textWithDisclaimer:p(GF,this)}}get data(){return{altText:p(LF,this),decorative:p(FF,this)}}set data(e){let{altText:t,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}=e;r&&(f(KF,this,r),f(GF,this,i)),p(LF,this)===t&&p(FF,this)===n||(a||(f(LF,this,t),f(FF,this,n)),h(XF,this,ZF).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p($F,this)&&(!e&&p(UF,this)&&(clearTimeout(p(UF,this)),f(UF,this,null)),p($F,this).disabled=!e)}shown(){p(WF,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:KD(XF,this,QF)}})}destroy(){var e,t;null===(e=p($F,this))||void 0===e||e.remove(),f($F,this,null),f(VF,this,null),f(BF,this,null),null===(t=p(HF,this))||void 0===t||t.remove(),f(HF,this,null)}}function QF(e){return(p(LF,e)?"added":null===p(LF,e)&&e.guessedText&&"review")||"missing"}async function ZF(){const e=p($F,this);if(!e)return;if(p(qF,this)){var t,n;if(e.classList.toggle("done",!!p(LF,this)),e.setAttribute("data-l10n-id",JF._[KD(XF,this,QF)]),null===(t=p(VF,this))||void 0===t||t.setAttribute("data-l10n-id",JF._["".concat(KD(XF,this,QF),"-label")]),!p(LF,this))return void(null===(n=p(BF,this))||void 0===n||n.remove())}else{var r;if(!p(LF,this)&&!p(FF,this))return e.classList.remove("done"),void(null===(r=p(BF,this))||void 0===r||r.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=p(BF,this);if(!i){f(BF,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(p(WF,this).id);const t=100,n=p(WF,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout(p(UF,this)),f(UF,this,null)},{once:!0}),e.addEventListener("mouseenter",()=>{f(UF,this,setTimeout(()=>{f(UF,this,null),p(BF,this).classList.add("show"),p(WF,this)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:n}),e.addEventListener("mouseleave",()=>{var e;p(UF,this)&&(clearTimeout(p(UF,this)),f(UF,this,null)),null===(e=p(BF,this))||void 0===e||e.classList.remove("show")},{signal:n})}p(FF,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=p(LF,this)),i.parentNode||e.append(i);const a=p(WF,this).getElementForAltText();null===a||void 0===a||a.setAttribute("aria-describedby",i.id)}var JF={_:null};o(YF,"_l10n",null);var e$=new WeakMap,t$=new WeakMap,n$=new WeakMap,r$=new WeakMap,i$=new WeakMap,a$=new WeakMap,s$=new WeakMap,o$=new WeakMap,l$=new WeakMap,c$=new WeakMap,d$=new WeakMap,u$=new WeakMap,h$=new WeakSet;class p${constructor(e){let{container:t,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}=e;P(this,h$),u(this,e$,void 0),u(this,t$,!1),u(this,n$,null),u(this,r$,void 0),u(this,i$,void 0),u(this,a$,void 0),u(this,s$,void 0),u(this,o$,null),u(this,l$,void 0),u(this,c$,null),u(this,d$,void 0),u(this,u$,null),f(e$,this,t),f(n$,this,r),f(r$,this,n),f(i$,this,i),f(a$,this,a),f(s$,this,s),f(d$,this,new AbortController),f(l$,this,AbortSignal.any([o,p(d$,this).signal])),t.addEventListener("touchstart",h(h$,this,f$).bind(this),{passive:!1,signal:p(l$,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/MO.pixelRatio}destroy(){var e,t;null===(e=p(d$,this))||void 0===e||e.abort(),f(d$,this,null),null===(t=p(o$,this))||void 0===t||t.abort(),f(o$,this,null)}}function f$(e){var t,n;if(null!==(t=p(r$,this))&&void 0!==t&&t.call(this))return;if(1===e.touches.length){if(p(o$,this))return;const e=f(o$,this,new AbortController),t=AbortSignal.any([p(l$,this),e.signal]),n=p(e$,this),r={capture:!0,signal:t,passive:!1},i=e=>{var t;"touch"===e.pointerType&&(null===(t=p(o$,this))||void 0===t||t.abort(),f(o$,this,null))};return n.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(EO(e),i(e))},r),n.addEventListener("pointerup",i,r),void n.addEventListener("pointercancel",i,r)}if(!p(u$,this)){var r;f(u$,this,new AbortController);const e=AbortSignal.any([p(l$,this),p(u$,this).signal]),t=p(e$,this),n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",h(h$,this,m$).bind(this),n);const i=h(h$,this,g$).bind(this);t.addEventListener("touchend",i,n),t.addEventListener("touchcancel",i,n),n.capture=!0,t.addEventListener("pointerdown",EO,n),t.addEventListener("pointermove",EO,n),t.addEventListener("pointercancel",EO,n),t.addEventListener("pointerup",EO,n),null===(r=p(i$,this))||void 0===r||r.call(this)}if(EO(e),2!==e.touches.length||null!==(n=p(n$,this))&&void 0!==n&&n.call(this))return void f(c$,this,null);let[i,a]=e.touches;i.identifier>a.identifier&&([i,a]=[a,i]),f(c$,this,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:a.screenX,touch1Y:a.screenY})}function m$(e){var t;if(!p(c$,this)||2!==e.touches.length)return;EO(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:o}=r,l=p(c$,this),{touch0X:c,touch0Y:d,touch1X:u,touch1Y:h}=l,m=u-c,g=h-d,v=s-i,x=o-a,b=Math.hypot(v,x)||1,y=Math.hypot(m,g)||1;if(!p(t$,this)&&Math.abs(y-b)<=QD.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,!p(t$,this))return void f(t$,this,!0);const w=[(i+s)/2,(a+o)/2];null===(t=p(a$,this))||void 0===t||t.call(this,w,y,b)}function g$(e){if(!(e.touches.length>=2)){var t;if(p(u$,this))p(u$,this).abort(),f(u$,this,null),null===(t=p(s$,this))||void 0===t||t.call(this);p(c$,this)&&(EO(e),f(c$,this,null),f(t$,this,!1))}}QD=p$;var v$=new WeakMap,x$=new WeakMap,b$=new WeakMap,y$=new WeakMap,w$=new WeakMap,k$=new WeakMap,S$=new WeakMap,C$=new WeakMap,j$=new WeakMap,_$=new WeakMap,N$=new WeakMap,E$=new WeakMap,A$=new WeakMap,T$=new WeakMap,I$=new WeakMap,P$=new WeakMap,R$=new WeakMap,D$=new WeakMap,M$=new WeakMap,O$=new WeakMap,L$=new WeakMap,F$=new WeakMap,$$=new WeakMap,V$=new WeakMap,B$=new WeakSet;class U${static get _resizerKeyboardManager(){const e=U$.prototype._resizeWithKeyboard,t=mF.TRANSLATE_SMALL,n=mF.TRANSLATE_BIG;return QM(this,"_resizerKeyboardManager",new wL([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],U$.prototype._stopResizingWithKeyboard]]))}constructor(e){P(this,B$),u(this,v$,null),u(this,x$,null),u(this,b$,null),u(this,y$,!1),u(this,w$,null),u(this,k$,""),u(this,S$,!1),u(this,C$,null),u(this,j$,null),u(this,_$,null),u(this,N$,null),u(this,E$,""),u(this,A$,!1),u(this,T$,null),u(this,I$,!1),u(this,P$,!1),u(this,R$,!1),u(this,D$,null),u(this,M$,0),u(this,O$,0),u(this,L$,null),u(this,F$,null),o(this,"isSelected",!1),o(this,"_isCopy",!1),o(this,"_editToolbar",null),o(this,"_initialOptions",Object.create(null)),o(this,"_initialData",null),o(this,"_isVisible",!0),o(this,"_uiManager",null),o(this,"_focusEventsAllowed",!0),u(this,$$,!1),u(this,V$,U$._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,a];const[s,l]=this.parentDimensions;this.x=e.x/s,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return QM(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new lV({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=U$._l10n)&&void 0!==n||(U$._l10n=e),U$._l10nResizer||(U$._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==U$._borderLineWidth)return;const r=getComputedStyle(document.documentElement);U$._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){GM("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p($$,this)}set _isDraggable(e){var t;f($$,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(V$,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):h(B$,this,oV).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(p(A$,this)?f(A$,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){h(B$,this,z$).call(this,this.parentDimensions,e,t)}translateInPage(e,t){p(T$,this)||f(T$,this,[this.x,this.y,this.width,this.height]),h(B$,this,z$).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){p(T$,this)||f(T$,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l;const{style:c}=n;c.left="".concat((100*a).toFixed(2),"%"),c.top="".concat((100*s).toFixed(2),"%"),this._onTranslating(a,s),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!p(T$,this)&&(p(T$,this)[0]!==this.x||p(T$,this)[1]!==this.y)}get _hasBeenResized(){return!!p(T$,this)&&(p(T$,this)[2]!==this.width||p(T$,this)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=U$,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:t},pageDimensions:[n,r]}=this;let{x:i,y:a,width:s,height:o}=this;if(s*=n,o*=r,i*=n,a*=r,this._mustFixPosition)switch(e){case 0:i=gO(i,0,n-s),a=gO(a,0,r-o);break;case 90:i=gO(i,0,n-o),a=gO(a,s,r);break;case 180:i=gO(i,s,n),a=gO(a,o,r);break;case 270:i=gO(i,o,n),a=gO(a,0,r-s)}this.x=i/=n,this.y=a/=r;const[l,c]=this.getBaseTranslation();i+=l,a+=c,t.left="".concat((100*i).toFixed(2),"%"),t.top="".concat((100*a).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return H$.call(U$,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return H$.call(U$,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:i}=this.div;i.width="".concat((100*e/n).toFixed(2),"%"),p(S$,this)||(i.height="".concat((100*t/r).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!p(S$,this)&&t.endsWith("%");if(r&&i)return;const[a,s]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/a).toFixed(2),"%")),p(S$,this)||i||(e.height="".concat((100*parseFloat(t)/s).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null===(e=p(b$,this))||void 0===e||e.finish()}async addEditToolbar(){return this._editToolbar||p(P$,this)||(this._editToolbar=new HO(this),this.div.append(this._editToolbar.render()),p(b$,this)&&await this._editToolbar.addAltText(p(b$,this))),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=p(b$,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){p(b$,this)||(YF.initialize(U$._l10n),f(b$,this,new YF(this)),p(v$,this)&&(p(b$,this).data=p(v$,this),f(v$,this,null)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=p(b$,this))||void 0===e?void 0:e.data}set altTextData(e){p(b$,this)&&(p(b$,this).data=e)}get guessedAltText(){var e;return null===(e=p(b$,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=p(b$,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=p(b$,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!p(b$,this)&&!p(b$,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=p(b$,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=p(y$,this)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),h(B$,this,nV).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth="".concat((100*r/n).toFixed(2),"%"),t.style.maxHeight="".concat((100*n/r).toFixed(2),"%"));const[i,a]=this.getInitialTranslation();return this.translate(i,a),sL(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(F$,this)||f(F$,this,new p$({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:h(B$,this,Q$).bind(this),onPinching:h(B$,this,Z$).bind(this),onPinchEnd:h(B$,this,J$).bind(this),signal:this._uiManager._signal}))),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),t}pointerdown(e){const{isMac:t}=oO.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(f(A$,this,!0),this._isDraggable?h(B$,this,tV).call(this,e):h(B$,this,eV).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(D$,this)&&clearTimeout(p(D$,this)),f(D$,this,setTimeout(()=>{var e;f(D$,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=e/r,c=t/r,d=this.x*i,u=this.y*a,h=this.width*i,p=this.height*a;switch(n){case 0:return[d+l+s,a-u-c-p+o,d+l+h+s,a-u-c+o];case 90:return[d+c+s,a-u+l+o,d+c+p+s,a-u+l+h+o];case 180:return[d-l-h+s,a-u+c+o,d-l+s,a-u+c+p+o];case 270:return[d-c-p+s,a-u-l-h+o,d-c+s,a-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,a]=e,s=i-n,o=a-r;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-r,o,s];case 180:return[i,t-r,s,o];case 270:return[i,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),f(P$,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),f(P$,this,!1),!0)}isInEditMode(){return p(P$,this)}shouldGetKeyboardEvents(){return p(R$,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:a}=window;return t<a&&r>0&&e<i&&n>0}rebuild(){h(B$,this,nV).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){GM("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,f(v$,r,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,a]=r.pageDimensions,[s,o,l,c]=r.getRectInCurrentCoords(e.rect,a);return r.x=s/i,r.y=o/a,r.width=l/i,r.height=c/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null===(e=p(N$,this))||void 0===e||e.abort(),f(N$,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(D$,this)&&(clearTimeout(p(D$,this)),f(D$,this,null)),h(B$,this,oV).call(this),this.removeEditToolbar(),p(L$,this)){for(const e of p(L$,this).values())clearTimeout(e);f(L$,this,null)}this.parent=null,null===(t=p(F$,this))||void 0===t||t.destroy(),f(F$,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(h(B$,this,K$).call(this),p(C$,this).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),f(_$,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=p(C$,this).children;if(!p(x$,this)){f(x$,this,Array.from(t));const e=h(B$,this,rV).bind(this),n=h(B$,this,iV).bind(this),r=this._uiManager._signal;for(const t of p(x$,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:r}),t.addEventListener("blur",n,{signal:r}),t.addEventListener("focus",h(B$,this,aV).bind(this,i),{signal:r}),t.setAttribute("data-l10n-id",U$._l10nResizer[i])}}const n=p(x$,this)[0];let r=0;for(const a of t){if(a===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(p(x$,this).length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)p(C$,this).append(p(C$,this).firstChild);else if(i>r)for(let t=0;t<i-r;t++)p(C$,this).firstChild.before(p(C$,this).lastChild);let e=0;for(const n of t){const t=p(x$,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",U$._l10nResizer[t])}}h(B$,this,sV).call(this,0),f(R$,this,!0),p(C$,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){p(R$,this)&&h(B$,this,Y$).call(this,p(E$,this),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){h(B$,this,oV).call(this),this.div.focus()}select(){var e,t,n;this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=p(b$,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}unselect(){var e,t,n,r,i;this.isSelected&&(this.isSelected=!1,null===(e=p(C$,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=this._editToolbar)||void 0===r||r.hide(),null===(i=p(b$,this))||void 0===i||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(I$,this)}set isEditing(e){f(I$,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){f(S$,this,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){p(L$,this)||f(L$,this,new Map);const{action:t}=e;let n=p(L$,this).get(t);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),p(L$,this).delete(t),0===p(L$,this).size&&f(L$,this,null)},U$._telemetryTimeout),void p(L$,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),f(y$,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),f(y$,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function z$(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function H$(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function W$(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function K$(){if(p(C$,this))return;f(C$,this,document.createElement("div")),p(C$,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");p(C$,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",h(B$,this,G$).bind(this,n),{signal:t}),e.addEventListener("contextmenu",NO,{signal:t}),e.tabIndex=-1}this.div.prepend(p(C$,this))}function G$(e,t){var n;t.preventDefault();const{isMac:r}=oO.platform;if(0!==t.button||t.ctrlKey&&r)return;null===(n=p(b$,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,f(j$,this,[t.screenX,t.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",h(B$,this,Y$).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",EO,{passive:!1,signal:s}),window.addEventListener("contextmenu",NO,{signal:s}),f(_$,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;a.abort(),this.parent.togglePointerEvents(!0),null===(e=p(b$,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,h(B$,this,X$).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}function q$(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*n,a*r),this.fixAndSetPosition(),this._onResized()}function X$(){if(!p(_$,this))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=p(_$,this);f(_$,this,null);const i=this.x,a=this.y,s=this.width,o=this.height;i===e&&a===t&&s===n&&o===r||this.addCommands({cmd:h(B$,this,q$).bind(this,i,a,s,o),undo:h(B$,this,q$).bind(this,e,t,n,r),mustExec:!0})}function Y$(e,t){const[n,r]=this.parentDimensions,i=this.x,a=this.y,s=this.width,o=this.height,l=ZD.MIN_SIZE/n,c=ZD.MIN_SIZE/r,d=h(B$,this,W$).call(this,this.rotation),u=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],m=h(B$,this,W$).call(this,360-this.rotation);let g,v,x=!1,b=!1;switch(e){case"topLeft":x=!0,g=(e,t)=>[0,0],v=(e,t)=>[e,t];break;case"topMiddle":g=(e,t)=>[e/2,0],v=(e,t)=>[e/2,t];break;case"topRight":x=!0,g=(e,t)=>[e,0],v=(e,t)=>[0,t];break;case"middleRight":b=!0,g=(e,t)=>[e,t/2],v=(e,t)=>[0,t/2];break;case"bottomRight":x=!0,g=(e,t)=>[e,t],v=(e,t)=>[0,0];break;case"bottomMiddle":g=(e,t)=>[e/2,t],v=(e,t)=>[e/2,0];break;case"bottomLeft":x=!0,g=(e,t)=>[0,t],v=(e,t)=>[e,0];break;case"middleLeft":b=!0,g=(e,t)=>[0,t/2],v=(e,t)=>[e,t/2]}const y=g(s,o),w=v(s,o);let k=u(...w);const S=ZD._round(i+k[0]),C=ZD._round(a+k[1]);let j,_,N=1,E=1;if(t.fromKeyboard)({deltaX:j,deltaY:_}=t);else{const{screenX:e,screenY:n}=t,[r,i]=p(j$,this);[j,_]=this.screenToPageTranslation(e-r,n-i),p(j$,this)[0]=e,p(j$,this)[1]=n}if([j,_]=((e,t)=>[m[0]*e+m[2]*t,m[1]*e+m[3]*t])(j/n,_/r),x){const e=Math.hypot(s,o);N=E=Math.max(Math.min(Math.hypot(w[0]-y[0]-j,w[1]-y[1]-_)/e,1/s,1/o),l/s,c/o)}else b?N=gO(Math.abs(w[0]-y[0]-j),l,1)/s:E=gO(Math.abs(w[1]-y[1]-_),c,1)/o;const A=ZD._round(s*N),T=ZD._round(o*E);k=u(...v(A,T));const I=S-k[0],P=C-k[1];p(T$,this)||f(T$,this,[this.x,this.y,this.width,this.height]),this.width=A,this.height=T,this.x=I,this.y=P,this.setDims(n*A,r*T),this.fixAndSetPosition(),this._onResizing()}function Q$(){var e;f(_$,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=p(b$,this))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Z$(e,t,n){let r=n/t*.7+1-.7;if(1===r)return;const i=h(B$,this,W$).call(this,this.rotation),a=(e,t)=>[i[0]*e+i[2]*t,i[1]*e+i[3]*t],[s,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,u=this.height,m=ZD.MIN_SIZE/s,g=ZD.MIN_SIZE/o;r=Math.max(Math.min(r,1/d,1/u),m/d,g/u);const v=ZD._round(d*r),x=ZD._round(u*r);if(v===d&&x===u)return;p(T$,this)||f(T$,this,[l,c,d,u]);const b=a(d/2,u/2),y=ZD._round(l+b[0]),w=ZD._round(c+b[1]),k=a(v/2,x/2);this.x=y-k[0],this.y=w-k[1],this.width=v,this.height=x,this.setDims(s*v,o*x),this.fixAndSetPosition(),this._onResizing()}function J$(){var e;null===(e=p(b$,this))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),h(B$,this,X$).call(this)}function eV(e){const{isMac:t}=oO.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function tV(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:i},s=e=>{r.abort(),f(w$,this,null),f(A$,this,!1),this._uiManager.endDragSession()||h(B$,this,eV).call(this,e),n&&this._onStopDragging()};t&&(f(M$,this,e.clientX),f(O$,this,e.clientY),f(w$,this,e.pointerId),f(k$,this,e.pointerType),window.addEventListener("pointermove",e=>{n||(n=!0,this._onStartDragging());const{clientX:t,clientY:r,pointerId:i}=e;if(i!==p(w$,this))return void EO(e);const[a,s]=this.screenToPageTranslation(t-p(M$,this),r-p(O$,this));f(M$,this,t),f(O$,this,r),this._uiManager.dragSelectedEditors(a,s)},a),window.addEventListener("touchmove",EO,a),window.addEventListener("pointerdown",e=>{e.pointerType===p(k$,this)&&(p(F$,this)||e.isPrimary)&&s(e),EO(e)},a));const o=e=>{p(w$,this)&&p(w$,this)!==e.pointerId?EO(e):s(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}function nV(){if(p(N$,this)||!this.div)return;f(N$,this,new AbortController);const e=this._uiManager.combinedSignal(p(N$,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function rV(e){ZD._resizerKeyboardManager.exec(this,e)}function iV(e){var t;p(R$,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==p(C$,this)&&h(B$,this,oV).call(this)}function aV(e){f(E$,this,p(R$,this)?e:"")}function sV(e){if(p(x$,this))for(const t of p(x$,this))t.tabIndex=e}function oV(){f(R$,this,!1),h(B$,this,sV).call(this,-1),h(B$,this,X$).call(this)}ZD=U$,o(U$,"_l10n",null),o(U$,"_l10nResizer",null),o(U$,"_borderLineWidth",-1),o(U$,"_colorManager",new SL),o(U$,"_zIndex",1),o(U$,"_telemetryTimeout",1e3);class lV extends U${constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cV=3285377520,dV=4294901760,uV=65535;class hV{constructor(e){this.h1=e?4294967295&e:cV,this.h2=e?4294967295&e:cV}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,i=n-4*r,a=new Uint32Array(t.buffer,0,r);let s=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,p=13715;for(let f=0;f<r;f++)1&f?(s=a[f],s=s*d&dV|s*h&uV,s=s<<15|s>>>17,s=s*u&dV|s*p&uV,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[f],o=o*d&dV|o*h&uV,o=o<<15|o>>>17,o=o*u&dV|o*p&uV,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,i){case 3:s^=t[4*r+2]<<16;case 2:s^=t[4*r+1]<<8;case 1:s^=t[4*r],s=s*d&dV|s*h&uV,s=s<<15|s>>>17,s=s*u&dV|s*p&uV,1&r?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&dV|36045*e&uV,t=4283543511*t&dV|(2950163797*(t<<16|e>>>16)&dV)>>>16,e^=t>>>1,e=444984403*e&dV|60499*e&uV,t=3301882366*t&dV|(3120437893*(t<<16|e>>>16)&dV)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const pV=Object.freeze({map:null,hash:"",transfer:void 0});var fV=new WeakMap,mV=new WeakMap,gV=new WeakMap,vV=new WeakSet;class xV{constructor(){P(this,vV),u(this,fV,!1),u(this,mV,null),u(this,gV,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=p(gV,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return p(gV,this).get(e)}remove(e){if(p(gV,this).delete(e),0===p(gV,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of p(gV,this).values())if(e instanceof U$)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=p(gV,this).get(e);let r=!1;if(void 0!==n)for(const[i,a]of Object.entries(t))n[i]!==a&&(r=!0,n[i]=a);else r=!0,p(gV,this).set(e,t);r&&h(vV,this,bV).call(this),t instanceof U$&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return p(gV,this).has(e)}get size(){return p(gV,this).size}resetModified(){p(fV,this)&&(f(fV,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new wV(this)}get serializable(){if(0===p(gV,this).size)return pV;const e=new Map,t=new hV,n=[],r=Object.create(null);let i=!1;for(const[a,s]of p(gV,this)){const n=s instanceof U$?s.serialize(!1,r):s;n&&(e.set(a,n),t.update("".concat(a,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:pV}get editorStats(){let e=null;const t=new Map;for(const i of p(gV,this).values()){var n;if(!(i instanceof U$))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:s}=a;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=(n=e)[s]||(n[s]=new Map);for(const[e,t]of Object.entries(a)){var r;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const i=null!==(r=n.get(t))&&void 0!==r?r:0;n.set(t,i+1)}}for(const[i,a]of t)e[i]=a.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){f(mV,this,null)}get modifiedIds(){if(p(mV,this))return p(mV,this);const e=[];for(const t of p(gV,this).values())t instanceof U$&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return f(mV,this,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return p(gV,this).entries()}}function bV(){p(fV,this)||(f(fV,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var yV=new WeakMap;class wV extends xV{constructor(e){super(),u(this,yV,void 0);const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);f(yV,this,{map:i,hash:n,transfer:r})}get print(){GM("Should not call PrintAnnotationStorage.print")}get serializable(){return p(yV,this)}get modifiedIds(){return QM(this,"modifiedIds",{ids:new Set,hash:""})}}var kV=new WeakMap;class SV{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;u(this,kV,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),p(kV,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,disableFontFace:n,_inspectFont:r}=e;if(t&&!p(kV,this).has(t.loadedName)){if(qM(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:n,style:a}=t,s=new FontFace(e,n,a);this.addNativeFontFace(s);try{await s.load(),p(kV,this).add(e),null===r||void 0===r||r(t)}catch(i){KM("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}return}GM("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw KM("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){var e;return QM(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){return QM(this,"isSyncFontLoadingSupported",cM||oO.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(qM(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return QM(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let i,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=r(d,976,c.length,c);const u=1482184792;let h=n(d,16);for(i=0,a=c.length-3;i<a;i+=4)h=h-u+n(c,i)|0;var p;i<c.length&&(h=h-u+n(c+"XXX",i)|0),d=r(d,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f="url(data:font/opentype;base64,".concat(btoa(d),");"),m='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(m);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return KM("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,()=>{g.remove(),t.complete()})}}class CV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat(vO(this.data),");");let n;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(a){KM('getPathGenerator - ignoring character: "'.concat(a,'".'))}const i=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=i}}function jV(e){if("string"!==typeof e)return null;if(e.endsWith("/"))return e;throw new Error('Invalid factory url: "'.concat(e,'" must include trailing slash.'))}const _V=e=>"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0,NV=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!e(r)&&!Number.isInteger(r))return!1;if(!t(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const l of a)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,_V,e=>"object"===typeof e&&"string"===typeof(null===e||void 0===e?void 0:e.name));var EV=new WeakMap,AV=new WeakMap;class TV{constructor(){u(this,EV,new Map),u(this,AV,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};p(AV,this).then(()=>{for(const[e]of p(EV,this))e.call(this,n)})}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void KM("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}p(EV,this).set(t,r)}removeEventListener(e,t){const n=p(EV,this).get(t);null===n||void 0===n||n(),p(EV,this).delete(t)}terminate(){for(const[,e]of p(EV,this))null===e||void 0===e||e();p(EV,this).clear()}}const IV=1,PV=2,RV=1,DV=2,MV=3,OV=4,LV=5,FV=6,$V=7,VV=8;function BV(){}function UV(e){if(e instanceof iO||e instanceof tO||e instanceof JM||e instanceof nO||e instanceof eO)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||GM('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new iO(e.message);case"InvalidPDFException":return new tO(e.message);case"PasswordException":return new JM(e.message,e.code);case"ResponseException":return new nO(e.message,e.status,e.missing);case"UnknownErrorException":return new eO(e.message,e.details)}return new eO(e.message,e.toString())}var zV=new WeakMap,HV=new WeakSet;class WV{constructor(e,t,n){P(this,HV),u(this,zV,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",h(HV,this,KV).bind(this),{signal:p(zV,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,n,r){const i=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:e,streamId:i,data:t,desiredSize:n.desiredSize},r),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:a,targetName:s,stream:FV,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{qM(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:RV,streamId:i,reason:UV(e)}),t.promise}},n)}destroy(){var e;null===(e=p(zV,this))||void 0===e||e.abort(),f(zV,this,null)}}function KV(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void h(HV,this,qV).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===IV)n.resolve(t.data);else{if(t.callback!==PV)throw new Error("Unexpected callback case");n.reject(UV(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,r=t.sourceName,i=this.comObj;return void Promise.try(n,t.data).then(function(n){i.postMessage({sourceName:e,targetName:r,callback:IV,callbackId:t.callbackId,data:n})},function(n){i.postMessage({sourceName:e,targetName:r,callback:PV,callbackId:t.callbackId,reason:UV(n)})})}t.streamId?h(HV,this,GV).call(this,t):n(t.data)}function GV(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:OV,streamId:t,chunk:e},s)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:MV,streamId:t}),delete a.streamSinks[t])},error(e){qM(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:LV,streamId:t,reason:UV(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(s,e.data,o).then(function(){i.postMessage({sourceName:n,targetName:r,stream:VV,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:r,stream:VV,streamId:t,reason:UV(e)})})}function qV(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case VV:e.success?a.startCall.resolve():a.startCall.reject(UV(e.reason));break;case $V:e.success?a.pullCall.resolve():a.pullCall.reject(UV(e.reason));break;case FV:if(!s){i.postMessage({sourceName:n,targetName:r,stream:$V,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||BV).then(function(){i.postMessage({sourceName:n,targetName:r,stream:$V,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:r,stream:$V,streamId:t,reason:UV(e)})});break;case OV:if(qM(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case MV:if(qM(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),h(HV,this,XV).call(this,a,t);break;case LV:qM(a,"error should have stream controller"),a.controller.error(UV(e.reason)),h(HV,this,XV).call(this,a,t);break;case DV:e.success?a.cancelCall.resolve():a.cancelCall.reject(UV(e.reason)),h(HV,this,XV).call(this,a,t);break;case RV:if(!s)break;const o=UV(e.reason);Promise.try(s.onCancel||BV,o).then(function(){i.postMessage({sourceName:n,targetName:r,stream:DV,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:r,stream:DV,streamId:t,reason:UV(e)})}),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function XV(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var YV=new WeakMap;class QV{constructor(e){let{enableHWA:t=!1}=e;u(this,YV,!1),f(YV,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!p(YV,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){GM("Abstract method `_createCanvas` called.")}}class ZV extends QV{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class JV{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(e){GM("Abstract method `_fetch` called.")}}class eB extends JV{async _fetch(e){const t=await yO(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):sO(t)}}class tB{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(){}}var nB=new WeakMap,rB=new WeakMap,iB=new WeakMap,aB=new WeakMap,sB=new WeakMap,oB=new WeakMap,lB=new WeakMap,cB=new WeakSet;class dB extends tB{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),P(this,cB),u(this,nB,void 0),u(this,rB,void 0),u(this,iB,void 0),u(this,aB,void 0),u(this,sB,void 0),u(this,oB,void 0),u(this,lB,0),f(aB,this,t),f(sB,this,n)}addFilter(e){var t,n;if(!e)return"none";let r=KD(cB,this,uB).get(e);if(r)return r;const[i,a,s]=h(cB,this,fB).call(this,e),o=1===e.length?i:"".concat(i).concat(a).concat(s);if(r=KD(cB,this,uB).get(o),r)return KD(cB,this,uB).set(e,r),r;const l="g_".concat(p(aB,this),"_transfer_map_").concat((f(lB,this,(t=p(lB,this),n=t++,t)),n)),c=h(cB,this,mB).call(this,l);KD(cB,this,uB).set(e,c),KD(cB,this,uB).set(o,c);const d=h(cB,this,xB).call(this,l);return h(cB,this,yB).call(this,i,a,s,d),c}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t),i="base";let a=KD(cB,this,hB).get(i);if((null===(n=a)||void 0===n?void 0:n.key)===r)return a.url;var s;a?(null===(s=a.filter)||void 0===s||s.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},KD(cB,this,hB).set(i,a));if(!e||!t)return a.url;const o=h(cB,this,kB).call(this,e);e=cO.makeHexColor(...o);const l=h(cB,this,kB).call(this,t);if(t=cO.makeHexColor(...l),KD(cB,this,pB).style.color="","#000000"===e&&"#ffffff"===t||e===t)return a.url;const c=new Array(256);for(let h=0;h<=255;h++){const e=h/255;c[h]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const d=c.join(","),u="g_".concat(p(aB,this),"_hcm_filter"),f=a.filter=h(cB,this,xB).call(this,u);h(cB,this,yB).call(this,d,d,d,f),h(cB,this,vB).call(this,f);const m=(e,t)=>{const n=o[e]/255,r=l[e]/255,i=new Array(t+1);for(let a=0;a<=t;a++)i[a]=n+a/t*(r-n);return i.join(",")};return h(cB,this,yB).call(this,m(0,5),m(1,5),m(2,5),f),a.url=h(cB,this,mB).call(this,u),a.url}addAlphaFilter(e){var t,n;let r=KD(cB,this,uB).get(e);if(r)return r;const[i]=h(cB,this,fB).call(this,[e]),a="alpha_".concat(i);if(r=KD(cB,this,uB).get(a),r)return KD(cB,this,uB).set(e,r),r;const s="g_".concat(p(aB,this),"_alpha_map_").concat((f(lB,this,(t=p(lB,this),n=t++,t)),n)),o=h(cB,this,mB).call(this,s);KD(cB,this,uB).set(e,o),KD(cB,this,uB).set(a,o);const l=h(cB,this,xB).call(this,s);return h(cB,this,wB).call(this,i,l),o}addLuminosityFilter(e){var t,n;let r,i,a=KD(cB,this,uB).get(e||"luminosity");if(a)return a;if(e?([r]=h(cB,this,fB).call(this,[e]),i="luminosity_".concat(r)):i="luminosity",a=KD(cB,this,uB).get(i),a)return KD(cB,this,uB).set(e,a),a;const s="g_".concat(p(aB,this),"_luminosity_map_").concat((f(lB,this,(t=p(lB,this),n=t++,t)),n)),o=h(cB,this,mB).call(this,s);KD(cB,this,uB).set(e,o),KD(cB,this,uB).set(i,o);const l=h(cB,this,xB).call(this,s);return h(cB,this,gB).call(this,l),e&&h(cB,this,wB).call(this,r,l),o}addHighlightHCMFilter(e,t,n,r,i){var a;const s="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i);let o=KD(cB,this,hB).get(e);if((null===(a=o)||void 0===a?void 0:a.key)===s)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},KD(cB,this,hB).set(e,o));if(!t||!n)return o.url;const[c,d]=[t,n].map(h(cB,this,kB).bind(this));let u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,g]=[r,i].map(h(cB,this,kB).bind(this));f<u&&([u,f,m,g]=[f,u,g,m]),KD(cB,this,pB).style.color="";const v=(e,t,n)=>{const r=new Array(256),i=(f-u)/n,a=e/255,s=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(u+l*i),t=a+l*s;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},x="g_".concat(p(aB,this),"_hcm_").concat(e,"_filter"),b=o.filter=h(cB,this,xB).call(this,x);return h(cB,this,vB).call(this,b),h(cB,this,yB).call(this,v(m[0],g[0],5),v(m[1],g[1],5),v(m[2],g[2],5),b),o.url=h(cB,this,mB).call(this,x),o.url}destroy(){var e,t,n,r;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(e=p(oB,this))&&void 0!==e&&e.size||(null===(t=p(iB,this))||void 0===t||t.parentNode.parentNode.remove(),f(iB,this,null),null===(n=p(rB,this))||void 0===n||n.clear(),f(rB,this,null),null===(r=p(oB,this))||void 0===r||r.clear(),f(oB,this,null),f(lB,this,0))}}function uB(e){return p(rB,e)||f(rB,e,new Map)}function hB(e){return p(oB,e)||f(oB,e,new Map)}function pB(e){if(!p(iB,e)){const t=p(sB,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=p(sB,e).createElementNS(xO,"svg");r.setAttribute("width",0),r.setAttribute("height",0),f(iB,e,p(sB,e).createElementNS(xO,"defs")),t.append(r),r.append(p(iB,e)),p(sB,e).body.append(t)}return p(iB,e)}function fB(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const r=n.join(",");return[r,r,r]}const[t,n,r]=e,i=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,a[o]=n[o]/255,s[o]=r[o]/255;return[i.join(","),a.join(","),s.join(",")]}function mB(e){if(void 0===p(nB,this)){f(nB,this,"");const e=p(sB,this).URL;e!==p(sB,this).baseURI&&(SO(e)?KM('#createUrl: ignore "data:"-URL for performance reasons.'):f(nB,this,YM(e,"")))}return"url(".concat(p(nB,this),"#").concat(e,")")}function gB(e){const t=p(sB,this).createElementNS(xO,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function vB(e){const t=p(sB,this).createElementNS(xO,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function xB(e){const t=p(sB,this).createElementNS(xO,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),KD(cB,this,pB).append(t),t}function bB(e,t,n){const r=p(sB,this).createElementNS(xO,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function yB(e,t,n,r){const i=p(sB,this).createElementNS(xO,"feComponentTransfer");r.append(i),h(cB,this,bB).call(this,i,"feFuncR",e),h(cB,this,bB).call(this,i,"feFuncG",t),h(cB,this,bB).call(this,i,"feFuncB",n)}function wB(e,t){const n=p(sB,this).createElementNS(xO,"feComponentTransfer");t.append(n),h(cB,this,bB).call(this,n,"feFuncA",e)}function kB(e){return KD(cB,this,pB).style.color=e,IO(getComputedStyle(KD(cB,this,pB)).getPropertyValue("color"))}class SB{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(e){GM("Abstract method `_fetch` called.")}}class CB extends SB{async _fetch(e){const t=await yO(e,"arraybuffer");return new Uint8Array(t)}}class jB{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load wasm data at: ".concat(n))})}async _fetch(e){GM("Abstract method `_fetch` called.")}}class _B extends jB{async _fetch(e){const t=await yO(e,"arraybuffer");return new Uint8Array(t)}}async function NB(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}cM&&KM("Please use the `legacy` build in Node.js environments.");class EB extends tB{}class AB extends QV{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("file:///home/dhaval/drashti/iplot/Iplot_housemodell/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}class TB extends JV{async _fetch(e){return NB(e)}}class IB extends SB{async _fetch(e){return NB(e)}}class PB extends jB{async _fetch(e){return NB(e)}}const RB="Fill",DB="Stroke",MB="Shading";function OB(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class LB{isModifyingCurrentTransform(){return!1}getPattern(){GM("Abstract method `getPattern` called.")}}class FB extends LB{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let i;if(r===DB||r===RB){const a=t.current.getClippedPathBoundingBox(r,PO(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=cO.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),OB(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);i.setTransform(d)}else OB(e,this._bbox),i=this._createGradient(e);return i}}function $B(e,t,n,r,i,a,s,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,x=(l[i+1]+t.offsetY)*t.scaleY;if(f>=x)return;const b=c[a],y=c[a+1],w=c[a+2],k=c[s],S=c[s+1],C=c[s+2],j=c[o],_=c[o+1],N=c[o+2],E=Math.round(f),A=Math.round(x);let T,I,P,R,D,M,O,L;for(let F=E;F<=A;F++){if(F<g){const e=F<f?0:(f-F)/(f-g);T=p-(p-m)*e,I=b-(b-k)*e,P=y-(y-S)*e,R=w-(w-C)*e}else{let e;e=F>x?1:g===x?0:(g-F)/(g-x),T=m-(m-v)*e,I=k-(k-j)*e,P=S-(S-_)*e,R=C-(C-N)*e}let e;e=F<f?0:F>x?1:(f-F)/(f-x),D=p-(p-v)*e,M=b-(b-j)*e,O=y-(y-_)*e,L=w-(w-N)*e;const t=Math.round(Math.min(T,D)),n=Math.round(Math.max(T,D));let r=u*F+4*t;for(let i=t;i<=n;i++)e=(T-i)/(T-D),e<0?e=0:e>1&&(e=1),d[r++]=I-(I-M)*e|0,d[r++]=P-(P-O)*e|0,d[r++]=R-(R-L)*e|0,d[r++]=255}}function VB(e,t,n){const r=t.coords,i=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)$B(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),$B(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)$B(e,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class BB extends LB{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,d=s/l,u={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/d},h=o+4,p=l+4,f=n.getCanvas("mesh",h,p),m=f.context,g=m.createImageData(o,l);if(t){const e=g.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)VB(g,v,u);m.putImageData(g,2,2);return{canvas:f.canvas,offsetX:r-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){OB(e,this._bbox);const i=new Float32Array(2);if(r===MB)cO.singularValueDecompose2dScale(PO(e),i);else if(this.matrix){cO.singularValueDecompose2dScale(this.matrix,i);const[e,n]=i;cO.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=e,i[1]*=n}else cO.singularValueDecompose2dScale(t.baseTransform,i);const a=this._createMeshCanvas(i,r===MB?null:this._background,t.cachedCanvases);return r!==MB&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class UB extends LB{getPattern(){return"hotpink"}}const zB=1,HB=2;class WB{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:i,color:a,canvasGraphicsFactory:s}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),WM("TilingType: "+i);const c=t[0],d=t[1],u=t[2],h=t[3],p=u-c,f=h-d,m=new Float32Array(2);cO.singularValueDecompose2dScale(this.matrix,m);const[g,v]=m;cO.singularValueDecompose2dScale(this.baseTransform,m);const x=g*m[0],b=v*m[1];let y=p,w=f,k=!1,S=!1;const C=Math.ceil(o*x),j=Math.ceil(l*b);C>=Math.ceil(p*x)?y=o:k=!0,j>=Math.ceil(f*b)?w=l:S=!0;const _=this.getSizeAndScale(y,this.ctx.canvas.width,x),N=this.getSizeAndScale(w,this.ctx.canvas.height,b),E=e.cachedCanvases.getCanvas("pattern",_.size,N.size),A=E.context,T=s.createCanvasGraphics(A);if(T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,r,a),A.translate(-_.scale*c,-N.scale*d),T.transform(_.scale,0,0,N.scale,0,0),A.save(),this.clipBbox(T,c,d,u,h),T.baseTransform=PO(T.ctx),T.executeOperatorList(n),T.endDrawing(),A.restore(),k||S){const t=E.canvas;k&&(y=o),S&&(w=l);const n=this.getSizeAndScale(y,this.ctx.canvas.width,x),r=this.getSizeAndScale(w,this.ctx.canvas.height,b),i=n.size,a=r.size,s=e.cachedCanvases.getCanvas("pattern-workaround",i,a),u=s.context,h=k?Math.floor(p/o):0,m=S?Math.floor(f/l):0;for(let e=0;e<=h;e++)for(let n=0;n<=m;n++)u.drawImage(t,i*e,a*n,i,a,0,0,i,a);return{canvas:s.canvas,scaleX:n.scale,scaleY:r.scale,offsetX:c,offsetY:d}}return{canvas:E.canvas,scaleX:_.scale,scaleY:N.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,t,n){const r=Math.max(WB.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,i){const a=r-t,s=i-n;e.ctx.rect(t,n,a,s),cO.axialAlignedBoundingBox([t,n,r,i],PO(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,i=e.current;switch(t){case zB:const{fillStyle:e,strokeStyle:a}=this.ctx;r.fillStyle=i.fillColor=e,r.strokeStyle=i.strokeColor=a;break;case HB:r.fillStyle=r.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new rO("Unsupported paint type: ".concat(t))}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let i=n;r!==MB&&(i=cO.transform(i,t.baseTransform),this.matrix&&(i=cO.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let s=new DOMMatrix(i);s=s.translate(a.offsetX,a.offsetY),s=s.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(s),o}}function KB(e){let{src:t,srcPos:n=0,dest:r,width:i,height:a,nonBlackColor:s=4294967295,inverseDecode:o=!1}=e;const l=oO.isLittleEndian?4278190080:255,[c,d]=o?[s,l]:[l,s],u=i>>3,h=7&i,p=t.length;r=new Uint32Array(r.buffer);let f=0;for(let m=0;m<a;m++){for(const i=n+u;n<i;n++){const e=n<p?t[n]:255;r[f++]=128&e?d:c,r[f++]=64&e?d:c,r[f++]=32&e?d:c,r[f++]=16&e?d:c,r[f++]=8&e?d:c,r[f++]=4&e?d:c,r[f++]=2&e?d:c,r[f++]=1&e?d:c}if(0===h)continue;const e=n<p?t[n++]:255;for(let t=0;t<h;t++)r[f++]=e&1<<7-t?d:c}return{srcPos:n,destPos:f}}o(WB,"MAX_PATTERN_SIZE",3e3);const GB=16,qB=new DOMMatrix,XB=new Float32Array(2),YB=new Float32Array([1/0,1/0,-1/0,-1/0]);class QB{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ZB(e,t,n,r,i,a,s,o,l,c){const[d,u,h,p,f,m]=PO(e);if(0===u&&0===h){const g=s*d+f,v=Math.round(g),x=o*p+m,b=Math.round(x),y=(s+l)*d+f,w=Math.abs(Math.round(y)-v)||1,k=(o+c)*p+m,S=Math.abs(Math.round(k)-b)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,b),e.drawImage(t,n,r,i,a,0,0,w,S),e.setTransform(d,u,h,p,f,m),[w,S]}if(0===d&&0===p){const g=o*h+f,v=Math.round(g),x=s*u+m,b=Math.round(x),y=(o+c)*h+f,w=Math.abs(Math.round(y)-v)||1,k=(s+l)*u+m,S=Math.abs(Math.round(k)-b)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,v,b),e.drawImage(t,n,r,i,a,0,0,S,w),e.setTransform(d,u,h,p,f,m),[S,w]}e.drawImage(t,n,r,i,a,s,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,p)*c]}class JB{constructor(e,t){o(this,"alphaIsShape",!1),o(this,"fontSize",0),o(this,"fontSizeScale",1),o(this,"textMatrix",null),o(this,"textMatrixScale",1),o(this,"fontMatrix",dM),o(this,"leading",0),o(this,"x",0),o(this,"y",0),o(this,"lineX",0),o(this,"lineY",0),o(this,"charSpacing",0),o(this,"wordSpacing",0),o(this,"textHScale",1),o(this,"textRenderingMode",SM),o(this,"textRise",0),o(this,"fillColor","#000000"),o(this,"strokeColor","#000000"),o(this,"patternFill",!1),o(this,"patternStroke",!1),o(this,"fillAlpha",1),o(this,"strokeAlpha",1),o(this,"lineWidth",1),o(this,"activeSMask",null),o(this,"transferMaps","none"),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=YB.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RB,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(e===DB){t||GM("Stroke bounding box must include transform."),cO.singularValueDecompose2dScale(t,XB);const e=XB[0]*this.lineWidth/2,r=XB[1]*this.lineWidth/2;n[0]-=e,n[1]-=r,n[2]+=e,n[3]+=r}return n}updateClipFromPath(){const e=cO.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(YB,0)}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RB,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return cO.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function eU(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,i=n%GB,a=(n-i)/GB,s=0===i?a:a+1,o=e.createImageData(r,GB);let l,c=0;const d=t.data,u=o.data;let h,p,f,m;if(t.kind===AM.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),m=n.length,g=r+7>>3,v=4294967295,x=oO.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(f=h<a?GB:i,l=0,p=0;p<f;p++){const e=t-c;let i=0;const a=e>g?r:8*e-7,s=-8&a;let o=0,u=0;for(;i<s;i+=8)u=d[c++],n[l++]=128&u?v:x,n[l++]=64&u?v:x,n[l++]=32&u?v:x,n[l++]=16&u?v:x,n[l++]=8&u?v:x,n[l++]=4&u?v:x,n[l++]=2&u?v:x,n[l++]=1&u?v:x;for(;i<a;i++)0===o&&(u=d[c++],o=128),n[l++]=u&o?v:x,o>>=1}for(;l<m;)n[l++]=0;e.putImageData(o,0,h*GB)}}else if(t.kind===AM.RGBA_32BPP){for(p=0,m=r*GB*4,h=0;h<a;h++)u.set(d.subarray(c,c+m)),c+=m,e.putImageData(o,0,p),p+=GB;h<s&&(m=r*i*4,u.set(d.subarray(c,c+m)),e.putImageData(o,0,p))}else{if(t.kind!==AM.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(f=GB,m=r*f,h=0;h<s;h++){for(h>=a&&(f=i,m=r*f),l=0,p=m;p--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;e.putImageData(o,0,h*GB)}}}function tU(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%GB,a=(n-i)/GB,s=0===i?a:a+1,o=e.createImageData(r,GB);let l=0;const c=t.data,d=o.data;for(let u=0;u<s;u++){const t=u<a?GB:i;({srcPos:l}=KB({src:c,srcPos:l,dest:d,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,u*GB)}}function nU(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function rU(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function iU(e,t){if(t)return!0;cO.singularValueDecompose2dScale(e,XB);const n=Math.fround(MO.pixelRatio*bO.PDF_TO_CSS_UNITS);return XB[0]<=n&&XB[1]<=n}const aU=["butt","round","square"],sU=["miter","round","bevel"],oU={},lU={};var cU=new WeakSet;class dU{constructor(e,t,n,r,i,a,s,o){let{optionalContentConfig:l,markedContentStack:c=null}=a;P(this,cU),this.ctx=e,this.current=new JB(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new QB(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:i=null}=e;const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const e=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...PO(this.compositeCtx))}this.ctx.save(),rU(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=PO(this.ctx)}executeOperatorList(e,t,n,r){const i=e.argsArray,a=e.fnArray;let s=t||0;const o=i.length;if(o===s)return s;const l=o-s>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const u=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if(p=a[s],p!==LM.dependency)this[p].apply(this,i[s]);else for(const e of i[s]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,n),s}if(s++,s===o)return s;if(l&&++d>10){if(Date.now()>c)return n(),s;d=0}}}endDrawing(){h(cU,this,uU).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),h(cU,this,hU).call(this)}_scaleImage(e,t){var n,r;const i=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,a=null!==(r=e.height)&&void 0!==r?r:e.displayHeight;let s,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=i,u=a,h="prescale1";for(;l>2&&d>1||c>2&&u>1;){let t=d,n=u;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&u>1&&(n=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,c/=u/n),s=this.cachedCanvases.getCanvas(h,t,n),o=s.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,d,u,0,0,t,n),e=s.canvas,d=t,u=n,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,i=this.current.fillColor,a=this.current.patternFill,s=PO(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?s:[s.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a){return{canvas:n,offsetX:Math.round(Math.min(s[0],s[2])+s[4]),offsetY:Math.round(Math.min(s[1],s[3])+s[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,r),tU(d.context,e));let u=cO.transform(s,[1/n,0,0,-1/r,0,0]);u=cO.transform(u,[1,0,0,1,0,-r]);const h=YB.slice();cO.axialAlignedBoundingBox([0,0,n,r],u,h);const[p,f,m,g]=h,v=Math.round(m-p)||1,x=Math.round(g-f)||1,b=this.cachedCanvases.getCanvas("fillCanvas",v,x),y=b.context,w=p,k=f;y.translate(-w,-k),y.transform(...u),c||(c=this._scaleImage(d.canvas,RO(y)),c=c.img,o&&a&&o.set(l,c)),y.imageSmoothingEnabled=iU(PO(y),e.interpolate),ZB(y,c,0,0,c.width,c.height,0,0,n,r),y.globalCompositeOperation="source-in";const S=cO.transform(RO(y),[1,0,0,1,-w,-k]);return y.fillStyle=a?i.getPattern(t,this,S,RB):i,y.fillRect(0,0,n,r),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(w),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=aU[e]}setLineJoin(e){this.ctx.lineJoin=sU[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=r.context;i.setTransform(this.suspendedCtx.getTransform()),nU(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,s){t.transform(e,n,r,i,a,s),this.__originalTransform(e,n,r,i,a,s)},e.setTransform=function(e,n,r,i,a,s){t.setTransform(e,n,r,i,a,s),this.__originalSetTransform(e,n,r,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,s){t.bezierCurveTo(e,n,r,i,a,s),this.__originalBezierCurveTo(e,n,r,i,a,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nU(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const i=r[0],a=r[1],s=r[2]-i,o=r[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,i,a,s,o,l,c,d){let u=e.canvas,h=o-c,p=l-d;if(a)if(h<0||p<0||h+n>u.width||p+r>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,r),t=e.context;t.drawImage(u,-h,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(0,0,n,r),t.globalCompositeOperation="source-over",u=e.canvas,h=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,p,n,r),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(h,p,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(s));const f=new Path2D;f.rect(o,l,n,r),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(u,h,p,n,r,o,l,n,r),t.restore()}save(){this.inSMaskMode&&nU(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&nU(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n)return r||(r=t[0]=new Path2D),void this[e](r);if(!(r instanceof Path2D)){const e=t[0]=new Path2D;for(let t=0,n=r.length;t<n;)switch(r[t++]){case FM:e.moveTo(r[t++],r[t++]);break;case $M:e.lineTo(r[t++],r[t++]);break;case VM:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case BM:e.closePath();break;default:KM("Unrecognized drawing path operator: ".concat(r[t-1]))}r=e}cO.axialAlignedBoundingBox(n,PO(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern){const t=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,RO(n),DB),t){const r=new Path2D;r.addPath(e,n.getTransform().invertSelf().multiplySelf(t)),e=r}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(DB,PO(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.ctx,r=this.current.fillColor;let i=!1;if(this.current.patternFill){const t=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,RO(n),RB),t){const r=new Path2D;r.addPath(e,n.getTransform().invertSelf().multiplySelf(t)),e=r}i=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),i&&n.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=oU}eoClip(){this.pendingClip=lU}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:i,x:a,y:s,fontSize:o,path:l}of e)n.addPath(l,new DOMMatrix(i).preMultiplySelf(r).translate(a,s).scale(o,-o));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=r.fontMatrix||dM,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||KM("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(r.fallbackName);let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(s)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,d=l&NM,u=!!(l&EM),p=s.patternFill&&!o.missingFile,f=s.patternStroke&&!o.missingFile;let m;if((o.disableFontFace||u||p||f)&&(m=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p||f){let e;if(a.save(),a.translate(t,n),a.scale(c,-c),d!==SM&&d!==jM||(r?(e=a.getTransform(),a.setTransform(...r),a.fill(h(cU,this,pU).call(this,m,e,r))):a.fill(m)),d===CM||d===jM)if(i){e||(e=a.getTransform()),a.setTransform(...i);const{a:t,b:n,c:r,d:s}=e,o=cO.inverseTransform(i),l=cO.transform([t,n,r,s,0,0],o);cO.singularValueDecompose2dScale(l,XB),a.lineWidth*=Math.max(XB[0],XB[1])/c,a.stroke(h(cU,this,pU).call(this,m,e,i))}else a.lineWidth/=c,a.stroke(m);a.restore()}else d!==SM&&d!==jM||a.fillText(e,t,n),d!==CM&&d!==jM||a.strokeText(e,t,n);if(u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:PO(a),x:t,y:n,fontSize:c,path:m})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return QM(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const i=this.ctx,a=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=n.vertical,h=u?1:-1,p=n.defaultVMetrics,f=r*t.fontMatrix[0],m=t.textRenderingMode===SM&&!n.disableFontFace&&!t.patternFill;let g,v;if(i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,RO(i),RB);g=PO(i),i.restore(),i.fillStyle=e}if(t.patternStroke){i.save();const e=t.strokeColor.getPattern(i,this,RO(i),DB);v=PO(i),i.restore(),i.strokeStyle=e}let x=t.lineWidth;const b=t.textMatrixScale;if(0===b||0===x){const e=t.textRenderingMode&NM;e!==CM&&e!==jM||(x=this.getSinglePixelWidth())}else x/=b;if(1!==a&&(i.scale(a,a),x/=a),i.lineWidth=x,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return i.fillText(n.join(""),0,0),t.x+=r*f*c,i.restore(),void this.compose()}let y,w=0;for(y=0;y<d;++y){const t=e[y];if("number"===typeof t){w+=h*t*r/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+s,x=t.fontChar,b=t.accent;let k,S,C=t.width;if(u){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*C)*f,r=e[2]*f;C=e?-e[0]:C,k=n/a,S=(w+r)/a}else k=w/a,S=0;if(n.remeasure&&C>0){const e=1e3*i.measureText(x).width/r*a;if(C<e&&this.isFontSubpixelAAEnabled){const t=C/e;c=!0,i.save(),i.scale(t,1),k/=t}else C!==e&&(k+=(C-e)/2e3*r/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(m&&!b)i.fillText(x,k,S);else if(this.paintChar(x,k,S,g,v),b){const e=k+r*b.offset.x/a,t=S-r*b.offset.y/a;this.paintChar(b.fontChar,e,t,g,v)}w+=u?C*f-d*l:C*f+d*l,c&&i.restore()}u?t.y-=w:t.x+=w*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,i=n.fontSize,a=n.fontDirection,s=r.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,d=n.fontMatrix||dM,u=e.length;let h,p,f,m;if(!(n.textRenderingMode===_M)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(c,a),h=0;h<u;++h){if(p=e[h],"number"===typeof p){m=s*p*i/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const a=(p.isSpace?l:0)+o,u=r.charProcOperatorList[p.operatorListId];u?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...d),this.executeOperatorList(u),this.restore()):KM('Type3 character "'.concat(p.operatorListId,'" is not available.'));const g=[p.width,0];cO.applyTransform(g,d),f=g[0]*i+a,t.translate(f,0),n.x+=f*c}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,a){const s=new Path2D;s.rect(n,r,i-n,a-r),this.ctx.clip(s),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=this.baseTransform||PO(this.ctx),r={createCanvasGraphics:e=>new dU(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new WB(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new FB(e);case"Mesh":return new BB(e);case"Dummy":return new UB}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,RO(t),MB);const r=RO(t);if(r){const{width:e,height:n}=t.canvas,i=YB.slice();cO.axialAlignedBoundingBox([0,0,e,n],r,i);const[a,s,o,l]=i;this.ctx.fillRect(a,s,o-a,l-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){GM("Should not call beginInlineImage")}beginImageData(){GM("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=PO(this.ctx),t)){cO.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[e,n,r,i]=t,a=new Path2D;a.rect(e,n,r-e,i-n),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||WM("TODO: Support non-isolated groups."),e.knockout&&KM("Knockout groups not supported.");const n=PO(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=YB.slice();cO.axialAlignedBoundingBox(e.bbox,PO(t),r);const i=[0,0,t.canvas.width,t.canvas.height];r=cO.intersect(r,i)||[0,0,0,0];const a=Math.floor(r[0]),s=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-a,1),l=Math.max(Math.ceil(r[3])-s,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),u=d.context;u.translate(-a,-s),u.transform(...n);let h=new Path2D;const[p,f,m,g]=e.bbox;if(h.rect(p,f,m-p,g-f),e.matrix){const t=new Path2D;t.addPath(h,new DOMMatrix(e.matrix)),h=t}u.clip(h),e.smask?this.smaskStack.push({canvas:d.canvas,context:u,offsetX:a,offsetY:s,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.save()),nU(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=PO(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=YB.slice();cO.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e,n),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,r,i){if(h(cU,this,uU).call(this),rU(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const r=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=a,cO.singularValueDecompose2dScale(PO(this.ctx),XB);const{viewportScale:i}=this,s=Math.ceil(r*this.outputScaleX*i),o=Math.ceil(a*this.outputScaleY*i);this.annotationCanvas=this.canvasFactory.create(s,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(XB[0],0,0,-XB[1],0,a*XB[1]),rU(this.ctx)}else{rU(this.ctx),this.endPath();const e=new Path2D;e.rect(t[0],t[1],r,a),this.ctx.clip(e)}}this.current=new JB(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),h(cU,this,hU).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this._createMaskCanvas(e),i=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const s=this.ctx;s.save();const o=PO(s);s.transform(t,n,r,i,0,0);const l=this._createMaskCanvas(e);s.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=a.length;c<d;c+=2){const e=cO.transform(o,[t,n,r,i,a[c],a[c+1]]);s.drawImage(l.canvas,e[4],e[5])}s.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:e,width:a,height:s,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",a,s),c=l.context;c.save();tU(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this,RO(t),RB):n,c.fillRect(0,0,a,s),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),ZB(t,l.canvas,0,0,a,s,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):KM("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void KM("Dependent image isn't ready yet");const a=i.width,s=i.height,o=[];for(let l=0,c=r.length;l<c;l+=2)o.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:i}=r;let a;if("none"!==i&&""!==i&&(r.filter="none"),r.scale(1/t,-1/n),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;eU(r,e),a=this.applyTransferMapsToCanvas(r)}const s=this._scaleImage(a,RO(r));r.imageSmoothingEnabled=iU(PO(r),e.interpolate),ZB(r,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;eU(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),ZB(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===lU?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=PO(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let a,s;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)a=s=1/n;else{const t=n*e;a=s=t<1?1/t:1}else if(0===e)a=1/n,s=1/r;else{const t=n*e,i=r*e;a=t<1?1/t:1,s=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)a=c/o,s=l/o;else{const t=e*o;a=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[i,a]=this.getScaleForStroking();if(i===a)return n.lineWidth=(r||1)*i,void n.stroke(e);const s=n.getLineDash();t&&n.save(),n.scale(i,a),qB.a=1/i,qB.d=1/a;const o=new Path2D;if(o.addPath(e,qB),s.length>0){const e=Math.max(i,a);n.setLineDash(s.map(t=>t/e)),n.lineDashOffset/=e}n.lineWidth=r||1,n.stroke(o),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function uU(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function hU(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function pU(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}for(const n in LM)void 0!==dU.prototype[n]&&(dU.prototype[LM[n]]=dU.prototype[n]);class fU{static get workerPort(){return h(fU,this,mU)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");mU._=h(fU,this,e)}static get workerSrc(){return h(fU,this,gU)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");gU._=h(fU,this,e)}}var mU={_:null},gU={_:""},vU=new WeakMap,xU=new WeakMap;class bU{constructor(e){let{parsedData:t,rawData:n}=e;u(this,vU,void 0),u(this,xU,void 0),f(vU,this,t),f(xU,this,n)}getRaw(){return p(xU,this)}get(e){var t;return null!==(t=p(vU,this).get(e))&&void 0!==t?t:null}[Symbol.iterator](){return p(vU,this).entries()}}const yU=Symbol("INTERNAL");var wU=new WeakMap,kU=new WeakMap,SU=new WeakMap,CU=new WeakMap;class jU{constructor(e,t){let{name:n,intent:r,usage:i,rbGroups:a}=t;u(this,wU,!1),u(this,kU,!1),u(this,SU,!1),u(this,CU,!0),f(wU,this,!!(e&pM)),f(kU,this,!!(e&fM)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(p(SU,this))return p(CU,this);if(!p(CU,this))return!1;const{print:e,view:t}=this.usage;return p(wU,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!p(kU,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==yU&&GM("Internal method `_setVisible` called."),f(SU,this,n),f(CU,this,t)}}var _U=new WeakMap,NU=new WeakMap,EU=new WeakMap,AU=new WeakMap,TU=new WeakSet;class IU{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pM;if(P(this,TU),u(this,_U,null),u(this,NU,new Map),u(this,EU,null),u(this,AU,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,f(AU,this,e.order);for(const n of e.groups)p(NU,this).set(n.id,new jU(t,n));if("OFF"===e.baseState)for(const e of p(NU,this).values())e._setVisible(yU,!1);for(const t of e.on)p(NU,this).get(t)._setVisible(yU,!0);for(const t of e.off)p(NU,this).get(t)._setVisible(yU,!1);f(EU,this,this.getHash())}}isVisible(e){if(0===p(NU,this).size)return!0;if(!e)return WM("Optional content group not defined."),!0;if("OCG"===e.type)return p(NU,this).has(e.id)?p(NU,this).get(e.id).visible:(KM("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return h(TU,this,PU).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!p(NU,this).has(t))return KM("Optional content group not found: ".concat(t)),!0;if(p(NU,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!p(NU,this).has(t))return KM("Optional content group not found: ".concat(t)),!0;if(!p(NU,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!p(NU,this).has(t))return KM("Optional content group not found: ".concat(t)),!0;if(!p(NU,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!p(NU,this).has(t))return KM("Optional content group not found: ".concat(t)),!0;if(p(NU,this).get(t).visible)return!1}return!0}return KM("Unknown optional content policy ".concat(e.policy,".")),!0}return KM("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=p(NU,this).get(e);if(r){if(n&&t&&r.rbGroups.length)for(const t of r.rbGroups)for(const n of t){var i;if(n!==e)null===(i=p(NU,this).get(n))||void 0===i||i._setVisible(yU,!1,!0)}r._setVisible(yU,!!t,!0),f(_U,this,null)}else KM("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=p(NU,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!e.visible,r)}}f(_U,this,null)}get hasInitialVisibility(){return null===p(EU,this)||this.getHash()===p(EU,this)}getOrder(){return p(NU,this).size?p(AU,this)?p(AU,this).slice():[...p(NU,this).keys()]:null}getGroup(e){return p(NU,this).get(e)||null}getHash(){if(null!==p(_U,this))return p(_U,this);const e=new hV;for(const[t,n]of p(NU,this))e.update("".concat(t,":").concat(n.visible));return f(_U,this,e.hexdigest())}[Symbol.iterator](){return p(NU,this).entries()}}function PU(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let i;if(Array.isArray(t))i=h(TU,this,PU).call(this,t);else{if(!p(NU,this).has(t))return KM("Optional content group not found: ".concat(t)),!0;i=p(NU,this).get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class RU{constructor(e,t){let{disableRange:n=!1,disableStream:r=!1}=t;qM(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(null===a||void 0===a?void 0:a.length)>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{qM(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(r),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){qM(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new DU(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new MU(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class DU{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=CO(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class MU{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function OU(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const r in t){const e=t[r];void 0!==e&&n.append(r,e)}return n}function LU(e){var t,n;return null!==(t=null===(n=URL.parse(e))||void 0===n?void 0:n.origin)&&void 0!==t?t:null}function FU(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(s))return a;if(a.suggestedLength=s,s<=2*r)return a;if(i||!n)return a;if("bytes"!==t.get("Accept-Ranges"))return a;return"identity"!==(t.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function $U(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=s(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const a=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=s(n),e&&(n=unescape(n),0===r&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(l(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=s(n);return e=l(e),a(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),i=sO(n);n=r.decode(i),t=!1}catch(r){}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,r){if("q"===n||"Q"===n)return r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),i(t,r);try{r=atob(r)}catch(a){}return i(t,r)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(CO(e))return e}return null}function VU(e,t){return new nO("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e,404===e||0===e&&t.startsWith("file:"))}function BU(e){return 200===e||206===e}function UU(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function zU(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(KM("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class HU{constructor(e){o(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=OU(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return qM(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new WU(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new KU(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class WU{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,UU(n,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=LU(t.url),!BU(t.status))throw VU(t.status,r);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:i,suggestedLength:a}=FU({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=$U(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new iO("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:zU(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class KU{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(n-1));const a=r.url;fetch(a,UU(i,this._withCredentials,this._abortController)).then(t=>{const n=LU(t.url);if(n!==e._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(e._responseOrigin,'".'));if(!BU(t.status))throw VU(t.status,a);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:zU(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class GU{constructor(e){let{url:t,httpHeaders:n,withCredentials:r}=e;o(this,"_responseOrigin",null),this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=OU(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",qM(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void n.onError(r.status);const i=r.status||200;if(!(200===i&&206===n.expectedStatus)&&i!==n.expectedStatus)return void n.onError(r.status);const a=function(e){const t=e.response;return"string"!==typeof t?t:sO(t).buffer}(r);if(206===i){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:a}):(KM('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class qU{constructor(e){this._source=e,this._manager=new GU(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return qM(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new XU(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new YU(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class XU{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=LU(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:a}=FU({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=$U(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=VU(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class YU{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=LU(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=VU(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const QU=/^[a-z][a-z0-9\-+.]+:/i;class ZU{constructor(e){this.source=e,this.url=function(e){if(QU.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),qM("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return qM(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new JU(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new ez(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class JU{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=VU(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new iO("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ez{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const tz=Symbol("INITIAL_DATA");var nz=new WeakMap,rz=new WeakSet;class iz{constructor(){P(this,rz),u(this,nz,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=h(rz,this,az).call(this,e);return n.promise.then(()=>t(n.data)),null}const n=p(nz,this)[e];if(!n||n.data===tz)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=p(nz,this)[e];return!!t&&t.data!==tz}delete(e){const t=p(nz,this)[e];return!(!t||t.data===tz)&&(delete p(nz,this)[e],!0)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=h(rz,this,az).call(this,e);n.data=t,n.resolve()}clear(){for(const t in p(nz,this)){var e;const{data:n}=p(nz,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}f(nz,this,Object.create(null))}*[Symbol.iterator](){for(const e in p(nz,this)){const{data:t}=p(nz,this)[e];t!==tz&&(yield[e,t])}}}function az(e){var t;return(t=p(nz,this))[e]||(t[e]=c(c({},Promise.withResolvers()),{},{data:tz}))}var sz=new WeakMap,oz=new WeakMap,lz=new WeakMap,cz=new WeakMap,dz=new WeakMap,uz=new WeakMap,hz=new WeakMap,pz=new WeakMap,fz=new WeakMap,mz=new WeakMap,gz=new WeakMap,vz=new WeakMap,xz=new WeakMap,bz=new WeakMap,yz=new WeakMap,wz=new WeakMap,kz=new WeakMap,Sz=new WeakMap,Cz=new WeakSet;class jz{constructor(e){var t;let{textContentSource:n,container:r,viewport:i}=e;if(P(this,Cz),u(this,sz,Promise.withResolvers()),u(this,oz,null),u(this,lz,!1),u(this,cz,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),u(this,dz,null),u(this,uz,null),u(this,hz,0),u(this,pz,0),u(this,fz,null),u(this,mz,null),u(this,gz,0),u(this,vz,0),u(this,xz,Object.create(null)),u(this,bz,[]),u(this,yz,null),u(this,wz,[]),u(this,kz,new WeakMap),u(this,Sz,null),n instanceof ReadableStream)f(yz,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');f(yz,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}f(oz,this,f(mz,this,r)),f(vz,this,i.scale*MO.pixelRatio),f(gz,this,i.rotation),f(uz,this,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:s,pageX:o,pageY:l}=i.rawDims;f(Sz,this,[1,0,0,-1,-o,l+s]),f(pz,this,a),f(hz,this,s),Iz.call(jz),DO(r,i),p(sz,this).promise.finally(()=>{Lz._.delete(this),f(uz,this,null),f(xz,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=oO.platform;return QM(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{p(fz,this).read().then(t=>{var n;let{value:r,done:i}=t;i?p(sz,this).resolve():(null!==(n=p(dz,this))&&void 0!==n||f(dz,this,r.lang),Object.assign(p(xz,this),r.styles),h(Cz,this,_z).call(this,r.items),e())},p(sz,this).reject)};return f(fz,this,p(yz,this).getReader()),Lz._.add(this),e(),p(sz,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const r=t.scale*MO.pixelRatio,i=t.rotation;if(i!==p(gz,this)&&(null===n||void 0===n||n(),f(gz,this,i),DO(p(mz,this),{rotation:i})),r!==p(vz,this)){null===n||void 0===n||n(),f(vz,this,r);const e={div:null,properties:null,ctx:Az.call(jz,p(dz,this))};for(const t of p(wz,this))e.properties=p(kz,this).get(t),e.div=t,h(Cz,this,Ez).call(this,e)}}cancel(){var e;const t=new iO("TextLayer task cancelled.");null===(e=p(fz,this))||void 0===e||e.cancel(t).catch(()=>{}),f(fz,this,null),p(sz,this).reject(t)}get textDivs(){return p(wz,this)}get textContentItemsStr(){return p(bz,this)}static cleanup(){if(!(h(jz,this,Lz)._.size>0)){h(jz,this,Rz)._.clear();for(const{canvas:e}of h(jz,this,Dz)._.values())e.remove();h(jz,this,Dz)._.clear()}}}function _z(e){var t,n;if(p(lz,this))return;null!==(n=(t=p(uz,this)).ctx)&&void 0!==n||(t.ctx=Az.call(JD,p(dz,this)));const r=p(wz,this),i=p(bz,this);for(const a of e){if(r.length>1e5)return KM("Ignoring additional textDivs for performance reasons."),void f(lz,this,!0);if(void 0!==a.str)i.push(a.str),h(Cz,this,Nz).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const e=p(oz,this);f(oz,this,document.createElement("span")),p(oz,this).classList.add("markedContent"),null!==a.id&&p(oz,this).setAttribute("id","".concat(a.id)),e.append(p(oz,this))}else"endMarkedContent"===a.type&&f(oz,this,p(oz,this).parentNode)}}function Nz(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};p(wz,this).push(t);const r=cO.transform(p(Sz,this),e.transform);let i=Math.atan2(r[1],r[0]);const a=p(xz,this)[e.fontName];a.vertical&&(i+=Math.PI/2);let s=p(cz,this)&&a.fontSubstitution||a.fontFamily;s=JD.fontFamilyMap.get(s)||s;const o=Math.hypot(r[2],r[3]),l=o*Pz.call(JD,s,a,p(dz,this));let c,d;0===i?(c=r[4],d=r[5]-l):(c=r[4]+l*Math.sin(i),d=r[5]-l*Math.cos(i));const u="calc(var(--total-scale-factor) *",f=t.style;p(oz,this)===p(mz,this)?(f.left="".concat((100*c/p(pz,this)).toFixed(2),"%"),f.top="".concat((100*d/p(hz,this)).toFixed(2),"%")):(f.left="".concat(u).concat(c.toFixed(2),"px)"),f.top="".concat(u).concat(d.toFixed(2),"px)")),f.fontSize="".concat(u).concat((Oz._*o).toFixed(2),"px)"),f.fontFamily=s,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,p(cz,this)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(m=!0)}if(m&&(n.canvasWidth=a.vertical?e.height:e.width),p(kz,this).set(t,n),p(uz,this).div=t,p(uz,this).properties=n,h(Cz,this,Ez).call(this,p(uz,this)),n.hasText&&p(oz,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),p(oz,this).append(e)}}function Ez(e){const{div:t,properties:n,ctx:r}=e,{style:i}=t;let a="";if(Oz._>1&&(a="scale(".concat(1/Oz._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=i,{canvasWidth:s,fontSize:o}=n;Tz.call(JD,r,o*p(vz,this),e);const{width:l}=r.measureText(t.textContent);l>0&&(a="scaleX(".concat(s*p(vz,this)/l,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(i.transform=a)}function Az(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=h(JD,this,Dz)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(JD,this,Dz)._.set(e,t),h(JD,this,Mz)._.set(t,{size:0,family:""})}return t}function Tz(e,t,n){const r=h(JD,this,Mz)._.get(e);t===r.size&&n===r.family||(e.font="".concat(t,"px ").concat(n),r.size=t,r.family=n)}function Iz(){if(null!==h(JD,this,Oz)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Oz._=h(JD,this,e.getBoundingClientRect().height),e.remove()}function Pz(e,t,n){const r=h(JD,this,Rz)._.get(e);if(r)return r;const i=h(JD,this,Az).call(this,n);i.canvas.width=i.canvas.height=30,h(JD,this,Tz).call(this,i,30,e);const a=i.measureText(""),s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let l=.8;return s?l=s/(s+o):(oO.platform.isFirefox&&KM("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),h(JD,this,Rz)._.set(e,l),l}JD=jz;var Rz={_:new Map},Dz={_:new Map},Mz={_:new WeakMap},Oz={_:null},Lz={_:new Set};class Fz{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var r;if(!n)return;let i=null;const a=n.name;if("#text"===a)i=n.value;else{if(!Fz.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(r=n.attributes)&&void 0!==r&&r.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}function $z(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const r=new Vz,{docId:i}=r,a=n.url?function(e){if(e instanceof URL)return e.href;if("string"===typeof e){if(cM)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,s=n.data?function(e){if(cM&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return sO(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(e=n.password)&&void 0!==e?e:null,d=n.range instanceof Gz?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let h=n.worker instanceof iH?n.worker:null;const p=n.verbosity,f="string"!==typeof n.docBaseUrl||SO(n.docBaseUrl)?null:n.docBaseUrl,m=jV(n.cMapUrl),g=!1!==n.cMapPacked,v=n.CMapReaderFactory||(cM?TB:eB),x=jV(n.iccUrl),b=jV(n.standardFontDataUrl),y=n.StandardFontDataFactory||(cM?IB:CB),w=jV(n.wasmUrl),k=n.WasmFactory||(cM?PB:_B),S=!0!==n.stopAtErrors,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,j=!1!==n.isEvalSupported,_="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!cM,N="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!cM&&(oO.platform.isFirefox||!globalThis.chrome),E=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,A="boolean"===typeof n.disableFontFace?n.disableFontFace:cM,T=!0===n.fontExtraProperties,I=!0===n.enableXfa,P=n.ownerDocument||globalThis.document,R=!0===n.disableRange,D=!0===n.disableStream,M=!0===n.disableAutoFetch,O=!0===n.pdfBug,L=n.CanvasFactory||(cM?AB:ZV),F=n.FilterFactory||(cM?EB:dB),$=!0===n.enableHWA,V=!1!==n.useWasm,B=d?d.length:null!==(t=n.length)&&void 0!==t?t:NaN,U="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!cM&&!A,z="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===eB&&y===CB&&k===_B&&m&&b&&w&&_O(m,document.baseURI)&&_O(b,document.baseURI)&&_O(w,document.baseURI));zM(p);const H={canvasFactory:new L({ownerDocument:P,enableHWA:$}),filterFactory:new F({docId:i,ownerDocument:P}),cMapReaderFactory:z?null:new v({baseUrl:m,isCompressed:g}),standardFontDataFactory:z?null:new y({baseUrl:b}),wasmFactory:z?null:new k({baseUrl:w})};h||(h=iH.create({verbosity:p,port:fU.workerPort}),r._worker=h);const W={docId:i,apiVersion:"5.3.31",data:s,password:c,disableAutoFetch:M,rangeChunkSize:u,length:B,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:C,disableFontFace:A,ignoreErrors:S,isEvalSupported:j,isOffscreenCanvasSupported:_,isImageDecoderSupported:N,canvasMaxAreaInBytes:E,fontExtraProperties:T,useSystemFonts:U,useWasm:V,useWorkerFetch:z,cMapUrl:m,iccUrl:x,standardFontDataUrl:b,wasmUrl:w}},K={ownerDocument:P,pdfBug:O,styleElement:null,loadingParams:{disableAutoFetch:M,enableXfa:I}};return h.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const e=h.messageHandler.sendWithPromise("GetDocRequest",W,s?[s.buffer]:null);let t;if(d)t=new RU(d,{disableRange:R,disableStream:D});else if(!s){if(!a)throw new Error("getDocument - no `url` parameter provided.");const e=_O(a)?HU:cM?ZU:qU;t=new e({url:a,length:B,httpHeaders:o,withCredentials:l,rangeChunkSize:u,disableRange:R,disableStream:D})}return e.then(e=>{if(r.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const n=new WV(i,e,h.port),a=new bH(n,r,t,K,H);r._transport=a,n.send("Ready",null)})}).catch(r._capability.reject),r}class Vz{constructor(){o(this,"_capability",Promise.withResolvers()),o(this,"_transport",null),o(this,"_worker",null),o(this,"docId","d".concat((Bz._=(eM=Bz._,tM=eM++,eM),tM))),o(this,"destroyed",!1),o(this,"onPassword",null),o(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0;try{var t,n;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(i){var r;throw null!==(r=this._worker)&&void 0!==r&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,null===(e=this._worker)||void 0===e||e.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Bz={_:0},Uz=new WeakMap,zz=new WeakMap,Hz=new WeakMap,Wz=new WeakMap,Kz=new WeakMap;class Gz{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,Uz,Promise.withResolvers()),u(this,zz,[]),u(this,Hz,[]),u(this,Wz,[]),u(this,Kz,[]),this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){p(Kz,this).push(e)}addProgressListener(e){p(Wz,this).push(e)}addProgressiveReadListener(e){p(Hz,this).push(e)}addProgressiveDoneListener(e){p(zz,this).push(e)}onDataRange(e,t){for(const n of p(Kz,this))n(e,t)}onDataProgress(e,t){p(Uz,this).promise.then(()=>{for(const n of p(Wz,this))n(e,t)})}onDataProgressiveRead(e){p(Uz,this).promise.then(()=>{for(const t of p(Hz,this))t(e)})}onDataProgressiveDone(){p(Uz,this).promise.then(()=>{for(const e of p(zz,this))e()})}transportReady(){p(Uz,this).resolve()}requestDataRange(e,t){GM("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class qz{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return QM(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xz=new WeakMap,Yz=new WeakSet;class Qz{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];P(this,Yz),u(this,Xz,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new jO:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new iz,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new wO({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return QM(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:i,intent:a="display",annotationMode:s=yM.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:p=null,isEditing:m=!1}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const g=this._transport.getRenderingIntent(a,s,p,m),{renderingIntent:v,cacheKey:x}=g;f(Xz,this,!1),c||(c=this._transport.getOptionalContentConfig(v));let b=this._intentStates.get(x);b||(b=Object.create(null),this._intentStates.set(x,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const y=!!(v&fM);var w;b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(w=this._stats)||void 0===w||w.time("Page Request"),this._pumpOperatorList(g));const k=e=>{var t;(b.renderTasks.delete(S),y&&f(Xz,this,!0),h(Yz,this,Zz).call(this),e?(S.capability.reject(e),this._abortOperatorList({intentState:b,reason:e instanceof Error?e:new Error(e)})):S.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new CH({callback:k,params:{canvasContext:r,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});((n=b).renderTasks||(n.renderTasks=new Set)).add(S);const C=S.task;return Promise.all([b.displayReadyCapability.promise,c]).then(e=>{var t;let[n,r]=e;if(this.destroyed)k();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(r.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:n,optionalContentConfig:r}),S.operatorListChanged()}}).catch(k),C}getOperatorList(){let{intent:e="display",annotationMode:t=yM.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,r,!0);let a,s=this._intentStates.get(i.cacheKey);var o,l;(s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability)||(a=Object.create(null),a.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))},s.opListReadCapability=Promise.withResolvers(),((o=s).renderTasks||(o.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>Fz.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then(function(n){var r;let{value:a,done:s}=n;s?e(i):(null!==(r=i.lang)&&void 0!==r||(i.lang=a.lang),Object.assign(i.styles,a.styles),i.items.push(...a.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),f(Xz,this,!1),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(Xz,this,!0);const t=h(Yz,this,Zz).call(this);return e&&t&&this._stats&&(this._stats=new jO),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&h(Yz,this,Zz).call(this)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}=e;const{map:a,transfer:s}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then(e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())},e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();h(Yz,this,Zz).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}})};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof kO){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},e))}}if(t.streamReader.cancel(new iO(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function Zz(){if(!p(Xz,this)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),f(Xz,this,!1),!0}var Jz=new WeakMap,eH=new WeakMap,tH=new WeakMap,nH=new WeakMap,rH=new WeakSet;class iH{constructor(){let{name:e=null,port:t=null,verbosity:n=HM()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(P(this,rH),u(this,Jz,Promise.withResolvers()),u(this,eH,null),u(this,tH,null),u(this,nH,null),this.name=e,this.destroyed=!1,this.verbosity=n,t){if(hH._.has(t))throw new Error("Cannot use more than one PDFWorker per port.");hH._.set(t,this),h(rH,this,sH).call(this,t)}else h(rH,this,oH).call(this)}get promise(){return p(Jz,this).promise}get port(){return p(tH,this)}get messageHandler(){return p(eH,this)}destroy(){var e,t;this.destroyed=!0,null===(e=p(nH,this))||void 0===e||e.terminate(),f(nH,this,null),hH._.delete(p(tH,this)),f(tH,this,null),null===(t=p(eH,this))||void 0===t||t.destroy(),f(eH,this,null)}static create(e){const t=h(iH,this,hH)._.get(null===e||void 0===e?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new iH(e)}static get workerSrc(){if(fU.workerSrc)return fU.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return QM(this,"_setupFakeWorkerGlobal",(async()=>{if(KD(iH,this,cH))return KD(iH,this,cH);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function aH(){p(Jz,this).resolve(),p(eH,this).send("configure",{verbosity:this.verbosity})}function sH(e){f(tH,this,e),f(eH,this,new WV("main","worker",e)),p(eH,this).on("ready",()=>{}),h(rH,this,aH).call(this)}function oH(){if(uH._||cH(nM))return void h(rH,this,lH).call(this);let{workerSrc:e}=nM;try{nM._isSameOrigin(window.location,e)||(e=nM._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new WV("main","worker",t),r=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?p(Jz,this).reject(new Error("Worker was destroyed")):h(rH,this,lH).call(this)},i=new AbortController;t.addEventListener("error",()=>{p(nH,this)||r()},{signal:i.signal}),n.on("test",e=>{i.abort(),!this.destroyed&&e?(f(eH,this,n),f(tH,this,t),f(nH,this,t),h(rH,this,aH).call(this)):r()}),n.on("ready",e=>{if(i.abort(),this.destroyed)r();else try{a()}catch(t){h(rH,this,lH).call(this)}});const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch(t){WM("The worker has been disabled.")}h(rH,this,lH).call(this)}function lH(){uH._||(KM("Setting up fake worker."),uH._=!0),nM._setupFakeWorkerGlobal.then(e=>{var t,n;if(this.destroyed)return void p(Jz,this).reject(new Error("Worker was destroyed"));const r=new TV;f(tH,this,r);const i="fake".concat((dH._=(t=dH._,n=t++,t),n)),a=new WV(i+"_worker",i,r);e.setup(a,r),f(eH,this,new WV(i,i+"_worker",r)),h(rH,this,aH).call(this)}).catch(e=>{p(Jz,this).reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}function cH(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}nM=iH;var dH={_:0},uH={_:!1},hH={_:new WeakMap};cM&&(uH._=h(nM,nM,!0),fU.workerSrc||(fU.workerSrc="./pdf.worker.mjs")),nM._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const r=new URL(t,n);return n.origin===r.origin},nM._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},nM.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return nM.create(e)};var pH=new WeakMap,fH=new WeakMap,mH=new WeakMap,gH=new WeakMap,vH=new WeakMap,xH=new WeakSet;class bH{constructor(e,t,n,r,i){P(this,xH),u(this,pH,new Map),u(this,fH,new Map),u(this,mH,new Map),u(this,gH,new Map),u(this,vH,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new iz,this.fontLoader=new SV({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return QM(this,"annotationStorage",new xV)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yM.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=pM,s=pV;switch(e){case"any":a=hM;break;case"display":break;case"print":a=fM;break;default:KM("getRenderingIntent - invalid intent: ".concat(e))}const o=a&fM&&n instanceof wV?n:this.annotationStorage;switch(t){case yM.DISABLE:a+=vM;break;case yM.ENABLE:break;case yM.ENABLE_FORMS:a+=mM;break;case yM.ENABLE_STORAGE:a+=gM,s=o.serializable;break;default:KM("getRenderingIntent - invalid annotationMode: ".concat(t))}r&&(a+=xM),i&&(a+=bM);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=p(vH,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of p(fH,this).values())t.push(r._destroy());p(fH,this).clear(),p(mH,this).clear(),p(gH,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),p(pH,this).clear(),this.filterFactory.destroy(),jz.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new iO("Worker was terminated.")),null===(t=this.messageHandler)||void 0===t||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{qM(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:n,done:r}=e;r?t.close():(qM(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:r,contentLength:i}=this._fullReader;if(!n||!r){var a;if(this._lastProgress)null===(a=t.onProgress)||void 0===a||a.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:r,contentLength:i}}),e.on("GetRangeReader",(e,t)=>{qM(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function(e){let{value:n,done:r}=e;r?t.close():(qM(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new qz(n,this))}),e.on("DocException",e=>{t._capability.reject(UV(e))}),e.on("PasswordRequest",e=>{f(vH,this,Promise.withResolvers());try{if(!t.onPassword)throw UV(e);const n=e=>{e instanceof Error?p(vH,this).reject(e):p(vH,this).resolve({password:e})};t.onPassword(n,e.code)}catch(n){p(vH,this).reject(n)}return p(vH,this).promise}),e.on("DataLoaded",e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;p(fH,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var n;let[r,i,a]=t;if(this.destroyed)return null;if(this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const e=a.error;KM("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const t=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,s=new CV(a,t);this.fontLoader.bind(s).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!s.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(r,s)});break;case"CopyLocalImage":const{imageRef:o}=a;qM(o,"The imageRef must be defined.");for(const e of p(fH,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===o)return t.dataLen?(this.commonObjs.resolve(r,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error("Got unknown common object type ".concat(i))}return null}),e.on("obj",e=>{let[t,n,r,i]=e;if(this.destroyed)return;const a=p(fH,this).get(n);var s;if(!a.objs.has(t))if(0!==a._intentStates.size)switch(r){case"Image":case"Pattern":a.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(r))}else null===i||void 0===i||null===(s=i.bitmap)||void 0===s||s.close()}),e.on("DocProgress",e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error("".concat(e.type," not initialized, see the `useWorkerFetch` parameter."));return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&KM("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=p(mH,this).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&p(gH,this).set(n.refStr,e);const r=new Qz(t,n,this,this._params.pdfBug);return p(fH,this).set(t,r),r});return p(mH,this).set(t,r),r}getPageIndex(e){return _V(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return h(xH,this,yH).call(this,"GetFieldObjects")}hasJSActions(){return h(xH,this,yH).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return h(xH,this,yH).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return h(xH,this,yH).call(this,"GetOptionalContentConfig").then(t=>new IU(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=p(pH,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new bU(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}});return p(pH,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of p(fH,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),p(pH,this).clear(),this.filterFactory.destroy(!0),jz.cleanup()}}cachedPageNumber(e){var t;if(!_V(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=p(gH,this).get(n))&&void 0!==t?t:null}}function yH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=p(pH,this).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return p(pH,this).set(e,r),r}var wH=new WeakMap;class kH{constructor(e){u(this,wH,null),o(this,"onContinue",null),o(this,"onError",null),f(wH,this,e)}get promise(){return p(wH,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;p(wH,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=p(wH,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=p(wH,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var SH=new WeakMap;class CH{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}=e;u(this,SH,null),this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(jH._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");jH._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:s,transform:o,background:l}=this.params;this.gfx=new dU(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:r,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),p(SH,this)&&(window.cancelAnimationFrame(p(SH,this)),f(SH,this,null)),jH._.delete(this._canvas),r||(r=new kO("Rendering cancelled, page ".concat(this._pageIndex+1),i)),this.callback(r),null===(t=(n=this.task).onError)||void 0===t||t.call(n,r)}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?f(SH,this,window.requestAnimationFrame(()=>{f(SH,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),jH._.delete(this._canvas),this.callback())))}}var jH={_:new WeakSet};const _H="5.3.31";function NH(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function EH(e){return Math.max(0,Math.min(255,255*e))}class AH{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=EH(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=NH(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(EH)}static RGB_HTML(e){return"#".concat(e.map(NH).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[EH(1-Math.min(1,t+i)),EH(1-Math.min(1,r+i)),EH(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,a=1-n,s=1-r;return["CMYK",i,a,s,Math.min(i,a,s)]}}class TH{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){GM("Abstract method `_createSVG` called.")}}class IH extends TH{_createSVG(e){return document.createElementNS(xO,e)}}class PH{static setupStorage(e,t,n,r,i){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",e=>{r.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",e=>{r.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})})}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:a}=e;const{attributes:s}=n,o=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(i));for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:i,linkService:n});const s="richText"!==i,o=e.div;if(o.append(a),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===r.children.length){if(r.value){const e=document.createTextNode(r.value);a.append(e),s&&Fz.shouldBuildText(r.name)&&l.push(e)}return{textDivs:l}}const c=[[r,-1,a]];for(;c.length>0;){var d,u;const[e,r,a]=c.at(-1);if(r+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:h}=o;if("#text"===h){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const p=null!==o&&void 0!==o&&null!==(d=o.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(o.attributes.xmlns,h):document.createElement(h);if(a.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:t,intent:i,linkService:n}),(null===(u=o.children)||void 0===u?void 0:u.length)>0)c.push([o,-1,p]);else if(o.value){const e=document.createTextNode(o.value);s&&Fz.shouldBuildText(h)&&l.push(e),p.append(e)}}for(const h of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const RH=1e3,DH=new WeakSet;class MH{static create(e){switch(e.data.annotationType){case TM.LINK:return new zH(e);case TM.TEXT:return new GH(e);case TM.WIDGET:switch(e.data.fieldType){case"Tx":return new XH(e);case"Btn":return e.data.radioButton?new ZH(e):e.data.checkBox?new QH(e):new JH(e);case"Ch":return new eW(e);case"Sig":return new YH(e)}return new qH(e);case TM.POPUP:return new tW(e);case TM.FREETEXT:return new PW(e);case TM.LINE:return new DW(e);case TM.SQUARE:return new OW(e);case TM.CIRCLE:return new FW(e);case TM.POLYLINE:return new VW(e);case TM.CARET:return new UW(e);case TM.INK:return new KW(e);case TM.POLYGON:return new BW(e);case TM.HIGHLIGHT:return new qW(e);case TM.UNDERLINE:return new XW(e);case TM.SQUIGGLY:return new YW(e);case TM.STRIKEOUT:return new QW(e);case TM.STAMP:return new ZW(e);case TM.FILEATTACHMENT:return new tK(e);default:return new VH(e)}}}var OH=new WeakMap,LH=new WeakMap,FH=new WeakMap,$H=new WeakSet;class VH{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};P(this,$H),u(this,OH,null),u(this,LH,!1),u(this,FH,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return VH._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;p(OH,this)||f(OH,this,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&h($H,this,BH).call(this,n),null===(t=p(FH,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;p(OH,this)&&(h($H,this,BH).call(this,p(OH,this).rect),null===(e=p(FH,this))||void 0===e||e.popup.resetEdited(),f(OH,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof qH||(i.tabIndex=RH);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof tW){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:s,height:o}=this;if(!e&&t.borderStyle.width>0){a.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");a.borderRadius=t}else if(this instanceof ZH){const e="calc(".concat(s,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");a.borderRadius=e}switch(t.borderStyle.style){case IM:a.borderStyle="solid";break;case PM:a.borderStyle="dashed";break;case RM:KM("Unimplemented border style: beveled");break;case DM:KM("Unimplemented border style: inset");break;case MM:a.borderBottomStyle="solid"}const r=t.borderColor||null;r?(f(LH,this,!0),a.borderColor=cO.makeHexColor(0|r[0],0|r[1],0|r[2])):a.borderWidth=0}const l=cO.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=r.rawDims;a.left="".concat(100*(l[0]-u)/c,"%"),a.top="".concat(100*(l[1]-h)/d,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width="".concat(100*s/c,"%"),a.height="".concat(100*o/d,"%")):this.setRotation(p,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:a}=this;e%180!==0&&([i,a]=[a,i]),t.style.width="".concat(100*i/n,"%"),t.style.height="".concat(100*a/r,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],a=r.slice(1);n.target.style[t]=AH["".concat(i,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[t]:AH["".concat(i,"_rgb")](a)})};return QM(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const a=n[r];if(a){a({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[a,s,o,l]=e.subarray(2,6);if(r===a&&i===s&&t===o&&n===l)return}const{style:a}=this.container;let s;if(p(LH,this)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),f="clippath_".concat(this.data.id);h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let p=2,g=e.length;p<g;p+=8){var m;const n=e[p],r=e[p+1],a=e[p+2],d=e[p+3],u=c.createElement("rect"),f=(a-t)/o,g=(i-r)/l,v=(n-a)/o,x=(r-d)/l;u.setAttribute("x",f),u.setAttribute("y",g),u.setAttribute("width",v),u.setAttribute("height",x),h.append(u),null===(m=s)||void 0===m||m.push('<rect vector-effect="non-scaling-stroke" x="'.concat(f,'" y="').concat(g,'" width="').concat(v,'" height="').concat(x,'"/>'))}p(LH,this)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){const{data:e}=this,t=f(FH,this,new tW({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){GM("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:i,exportValues:a}of r){if(-1===e)continue;if(i===t)continue;const r="string"===typeof a?a:null,s=document.querySelector('[data-element-id="'.concat(i,'"]'));!s||DH.has(s)?n.push({id:i,exportValue:r,domElement:s}):KM("_getElementsByName - element not allowed: ".concat(i))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(DH.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function BH(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e),t.left="".concat(100*(e[0]-s)/i,"%"),t.top="".concat(100*(a-e[3]+o)/a,"%"),0===r?(t.width="".concat(100*(e[2]-e[0])/i,"%"),t.height="".concat(100*(e[3]-e[1])/a,"%")):this.setRotation(r)}var UH=new WeakSet;class zH extends VH{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),P(this,UH),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(h(UH,this,WH).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(h(UH,this,KH).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&h(UH,this,HH).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),h(UH,this,HH).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),h(UH,this,HH).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),h(UH,this,HH).call(this),!this._fieldObjects)return KM('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:r,include:i}=t,a=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const s=this.annotationStorage,o=[];for(const t of a){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;s.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(DH.has(n)?n.dispatchEvent(new Event("resetform")):KM("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function HH(){this.container.setAttribute("data-internal-link","")}function WH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},h(UH,this,HH).call(this)}function KH(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),h(UH,this,HH).call(this)}class GH extends VH{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class qH extends VH{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return oO.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{var a;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))})}_setEventListeners(e,t,n,r){for(const[o,l]of n){var i,a,s;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,r),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":cO.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,i=e.style;let a;const s=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(uM*r))||1);a=Math.min(r,s(t/uM))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(r,s(e/uM))}i.fontSize="calc(".concat(a,"px * var(--total-scale-factor))"),i.color=cO.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class XH extends qH{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const a=e.getValue(t,{value:this.data.fieldValue});let s=a.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let l=a.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),DH.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=RH,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=r,c.formattedValue=null});let d=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:n}=e;c.userValue&&(n.value=c.userValue),c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;c.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:r}=n.detail;c.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:a}=n;if(0===i)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",i);let s=c.userValue;!s||s.length<=i||(s=s.slice(0,i),a.value=c.userValue=s,e.setValue(t,{value:s}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)}),n.addEventListener("keydown",e=>{var n;c.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const r=d;d=null,n.addEventListener("blur",e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{value:i}=e.target;var a;(c.userValue=i,c.lastCommittedValue!==i)&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));r(e)}),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",e=>{var n;c.lastCommittedValue=null;const{data:r,target:i}=e,{value:a,selectionStart:s,selectionEnd:o}=i;let l=s,d=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,s).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=a.substring(s).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(d+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:r||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class YH extends qH{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class QH extends qH{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return DH.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=RH,i.addEventListener("change",r=>{const{name:i,checked:a}=r.target;for(const s of this._getElementsByName(i,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:a})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ZH extends qH{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(DH.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=RH,i.addEventListener("change",t=>{const{name:r,checked:i}=t.target;for(const a of this._getElementsByName(r,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:i})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class JH extends zH{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class eW extends qH{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");DH.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=RH;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),a=()=>{e.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",n=>{const i={value(n){var i;null===(i=a)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of r.options)e.selected=c.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,a=n.detail.remove;if(i[a].selected=!1,r.remove(a),i.length>0){-1===Array.prototype.findIndex.call(i,e=>e.selected)&&(i[0].selected=!0)}e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:i,displayValue:a,exportValue:c}=n.detail.insert,d=r.children[i],u=document.createElement("option");u.textContent=a,u.value=c,d?d.before(u):r.append(u),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)}),r.addEventListener("input",n=>{var r;const i=s(!0),a=s(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:a,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):r.addEventListener("input",function(n){e.setValue(t,{value:s(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class tW extends VH{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:VH._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new kW({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>"".concat(mO).concat(e)).join(",")),this.container}}var nW=new WeakMap,rW=new WeakMap,iW=new WeakMap,aW=new WeakMap,sW=new WeakMap,oW=new WeakMap,lW=new WeakMap,cW=new WeakMap,dW=new WeakMap,uW=new WeakMap,hW=new WeakMap,pW=new WeakMap,fW=new WeakMap,mW=new WeakMap,gW=new WeakMap,vW=new WeakMap,xW=new WeakMap,bW=new WeakMap,yW=new WeakMap,wW=new WeakSet;class kW{constructor(e){let{container:t,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:d,open:m}=e;P(this,wW),u(this,nW,h(wW,this,NW).bind(this)),u(this,rW,h(wW,this,IW).bind(this)),u(this,iW,h(wW,this,TW).bind(this)),u(this,aW,h(wW,this,AW).bind(this)),u(this,sW,null),u(this,oW,null),u(this,lW,null),u(this,cW,null),u(this,dW,null),u(this,uW,null),u(this,hW,null),u(this,pW,!1),u(this,fW,null),u(this,mW,null),u(this,gW,null),u(this,vW,null),u(this,xW,null),u(this,bW,null),u(this,yW,!1),f(oW,this,t),f(xW,this,i),f(lW,this,s),f(vW,this,o),f(uW,this,l),f(sW,this,n),f(gW,this,c),f(hW,this,d),f(dW,this,r),f(cW,this,AO.toDateObject(a)),this.trigger=r.flatMap(e=>e.getElementsToTriggerPopup());for(const u of this.trigger)u.addEventListener("click",p(aW,this)),u.addEventListener("mouseenter",p(iW,this)),u.addEventListener("mouseleave",p(rW,this)),u.classList.add("popupTriggerArea");for(const u of r){var g;null===(g=u.container)||void 0===g||g.addEventListener("keydown",p(nW,this))}p(oW,this).hidden=!0,m&&h(wW,this,AW).call(this)}render(){if(p(fW,this))return;const e=f(fW,this,document.createElement("div"));if(e.className="popup",p(sW,this)){const t=e.style.outlineColor=cO.makeHexColor(...p(sW,this));e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=p(xW,this)),e.append(t),p(cW,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(cW,this).valueOf()})),t.append(e)}const r=KD(wW,this,SW);if(r)PH.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(p(lW,this));e.append(t)}p(oW,this).append(e)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const e=i[a];r.append(document.createTextNode(e)),a<s-1&&r.append(document.createElement("br"))}return r}updateEdited(e){var t;let{rect:n,popupContent:r}=e;p(bW,this)||f(bW,this,{contentsObj:p(lW,this),richText:p(vW,this)}),n&&f(mW,this,null),r&&(f(vW,this,h(wW,this,_W).call(this,r)),f(lW,this,null)),null===(t=p(fW,this))||void 0===t||t.remove(),f(fW,this,null)}resetEdited(){var e;p(bW,this)&&(({contentsObj:WD(f,[lW,this])._,richText:WD(f,[vW,this])._}=p(bW,this)),f(bW,this,null),null===(e=p(fW,this))||void 0===e||e.remove(),f(fW,this,null),f(mW,this,null))}forceHide(){f(yW,this,this.isVisible),p(yW,this)&&(p(oW,this).hidden=!0)}maybeShow(){p(yW,this)&&(p(fW,this)||h(wW,this,TW).call(this),f(yW,this,!1),p(oW,this).hidden=!1)}get isVisible(){return!1===p(oW,this).hidden}}function SW(e){const t=p(vW,e),n=p(lW,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:p(vW,e).html||null}function CW(e){var t;return(null===(t=KD(wW,e,SW))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function jW(e){var t;return(null===(t=KD(wW,e,SW))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function _W(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:KD(wW,this,jW),fontSize:KD(wW,this,CW)?"calc(".concat(KD(wW,this,CW),"px * var(--total-scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:r});return n}function NW(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&p(pW,this))&&h(wW,this,AW).call(this)}function EW(){if(null!==p(mW,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:i}}}=p(uW,this);let a=!!p(hW,this),s=p(a?hW:gW,this);for(const h of p(dW,this))if(!s||null!==cO.intersect(h.data.rect,s)){s=h.data.rect,a=!0;break}const o=cO.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,d=o[1];f(mW,this,[100*(c-r)/t,100*(d-i)/n]);const{style:u}=p(oW,this);u.left="".concat(p(mW,this)[0],"%"),u.top="".concat(p(mW,this)[1],"%")}function AW(){f(pW,this,!p(pW,this)),p(pW,this)?(h(wW,this,TW).call(this),p(oW,this).addEventListener("click",p(aW,this)),p(oW,this).addEventListener("keydown",p(nW,this))):(h(wW,this,IW).call(this),p(oW,this).removeEventListener("click",p(aW,this)),p(oW,this).removeEventListener("keydown",p(nW,this)))}function TW(){p(fW,this)||this.render(),this.isVisible?p(pW,this)&&p(oW,this).classList.add("focused"):(h(wW,this,EW).call(this),p(oW,this).hidden=!1,p(oW,this).style.zIndex=parseInt(p(oW,this).style.zIndex)+1e3)}function IW(){p(oW,this).classList.remove("focused"),!p(pW,this)&&this.isVisible&&(p(oW,this).hidden=!0,p(oW,this).style.zIndex=parseInt(p(oW,this).style.zIndex)-1e3)}class PW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=wM.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var RW=new WeakMap;class DW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),u(this,RW,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),i=f(RW,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(RW,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var MW=new WeakMap;class OW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),u(this,MW,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=f(MW,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(MW,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var LW=new WeakMap;class FW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),u(this,LW,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=f(LW,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(LW,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var $W=new WeakMap;class VW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),u(this,$W,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r},width:i,height:a}=this;if(!t)return this.container;const s=this.svgFactory.create(i,a,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],r=e[3]-t[c+1];o.push("".concat(n,",").concat(r))}o=o.join(" ");const l=f($W,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p($W,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class BW extends VW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class UW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var zW=new WeakMap,HW=new WeakMap,WW=new WeakSet;class KW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),P(this,WW),u(this,zW,null),u(this,HW,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?wM.HIGHLIGHT:wM.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:r,popupRef:i}}=this,{transform:a,width:s,height:o}=h(WW,this,GW).call(this,t,e),l=this.svgFactory.create(s,o,!0),c=f(zW,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",a);for(let d=0,u=n.length;d<u;d++){const e=this.svgFactory.createElement(this.svgElementName);p(HW,this).push(e),e.setAttribute("points",n[d].join(",")),c.append(e)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:r}=e,i=p(zW,this);if(t>=0&&i.setAttribute("stroke-width",t||1),n)for(let a=0,s=p(HW,this).length;a<s;a++)p(HW,this)[a].setAttribute("points",n[a].join(","));if(r){const{transform:e,width:t,height:n}=h(WW,this,GW).call(this,this.data.rotation,r);i.parentElement.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),i.setAttribute("transform",e)}}getElementsToTriggerPopup(){return p(HW,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function GW(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}class qW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=wM.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class XW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class YW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class QW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ZW extends VH{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=wM.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var JW=new WeakMap,eK=new WeakSet;class tK extends VH{constructor(e){var t;super(e,{isRenderable:!0}),P(this,eK),u(this,JW,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",c({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",h(eK,this,nK).bind(this)),f(JW,this,n);const{isMac:r}=oO.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&h(eK,this,nK).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return p(JW,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function nK(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var rK=new WeakMap,iK=new WeakMap,aK=new WeakMap,sK=new WeakMap,oK=new WeakSet;class lK{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}=e;P(this,oK),u(this,rK,null),u(this,iK,null),u(this,aK,new Map),u(this,sK,null),this.div=t,f(rK,this,n),f(iK,this,r),f(sK,this,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return p(aK,this).size>0}async render(e){const{annotations:t}=e,n=this.div;DO(n,this.viewport);const r=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new IH,annotationStorage:e.annotationStorage||new xV,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of t){if(s.noHTML)continue;const e=s.annotationType===TM.POPUP;if(e){const e=r.get(s.id);if(!e)continue;i.elements=e}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;i.data=s;const t=MH.create(i);if(!t.isRenderable)continue;if(!e&&s.popupRef){const e=r.get(s.popupRef);e?e.push(t):r.set(s.popupRef,[t])}const n=t.render();var a;if(s.hidden&&(n.style.visibility="hidden"),await h(oK,this,cK).call(this,n,s.id),t._isEditable)p(aK,this).set(t.data.id,t),null===(a=this._annotationEditorUIManager)||void 0===a||a.renderAnnotationElement(t)}h(oK,this,dK).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new IH,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=lK._defaultBorderStyle),n.data=r;const e=MH.create(n);if(!e.isRenderable)continue;const t=e.render();await h(oK,this,cK).call(this,t,r.id)}}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,DO(n,{rotation:t.rotation}),h(oK,this,dK).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(p(aK,this).values())}getEditableAnnotation(e){return p(aK,this).get(e)}static get _defaultBorderStyle(){return QM(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:IM,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function cK(e,t){var n,r;const i=e.firstChild||e,a=i.id="".concat(mO).concat(t),s=await(null===(n=p(sK,this))||void 0===n?void 0:n.getAriaAttributes(a));if(s)for(const[o,l]of s)i.setAttribute(o,l);this.div.append(e),null===(r=p(rK,this))||void 0===r||r.moveElementInDOM(this.div,e,i,!1)}function dK(){if(!p(iK,this))return;const e=this.div;for(const[n,r]of p(iK,this)){const i=e.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?"CANVAS"===a.nodeName?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const s=p(aK,this).get(n);var t;if(s)if(s._hasNoCanvas)null===(t=this._annotationEditorUIManager)||void 0===t||t.setMissingCanvas(n,i.id,r),s._hasNoCanvas=!1;else s.canvas=r}p(iK,this).clear()}const uK=/\r\n?|\n/g;var hK=new WeakMap,pK=new WeakMap,fK=new WeakMap,mK=new WeakMap,gK=new WeakMap,vK=new WeakSet;class xK extends U${static get _keyboardManager(){const e=xK.prototype,t=e=>e.isEmpty(),n=mF.TRANSLATE_SMALL,r=mF.TRANSLATE_BIG;return QM(this,"_keyboardManager",new wL([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super(c(c({},e),{},{name:"freeTextEditor"})),P(this,vK),u(this,hK,void 0),u(this,pK,""),u(this,fK,"".concat(this.id,"-editor")),u(this,mK,null),u(this,gK,void 0),f(hK,this,e.color||xK._defaultColor||U$._defaultLineColor),f(gK,this,e.fontSize||xK._defaultFontSize)}static initialize(e,t){U$.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case kM.FREETEXT_SIZE:xK._defaultFontSize=t;break;case kM.FREETEXT_COLOR:xK._defaultColor=t}}updateParams(e,t){switch(e){case kM.FREETEXT_SIZE:h(vK,this,bK).call(this,t);break;case kM.FREETEXT_COLOR:h(vK,this,yK).call(this,t)}}static get defaultPropertiesToUpdate(){return[[kM.FREETEXT_SIZE,xK._defaultFontSize],[kM.FREETEXT_COLOR,xK._defaultColor||U$._defaultLineColor]]}get propertiesToUpdate(){return[[kM.FREETEXT_SIZE,p(gK,this)],[kM.FREETEXT_COLOR,p(hK,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-xK._internalPadding*e,-(xK._internalPadding+p(gK,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),f(mK,this,new AbortController);const e=this._uiManager.combinedSignal(p(mK,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(fK,this)),this._isDraggable=!0,null===(e=p(mK,this))||void 0===e||e.abort(),f(mK,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=p(pK,this),t=f(pK,this,h(vK,this,wK).call(this).trimEnd());if(e===t)return;const n=e=>{f(pK,this,e),e?(h(vK,this,CK).call(this),this._uiManager.rebuild(this),h(vK,this,kK).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),h(vK,this,kK).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){xK._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(fK,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(p(gK,this),"px * var(--total-scale-factor))"),n.color=p(hK,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(i[0]-c)/o,h=t+this.height-(i[1]-d)/l;break;case 90:u=e+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[s,-a];break;case 180:u=e-this.width+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[-a,-s];break;case 270:u=e+(i[0]-c-this.height*l)/o,h=t+(i[1]-d-this.width*o)/l,[a,s]=[-s,a]}this.setAt(u*n,h*r,a,s)}else this._moveAfterPaste(e,t);h(vK,this,CK).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=_K.call(xK,t.getData("text")||"").replaceAll(uK,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const a=i.getRangeAt(0);if(!r.includes("\n"))return a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:s,startOffset:o}=a,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const e=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(uK,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(SK.call(xK,n)):t=c}l.push(s.nodeValue.slice(0,o).replaceAll(uK,""))}else if(s===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(SK.call(xK,n))}f(pK,this,"".concat(l.join("\n")).concat(r).concat(c.join("\n"))),h(vK,this,CK).call(this);const d=new Range;let u=Math.sumPrecise(l.map(e=>e.length));for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(u<=e){d.setStart(h,u),d.setEnd(h,u);break}u-=e}i.removeAllRanges(),i.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let r=null;if(e instanceof PW){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:a,id:s,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;r=e={annotationType:wM.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:i.slice(0),rotation:a,id:s,deleted:!1,popupRef:o}}const i=await super.deserialize(e,t,n);return f(gK,i,e.fontSize),f(hK,i,cO.makeHexColor(...e.color)),f(pK,i,_K.call(xK,e.value)),i.annotationElementId=e.id||null,i._initialData=r,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=xK._internalPadding*this.parentScale,n=this.getRect(t,t),r=U$._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:p(hK,this)),i={annotationType:wM.FREETEXT,color:r,fontSize:p(gK,this),value:h(vK,this,jK).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(i.isCopy=!0,i):this.annotationElementId&&!h(vK,this,NK).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat(p(gK,this),"px * var(--total-scale-factor))"),n.color=p(hK,this),t.replaceChildren();for(const i of p(pK,this).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const r=xK._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:p(pK,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function bK(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--total-scale-factor))"),this.translate(0,-(e-p(gK,this))*this.parentScale),f(gK,this,e),h(vK,this,kK).call(this)},n=p(gK,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kM.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function yK(e){const t=e=>{f(hK,this,this.editorDiv.style.color=e)},n=p(hK,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kM.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function wK(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===r.nodeName||(e.push(SK.call(rM,r)),t=r)}return e.join("\n")}function kK(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function SK(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(uK,"")}function CK(){if(this.editorDiv.replaceChildren(),p(pK,this))for(const e of p(pK,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function jK(){return p(pK,this).replaceAll("\xa0"," ")}function _K(e){return e.replaceAll(" ","\xa0")}function NK(e){const{value:t,fontSize:n,color:r,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==r[t])||e.pageIndex!==i}rM=xK,o(xK,"_freeTextDefaultContent",""),o(xK,"_internalPadding",0),o(xK,"_defaultColor",null),o(xK,"_defaultFontSize",10),o(xK,"_type","freetext"),o(xK,"_editorType",wM.FREETEXT);class EK{toSVGPath(){GM("Abstract method `toSVGPath` must be implemented.")}get box(){GM("Abstract getter `box` must be implemented.")}serialize(e,t){GM("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,i,a){a||(a=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*r,a[s+1]=n+e[s+1]*i;return a}static _rescaleAndSwap(e,t,n,r,i,a){a||(a=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*r,a[s+1]=n+e[s]*i;return a}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let i=0,a=e.length;i<a;i+=2)r[i]=t+e[i],r[i+1]=n+e[i+1];return r}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,r,i){switch(i){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,i,a){return[(e+5*n)/6,(t+5*r)/6,(5*n+i)/6,(5*r+a)/6,(n+i)/2,(r+a)/2]}}o(EK,"PRECISION",1e-4);var AK=new WeakMap,TK=new WeakMap,IK=new WeakMap,PK=new WeakMap,RK=new WeakMap,DK=new WeakMap,MK=new WeakMap,OK=new WeakMap,LK=new WeakMap,FK=new WeakMap,$K=new WeakMap,VK=new WeakMap,BK=new WeakMap,UK=new WeakSet;class zK{constructor(e,t,n,r,i){let{x:a,y:s}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;P(this,UK),u(this,AK,void 0),u(this,TK,[]),u(this,IK,void 0),u(this,PK,void 0),u(this,RK,[]),u(this,DK,new Float32Array(18)),u(this,MK,void 0),u(this,OK,void 0),u(this,LK,void 0),u(this,FK,void 0),u(this,$K,void 0),u(this,VK,void 0),u(this,BK,[]),f(AK,this,t),f(VK,this,r*n),f(PK,this,i),p(DK,this).set([NaN,NaN,NaN,NaN,a,s],6),f(IK,this,o),f(FK,this,QK._*n),f(LK,this,ZK._*n),f($K,this,n),p(BK,this).push(a,s)}isEmpty(){return isNaN(p(DK,this)[8])}add(e){var t;let{x:n,y:r}=e;f(MK,this,n),f(OK,this,r);const[i,a,s,o]=p(AK,this);let[l,c,d,u]=p(DK,this).subarray(8,12);const h=n-d,m=r-u,g=Math.hypot(h,m);if(g<p(LK,this))return!1;const v=g-p(FK,this),x=v/g,b=x*h,y=x*m;let w=l,k=c;l=d,c=u,d+=b,u+=y,null===(t=p(BK,this))||void 0===t||t.push(n,r);const S=b/v,C=-y/v*p(VK,this),j=S*p(VK,this);if(p(DK,this).set(p(DK,this).subarray(2,8),0),p(DK,this).set([d+C,u+j],4),p(DK,this).set(p(DK,this).subarray(14,18),12),p(DK,this).set([d-C,u-j],16),isNaN(p(DK,this)[6]))return 0===p(RK,this).length&&(p(DK,this).set([l+C,c+j],2),p(RK,this).push(NaN,NaN,NaN,NaN,(l+C-i)/s,(c+j-a)/o),p(DK,this).set([l-C,c-j],14),p(TK,this).push(NaN,NaN,NaN,NaN,(l-C-i)/s,(c-j-a)/o)),p(DK,this).set([w,k,l,c,d,u],6),!this.isEmpty();p(DK,this).set([w,k,l,c,d,u],6);return Math.abs(Math.atan2(k-c,w-l)-Math.atan2(y,b))<Math.PI/2?([l,c,d,u]=p(DK,this).subarray(2,6),p(RK,this).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/s,((c+u)/2-a)/o),[l,c,w,k]=p(DK,this).subarray(14,18),p(TK,this).push(NaN,NaN,NaN,NaN,((w+l)/2-i)/s,((k+c)/2-a)/o),!0):([w,k,l,c,d,u]=p(DK,this).subarray(0,6),p(RK,this).push(((w+5*l)/6-i)/s,((k+5*c)/6-a)/o,((5*l+d)/6-i)/s,((5*c+u)/6-a)/o,((l+d)/2-i)/s,((c+u)/2-a)/o),[d,u,l,c,w,k]=p(DK,this).subarray(12,18),p(TK,this).push(((w+5*l)/6-i)/s,((k+5*c)/6-a)/o,((5*l+d)/6-i)/s,((5*c+u)/6-a)/o,((l+d)/2-i)/s,((c+u)/2-a)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=p(RK,this),t=p(TK,this);if(isNaN(p(DK,this)[6])&&!this.isEmpty())return h(UK,this,WK).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push("L".concat(e[r+4]," ").concat(e[r+5])):n.push("C".concat(e[r]," ").concat(e[r+1]," ").concat(e[r+2]," ").concat(e[r+3]," ").concat(e[r+4]," ").concat(e[r+5]));h(UK,this,GK).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push("L".concat(t[r+4]," ").concat(t[r+5])):n.push("C".concat(t[r]," ").concat(t[r+1]," ").concat(t[r+2]," ").concat(t[r+3]," ").concat(t[r+4]," ").concat(t[r+5]));return h(UK,this,KK).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,i,a){return new oG(e,t,n,r,i,a)}getOutlines(){var e,t;const n=p(RK,this),r=p(TK,this),i=p(DK,this),[a,s,o,l]=p(AK,this),c=new Float32Array((null!==(e=null===(t=p(BK,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let h=0,f=c.length-2;h<f;h+=2)c[h]=(p(BK,this)[h]-a)/o,c[h+1]=(p(BK,this)[h+1]-s)/l;if(c[c.length-2]=(p(MK,this)-a)/o,c[c.length-1]=(p(OK,this)-s)/l,isNaN(i[6])&&!this.isEmpty())return h(UK,this,qK).call(this,c);const d=new Float32Array(p(RK,this).length+24+p(TK,this).length);let u=n.length;for(let h=0;h<u;h+=2)isNaN(n[h])?d[h]=d[h+1]=NaN:(d[h]=n[h],d[h+1]=n[h+1]);u=h(UK,this,YK).call(this,d,u);for(let h=r.length-6;h>=6;h-=6)for(let e=0;e<6;e+=2)isNaN(r[h+e])?(d[u]=d[u+1]=NaN,u+=2):(d[u]=r[h+e],d[u+1]=r[h+e+1],u+=2);return h(UK,this,XK).call(this,d,u),this.newFreeDrawOutline(d,c,p(AK,this),p($K,this),p(IK,this),p(PK,this))}}function HK(){const e=p(DK,this).subarray(4,6),t=p(DK,this).subarray(16,18),[n,r,i,a]=p(AK,this);return[(p(MK,this)+(e[0]-t[0])/2-n)/i,(p(OK,this)+(e[1]-t[1])/2-r)/a,(p(MK,this)+(t[0]-e[0])/2-n)/i,(p(OK,this)+(t[1]-e[1])/2-r)/a]}function WK(){const[e,t,n,r]=p(AK,this),[i,a,s,o]=h(UK,this,HK).call(this);return"M".concat((p(DK,this)[2]-e)/n," ").concat((p(DK,this)[3]-t)/r," L").concat((p(DK,this)[4]-e)/n," ").concat((p(DK,this)[5]-t)/r," L").concat(i," ").concat(a," L").concat(s," ").concat(o," L").concat((p(DK,this)[16]-e)/n," ").concat((p(DK,this)[17]-t)/r," L").concat((p(DK,this)[14]-e)/n," ").concat((p(DK,this)[15]-t)/r," Z")}function KK(e){const t=p(TK,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function GK(e){const[t,n,r,i]=p(AK,this),a=p(DK,this).subarray(4,6),s=p(DK,this).subarray(16,18),[o,l,c,d]=h(UK,this,HK).call(this);e.push("L".concat((a[0]-t)/r," ").concat((a[1]-n)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(d," L").concat((s[0]-t)/r," ").concat((s[1]-n)/i))}function qK(e){const t=p(DK,this),[n,r,i,a]=p(AK,this),[s,o,l,c]=h(UK,this,HK).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-r)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-r)/a],0),this.newFreeDrawOutline(d,e,p(AK,this),p($K,this),p(IK,this),p(PK,this))}function XK(e,t){const n=p(TK,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function YK(e,t){const n=p(DK,this).subarray(4,6),r=p(DK,this).subarray(16,18),[i,a,s,o]=p(AK,this),[l,c,d,u]=h(UK,this,HK).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/s,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(r[0]-i)/s,(r[1]-a)/o],t),t+24}var QK={_:8},ZK={_:QK._+2},JK=new WeakMap,eG=new WeakMap,tG=new WeakMap,nG=new WeakMap,rG=new WeakMap,iG=new WeakMap,aG=new WeakMap,sG=new WeakSet;class oG extends EK{constructor(e,t,n,r,i,a){super(),P(this,sG),u(this,JK,void 0),u(this,eG,new Float32Array(4)),u(this,tG,void 0),u(this,nG,void 0),u(this,rG,void 0),u(this,iG,void 0),u(this,aG,void 0),f(aG,this,e),f(rG,this,t),f(JK,this,n),f(iG,this,r),f(tG,this,i),f(nG,this,a),this.lastPoint=[NaN,NaN],h(sG,this,lG).call(this,a);const[s,o,l,c]=p(eG,this);for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-s)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-s)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=["M".concat(p(aG,this)[4]," ").concat(p(aG,this)[5])];for(let t=6,n=p(aG,this).length;t<n;t+=6)isNaN(p(aG,this)[t])?e.push("L".concat(p(aG,this)[t+4]," ").concat(p(aG,this)[t+5])):e.push("C".concat(p(aG,this)[t]," ").concat(p(aG,this)[t+1]," ").concat(p(aG,this)[t+2]," ").concat(p(aG,this)[t+3]," ").concat(p(aG,this)[t+4]," ").concat(p(aG,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,i,a]=e;const s=i-n,o=a-r;let l,c;switch(t){case 0:l=EK._rescale(p(aG,this),n,a,s,-o),c=EK._rescale(p(rG,this),n,a,s,-o);break;case 90:l=EK._rescaleAndSwap(p(aG,this),n,r,s,o),c=EK._rescaleAndSwap(p(rG,this),n,r,s,o);break;case 180:l=EK._rescale(p(aG,this),i,r,-s,o),c=EK._rescale(p(rG,this),i,r,-s,o);break;case 270:l=EK._rescaleAndSwap(p(aG,this),i,a,-s,-o),c=EK._rescaleAndSwap(p(rG,this),i,a,-s,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return p(eG,this)}newOutliner(e,t,n,r,i){return new zK(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const[n,r,i,a]=p(eG,this),[s,o,l,c]=p(JK,this),d=i*l,u=a*c,h=n*l+s,f=r*c+o,m=this.newOutliner({x:p(rG,this)[0]*d+h,y:p(rG,this)[1]*u+f},p(JK,this),p(iG,this),e,p(nG,this),null!==t&&void 0!==t?t:p(tG,this));for(let g=2;g<p(rG,this).length;g+=2)m.add({x:p(rG,this)[g]*d+h,y:p(rG,this)[g+1]*u+f});return m.getOutlines()}}function lG(e){const t=p(aG,this);let n=t[4],r=t[5];const i=[n,r,n,r];let a=n,s=r;const o=e?Math.max:Math.min;for(let c=6,d=t.length;c<d;c+=6){const e=t[c+4],l=t[c+5];if(isNaN(t[c]))cO.pointBoundingBox(e,l,i),s<l?(a=e,s=l):s===l&&(a=o(a,e));else{const e=[1/0,1/0,-1/0,-1/0];cO.bezierBoundingBox(n,r,...t.slice(c,c+6),e),cO.rectBoundingBox(...e,i),s<e[3]?(a=e[2],s=e[3]):s===e[3]&&(a=o(a,e[2]))}n=e,r=l}const l=p(eG,this);l[0]=i[0]-p(tG,this),l[1]=i[1]-p(tG,this),l[2]=i[2]-i[0]+2*p(tG,this),l[3]=i[3]-i[1]+2*p(tG,this),this.lastPoint=[a,s]}var cG=new WeakMap,dG=new WeakMap,uG=new WeakMap,hG=new WeakMap,pG=new WeakSet;class fG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];P(this,pG),u(this,cG,void 0),u(this,dG,void 0),u(this,uG,[]),u(this,hG,[]);const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:u,y:f,width:m,height:g}of e){const e=Math.floor((u-t)/a)*a,n=Math.ceil((u+m+t)/a)*a,r=Math.floor((f-t)/a)*a,s=Math.ceil((f+g+t)/a)*a,o=[e,r,s,!0],l=[n,r,s,!1];p(uG,this).push(o,l),cO.rectBoundingBox(e,r,n,s,i)}const s=i[2]-i[0]+2*n,o=i[3]-i[1]+2*n,l=i[0]-n,c=i[1]-n,d=p(uG,this).at(r?-1:-2),h=[d[0],d[2]];for(const u of p(uG,this)){const[e,t,n]=u;u[0]=(e-l)/s,u[1]=(t-c)/o,u[2]=(n-c)/o}f(cG,this,new Float32Array([l,c,s,o])),f(dG,this,h)}getOutlines(){p(uG,this).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of p(uG,this))t[3]?(e.push(...h(pG,this,bG).call(this,t)),h(pG,this,vG).call(this,t)):(h(pG,this,xG).call(this,t),e.push(...h(pG,this,bG).call(this,t)));return h(pG,this,mG).call(this,e)}}function mG(e){const t=[],n=new Set;for(const a of e){const[e,n,r]=a;t.push([e,n,a],[e,r,a])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let a=0,s=t.length;a<s;a+=2){const e=t[a][2],r=t[a+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,a,s,o,l]=e;n.delete(e);let c=t,d=a;for(i=[t,s],r.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,s,o,l]=e,c!==t&&(i.push(c,d,t,d===a?a:s),c=t),d=d===a?s:a}i.push(c,d)}return new kG(r,p(cG,this),p(dG,this))}function gG(e){const t=p(hG,this);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,a=t[i][0];if(a===e)return i;a<e?n=i+1:r=i-1}return r+1}function vG(e){let[,t,n]=e;const r=h(pG,this,gG).call(this,t);p(hG,this).splice(r,0,[t,n])}function xG(e){let[,t,n]=e;const r=h(pG,this,gG).call(this,t);for(let i=r;i<p(hG,this).length;i++){const[e,r]=p(hG,this)[i];if(e!==t)break;if(e===t&&r===n)return void p(hG,this).splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=p(hG,this)[i];if(e!==t)break;if(e===t&&r===n)return void p(hG,this).splice(i,1)}}function bG(e){const[t,n,r]=e,i=[[t,n,r]],a=h(pG,this,gG).call(this,r);for(let s=0;s<a;s++){const[e,n]=p(hG,this)[s];for(let r=0,a=i.length;r<a;r++){const[,s,o]=i[r];if(!(n<=s||o<=e))if(s>=e)if(o>n)i[r][1]=n;else{if(1===a)return[];i.splice(r,1),r--,a--}else i[r][2]=e,o>n&&i.push([t,n,o])}}return i}var yG=new WeakMap,wG=new WeakMap;class kG extends EK{constructor(e,t,n){super(),u(this,yG,void 0),u(this,wG,void 0),f(wG,this,e),f(yG,this,t),this.lastPoint=n}toSVGPath(){const e=[];for(const t of p(wG,this)){let[n,r]=t;e.push("M".concat(n," ").concat(r));for(let i=2;i<t.length;i+=2){const a=t[i],s=t[i+1];a===n?(e.push("V".concat(s)),r=s):s===r&&(e.push("H".concat(a)),n=a)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,i,a]=e;const s=[],o=i-n,l=a-r;for(const c of p(wG,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=a-c[t+1]*l;s.push(e)}return s}get box(){return p(yG,this)}get classNamesForOutlining(){return["highlightOutline"]}}class SG extends zK{newFreeDrawOutline(e,t,n,r,i,a){return new CG(e,t,n,r,i,a)}}class CG extends oG{newOutliner(e,t,n,r,i){return new SG(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var jG=new WeakMap,_G=new WeakMap,NG=new WeakMap,EG=new WeakMap,AG=new WeakMap,TG=new WeakMap,IG=new WeakMap,PG=new WeakMap,RG=new WeakMap,DG=new WeakMap,MG=new WeakMap,OG=new WeakSet;class LG{static get _keyboardManager(){return QM(this,"_keyboardManager",new wL([[["Escape","mac+Escape"],LG.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],LG.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],LG.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],LG.prototype._moveToPrevious],[["Home","mac+Home"],LG.prototype._moveToBeginning],[["End","mac+End"],LG.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:r=null}=e;P(this,OG),u(this,jG,null),u(this,_G,null),u(this,NG,void 0),u(this,EG,null),u(this,AG,!1),u(this,TG,!1),u(this,IG,null),u(this,PG,void 0),u(this,RG,null),u(this,DG,null),u(this,MG,void 0),n?(f(TG,this,!1),f(MG,this,kM.HIGHLIGHT_COLOR),f(IG,this,n)):(f(TG,this,!0),f(MG,this,kM.HIGHLIGHT_DEFAULT_COLOR)),f(DG,this,(null===n||void 0===n?void 0:n._uiManager)||r),f(PG,this,p(DG,this)._eventBus),f(NG,this,(null===n||void 0===n?void 0:n.color)||(null===(t=p(DG,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98"),HG._||(HG._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=f(jG,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=p(DG,this)._signal;e.addEventListener("click",h(OG,this,BG).bind(this),{signal:t}),e.addEventListener("keydown",h(OG,this,VG).bind(this),{signal:t});const n=f(_G,this,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=p(NG,this),e.append(n),e}renderMainDropdown(){const e=f(EG,this,h(OG,this,FG).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===p(jG,this))return void h(OG,this,BG).call(this,e);const t=e.target.getAttribute("data-color");t&&h(OG,this,$G).call(this,t,e)}_moveToNext(e){var t,n;KD(OG,this,zG)?e.target!==p(jG,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=p(EG,this).firstChild)||void 0===n||n.focus():h(OG,this,BG).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=p(EG,this))||void 0===t?void 0:t.firstChild)&&e.target!==p(jG,this)?(KD(OG,this,zG)||h(OG,this,BG).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):KD(OG,this,zG)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;KD(OG,this,zG)?null===(t=p(EG,this).firstChild)||void 0===t||t.focus():h(OG,this,BG).call(this,e)}_moveToEnd(e){var t;KD(OG,this,zG)?null===(t=p(EG,this).lastChild)||void 0===t||t.focus():h(OG,this,BG).call(this,e)}hideDropdown(){var e,t;null===(e=p(EG,this))||void 0===e||e.classList.add("hidden"),null===(t=p(RG,this))||void 0===t||t.abort(),f(RG,this,null)}_hideDropdownFromKeyboard(){var e;p(TG,this)||(KD(OG,this,zG)?(this.hideDropdown(),p(jG,this).focus({preventScroll:!0,focusVisible:p(AG,this)})):null===(e=p(IG,this))||void 0===e||e.unselect())}updateColor(e){if(p(_G,this)&&(p(_G,this).style.backgroundColor=e),!p(EG,this))return;const t=p(DG,this).highlightColors.values();for(const n of p(EG,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=p(jG,this))||void 0===e||e.remove(),f(jG,this,null),f(_G,this,null),null===(t=p(EG,this))||void 0===t||t.remove(),f(EG,this,null)}}function FG(){const e=document.createElement("div"),t=p(DG,this)._signal;e.addEventListener("contextmenu",NO,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of p(DG,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",HG._[n]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=r,i.setAttribute("aria-selected",r===p(NG,this)),i.addEventListener("click",h(OG,this,$G).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",h(OG,this,VG).bind(this),{signal:t}),e}function $G(e,t){t.stopPropagation(),p(PG,this).dispatch("switchannotationeditorparams",{source:this,type:p(MG,this),value:e})}function VG(e){iM._keyboardManager.exec(this,e)}function BG(e){if(KD(OG,this,zG))return void this.hideDropdown();if(f(AG,this,0===e.detail),p(RG,this)||(f(RG,this,new AbortController),window.addEventListener("pointerdown",h(OG,this,UG).bind(this),{signal:p(DG,this).combinedSignal(p(RG,this))})),p(EG,this))return void p(EG,this).classList.remove("hidden");const t=f(EG,this,h(OG,this,FG).call(this));p(jG,this).append(t)}function UG(e){var t;null!==(t=p(EG,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function zG(e){return p(EG,e)&&!p(EG,e).classList.contains("hidden")}iM=LG;var HG={_:null},WG=new WeakMap,KG=new WeakMap,GG=new WeakMap,qG=new WeakMap,XG=new WeakMap,YG=new WeakMap,QG=new WeakMap,ZG=new WeakMap,JG=new WeakMap,eq=new WeakMap,tq=new WeakMap,nq=new WeakMap,rq=new WeakMap,iq=new WeakMap,aq=new WeakMap,sq=new WeakMap,oq=new WeakMap,lq=new WeakMap,cq=new WeakSet;class dq extends U${static get _keyboardManager(){const e=dq.prototype;return QM(this,"_keyboardManager",new wL([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(c(c({},e),{},{name:"highlightEditor"})),P(this,cq),u(this,WG,null),u(this,KG,0),u(this,GG,void 0),u(this,qG,null),u(this,XG,null),u(this,YG,null),u(this,QG,null),u(this,ZG,0),u(this,JG,null),u(this,eq,null),u(this,tq,null),u(this,nq,!1),u(this,rq,null),u(this,iq,void 0),u(this,aq,null),u(this,sq,""),u(this,oq,void 0),u(this,lq,""),this.color=e.color||dq._defaultColor,f(oq,this,e.thickness||dq._defaultThickness),f(iq,this,e.opacity||dq._defaultOpacity),f(GG,this,e.boxes||null),f(lq,this,e.methodOfCreation||""),f(sq,this,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(f(nq,this,!0),h(cq,this,hq).call(this,e),h(cq,this,vq).call(this)):p(GG,this)&&(f(WG,this,e.anchorNode),f(KG,this,e.anchorOffset),f(QG,this,e.focusNode),f(ZG,this,e.focusOffset),h(cq,this,uq).call(this),h(cq,this,vq).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:p(nq,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:p(oq,this),methodOfCreation:p(lq,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;U$.initialize(e,t),dq._defaultColor||(dq._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case kM.HIGHLIGHT_DEFAULT_COLOR:dq._defaultColor=t;break;case kM.HIGHLIGHT_THICKNESS:dq._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return p(rq,this)}updateParams(e,t){switch(e){case kM.HIGHLIGHT_COLOR:h(cq,this,pq).call(this,t);break;case kM.HIGHLIGHT_THICKNESS:h(cq,this,fq).call(this,t)}}static get defaultPropertiesToUpdate(){return[[kM.HIGHLIGHT_DEFAULT_COLOR,dq._defaultColor],[kM.HIGHLIGHT_THICKNESS,dq._defaultThickness]]}get propertiesToUpdate(){return[[kM.HIGHLIGHT_COLOR,this.color||dq._defaultColor],[kM.HIGHLIGHT_THICKNESS,p(oq,this)||dq._defaultThickness],[kM.HIGHLIGHT_FREE,p(nq,this)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(f(XG,this,new LG({editor:this})),e.addColorPicker(p(XG,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(h(cq,this,wq).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,h(cq,this,wq).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){h(cq,this,gq).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(h(cq,this,vq).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)h(cq,this,gq).call(this);else if(e){var n;h(cq,this,vq).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;p(nq,this)?(e=(e-this.rotation+360)%360,n=xq.call(dq,p(eq,this).box,e)):n=xq.call(dq,[this.x,this.y,this.width,this.height],e),t.updateProperties(p(tq,this),{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(p(aq,this),{bbox:xq.call(dq,p(YG,this).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();p(sq,this)&&(e.setAttribute("aria-label",p(sq,this)),e.setAttribute("role","mark")),p(nq,this)?e.classList.add("free"):this.div.addEventListener("keydown",h(cq,this,bq).bind(this),{signal:this._uiManager._signal});const t=f(JG,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=p(qG,this);const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),sL(this,p(JG,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(p(aq,this),{rootClass:{hovered:!0}}))}pointerleave(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(p(aq,this),{rootClass:{hovered:!1}}))}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:h(cq,this,yq).call(this,!0);break;case 1:case 3:h(cq,this,yq).call(this,!1)}}select(){var e;super.select(),p(aq,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(p(aq,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),p(aq,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(p(aq,this),{rootClass:{selected:!1}}),p(nq,this)||h(cq,this,yq).call(this,!1))}get _mustFixPosition(){return!p(nq,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(p(tq,this),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(p(aq,this),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,n){let{target:r,x:i,y:a}=n;const{x:s,y:o,width:l,height:c}=r.getBoundingClientRect(),d=new AbortController,u=e.combinedSignal(d),p=t=>{d.abort(),h(dq,this,jq).call(this,e,t)};window.addEventListener("blur",p,{signal:u}),window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("pointerdown",EO,{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",NO,{signal:u}),r.addEventListener("pointermove",h(dq,this,Cq).bind(this,e),{signal:u}),this._freeHighlight=new SG({x:i,y:a},[s,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,n){let r=null;if(e instanceof qW){const{data:{quadPoints:t,rect:n,rotation:i,id:a,color:s,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:wM.HIGHLIGHT,color:Array.from(s),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:l}}else if(e instanceof KW){const{data:{inkLists:t,rect:n,rotation:i,id:a,color:s,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:wM.HIGHLIGHT,color:Array.from(s),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:l}}const{color:i,quadPoints:a,inkLists:s,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=cO.makeHexColor(...i),f(iq,l,o||1),s&&f(oq,l,e.thickness),l.annotationElementId=e.id||null,l._initialData=r;const[c,d]=l.pageDimensions,[u,m]=l.pageTranslation;if(a){const e=f(GG,l,[]);for(let t=0;t<a.length;t+=8)e.push({x:(a[t]-u)/c,y:1-(a[t+1]-m)/d,width:(a[t+2]-a[t])/c,height:(a[t+1]-a[t+5])/d});h(cq,l,uq).call(l),h(cq,l,vq).call(l),l.rotate(l.rotation)}else if(s){f(nq,l,!0);const e=s[0],n={x:e[0]-u,y:d-(e[1]-m)},r=new SG(n,[0,0,c,d],1,p(oq,l)/2,!0,.001);for(let t=0,s=e.length;t<s;t+=2)n.x=e[t]-u,n.y=d-(e[t+1]-m),r.add(n);const{id:i,clipPathId:a}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:r.toSVGPath()}},!0,!0);h(cq,l,hq).call(l,{highlightOutlines:r.getOutlines(),highlightId:i,clipPathId:a}),h(cq,l,vq).call(l),l.rotate(l.parentRotation)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=U$._colorManager.convert(this.color),r={annotationType:wM.HIGHLIGHT,color:n,opacity:p(iq,this),thickness:p(oq,this),quadPoints:h(cq,this,kq).call(this),outlines:h(cq,this,Sq).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:h(cq,this,wq).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!h(cq,this,_q).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function uq(){const e=new fG(p(GG,this),.001);f(eq,this,e.getOutlines()),[this.x,this.y,this.width,this.height]=p(eq,this).box;const t=new fG(p(GG,this),.0025,.001,"ltr"===this._uiManager.direction);f(YG,this,t.getOutlines());const{lastPoint:n}=p(YG,this);f(rq,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function hq(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;f(eq,this,t);if(f(YG,this,t.getNewOutline(p(oq,this)/2+1.5,.0025)),n>=0)f(tq,this,n),f(qG,this,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),f(aq,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(YG,this).box,path:{d:p(YG,this).toSVGPath()}},!0));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(tq,this),{bbox:xq.call(aM,p(eq,this).box,(e-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(aq,this),{bbox:xq.call(aM,p(YG,this).box,e),path:{d:p(YG,this).toSVGPath()}})}const[i,a,s,o]=t.box;switch(this.rotation){case 0:this.x=i,this.y=a,this.width=s,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=a,this.y=1-i,this.width=s*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-a,this.width=s,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-a,this.y=i,this.width=s*t/e,this.height=o*e/t;break}}const{lastPoint:l}=p(YG,this);f(rq,this,[(l[0]-i)/s,(l[1]-a)/o])}function pq(e){const t=(e,t)=>{var n,r;this.color=e,f(iq,this,t),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(p(tq,this),{root:{fill:e,"fill-opacity":t}}),null===(r=p(XG,this))||void 0===r||r.updateColor(e)},n=this.color,r=p(iq,this);this.addCommands({cmd:t.bind(this,e,aM._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kM.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function fq(e){const t=p(oq,this),n=e=>{f(oq,this,e),h(cq,this,mq).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kM.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function mq(e){if(!p(nq,this))return;h(cq,this,hq).call(this,{highlightOutlines:p(eq,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function gq(){null!==p(tq,this)&&this.parent&&(this.parent.drawLayer.remove(p(tq,this)),f(tq,this,null),this.parent.drawLayer.remove(p(aq,this)),f(aq,this,null))}function vq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===p(tq,this)&&(({id:WD(f,[tq,this])._,clipPathId:WD(f,[qG,this])._}=e.drawLayer.draw({bbox:p(eq,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":p(iq,this)},rootClass:{highlight:!0,free:p(nq,this)},path:{d:p(eq,this).toSVGPath()}},!1,!0)),f(aq,this,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(nq,this)},bbox:p(YG,this).box,path:{d:p(YG,this).toSVGPath()}},p(nq,this))),p(JG,this)&&(p(JG,this).style.clipPath=p(qG,this)))}function xq(e,t){let[n,r,i,a]=e;switch(t){case 90:return[1-r-a,n,a,i];case 180:return[1-n-i,1-r-a,i,a];case 270:return[r,1-n-i,a,i]}return[n,r,i,a]}function bq(e){aM._keyboardManager.exec(this,e)}function yq(e){if(!p(WG,this))return;const t=window.getSelection();e?t.setPosition(p(WG,this),p(KG,this)):t.setPosition(p(QG,this),p(ZG,this))}function wq(){return p(nq,this)?this.rotation:0}function kq(){if(p(nq,this))return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,i=p(GG,this),a=new Float32Array(8*i.length);let s=0;for(const{x:o,y:l,width:c,height:d}of i){const i=o*e+n,u=(1-l)*t+r;a[s]=a[s+4]=i,a[s+1]=a[s+3]=u,a[s+2]=a[s+6]=i+c*e,a[s+5]=a[s+7]=u-d*t,s+=8}return a}function Sq(e){return p(eq,this).serialize(e,h(cq,this,wq).call(this))}function Cq(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function jq(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function _q(e){const{color:t}=this._initialData;return e.color.some((e,n)=>e!==t[n])}aM=dq,o(dq,"_defaultColor",null),o(dq,"_defaultOpacity",1),o(dq,"_defaultThickness",12),o(dq,"_type","highlight"),o(dq,"_editorType",wM.HIGHLIGHT),o(dq,"_freeHighlightId",-1),o(dq,"_freeHighlight",null),o(dq,"_freeHighlightClipId","");var Nq=new WeakMap;class Eq{constructor(){u(this,Nq,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){p(Nq,this)[e]=t}toSVGProperties(){const e=p(Nq,this);return f(Nq,this,Object.create(null)),{root:e}}reset(){f(Nq,this,Object.create(null))}updateAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}clone(){GM("Not implemented")}}var Aq=new WeakMap,Tq=new WeakMap,Iq=new WeakSet;class Pq extends U${constructor(e){super(e),P(this,Iq),u(this,Aq,null),u(this,Tq,void 0),o(this,"_drawId",null),f(Tq,this,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(h(Iq,this,Rq).call(this,e),h(Iq,this,Oq).call(this))}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[r,i]of Object.entries(t))n.has(r)?Object.assign(e[r],i):e[r]=i;return e}static getDefaultDrawingOptions(e){GM("Not implemented")}static get typesMap(){GM("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Bq._.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)e.push([n,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,r]of this.constructor.typesMap)e.push([n,t[r]]);return e}_updateProperty(e,t,n){const r=this._drawingOptions,i=r[t],a=e=>{var n;r.updateProperty(t,e);const i=p(Aq,this).updateProperty(t,e);i&&h(Iq,this,$q).call(this,i),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,Pq._mergeSVGProperties(p(Aq,this).getPathResizingSVGProperties(h(Iq,this,Fq).call(this)),{bbox:h(Iq,this,Vq).call(this)}))}_onResized(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,Pq._mergeSVGProperties(p(Aq,this).getPathResizedSVGProperties(h(Iq,this,Fq).call(this)),{bbox:h(Iq,this,Vq).call(this)}))}_onTranslating(e,t){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:h(Iq,this,Vq).call(this)})}_onTranslated(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,Pq._mergeSVGProperties(p(Aq,this).getPathTranslatedSVGProperties(h(Iq,this,Fq).call(this),this.parentDimensions),{bbox:h(Iq,this,Vq).call(this)}))}_onStartDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(Tq,this)&&(f(Tq,this,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){h(Iq,this,Mq).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(h(Iq,this,Oq).call(this),h(Iq,this,$q).call(this,p(Aq,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),h(Iq,this,Mq).call(this);else if(e){var n;this._uiManager.addShouldRescale(this),h(Iq,this,Oq).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Pq._mergeSVGProperties({bbox:h(Iq,this,Vq).call(this)},p(Aq,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&h(Iq,this,$q).call(this,p(Aq,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,r,i){GM("Not implemented")}static startDrawing(e,t,n,r){var i,a;const{target:s,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=r;if(Wq._&&Wq._!==d)return;const{viewport:{rotation:u}}=e,{width:h,height:p}=s.getBoundingClientRect(),f=Uq._=new AbortController,m=e.combinedSignal(f);Hq._||(Hq._=c),null!==(i=Wq._)&&void 0!==i||(Wq._=d),window.addEventListener("pointerup",e=>{var t;Hq._===e.pointerId?this._endDraw(e):null===(t=Kq._)||void 0===t||t.delete(e.pointerId)},{signal:m}),window.addEventListener("pointercancel",e=>{var t;Hq._===e.pointerId?this._currentParent.endDrawingSession():null===(t=Kq._)||void 0===t||t.delete(e.pointerId)},{signal:m}),window.addEventListener("pointerdown",e=>{Wq._===e.pointerType&&((Kq._||(Kq._=new Set)).add(e.pointerId),Bq._.isCancellable()&&(Bq._.removeLastElement(),Bq._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",NO,{signal:m}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),s.addEventListener("touchmove",e=>{e.timeStamp===Gq._&&EO(e)},{signal:m}),e.toggleDrawing(),null===(a=t._editorUndoBar)||void 0===a||a.hide(),Bq._?e.drawLayer.updateProperties(this._currentDrawId,Bq._.startNew(o,l,h,p,u)):(t.updateUIForDefaultProperties(this),Bq._=this.createDrawerInstance(o,l,h,p,u),zq._=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(zq._.toSVGProperties(),Bq._.defaultSVGProperties),!0,!1)))}static _drawMove(e){var t;if(Gq._=-1,!Bq._)return;const{offsetX:n,offsetY:r,pointerId:i}=e;Hq._===i&&((null===(t=Kq._)||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,Bq._.add(n,r)),Gq._=e.timeStamp,EO(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Bq._=null,zq._=null,Wq._=null,Gq._=NaN),Uq._&&(Uq._.abort(),Uq._=null,Hq._=NaN,Kq._=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),(null===e||void 0===e?void 0:e.target)===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Bq._.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=Bq._,n=this._currentDrawId,r=e.getLastElement();return void t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,e.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(n,e.removeLastElement())},mustExec:!1,type:kM.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(kM.DRAW_STEP),!Bq._.isEmpty()){const{pageDimensions:[n,r],scale:i}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Bq._.getOutlines(n*i,r*i,i,this._INNER_MARGIN),drawingOptions:zq._,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,r,i,a){GM("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=t.viewport,o=this.deserializeDraw(a,s,r,i,this._INNER_MARGIN,e),l=await super.deserialize(e,t,n);return l.createDrawingOptions(e),h(Iq,l,Rq).call(l,{drawOutlines:o}),h(Iq,l,Oq).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,n]=this.pageTranslation,[r,i]=this.pageDimensions;return p(Aq,this).serialize([t,n,r,i],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function Rq(e){let{drawOutlines:t,drawId:n,drawingOptions:r}=e;f(Aq,this,t),this._drawingOptions||(this._drawingOptions=r),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=h(Iq,this,Dq).call(this,t,this.parent),h(Iq,this,$q).call(this,t.box)}function Dq(e,t){const{id:n}=t.drawLayer.draw(sM._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}function Mq(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function Oq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=h(Iq,this,Dq).call(this,p(Aq,this),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function Lq(e){let[t,n,r,i]=e;const{parentDimensions:[a,s],rotation:o}=this;switch(o){case 90:return[n,1-t,r*(s/a),i*(a/s)];case 180:return[1-t,1-n,r,i];case 270:return[1-n,t,r*(s/a),i*(a/s)];default:return[t,n,r,i]}}function Fq(){const{x:e,y:t,width:n,height:r,parentDimensions:[i,a],rotation:s}=this;switch(s){case 90:return[1-t,e,n*(i/a),r*(a/i)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(i/a),r*(a/i)];default:return[e,t,n,r]}}function $q(e){if([this.x,this.y,this.width,this.height]=h(Iq,this,Lq).call(this,e),this.div){this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}this._onResized()}function Vq(){const{x:e,y:t,width:n,height:r,rotation:i,parentRotation:a,parentDimensions:[s,o]}=this;switch((4*i+a)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(s/o),r*(o/s),n*(s/o)];case 5:return[1-t,e,n*(s/o),r*(o/s)];case 6:return[1-e-r*(o/s),1-t,r*(o/s),n*(s/o)];case 7:return[t-n*(s/o),1-e-r*(o/s),n*(s/o),r*(o/s)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(o/s),t,r*(o/s),n*(s/o)];case 13:return[1-t-n*(s/o),e-r*(o/s),n*(s/o),r*(o/s)];case 14:return[1-e,1-t-n*(s/o),r*(o/s),n*(s/o)];case 15:return[t,1-e,n*(s/o),r*(o/s)];default:return[e,t,n,r]}}sM=Pq,o(Pq,"_currentDrawId",-1),o(Pq,"_currentParent",null);var Bq={_:null},Uq={_:null},zq={_:null},Hq={_:NaN},Wq={_:null},Kq={_:null},Gq={_:NaN};o(Pq,"_INNER_MARGIN",3);var qq=new WeakMap,Xq=new WeakMap,Yq=new WeakMap,Qq=new WeakMap,Zq=new WeakMap,Jq=new WeakMap,eX=new WeakMap,tX=new WeakMap,nX=new WeakMap,rX=new WeakMap,iX=new WeakMap,aX=new WeakSet;class sX{constructor(e,t,n,r,i,a){P(this,aX),u(this,qq,new Float64Array(6)),u(this,Xq,void 0),u(this,Yq,void 0),u(this,Qq,void 0),u(this,Zq,void 0),u(this,Jq,void 0),u(this,eX,""),u(this,tX,0),u(this,nX,new xX),u(this,rX,void 0),u(this,iX,void 0),f(rX,this,n),f(iX,this,r),f(Qq,this,i),f(Zq,this,a),[e,t]=h(aX,this,oX).call(this,e,t);const s=f(Xq,this,[NaN,NaN,NaN,NaN,e,t]);f(Jq,this,[e,t]),f(Yq,this,[{line:s,points:p(Jq,this)}]),p(qq,this).set(s,0)}updateProperty(e,t){"stroke-width"===e&&f(Zq,this,t)}isEmpty(){return!p(Yq,this)||0===p(Yq,this).length}isCancellable(){return p(Jq,this).length<=10}add(e,t){[e,t]=h(aX,this,oX).call(this,e,t);const[n,r,i,a]=p(qq,this).subarray(2,6),s=e-i,o=t-a;return Math.hypot(p(rX,this)*s,p(iX,this)*o)<=2?null:(p(Jq,this).push(e,t),isNaN(n)?(p(qq,this).set([i,a,e,t],2),p(Xq,this).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(p(qq,this)[0])&&p(Xq,this).splice(6,6),p(qq,this).set([n,r,i,a,e,t],0),p(Xq,this).push(...EK.createBezierPoints(n,r,i,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===p(Jq,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,i){f(rX,this,n),f(iX,this,r),f(Qq,this,i),[e,t]=h(aX,this,oX).call(this,e,t);const a=f(Xq,this,[NaN,NaN,NaN,NaN,e,t]);f(Jq,this,[e,t]);const s=p(Yq,this).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),p(Yq,this).push({line:a,points:p(Jq,this)}),p(qq,this).set(a,0),f(tX,this,0),this.toSVGPath(),null}getLastElement(){return p(Yq,this).at(-1)}setLastElement(e){return p(Yq,this)?(p(Yq,this).push(e),f(Xq,this,e.line),f(Jq,this,e.points),f(tX,this,0),{path:{d:this.toSVGPath()}}):p(nX,this).setLastElement(e)}removeLastElement(){if(!p(Yq,this))return p(nX,this).removeLastElement();p(Yq,this).pop(),f(eX,this,"");for(let e=0,t=p(Yq,this).length;e<t;e++){const{line:t,points:n}=p(Yq,this)[e];f(Xq,this,t),f(Jq,this,n),f(tX,this,0),this.toSVGPath()}return{path:{d:p(eX,this)}}}toSVGPath(){const e=EK.svgRound(p(Xq,this)[4]),t=EK.svgRound(p(Xq,this)[5]);if(2===p(Jq,this).length)return f(eX,this,"".concat(p(eX,this)," M ").concat(e," ").concat(t," Z")),p(eX,this);if(p(Jq,this).length<=6){const n=p(eX,this).lastIndexOf("M");f(eX,this,"".concat(p(eX,this).slice(0,n)," M ").concat(e," ").concat(t)),f(tX,this,6)}if(4===p(Jq,this).length){const e=EK.svgRound(p(Xq,this)[10]),t=EK.svgRound(p(Xq,this)[11]);return f(eX,this,"".concat(p(eX,this)," L ").concat(e," ").concat(t)),f(tX,this,12),p(eX,this)}const n=[];0===p(tX,this)&&(n.push("M ".concat(e," ").concat(t)),f(tX,this,6));for(let r=p(tX,this),i=p(Xq,this).length;r<i;r+=6){const[e,t,i,a,s,o]=p(Xq,this).slice(r,r+6).map(EK.svgRound);n.push("C".concat(e," ").concat(t," ").concat(i," ").concat(a," ").concat(s," ").concat(o))}return f(eX,this,p(eX,this)+n.join(" ")),f(tX,this,p(Xq,this).length),p(eX,this)}getOutlines(e,t,n,r){const i=p(Yq,this).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),p(nX,this).build(p(Yq,this),e,t,n,p(Qq,this),p(Zq,this),r),f(qq,this,null),f(Xq,this,null),f(Yq,this,null),f(eX,this,null),p(nX,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function oX(e,t){return EK._normalizePoint(e,t,p(rX,this),p(iX,this),p(Qq,this))}var lX=new WeakMap,cX=new WeakMap,dX=new WeakMap,uX=new WeakMap,hX=new WeakMap,pX=new WeakMap,fX=new WeakMap,mX=new WeakMap,gX=new WeakMap,vX=new WeakSet;class xX extends EK{constructor(){super(...arguments),P(this,vX),u(this,lX,void 0),u(this,cX,0),u(this,dX,void 0),u(this,uX,void 0),u(this,hX,void 0),u(this,pX,void 0),u(this,fX,void 0),u(this,mX,void 0),u(this,gX,void 0)}build(e,t,n,r,i,a,s){f(hX,this,t),f(pX,this,n),f(fX,this,r),f(mX,this,i),f(gX,this,a),f(dX,this,null!==s&&void 0!==s?s:0),f(uX,this,e),h(vX,this,wX).call(this)}get thickness(){return p(gX,this)}setLastElement(e){return p(uX,this).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(uX,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of p(uX,this))if(e.push("M".concat(EK.svgRound(t[4])," ").concat(EK.svgRound(t[5]))),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push("L".concat(EK.svgRound(t[10])," ").concat(EK.svgRound(t[11])));else for(let n=6,r=t.length;n<r;n+=6){const[r,i,a,s,o,l]=t.subarray(n,n+6).map(EK.svgRound);e.push("C".concat(r," ").concat(i," ").concat(a," ").concat(s," ").concat(o," ").concat(l))}else e.push("Z");return e.join("")}serialize(e,t){let[n,r,i,a]=e;const s=[],o=[],[l,c,d,u]=h(vX,this,yX).call(this);let f,m,g,v,x,b,y,w,k;switch(p(mX,this)){case 0:k=EK._rescale,f=n,m=r+a,g=i,v=-a,x=n+l*i,b=r+(1-c-u)*a,y=n+(l+d)*i,w=r+(1-c)*a;break;case 90:k=EK._rescaleAndSwap,f=n,m=r,g=i,v=a,x=n+c*i,b=r+l*a,y=n+(c+u)*i,w=r+(l+d)*a;break;case 180:k=EK._rescale,f=n+i,m=r,g=-i,v=a,x=n+(1-l-d)*i,b=r+c*a,y=n+(1-l)*i,w=r+(c+u)*a;break;case 270:k=EK._rescaleAndSwap,f=n+i,m=r+a,g=-i,v=-a,x=n+(1-c-u)*i,b=r+(1-l-d)*a,y=n+(1-c)*i,w=r+(1-l)*a}for(const{line:h,points:S}of p(uX,this))s.push(k(h,f,m,g,v,t?new Array(h.length):null)),o.push(k(S,f,m,g,v,t?new Array(S.length):null));return{lines:s,points:o,rect:[x,b,y,w]}}static deserialize(e,t,n,r,i,a){let{paths:{lines:s,points:o},rotation:l,thickness:c}=a;const d=[];let u,h,p,f,m;switch(l){case 0:m=EK._rescale,u=-e/n,h=t/r+1,p=1/n,f=-1/r;break;case 90:m=EK._rescaleAndSwap,u=-t/r,h=-e/n,p=1/r,f=1/n;break;case 180:m=EK._rescale,u=e/n+1,h=-t/r,p=-1/n,f=1/r;break;case 270:m=EK._rescaleAndSwap,u=t/r+1,h=e/n+1,p=-1/r,f=-1/n}if(!s){s=[];for(const e of o){const t=e.length;if(2===t){s.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){s.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));s.push(n);let[r,i,a,o]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,r,i],0);for(let s=4;s<t;s+=2){const t=e[s],l=e[s+1];n.set(EK.createBezierPoints(r,i,a,o,t,l),3*(s-2)),[r,i,a,o]=[a,o,t,l]}}}for(let v=0,x=s.length;v<x;v++)d.push({line:m(s[v].map(e=>null!==e&&void 0!==e?e:NaN),u,h,p,f),points:m(o[v].map(e=>null!==e&&void 0!==e?e:NaN),u,h,p,f)});const g=new this.prototype.constructor;return g.build(d,n,r,1,l,c,i),g}get box(){return p(lX,this)}updateProperty(e,t){return"stroke-width"===e?h(vX,this,kX).call(this,t):null}updateParentDimensions(e,t){let[n,r]=e;const[i,a]=h(vX,this,bX).call(this);f(hX,this,n),f(pX,this,r),f(fX,this,t);const[s,o]=h(vX,this,bX).call(this),l=s-i,c=o-a,d=p(lX,this);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return f(cX,this,e),{path:{transform:this.rotationTransform}}}get viewBox(){return p(lX,this).map(EK.svgRound).join(" ")}get defaultProperties(){const[e,t]=p(lX,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(EK.svgRound(e)," ").concat(EK.svgRound(t))}}}get rotationTransform(){const[,,e,t]=p(lX,this);let n=0,r=0,i=0,a=0,s=0,o=0;switch(p(cX,this)){case 90:r=t/e,i=-e/t,s=e;break;case 180:n=-1,a=-1,s=e,o=t;break;case 270:r=-t/e,i=e/t,o=t;break;default:return""}return"matrix(".concat(n," ").concat(r," ").concat(i," ").concat(a," ").concat(EK.svgRound(s)," ").concat(EK.svgRound(o),")")}getPathResizingSVGProperties(e){let[t,n,r,i]=e;const[a,s]=h(vX,this,bX).call(this),[o,l,c,d]=p(lX,this);if(Math.abs(c-a)<=EK.PRECISION||Math.abs(d-s)<=EK.PRECISION){const e=t+r/2-(o+c/2),a=n+i/2-(l+d/2);return{path:{"transform-origin":"".concat(EK.svgRound(t)," ").concat(EK.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(e," ").concat(a,")")}}}const u=(r-2*a)/(c-2*a),f=(i-2*s)/(d-2*s),m=c/r,g=d/i;return{path:{"transform-origin":"".concat(EK.svgRound(o)," ").concat(EK.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(m," ").concat(g,") ")+"translate(".concat(EK.svgRound(a)," ").concat(EK.svgRound(s),") scale(").concat(u," ").concat(f,") ")+"translate(".concat(EK.svgRound(-a)," ").concat(EK.svgRound(-s),")")}}}getPathResizedSVGProperties(e){let[t,n,r,i]=e;const[a,s]=h(vX,this,bX).call(this),o=p(lX,this),[l,c,d,u]=o;if(o[0]=t,o[1]=n,o[2]=r,o[3]=i,Math.abs(d-a)<=EK.PRECISION||Math.abs(u-s)<=EK.PRECISION){const e=t+r/2-(l+d/2),a=n+i/2-(c+u/2);for(const{line:t,points:n}of p(uX,this))EK._translate(t,e,a,t),EK._translate(n,e,a,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(EK.svgRound(t)," ").concat(EK.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(r-2*a)/(d-2*a),m=(i-2*s)/(u-2*s),g=-f*(l+a)+t+a,v=-m*(c+s)+n+s;if(1!==f||1!==m||0!==g||0!==v)for(const{line:h,points:x}of p(uX,this))EK._rescale(h,g,v,f,m,h),EK._rescale(x,g,v,f,m,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(EK.svgRound(t)," ").concat(EK.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(e,t){let[n,r]=e;const[i,a]=t,s=p(lX,this),o=n-s[0],l=r-s[1];if(p(hX,this)===i&&p(pX,this)===a)for(const{line:c,points:d}of p(uX,this))EK._translate(c,o,l,c),EK._translate(d,o,l,d);else{const e=p(hX,this)/i,t=p(pX,this)/a;f(hX,this,i),f(pX,this,a);for(const{line:n,points:r}of p(uX,this))EK._rescale(n,o,l,e,t,n),EK._rescale(r,o,l,e,t,r);s[2]*=e,s[3]*=t}return s[0]=n,s[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(EK.svgRound(n)," ").concat(EK.svgRound(r))}}}get defaultSVGProperties(){const e=p(lX,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(EK.svgRound(e[0])," ").concat(EK.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}function bX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p(gX,this);const t=p(dX,this)+e/2*p(fX,this);return p(mX,this)%180===0?[t/p(hX,this),t/p(pX,this)]:[t/p(pX,this),t/p(hX,this)]}function yX(){const[e,t,n,r]=p(lX,this),[i,a]=h(vX,this,bX).call(this,0);return[e+i,t+a,n-2*i,r-2*a]}function wX(){const e=f(lX,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of p(uX,this)){if(r.length<=12){for(let t=4,n=r.length;t<n;t+=6)cO.pointBoundingBox(r[t],r[t+1],e);continue}let t=r[4],n=r[5];for(let i=6,a=r.length;i<a;i+=6){const[a,s,o,l,c,d]=r.subarray(i,i+6);cO.bezierBoundingBox(t,n,a,s,o,l,c,d,e),t=c,n=d}}const[t,n]=h(vX,this,bX).call(this);e[0]=gO(e[0]-t,0,1),e[1]=gO(e[1]-n,0,1),e[2]=gO(e[2]+t,0,1),e[3]=gO(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}function kX(e){const[t,n]=h(vX,this,bX).call(this);f(gX,this,e);const[r,i]=h(vX,this,bX).call(this),[a,s]=[r-t,i-n],o=p(lX,this);return o[0]-=a,o[1]-=s,o[2]+=2*a,o[3]+=2*s,o}class SX extends Eq{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:U$._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!==t&&void 0!==t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new SX(this._viewParameters);return e.updateAll(this),e}}var CX=new WeakSet;class jX extends Pq{constructor(e){super(c(c({},e),{},{name:"inkEditor"})),P(this,CX),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){U$.initialize(e,t),this._defaultDrawingOptions=new SX(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return QM(this,"typesMap",new Map([[kM.INK_THICKNESS,"stroke-width"],[kM.INK_COLOR,"stroke"],[kM.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,r,i){return new sX(e,t,n,r,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,r,i,a){return xX.deserialize(e,t,n,r,i,a)}static async deserialize(e,t,n){let r=null;if(e instanceof KW){const{data:{inkLists:t,rect:n,rotation:i,id:a,color:s,opacity:o,borderStyle:{rawWidth:l},popupRef:c},parent:{page:{pageNumber:d}}}=e;r=e={annotationType:wM.INK,color:Array.from(s),thickness:l,opacity:o,paths:{points:t},boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:c}}const i=await super.deserialize(e,t,n);return i.annotationElementId=e.id||null,i._initialData=r,i}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(e){let{color:t,thickness:n,opacity:r}=e;this._drawingOptions=jX.getDefaultDrawingOptions({stroke:cO.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":s}}=this,o={annotationType:wM.INK,color:U$._colorManager.convert(i),opacity:a,thickness:s,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!h(CX,this,_X).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t}),null}}function _X(e){const{color:t,thickness:n,opacity:r,pageIndex:i}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((e,n)=>e!==t[n])||e.thickness!==n||e.opacity!==r||e.pageIndex!==i}o(jX,"_type","ink"),o(jX,"_editorType",wM.INK),o(jX,"_defaultDrawingOptions",null);class NX extends xX{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class EX{static extractContoursFromText(e,t,n,r,i,a){let{fontFamily:s,fontStyle:o,fontWeight:l}=t,c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const u=d.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(s),{actualBoundingBoxLeft:p,actualBoundingBoxRight:f,actualBoundingBoxAscent:m,actualBoundingBoxDescent:g,fontBoundingBoxAscent:v,fontBoundingBoxDescent:x,width:b}=d.measureText(e),y=1.5,w=Math.ceil(Math.max(Math.abs(p)+Math.abs(f)||0,b)*y),k=Math.ceil(Math.max(Math.abs(m)+Math.abs(g)||200,Math.abs(v)+Math.abs(x)||200)*y);c=new OffscreenCanvas(w,k),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=u,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,w,k),d.fillStyle="black",d.fillText(e,.5*w/2,1.5*k/2);const S=h(EX,this,LX).call(this,d.getImageData(0,0,w,k).data),C=h(EX,this,OX).call(this,S),j=h(EX,this,FX).call(this,C),_=h(EX,this,PX).call(this,S,w,k,j);return this.processDrawnLines({lines:{curves:_,width:w,height:k},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,i){const[a,s,o]=h(EX,this,$X).call(this,e),[l,c]=h(EX,this,MX).call(this,a,s,o,Math.hypot(s,o)*h(EX,this,VX)._.sigmaSFactor,h(EX,this,VX)._.sigmaR,h(EX,this,VX)._.kernelSize),d=h(EX,this,FX).call(this,c),u=h(EX,this,PX).call(this,l,s,o,d);return this.processDrawnLines({lines:{curves:u,width:s,height:o},pageWidth:t,pageHeight:n,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines(e){var t;let{lines:n,pageWidth:r,pageHeight:i,rotation:a,innerMargin:s,mustSmooth:o,areContours:l}=e;a%180!==0&&([r,i]=[i,r]);const{curves:c,width:d,height:u}=n,p=null!==(t=n.thickness)&&void 0!==t?t:0,f=[],m=Math.min(r/d,i/u),g=m/r,v=m/i,x=[];for(const{points:y}of c){const e=o?h(EX,this,DX).call(this,y):y;if(!e)continue;x.push(e);const t=e.length,n=new Float32Array(t),r=new Float32Array(3*(2===t?2:t-2));if(f.push({line:r,points:n}),2===t){n[0]=e[0]*g,n[1]=e[1]*v,r.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[i,a,s,l]=e;i*=g,a*=v,s*=g,l*=v,n.set([i,a,s,l],0),r.set([NaN,NaN,NaN,NaN,i,a],0);for(let o=4;o<t;o+=2){const t=n[o]=e[o]*g,c=n[o+1]=e[o+1]*v;r.set(EK.createBezierPoints(i,a,s,l,t,c),3*(o-2)),[i,a,s,l]=[s,l,t,c]}}if(0===f.length)return null;const b=l?new NX:new xX;return b.build(f,r,i,1,a,l?0:p,s),{outline:b,newCurves:x,areContours:l,thickness:p,width:d,height:u}}static async compressSignature(e){let t,{outlines:n,areContours:r,thickness:i,width:a,height:s}=e,o=1/0,l=-1/0,c=0;for(const x of n){c+=x.length;for(let e=2,t=x.length;e<t;e++){const t=x[e]-x[e-2];o=Math.min(o,t),l=Math.max(l,t)}}t=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const d=n.length,u=8+3*d,h=new Uint32Array(u);let p=0;h[p++]=u*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*t.BYTES_PER_ELEMENT,h[p++]=0,h[p++]=a,h[p++]=s,h[p++]=r?0:1,h[p++]=Math.max(0,Math.floor(null!==i&&void 0!==i?i:0)),h[p++]=d,h[p++]=t.BYTES_PER_ELEMENT;for(const x of n)h[p++]=x.length-2,h[p++]=x[0],h[p++]=x[1];const f=new CompressionStream("deflate-raw"),m=f.writable.getWriter();await m.ready,m.write(h);const g=t.prototype.constructor;for(const x of n){const e=new g(x.length-2);for(let t=2,n=x.length;t<n;t++)e[t-2]=x[t]-x[t-2];m.write(e)}m.close();const v=await new Response(f.readable).arrayBuffer();return vO(new Uint8Array(v))}static async decompressSignature(e){try{const l=(s=e,Uint8Array.fromBase64?Uint8Array.fromBase64(s):sO(atob(s))),{readable:c,writable:d}=new DecompressionStream("deflate-raw"),u=d.getWriter();await u.ready,u.write(l).then(async()=>{await u.ready,await u.close()}).catch(()=>{});let h=null,p=0;var t,n=!1,r=!1;try{for(var i,a=function(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new GD(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(i=await a.next()).done;n=!1){const e=i.value;h||(h=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),h.set(e,p),p+=e.length}}catch(o){r=!0,t=o}finally{try{n&&null!=a.return&&await a.return()}finally{if(r)throw t}}const f=new Uint32Array(h.buffer,0,h.length>>2),m=f[1];if(0!==m)throw new Error("Invalid version: ".concat(m));const g=f[2],v=f[3],x=0===f[4],b=f[5],y=f[6],w=f[7],k=[],S=(8+3*y)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(h.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(h.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(h.buffer,S)}p=0;for(let e=0;e<y;e++){const t=f[3*e+8],n=new Float32Array(t+2);k.push(n);for(let r=0;r<2;r++)n[r]=f[3*e+8+r+1];for(let e=0;e<t;e++)n[e+2]=n[e]+C[p++]}return{areContours:x,thickness:b,outlines:k,width:g,height:v}}catch(Oe){return KM("decompressSignature: ".concat(Oe)),null}var s}}function AX(e,t,n,r){return r-=t,0===(n-=e)?r>0?0:4:1===n?r+6:2-r}function TX(e,t,n,r,i,a,s){const o=h(oM,this,AX).call(this,n,r,i,a);for(let l=0;l<8;l++){const i=(-l+o-s+16)%8;if(0!==e[(n+h(oM,this,BX)._[2*i])*t+(r+h(oM,this,BX)._[2*i+1])])return i}return-1}function IX(e,t,n,r,i,a,s){const o=h(oM,this,AX).call(this,n,r,i,a);for(let l=0;l<8;l++){const i=(l+o+s+16)%8;if(0!==e[(n+h(oM,this,BX)._[2*i])*t+(r+h(oM,this,BX)._[2*i+1])])return i}return-1}function PX(e,t,n,r){const i=e.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=e[c]<=r?1:0;for(let c=1;c<n-1;c++)a[c*t]=a[c*t+t-1]=0;for(let c=0;c<t;c++)a[c]=a[t*n-1-c]=0;let s,o=1;const l=[];for(let c=1;c<n-1;c++){s=1;for(let e=1;e<t-1;e++){const n=c*t+e,r=a[n];if(0===r)continue;let i=c,d=e;if(1===r&&0===a[n-1])o+=1,d-=1;else{if(!(r>=1&&0===a[n+1])){1!==r&&(s=Math.abs(r));continue}o+=1,d+=1,r>1&&(s=r)}const u=[e,c],p=d===e+1,f={isHole:p,points:u,id:o,parent:0};let m;l.push(f);for(const e of l)if(e.id===s){m=e;break}m?m.isHole?f.parent=p?m.parent:s:f.parent=p?s:m.parent:f.parent=p?s:0;const g=h(oM,this,TX).call(this,a,t,c,e,i,d,0);if(-1===g){a[n]=-o,1!==a[n]&&(s=Math.abs(a[n]));continue}let v=h(oM,this,BX)._[2*g],x=h(oM,this,BX)._[2*g+1];const b=c+v,y=e+x;i=b,d=y;let w=c,k=e;for(;;){const r=h(oM,this,IX).call(this,a,t,w,k,i,d,1);v=h(oM,this,BX)._[2*r],x=h(oM,this,BX)._[2*r+1];const l=w+v,p=k+x;u.push(p,l);const f=w*t+k;if(0===a[f+1]?a[f]=-o:1===a[f]&&(a[f]=o),l===c&&p===e&&w===b&&k===y){1!==a[n]&&(s=Math.abs(a[n]));break}i=w,d=k,w=l,k=p}}}return l}function RX(e,t,n,r){if(n-t<=4){for(let i=t;i<n-2;i+=2)r.push(e[i],e[i+1]);return}const i=e[t],a=e[t+1],s=e[n-4]-i,o=e[n-3]-a,l=Math.hypot(s,o),c=s/l,d=o/l,u=c*a-d*i,p=o/s,f=1/l,m=Math.atan(p),g=Math.cos(m),v=Math.sin(m),x=f*(Math.abs(g)+Math.abs(v)),b=f*(1-x+x**2),y=Math.max(Math.atan(Math.abs(v+g)*b),Math.atan(Math.abs(v-g)*b));let w=0,k=t;for(let h=t+2;h<n-2;h+=2){const t=Math.abs(u-c*e[h+1]+d*e[h]);t>w&&(k=h,w=t)}w>(l*y)**2?(h(oM,this,RX).call(this,e,t,k+2,r),h(oM,this,RX).call(this,e,k,n,r)):r.push(i,a)}function DX(e){const t=[],n=e.length;return h(oM,this,RX).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}function MX(e,t,n,r,i,a){const s=new Float32Array(a**2),o=-2*r**2,l=a>>1;for(let f=0;f<a;f++){const e=(f-l)**2;for(let t=0;t<a;t++)s[f*a+t]=Math.exp((e+(t-l)**2)/o)}const c=new Float32Array(256),d=-2*i**2;for(let f=0;f<256;f++)c[f]=Math.exp(f**2/d);const u=e.length,h=new Uint8Array(u),p=new Uint32Array(256);for(let f=0;f<n;f++)for(let r=0;r<t;r++){const i=f*t+r,o=e[i];let d=0,u=0;for(let h=0;h<a;h++){const i=f+h-l;if(!(i<0||i>=n))for(let n=0;n<a;n++){const p=r+n-l;if(p<0||p>=t)continue;const f=e[i*t+p],m=s[h*a+n]*c[Math.abs(f-o)];d+=f*m,u+=m}}p[h[i]=Math.round(d/u)]++}return[h,p]}function OX(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}function LX(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let s=0,o=n.length;s<o;s++){if(0===e[3+(s<<2)]){r=n[s]=255;continue}const t=n[s]=e[s<<2];t>r&&(r=t),t<i&&(i=t)}const a=255/(r-i);for(let s=0;s<t;s++)n[s]=(n[s]-i)*a;return n}function FX(e){let t,n=-1/0,r=-1/0;const i=e.findIndex(e=>0!==e);let a=i,s=i;for(t=i;t<256;t++){const i=e[t];i>n&&(t-a>r&&(r=t-a,s=t-1),n=i,a=t)}for(t=s-1;t>=0&&!(e[t]>e[t+1]);t--);return t}function $X(e){const t=e,{width:n,height:r}=e,{maxDim:i}=h(oM,this,VX)._;let a=n,s=r;if(n>i||r>i){let o=n,l=r,c=Math.log2(Math.max(n,r)/i);const d=Math.floor(c);c=c===d?d-1:d;for(let n=0;n<c;n++){a=Math.ceil(o/2),s=Math.ceil(l/2);const n=new OffscreenCanvas(a,s);n.getContext("2d").drawImage(e,0,0,o,l,0,0,a,s),o=a,l=s,e!==t&&e.close(),e=n.transferToImageBitmap()}const u=Math.min(i/a,i/s);a=Math.round(a*u),s=Math.round(s*u)}const o=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,a,s);const l=o.getImageData(0,0,a,s).data;return[h(oM,this,LX).call(this,l),a,s]}oM=EX;var VX={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},BX={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class UX extends Eq{constructor(){super(),super.updateProperties({fill:U$._defaultLineColor,"stroke-width":0})}clone(){const e=new UX;return e.updateAll(this),e}}class zX extends SX{constructor(e){super(e),super.updateProperties({stroke:U$._defaultLineColor,"stroke-width":1})}clone(){const e=new zX(this._viewParameters);return e.updateAll(this),e}}var HX=new WeakMap,WX=new WeakMap,KX=new WeakMap,GX=new WeakMap;class qX extends Pq{constructor(e){super(c(c({},e),{},{mustBeCommitted:!0,name:"signatureEditor"})),u(this,HX,!1),u(this,WX,null),u(this,KX,null),u(this,GX,null),this._willKeepAspectRatio=!0,f(KX,this,e.signatureData||null),f(WX,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){U$.initialize(e,t),this._defaultDrawingOptions=new UX,this._defaultDrawnSignatureOptions=new zX(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return QM(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(WX,this)}}static computeTelemetryFinalData(e){var t,n;const r=e.get("hasDescription");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(p(KX,this)){const{lines:e,mustSmooth:t,areContours:n,description:r,uuid:i,heightInPage:a}=p(KX,this),{rawDims:{pageWidth:s,pageHeight:o},rotation:l}=this.parent.viewport,c=EX.processDrawnLines({lines:e,pageWidth:s,pageHeight:o,rotation:l,innerMargin:qX._INNER_MARGIN,mustSmooth:t,areContours:n});this.addSignature(c,a,r,i)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){f(GX,this,e),this.addEditToolbar()}getUuid(){return p(GX,this)}get description(){return p(WX,this)}set description(e){f(WX,this,e),super.addEditToolbar().then(t=>{null===t||void 0===t||t.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:r,height:i}=p(KX,this),a=Math.max(r,i);return{areContours:t,outline:EX.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:n,width:r,height:i},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&null!==p(WX,this)&&(await e.addEditSignatureButton(this._uiManager.signatureManager,p(GX,this),p(WX,this)),e.show()),e):null}addSignature(e,t,n,r){const{x:i,y:a}=this,{outline:s}=f(KX,this,e);let o;f(HX,this,s instanceof NX),f(WX,this,n),this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),p(HX,this)?o=qX.getDefaultDrawingOptions():(o=qX._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:o});const[l,c]=this.parentDimensions,[,d]=this.pageDimensions;let u=t/d;u=u>=1?.5:u,this.width*=u/this.height,this.width>=1&&(u*=.9/this.width,this.width=.9),this.height=u,this.setDims(l*this.width,c*this.height),this.x=i,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return EX.process(e,t,n,r,qX._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return EX.extractContoursFromText(e,t,n,r,i,qX._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return EX.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:qX._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(e){let{areContours:t,thickness:n}=e;t?this._drawingOptions=qX.getDefaultDrawingOptions():(this._drawingOptions=qX._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:t,points:n,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a={annotationType:wM.SIGNATURE,isSignature:!0,areContours:p(HX,this),color:[0,0,0],thickness:p(HX,this)?0:i,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.paths={lines:t,points:n},a.uuid=p(GX,this),a.isCopy=!0):a.lines=t,p(WX,this)&&(a.accessibilityData={type:"Figure",alt:p(WX,this)}),a}static deserializeDraw(e,t,n,r,i,a){return a.areContours?NX.deserialize(e,t,n,r,i,a):xX.deserialize(e,t,n,r,i,a)}static async deserialize(e,t,n){var r;const i=await super.deserialize(e,t,n);return f(HX,i,e.areContours),f(WX,i,(null===(r=e.accessibilityData)||void 0===r?void 0:r.alt)||""),f(GX,i,e.uuid),i}}o(qX,"_type","signature"),o(qX,"_editorType",wM.SIGNATURE),o(qX,"_defaultDrawingOptions",null);var XX=new WeakMap,YX=new WeakMap,QX=new WeakMap,ZX=new WeakMap,JX=new WeakMap,eY=new WeakMap,tY=new WeakMap,nY=new WeakMap,rY=new WeakMap,iY=new WeakMap,aY=new WeakMap,sY=new WeakSet;class oY extends U${constructor(e){super(c(c({},e),{},{name:"stampEditor"})),P(this,sY),u(this,XX,null),u(this,YX,null),u(this,QX,null),u(this,ZX,null),u(this,JX,null),u(this,eY,""),u(this,tY,null),u(this,nY,!1),u(this,rY,null),u(this,iY,!1),u(this,aY,!1),f(ZX,this,e.bitmapUrl),f(JX,this,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){U$.initialize(e,t)}static isHandlingMimeForPasting(e){return OO.includes(e)}static paste(e,t){t.pasteEditor({mode:wM.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const r=e.get("hasAltText");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:i,height:a}=e||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:r,width:i,height:a,channels:r.length/(i*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;p(YX,this)&&(f(XX,this,null),this._uiManager.imageManager.deleteId(p(YX,this)),null===(e=p(tY,this))||void 0===e||e.remove(),f(tY,this,null),p(rY,this)&&(clearTimeout(p(rY,this)),f(rY,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(p(YX,this)&&null===p(tY,this)&&h(sY,this,dY).call(this),this.isAttachedToDOM||this.parent.add(this))):p(YX,this)&&h(sY,this,dY).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(p(QX,this)||p(XX,this)||p(ZX,this)||p(JX,this)||p(YX,this)||p(nY,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),p(nY,this)||(p(XX,this)?h(sY,this,uY).call(this):h(sY,this,dY).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(f(YX,this,n),r&&f(XX,this,r),f(nY,this,!1),h(sY,this,uY).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==p(rY,this)&&clearTimeout(p(rY,this));f(rY,this,setTimeout(()=>{f(rY,this,null),h(sY,this,pY).call(this)},200))}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:r,height:i}=p(XX,this),a=new MO;let s=p(XX,this),o=r,l=i,c=null;if(t){var d,u;if(r>t||i>t){const e=Math.min(t/r,t/i);o=Math.floor(r*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);p(iY,this)||(s=h(sY,this,hY).call(this,e,n));const f=c.getContext("2d");f.filter=this._uiManager.hcmFilter;let m="white",g="#cfcfd8";"none"!==this._uiManager.hcmFilter?g="black":null!==(d=(u=window).matchMedia)&&void 0!==d&&d.call(u,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",g="#42414d");const v=15,x=v*a.sx,b=v*a.sy,y=new OffscreenCanvas(2*x,2*b),w=y.getContext("2d");w.fillStyle=m,w.fillRect(0,0,2*x,2*b),w.fillStyle=g,w.fillRect(0,0,x,b),w.fillRect(x,b,x,b),f.fillStyle=f.createPattern(y,"repeat"),f.fillRect(0,0,e,n),f.drawImage(s,0,0,s.width,s.height,0,0,e,n)}let f=null;if(n){let t,n;if(a.symmetric&&s.width<e&&s.height<e)t=s.width,n=s.height;else if(s=p(XX,this),r>e||i>e){const a=Math.min(e/r,e/i);t=Math.floor(r*a),n=Math.floor(i*a),p(iY,this)||(s=h(sY,this,hY).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,t,n),f={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:f}}static async deserialize(e,t,n){let r=null,i=!1;if(e instanceof ZW){var a;const{data:{rect:s,rotation:o,id:l,structParent:c,popupRef:d},container:u,parent:{page:{pageNumber:h}},canvas:p}=e;let f,m;p?(delete e.canvas,({id:f,bitmap:m}=n.imageManager.getFromCanvas(u.id,p)),p.remove()):(i=!0,e._hasNoCanvas=!0);const g=(null===(a=await t._structTree.getAriaAttributes("".concat(mO).concat(l)))||void 0===a?void 0:a.get("aria-label"))||"";r=e={annotationType:wM.STAMP,bitmapId:f,bitmap:m,pageIndex:h-1,rect:s.slice(0),rotation:o,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:g},isSvg:!1,structParent:c,popupRef:d}}const s=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:u,accessibilityData:h}=e;i?(n.addMissingCanvas(e.id,s),f(nY,s,!0)):d&&n.imageManager.isValidId(d)?(f(YX,s,d),l&&f(XX,s,l)):f(ZX,s,c),f(iY,s,u);const[p,m]=s.pageDimensions;return s.width=(o[2]-o[0])/p,s.height=(o[3]-o[1])/m,s.annotationElementId=e.id||null,h&&(s.altTextData=h),s._initialData=r,f(aY,s,!!r),s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:wM.STAMP,bitmapId:p(YX,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:p(iY,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=h(sY,this,fY).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:i}=this.serializeAltText(!1);if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=h(sY,this,mY).call(this,n);if(e.isSame)return null;var a;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(a=this._initialData.structParent)&&void 0!==a?a:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const s=p(iY,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(p(YX,this))){if(p(iY,this)){const e=t.stamps.get(p(YX,this));s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=h(sY,this,fY).call(this,!1))}}else t.stamps.set(p(YX,this),{area:s,serialized:n}),n.bitmap=h(sY,this,fY).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}function lY(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(f(XX,this,e.bitmap),t||(f(YX,this,e.id),f(iY,this,e.isSvg)),e.file&&f(eY,this,e.file.name),h(sY,this,uY).call(this)):this.remove()}function cY(){if(f(QX,this,null),this._uiManager.enableWaiting(!1),p(tY,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(XX,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(XX,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function dY(){if(p(YX,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(p(YX,this)).then(e=>h(sY,this,lY).call(this,e,!0)).finally(()=>h(sY,this,cY).call(this));if(p(ZX,this)){const e=p(ZX,this);return f(ZX,this,null),this._uiManager.enableWaiting(!0),void f(QX,this,this._uiManager.imageManager.getFromUrl(e).then(e=>h(sY,this,lY).call(this,e)).finally(()=>h(sY,this,cY).call(this)))}if(p(JX,this)){const e=p(JX,this);return f(JX,this,null),this._uiManager.enableWaiting(!0),void f(QX,this,this._uiManager.imageManager.getFromFile(e).then(e=>h(sY,this,lY).call(this,e)).finally(()=>h(sY,this,cY).call(this)))}const e=document.createElement("input");e.type="file",e.accept=OO.join(",");const t=this._uiManager._signal;f(QX,this,new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),h(sY,this,lY).call(this,t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>h(sY,this,cY).call(this))),e.click()}function uY(){var e;const{div:t}=this;let{width:n,height:r}=p(XX,this);const[i,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>s*i||r>s*a){const e=Math.min(s*i/n,s*a/r);n*=e,r*=e}const[o,l]=this.parentDimensions;this.setDims(n*o/i,r*l/a),this._uiManager.enableWaiting(!1);const c=f(tY,this,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/i,this.height=r/a,null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),h(sY,this,pY).call(this),p(aY,this)||(this.parent.addUndoableEditor(this),f(aY,this,!0)),this._reportTelemetry({action:"inserted_image"}),p(eY,this)&&this.div.setAttribute("aria-description",p(eY,this))}function hY(e,t){const{width:n,height:r}=p(XX,this);let i=n,a=r,s=p(XX,this);for(;i>2*e||a>2*t;){const n=i,r=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(i,a);o.getContext("2d").drawImage(s,0,0,n,r,0,0,i,a),s=o.transferToImageBitmap()}return s}function pY(){const[e,t]=this.parentDimensions,{width:n,height:r}=this,i=new MO,a=Math.ceil(n*e*i.sx),s=Math.ceil(r*t*i.sy),o=p(tY,this);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=p(iY,this)?p(XX,this):h(sY,this,hY).call(this,a,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,s)}function fY(e){if(e){if(p(iY,this)){const e=this._uiManager.imageManager.getSvgUrl(p(YX,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=p(XX,this));return e.getContext("2d").drawImage(p(XX,this),0,0),e.toDataURL()}if(p(iY,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*bO.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*bO.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(p(XX,this),0,0,p(XX,this).width,p(XX,this).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(p(XX,this))}function mY(e){var t;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}o(oY,"_type","stamp"),o(oY,"_editorType",wM.STAMP);var gY=new WeakMap,vY=new WeakMap,xY=new WeakMap,bY=new WeakMap,yY=new WeakMap,wY=new WeakMap,kY=new WeakMap,SY=new WeakMap,CY=new WeakMap,jY=new WeakMap,_Y=new WeakMap,NY=new WeakMap,EY=new WeakMap,AY=new WeakMap,TY=new WeakSet;class IY{constructor(e){let{uiManager:t,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;P(this,TY),u(this,gY,void 0),u(this,vY,!1),u(this,xY,null),u(this,bY,null),u(this,yY,null),u(this,wY,new Map),u(this,kY,!1),u(this,SY,!1),u(this,CY,!1),u(this,jY,null),u(this,_Y,null),u(this,NY,null),u(this,EY,null),u(this,AY,void 0);const h=[...LY._.values()];if(!IY._initialized){IY._initialized=!0;for(const e of h)e.initialize(d,t)}t.registerEditorTypes(h),f(AY,this,t),this.pageIndex=n,this.div=r,f(gY,this,a),f(xY,this,s),this.viewport=c,f(NY,this,l),this.drawLayer=o,this._structTree=i,p(AY,this).addLayer(this)}get isEmpty(){return 0===p(wY,this).size}get isInvisible(){return this.isEmpty&&p(AY,this).getMode()===wM.NONE}updateToolbar(e){p(AY,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p(AY,this).getMode();switch(h(TY,this,OY).call(this),e){case wM.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case wM.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case wM.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of LY._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=p(NY,this))||void 0===t?void 0:t.div)}setEditingState(e){p(AY,this).setEditingState(e)}addCommands(e){p(AY,this).addCommands(e)}cleanUndoStack(e){p(AY,this).cleanUndoStack(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=p(xY,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){f(CY,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of p(wY,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(p(AY,this).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!p(xY,this))return void f(CY,this,!1);const t=p(xY,this).getEditableAnnotations();for(const n of t){if(n.hide(),p(AY,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}f(CY,this,!1)}disable(){f(SY,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of p(wY,this).values()){var n;i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),null===(n=this.getEditableAnnotation(i.annotationElementId))||void 0===n||n.show(),i.remove()):e.set(i.annotationElementId,i))}if(p(xY,this)){const n=p(xY,this).getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(p(AY,this).isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=e.get(n),i&&(p(AY,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(r)&&i.show(!1)),r.show())}}h(TY,this,OY).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of LY._.values())r.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),f(SY,this,!1)}getEditableAnnotation(e){var t;return(null===(t=p(xY,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){p(AY,this).getActive()!==e&&p(AY,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=p(NY,this))&&void 0!==e&&e.div&&!p(EY,this)){f(EY,this,new AbortController);const e=p(AY,this).combinedSignal(p(EY,this));p(NY,this).div.addEventListener("pointerdown",h(TY,this,PY).bind(this),{signal:e}),p(NY,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=p(NY,this))&&void 0!==e&&e.div&&p(EY,this)&&(p(EY,this).abort(),f(EY,this,null),p(NY,this).div.classList.remove("highlighting"))}enableClick(){if(p(bY,this))return;f(bY,this,new AbortController);const e=p(AY,this).combinedSignal(p(bY,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null===(e=p(bY,this))||void 0===e||e.abort(),f(bY,this,null)}attach(e){p(wY,this).set(e.id,e);const{annotationElementId:t}=e;t&&p(AY,this).isDeletedAnnotationElement(t)&&p(AY,this).removeDeletedAnnotationElement(e)}detach(e){var t;p(wY,this).delete(e.id),null===(t=p(gY,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!p(SY,this)&&e.annotationElementId&&p(AY,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),p(AY,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(p(AY,this).addDeletedAnnotationElement(e.annotationElementId),U$.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),p(AY,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!p(CY,this)),p(AY,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!p(yY,this)&&(e._focusEventsAllowed=!1,f(yY,this,setTimeout(()=>{f(yY,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:p(AY,this)._signal}),n.focus())},0))),e._structTreeParentId=null===(t=p(gY,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return p(AY,this).getId()}combinedSignal(e){return p(AY,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=KD(TY,this,RY))||void 0===e?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await p(AY,this).updateMode(e.mode);const{offsetX:n,offsetY:r}=h(TY,this,MY).call(this),i=this.getNextId(),a=h(TY,this,DY).call(this,c({parent:this,id:i,x:n,y:r,uiManager:p(AY,this),isCentered:!0},t));a&&this.add(a)}async deserialize(e){var t,n;return await(null===(t=LY._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,p(AY,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=h(TY,this,DY).call(this,c({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:p(AY,this),isCentered:t},n));return i&&this.add(i),i}addNewEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(h(TY,this,MY).call(this),!0,e)}setSelected(e){p(AY,this).setSelected(e)}toggleSelected(e){p(AY,this).toggleSelected(e)}unselect(e){p(AY,this).unselect(e)}pointerup(e){var t;const{isMac:n}=oO.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(!p(kY,this))return;if(f(kY,this,!1),null!==(t=KD(TY,this,RY))&&void 0!==t&&t.isDrawer&&KD(TY,this,RY).supportMultipleDrawings)return;if(!p(vY,this))return void f(vY,this,!0);const r=p(AY,this).getMode();r!==wM.STAMP&&r!==wM.SIGNATURE?this.createAndAddNewEditor(e,!1):p(AY,this).unselectAll()}pointerdown(e){var t;if(p(AY,this).getMode()===wM.HIGHLIGHT&&this.enableTextSelection(),p(kY,this))return void f(kY,this,!1);const{isMac:n}=oO.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(f(kY,this,!0),null!==(t=KD(TY,this,RY))&&void 0!==t&&t.isDrawer)return void this.startDrawingSession(e);const r=p(AY,this).getActive();f(vY,this,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),p(jY,this))return void KD(TY,this,RY).startDrawing(this,p(AY,this),!1,e);p(AY,this).setCurrentDrawingSession(this),f(jY,this,new AbortController);const t=p(AY,this).combinedSignal(p(jY,this));this.div.addEventListener("blur",e=>{let{relatedTarget:t}=e;t&&!this.div.contains(t)&&(f(_Y,this,null),this.commitOrRemove())},{signal:t}),KD(TY,this,RY).startDrawing(this,p(AY,this),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&f(_Y,this,e))}p(_Y,this)&&setTimeout(()=>{var e;null===(e=p(_Y,this))||void 0===e||e.focus(),f(_Y,this,null)},0)}endDrawingSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return p(jY,this)?(p(AY,this).setCurrentDrawingSession(null),p(jY,this).abort(),f(jY,this,null),f(_Y,this,null),KD(TY,this,RY).endDrawing(e)):null}findNewParent(e,t,n){const r=p(AY,this).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}commitOrRemove(){return!!p(jY,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){p(jY,this)&&KD(TY,this,RY).onScaleChangingWhenDrawing(this)}destroy(){var e;this.commitOrRemove(),(null===(e=p(AY,this).getActive())||void 0===e?void 0:e.parent)===this&&(p(AY,this).commitOrRemove(),p(AY,this).setActiveEditor(null)),p(yY,this)&&(clearTimeout(p(yY,this)),f(yY,this,null));for(const n of p(wY,this).values()){var t;null===(t=p(gY,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,p(wY,this).clear(),p(AY,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,DO(this.div,t);for(const n of p(AY,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;p(AY,this).commitOrRemove(),h(TY,this,OY).call(this);const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,DO(this.div,{rotation:r}),n!==r)for(const i of p(wY,this).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return p(AY,this).viewParameters.realScale}}function PY(e){p(AY,this).unselectAll();const{target:t}=e;if(t===p(NY,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&p(NY,this).div.contains(t)){const{isMac:t}=oO.platform;if(0!==e.button||e.ctrlKey&&t)return;p(AY,this).showAllEditors("highlight",!0,!0),p(NY,this).div.classList.add("free"),this.toggleDrawing(),dq.startHighlighting(this,"ltr"===p(AY,this).direction,{target:p(NY,this).div,x:e.x,y:e.y}),p(NY,this).div.addEventListener("pointerup",()=>{p(NY,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(AY,this)._signal}),e.preventDefault()}}function RY(e){return LY._.get(p(AY,e).getMode())}function DY(e){const t=KD(TY,this,RY);return t?new t.prototype.constructor(e):null}function MY(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}function OY(){for(const e of p(wY,this).values())e.isEmpty()&&e.remove()}o(IY,"_initialized",!1);var LY={_:new Map([xK,jX,oY,dq,qX].map(e=>[e._editorType,e]))},FY=new WeakMap,$Y=new WeakMap,VY=new WeakMap,BY=new WeakSet;class UY{constructor(e){let{pageIndex:t}=e;P(this,BY),u(this,FY,null),u(this,$Y,new Map),u(this,VY,new Map),this.pageIndex=t}setParent(e){if(p(FY,this)){if(p(FY,this)!==e){if(p($Y,this).size>0)for(const t of p($Y,this).values())t.remove(),e.append(t);f(FY,this,e)}}else f(FY,this,e)}static get _svgFactory(){return QM(this,"_svgFactory",new IH)}draw(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=(GY._=(t=GY._,n=t++,t),n),s=h(BY,this,HY).call(this),o=UY._svgFactory.createElement("defs");s.append(o);const l=UY._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(a);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),r&&p(VY,this).set(a,l);const d=i?h(BY,this,WY).call(this,o,c):null,u=UY._svgFactory.createElement("use");return s.append(u),u.setAttribute("href","#".concat(c)),this.updateProperties(s,e),p($Y,this).set(a,s),{id:a,clipPathId:"url(#".concat(d,")")}}drawOutline(e,t){var n,r;const i=(GY._=(n=GY._,r=n++,n),r),a=h(BY,this,HY).call(this),s=UY._svgFactory.createElement("defs");a.append(s);const o=UY._svgFactory.createElement("path");s.append(o);const l="path_p".concat(this.pageIndex,"_").concat(i);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t){const e=UY._svgFactory.createElement("mask");s.append(e),c="mask_p".concat(this.pageIndex,"_").concat(i),e.setAttribute("id",c),e.setAttribute("maskUnits","objectBoundingBox");const t=UY._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=UY._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const d=UY._svgFactory.createElement("use");a.append(d),d.setAttribute("href","#".concat(l)),c&&d.setAttribute("mask","url(#".concat(c,")"));const u=d.cloneNode();return a.append(u),d.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(a,e),p($Y,this).set(i,a),i}finalizeDraw(e,t){p(VY,this).delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:r,rootClass:i,path:a}=t,s="number"===typeof e?p($Y,this).get(e):e;if(s){if(n&&h(BY,this,KY).call(this,s,n),r&&zY.call(UY,s,r),i){const{classList:e}=s;for(const[t,n]of Object.entries(i))e.toggle(t,n)}if(a){const e=s.firstChild.firstChild;h(BY,this,KY).call(this,e,a)}}}updateParent(e,t){if(t===this)return;const n=p($Y,this).get(e);n&&(p(FY,t).append(n),p($Y,this).delete(e),p($Y,t).set(e,n))}remove(e){p(VY,this).delete(e),null!==p(FY,this)&&(p($Y,this).get(e).remove(),p($Y,this).delete(e))}destroy(){f(FY,this,null);for(const e of p($Y,this).values())e.remove();p($Y,this).clear(),p(VY,this).clear()}}function zY(e,t){let[n,r,i,a]=t;const{style:s}=e;s.top="".concat(100*r,"%"),s.left="".concat(100*n,"%"),s.width="".concat(100*i,"%"),s.height="".concat(100*a,"%")}function HY(){const e=lM._svgFactory.create(1,1,!0);return p(FY,this).append(e),e.setAttribute("aria-hidden",!0),e}function WY(e,t){const n=lM._svgFactory.createElement("clipPath");e.append(n);const r="clip_".concat(t);n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=lM._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),r}function KY(e,t){for(const[n,r]of Object.entries(t))null===r?e.removeAttribute(n):e.setAttribute(n,r)}lM=UY;var GY={_:0};globalThis._pdfjsTestingUtils={HighlightOutliner:fG},globalThis.pdfjsLib={AbortException:iO,AnnotationEditorLayer:IY,AnnotationEditorParamsType:kM,AnnotationEditorType:wM,AnnotationEditorUIManager:mF,AnnotationLayer:lK,AnnotationMode:yM,AnnotationType:TM,build:"47ad820d9",ColorPicker:LG,createValidAbsoluteUrl:XM,DOMSVGFactory:IH,DrawLayer:UY,FeatureTest:oO,fetchData:yO,getDocument:$z,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(SO(e))return KM('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(a){}return i||t},getUuid:fO,getXfaPageViewport:function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:a}=e.attributes.style,s=[0,0,parseInt(i),parseInt(a)];return new wO({viewBox:s,userUnit:1,scale:n,rotation:r})},GlobalWorkerOptions:fU,ImageKind:AM,InvalidPDFException:tO,isDataScheme:SO,isPdfFile:CO,isValidExplicitDest:NV,MathClamp:gO,noContextMenu:NO,normalizeUnicode:function(e){return hO||(hO=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,pO=new Map([["\ufb05","\u017ft"]])),e.replaceAll(hO,(e,t,n)=>t?t.normalize("NFKC"):pO.get(n))},OPS:LM,OutputScale:MO,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Gz,PDFDateString:AO,PDFWorker:iH,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:bO,RenderingCancelledException:kO,ResponseException:nO,setLayerDimensions:DO,shadow:QM,SignatureExtractor:EX,stopEvent:EO,SupportedImageMimeTypes:OO,TextLayer:jz,TouchManager:p$,updateUrlHash:YM,Util:cO,VerbosityLevel:OM,version:_H,XfaLayer:PH};const qY=t=>{let{setActiveTab:n}=t;const r=hi().pathname.split("/"),i=r.length>2?r[2]:null,a=r.length>4?r[4]:null,[s,o]=(0,e.useState)(!0),[l,d]=(0,e.useState)([]),u=mi();(0,e.useEffect)(()=>{if(!i)return void o(!1);(async()=>{const e=await HS(i);if(e&&e.KundeInfo){const t=e.KundeInfo.find(e=>e.uniqueId===a);d(null===t||void 0===t?void 0:t.Plantegninger)}o(!1)})()},[i]),(0,e.useEffect)(()=>{fU.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_H,"/pdf.worker.min.js")},[]);const h=e.useRef(null);function p(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}const f=async e=>{if(!e.length)return;const t=new FormData;t.append("file",e[0]),o(!0);try{const n=await fetch("https://iplotnor-hf-api-version-2.hf.space/upload",{method:"POST",headers:{accept:"application/json"},body:t,mode:"cors"});if(!n.ok)throw new Error("HTTP error: ".concat(n.status));const r=await n.json();if(r&&null!==r&&void 0!==r&&r.pdf_id){const t=e[0];let n;if("application/pdf"===t.type){const e=await p(t);n=await(async e=>{try{const t=$z({data:atob(e.split(",")[1])}),n=await t.promise,r=await n.getPage(1),i=document.createElement("canvas");if(!i)return;const a=i.getContext("2d");if(!a)return;const s=r.getViewport({scale:1});return i.width=s.width,i.height=s.height,await r.render({canvasContext:a,viewport:s}).promise,i.toDataURL("image/png")}catch(t){console.error("Error loading PDF document:",t)}})(e)}else{if(!t.type.startsWith("image/"))return console.error("Unsupported file type"),void o(!1);n=await p(t)}if(n){const e=await(async e=>{if(!e)return;if(e.length*(3/4)-(e.endsWith("==")?2:e.endsWith("=")?1:0)>2097152)return void kt.error("Image size must be less than 2MB.",{position:"top-right"});const t=Date.now(),n="".concat(t,"_image.png"),r=LS(US,"".concat("images","/").concat(n));try{const t=await DS(r,e,"data_url");return await OS(t.ref)}catch(i){console.error("Error uploading base64",i)}})(n),t=Rg(BS,"housemodell_configure_broker",String(i)),s=await Rv(t);if(!s.exists())return void kt.error("Husmodell not found",{position:"top-right"});const l=s.data().KundeInfo||[],u=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),h=l.map(t=>{if(t.uniqueId===a){const n=t.Plantegninger||[],i=n.length+1,a=c(c({},r),{},{image:e,title:"Floor ".concat(i)});return d(e=>[...Array.isArray(e)?e:[],a]),c(c({},t),{},{Plantegninger:[...n,a]})}return t});await Lv(t,{KundeInfo:h,updatedAt:u(new Date)}),kt.success(r.message,{position:"top-right"}),o(!1)}}}catch(n){console.error("Upload error:",n),o(!1),kt.error("File upload error!",{position:"top-right"})}},[m,g]=(0,e.useState)(null),[v,x]=(0,e.useState)(""),[b,y]=(0,e.useState)(null),[w,k]=(0,e.useState)({}),S=e=>{k(t=>c(c({},t),{},{[e]:!0}))};return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"px-4 md:px-6 py-5 md:py-6 desktop:p-8",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack text-2xl font-semibold mb-2",children:"Last opp plantegningen din"}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),(0,Pe.jsxs)("div",{className:"px-4 md:px-6 py-5 md:py-6 desktop:p-8 pb-[100px]",children:[(0,Pe.jsx)("div",{className:"relative p-2 rounded-lg md:w-max",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,Pe.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-2 md:px-3 flex-col items-center justify-center laptop:px-[42px] py-2 md:py-4 flex gap-3 md:gap-6 cursor-pointer w-full",onClick:async()=>{var e;null===(e=h.current)||void 0===e||e.click()},onDrop:e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;t&&f(t)},onDragStart:e=>{e.preventDefault(),e.stopPropagation()},onDragOver:e=>e.preventDefault(),children:[(0,Pe.jsx)("img",{src:HD,alt:"upload"}),(0,Pe.jsxs)("div",{className:"flex items-center justify-center flex-col gap-3",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,Pe.jsx)("span",{className:"text-primary font-medium whitespace-nowrap flex items-center justify-center border-2 border-purple rounded-[40px] h-[32px] md:h-[36px] py-2 px-2 md:px-4 text-sm md:text-base",children:"Bla gjennom"}),(0,Pe.jsx)("p",{className:"text-gray text-xs md:text-sm text-center truncate w-full",children:"Slipp filen her for \xe5 laste den opp"})]}),(0,Pe.jsx)("p",{className:"text-gray text-xs md:text-sm truncate w-full text-center",children:"Filformater: Kun JPEG, JPG, PNG, PDF maks 2 MB"})]}),(0,Pe.jsx)("input",{type:"file",ref:h,className:"hidden",accept:".pdf,image/*",onChange:async e=>{e.target.files&&await f(e.target.files)}})]})}),(0,Pe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 lg:gap-6 w-full mt-6 md:mt-8",children:l&&l.length>0?l.map((e,t)=>{const r=m===t,s=w[t];return(0,Pe.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-3 md:p-4 rounded-lg flex flex-col gap-3 md:gap-4",onClick:()=>{n(2),u("?pdf_id=".concat(null===e||void 0===e?void 0:e.pdf_id))},children:[(0,Pe.jsxs)("div",{className:"flex gap-1.5 md:gap-2 items-center justify-between",children:[r?(0,Pe.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,Pe.jsx)("span",{className:"text-darkBlack font-medium truncate",children:(null===e||void 0===e?void 0:e.title)||"Floor ".concat(t+1)}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[r?(0,Pe.jsx)("button",{className:"bg-purple text-white px-2 md:px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const n=[...l];n[t]=c(c({},n[t]),{},{title:v}),d(n),g(null);const r=Rg(BS,"housemodell_configure_broker",String(i)),s=await Rv(r);if(s.exists()){const e=(s.data().KundeInfo||[]).map(e=>e.uniqueId===a?c(c({},e),{},{Plantegninger:n}):e);await Lv(r,{KundeInfo:e,updatedAt:(new Date).toISOString()}),kt.success("Navn oppdatert!",{position:"top-right"})}},children:"Oppdater"}):(0,Pe.jsx)(hC,{className:"w-5 h-5 text-purple cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),g(t),x((null===e||void 0===e?void 0:e.title)||"Floor ".concat(t+1))}}),(0,Pe.jsx)(VE,{className:"w-5 h-5 text-red cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),y(t)}})]})]}),(0,Pe.jsxs)("div",{className:"w-full h-[200px] relative",children:[!s&&(0,Pe.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer"}),(null===e||void 0===e?void 0:e.image)&&(0,Pe.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"floor",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 ".concat(s?"opacity-100":"opacity-0"),onLoad:()=>S(t),onError:()=>S(t),loading:"lazy"})]})]},t)}):"No Data Found!"})]}),null!==b&&(0,Pe.jsx)(lC,{onClose:()=>{y(b?null:b)},isOpen:!0,children:(0,Pe.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,Pe.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,Pe.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,Pe.jsx)("div",{onClick:()=>y(null),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)("div",{onClick:()=>(async e=>{const t=Rg(BS,"housemodell_configure_broker",String(i));try{const n=((await Rv(t)).data().KundeInfo||[]).map(t=>{if(t.uniqueId===a){const n=(t.Plantegninger||[]).filter((t,n)=>n!==e);return c(c({},t),{},{Plantegninger:n})}return t});await Lv(t,{KundeInfo:n,updatedAt:(new Date).toISOString()});const r=l.filter((t,n)=>n!==e);d(r),y(null),kt.success("Floor deleted successfully!",{position:"top-right"})}catch(n){console.error("Error deleting floor:",n),kt.error("Failed to delete floor",{position:"top-right"})}})(b),children:(0,Pe.jsx)(uC,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})}),s&&(0,Pe.jsx)(Ra,{})]})},XY=()=>{const[t,n]=(0,e.useState)("pulse");return(0,e.useEffect)(()=>{n("stagger")},[]),(0,Pe.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Pe.jsx)("div",{className:"rounded-lg shadow-md",children:(0,Pe.jsxs)("svg",{width:"90",height:"90",viewBox:"0 0 47 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Pe.jsx)("path",{d:"M32.8796 8.72622C32.5549 8.07687 31.8914 7.66671 31.1654 7.66671C30.4393 7.66671 29.7758 8.07687 29.4511 8.72622L27.9034 11.8214C26.7152 14.1977 26.2926 14.9924 25.6835 15.6015C25.0744 16.2106 24.2797 16.6333 21.9033 17.8215L18.8082 19.3691C18.1589 19.6938 17.7487 20.3573 17.7487 21.0834C17.7487 21.8094 18.1589 22.473 18.8082 22.7976L21.9033 24.3453C24.2797 25.5335 25.0744 25.9561 25.6835 26.5652C26.2926 27.1743 26.7152 27.969 27.9034 30.3455L29.4511 33.4405C29.7758 34.0899 30.4393 34.5 31.1654 34.5C31.8914 34.5 32.5549 34.0899 32.8796 33.4405L34.4273 30.3455C35.6155 27.969 36.0381 27.1743 36.6472 26.5652C37.2563 25.9561 38.051 25.5335 40.4275 24.3453L43.5225 22.7976C44.1719 22.473 44.582 21.8094 44.582 21.0834C44.582 20.3573 44.1719 19.6938 43.5225 19.3691L40.4275 17.8215C38.051 16.6333 37.2563 16.2106 36.6472 15.6015C36.0381 14.9924 35.6155 14.1977 34.4273 11.8214L32.8796 8.72622Z",fill:"#444CE7",className:"".concat("stagger"===t?"animate-stagger-1":"")}),(0,Pe.jsx)("path",{d:"M13.713 4.89289C13.3884 4.24354 12.7247 3.83337 11.9987 3.83337C11.2727 3.83337 10.609 4.24354 10.2844 4.89289L9.5106 6.44046C8.88883 7.684 8.74935 7.91223 8.58011 8.08146C8.41089 8.2507 8.18265 8.39017 6.93912 9.01194L5.39155 9.78572C4.7422 10.1104 4.33203 10.7741 4.33203 11.5C4.33203 12.226 4.7422 12.8897 5.39155 13.2144L6.93912 13.9881C8.18265 14.6099 8.41089 14.7494 8.58011 14.9186C8.74935 15.0878 8.88883 15.3161 9.5106 16.5596L10.2844 18.1072C10.609 18.7565 11.2727 19.1667 11.9987 19.1667C12.7247 19.1667 13.3884 18.7565 13.713 18.1072L14.4868 16.5596C15.1086 15.3161 15.248 15.0878 15.4173 14.9186C15.5865 14.7494 15.8147 14.6099 17.0583 13.9881L18.6059 13.2144C19.2552 12.8897 19.6654 12.226 19.6654 11.5C19.6654 10.7741 19.2552 10.1104 18.6059 9.78572L17.0583 9.01194C15.8147 8.39017 15.5865 8.2507 15.4173 8.08146C15.248 7.91223 15.1086 7.684 14.4868 6.44046L13.713 4.89289Z",fill:"#444CE7",className:"".concat("stagger"===t?"animate-stagger-2":"")}),(0,Pe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7156 24.0595C13.391 23.4102 12.7273 23 12.0013 23C11.2753 23 10.6116 23.4102 10.287 24.0595L10.0172 24.5991C8.82899 26.9755 8.40631 27.7702 7.79721 28.3793C7.18813 28.9882 6.39346 29.4111 4.01706 30.5992L3.47748 30.8691C2.82814 31.1938 2.41797 31.8573 2.41797 32.5833C2.41797 33.3094 2.82814 33.9729 3.47748 34.2976L4.01706 34.5675C6.39346 35.7556 7.18813 36.1784 7.79721 36.7873C8.40631 37.3965 8.82899 38.1911 10.0172 40.5676L10.287 41.1071C10.6116 41.7565 11.2753 42.1667 12.0013 42.1667C12.7273 42.1667 13.391 41.7565 13.7156 41.1071L13.9854 40.5676C15.1736 38.1911 15.5963 37.3965 16.2054 36.7873C16.8145 36.1784 17.6091 35.7556 19.9856 34.5675L20.5251 34.2976C21.1745 33.9729 21.5846 33.3094 21.5846 32.5833C21.5846 31.8573 21.1745 31.1938 20.5251 30.8691L19.9856 30.5992C17.6091 29.4111 16.8145 28.9882 16.2054 28.3793C15.5963 27.7702 15.1736 26.9755 13.9854 24.5991L13.7156 24.0595ZM10.5078 31.0899C11.0818 30.5158 11.5462 29.8621 12.0013 29.0831C12.4564 29.8621 12.9208 30.5158 13.4948 31.0899C14.0688 31.6639 14.7226 32.1281 15.5014 32.5833C14.7226 33.0385 14.0688 33.5028 13.4948 34.0768C12.9208 34.6508 12.4564 35.3046 12.0013 36.0836C11.5462 35.3046 11.0818 34.6508 10.5078 34.0768C9.93379 33.5028 9.27996 33.0385 8.50118 32.5833C9.27996 32.1281 9.93379 31.6639 10.5078 31.0899Z",fill:"#444CE7",className:"".concat("stagger"===t?"animate-stagger-3":"")})]})}),(0,Pe.jsx)("style",{children:"\n        @keyframes stagger-pulse {\n          0% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.7;\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n        .animate-stagger-1 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n        }\n\n        .animate-stagger-2 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n          animation-delay: 0.5s;\n        }\n\n        .animate-stagger-3 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n          animation-delay: 1s;\n        }\n      "})]})},YY=t=>{let{setActiveTab:n}=t;const[r,i]=(0,e.useState)(null),a=mi(),s=hi();(0,e.useEffect)(()=>{const e=new URLSearchParams(window.location.search);i(e.get("pdf_id"))},[]);const o=s.pathname.split("/"),l=o.length>2?o[2]:null,d=o.length>4?o[4]:null,[u,h]=(0,e.useState)(!0),[p,f]=(0,e.useState)(null);return(0,e.useEffect)(()=>{if(!l||!r||!d)return void h(!1);h(!0);(async()=>{const e=await HS(l);if(e){var t,i;const n=null===(t=e.KundeInfo)||void 0===t?void 0:t.find(e=>String(e.uniqueId)===String(d)),a=null===n||void 0===n||null===(i=n.Plantegninger)||void 0===i?void 0:i.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r));if(f(a),null!==a&&void 0!==a&&a.rooms&&a.rooms.length>0)return void h(!1)}try{const e=Rg(BS,"housemodell_configure_broker",String(l)),t=await Rv(e),i=t.exists()&&t.data().KundeInfo||[],a=i.find(e=>String(e.uniqueId)===String(d));if(!a)throw new Error("Kunde not found");const s=a.Plantegninger||[],o=await fetch("https://iplotnor-hf-api-version-2.hf.space/analyze/".concat(r),{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:"string"}),mode:"cors"});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));const u=await o.json(),h=s.map(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)?c(c({},e),u):e),p=i.map(e=>e.uniqueId===d?c(c({},e),{},{Plantegninger:h}):e),m=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Lv(e,{KundeInfo:p,updatedAt:m(new Date)});const g=h.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r));f(g),kt.success(u.message,{position:"top-right"}),n(3)}catch(a){console.error("Upload error:",a),kt.error("File upload error!",{position:"top-right"})}finally{h(!1)}h(!1)})()},[l,r,n,d]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6 flex-wrap",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)(Sa,{to:"/se-series/".concat(l),className:"text-primary text-sm font-medium",children:"Kundeopplysninger"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("div",{onClick:()=>{n(1);const e=new URLSearchParams(s.search);e.delete("pdf_id"),a("".concat(s.pathname,"?").concat(e.toString()),{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,Pe.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:null===p||void 0===p?void 0:p.title}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]})]}),(0,Pe.jsx)("div",{className:"flex gap-4 md:gap-6 px-4 md:px-6 pt-6 pb-[136px]",children:(0,Pe.jsx)("div",{className:"w-full border border-[#B9C0D4] rounded-lg overflow-hidden",children:(0,Pe.jsx)("img",{src:null===p||void 0===p?void 0:p.image,alt:"floor",className:"w-full h-full"})})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(1);const e=new URLSearchParams(s.search);e.delete("pdf_id"),a("".concat(s.pathname,"?").concat(e.toString()),{replace:!0})}}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(3)}})]}),u&&(0,Pe.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,Pe.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-[280px] sm:w-[350px] h-0",style:{top:"50%",zIndex:9999},children:(0,Pe.jsxs)("div",{className:"p-4 flex items-center justify-center flex-col gap-6 w-full",children:[(0,Pe.jsx)(XY,{}),(0,Pe.jsxs)("p",{className:"text-base md:text-lg text-secondary text-center",children:["MinTomt AI analyserer n\xe5 ",(0,Pe.jsx)("br",{})," plantegninger og trekker ut rommene"]})]})})})]})},QY=tC("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ZY=qN({Kategorinavn:HN().min(1,{message:"Kategorinavn m\xe5 best\xe5 av minst 2 tegn."}),productOptions:HN({required_error:"Required"})}),JY=t=>{let{onClose:n,formData:r,activeTabData:i,setCategory:a,editIndex:s,defaultValue:o}=t;const l=t_({resolver:l_(ZY)});(0,e.useEffect)(()=>{o&&(l.setValue("Kategorinavn",null===o||void 0===o?void 0:o.navn),l.setValue("productOptions",null===o||void 0===o?void 0:o.productOptions))},[o]);const d=["Multi Select","Single Select","Text"];return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},l),{},{children:(0,Pe.jsxs)("form",{onSubmit:l.handleSubmit(async e=>{n();const t=e.Kategorinavn,o=e.productOptions,l=r.getValues("hovedkategorinavn.".concat(i,".Kategorinavn"))||[];if(null!==s&&l[s]){const e=[...l];e[s].navn=t,e[s].productOptions=o,a(t=>{const n=[...t];return n[i]=c(c({},n[i]),{},{Kategorinavn:e}),n}),r.setValue("hovedkategorinavn.".concat(i,".Kategorinavn"),e,{shouldValidate:!0})}else{const e={navn:t,productOptions:o,produkter:[]};a(t=>{const n=[...t];return n[i]=c(c({},n[i]),{},{Kategorinavn:[...l,e]}),n}),r.setValue("hovedkategorinavn.".concat(i,".Kategorinavn"),[...l,e],{shouldValidate:!0})}}),className:"relative w-full",children:[(0,Pe.jsxs)("div",{className:"p-6 flex flex-col gap-4",children:[(0,Pe.jsx)(NE,{control:l.control,name:"Kategorinavn",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Kategorinavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kategorinavn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:l.control,name:"productOptions",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Skorstein Enkel/Dobbel"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:d.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{l.setValue("productOptions",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"radio",value:e,onChange:e=>{l.setValue("productOptions",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})})]}),(0,Pe.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,Pe.jsx)("div",{onClick:()=>l.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})}))})},eQ=XN([zN(File).refine(e=>null===e||e.size<=10485760,{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),HN()]),tQ=qN({Produktnavn:HN().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:HN().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:GN(eQ).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:HN().nullable(),IncludingOffer:KN().optional(),Produktbeskrivelse:HN().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn.")}),nQ=qN({produkter:GN(tQ).min(1,"Minst ett produkt er p\xe5krevd.")}),rQ=t=>{let{onClose:n,onSubmit:r,editData:i}=t;const a=t_({resolver:l_(nQ),defaultValues:{produkter:[{Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:""}]}});(0,e.useEffect)(()=>{i&&a.reset({produkter:[i]})},[i,a]);const s=e.useRef(null),o=()=>{var e;null===(e=s.current)||void 0===e||e.click()},l=(0,e.useCallback)(e=>e.preventDefault(),[]),[d,u]=(0,e.useState)(null),h=["Boligpartner","Salgskontor"],{fields:p,append:f,remove:m}=e_({control:a.control,name:"produkter"}),g=a.watch("produkter");return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},a),{},{children:(0,Pe.jsxs)("form",{onSubmit:a.handleSubmit(async e=>{"function"===typeof r&&r(e),n()}),className:"relative w-full h-screen",children:[(0,Pe.jsxs)("div",{className:"overflow-y-auto h-full pb-[160px]",children:[p.map((e,t)=>{const n=a.watch("produkter.".concat(t,".Hovedbilde"));return(0,Pe.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[!i&&(0,Pe.jsxs)("button",{type:"button",className:"flex gap-2 items-end ml-auto ".concat(1===g.length?"text-gray cursor-not-allowed":"text-primary"),onClick:()=>{g.length>1&&m(t)},children:[(0,Pe.jsx)(rC,{})," Fjern produkt"]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:a.control,name:"produkter.".concat(t,".Produktnavn"),render:e=>{let{field:n,fieldState:r}=e;const i=a.getValues("produkter.".concat(t,".Produktnavn"))||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Produktnavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Produktnavn"},n),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),type:"text",value:null!==i&&void 0!==i?i:""}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:a.control,name:"produkter.".concat(t,".pris"),render:e=>{let{field:n,fieldState:r}=e;const s=a.getValues("produkter.".concat(t,".pris"));return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," text-sm font-medium"),children:"Pris fra"}),(0,Pe.jsx)(NE,{control:a.control,name:"produkter.".concat(t,".IncludingOffer"),render:e=>{let{field:n}=e;return(0,Pe.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,Pe.jsxs)("div",{className:"toggle-container",children:[(0,Pe.jsx)("input",{type:"checkbox",id:i?"editData.toggleSwitch.".concat(t,".IncludingOffer"):"toggleSwitch.".concat(t,".IncludingOffer"),className:"toggle-input",checked:n.value||!1,onChange:e=>{const r=e.target.checked;n.onChange(r),a.setValue("produkter.".concat(t,".pris"),r?null:"")}}),(0,Pe.jsx)("label",{htmlFor:i?"editData.toggleSwitch.".concat(t,".IncludingOffer"):"toggleSwitch.".concat(t,".IncludingOffer"),className:"toggle-label"})]})]})}})]}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Pris fra"},n),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),inputMode:"numeric",disable:a.watch("produkter.".concat(t,".IncludingOffer")),type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const a=i.startsWith("-"),s=i.replace(/-/g,"");let o="";s?(o=new Intl.NumberFormat("no-NO").format(Number(s)),a&&(o="-"+o)):o=a?"-":"",n.onChange({target:{name:"produkter.".concat(t,".pris"),value:o}})},value:null===s?"-":s}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"produkter.".concat(t,".delieverBy"),render:e=>{let{field:n,fieldState:r}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(r.error?"text-red":"text-black"," text-sm font-medium"),children:"Lever innen"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-5",children:h.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{a.setValue("produkter.".concat(t,".delieverBy"),e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," h-4 w-4 accent-primary"),type:"radio",value:e,onChange:e=>{a.setValue("produkter.".concat(t,".delieverBy"),e.target.value)},checked:n.value===e}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"produkter.".concat(t,".Produktbeskrivelse"),render:e=>{let{field:n,fieldState:r}=e;const i=a.getValues("produkter.".concat(t,".Produktbeskrivelse"))||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(r.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Produktbeskrivelse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(WE,c(c({placeholder:"Skriv inn Produktbeskrivelse"},n),{},{className:"h-[130px] bg-white rounded-[8px] border text-black\n                                  ".concat(null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"," "),value:i}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"row-span-2",children:(0,Pe.jsx)(NE,{control:a.control,name:"produkter.".concat(t,".Hovedbilde"),render:e=>{let{fieldState:n}=e;const r="produkter.".concat(t,".Hovedbilde"),i=a.watch(r)||[],c=async e=>{if(e){let t=[...i||[]];for(let n=0;n<e.length;n++){const i=e[n];if(i.size>2097152){kt.error("Image size must be less than 2MB.",{position:"top-right"});continue}const s="images",o=(new Date).getTime(),l="".concat(o,"_").concat(null===i||void 0===i?void 0:i.name),c=LS(US,"".concat(s,"/").concat(l)),d=await RS(c,i),u=await OS(d.ref);t.push(u),a.setValue(r,t),a.clearErrors(r)}}};return(0,Pe.jsxs)(TE,{className:"w-full",children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Last opp bilde"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,Pe.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:l,onClick:o,onDrop:e=>{e.preventDefault(),c(e.dataTransfer.files)},children:(0,Pe.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,Pe.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,Pe.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,Pe.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,Pe.jsx)("input",{type:"file",ref:s,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>c(e.target.files)})]})})})}),(0,Pe.jsx)(DE,{})]})}})})]}),(0,Pe.jsx)("div",{children:n&&(0,Pe.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===n||void 0===n?void 0:n.map((e,r)=>(0,Pe.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>u(r),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===d||d===r)return;const e=[...n],i=e[d];e.splice(d,1),e.splice(r,0,i),a.setValue("produkter.".concat(t,".Hovedbilde"),e),u(null)},children:[(0,Pe.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,Pe.jsx)("div",{className:"absolute top-2 right-2 bg-[#FFFFFFCC] rounded-[12px] p-[6px] cursor-pointer",onClick:()=>{const e=n.filter((e,t)=>t!==r);a.setValue("produkter.".concat(t,".Hovedbilde"),e)},children:(0,Pe.jsx)(rC,{className:"text-red"})})]},r))})})]},t)}),!i&&(0,Pe.jsxs)("div",{className:"p-6 flex items-center gap-2 text-primary text-sm font-medium cursor-pointer",onClick:()=>f({Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:""}),children:[(0,Pe.jsx)(pC,{}),"Legg til et annet produkt"]})]}),(0,Pe.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,Pe.jsx)("div",{onClick:()=>a.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})}))})},iQ=e=>{let{editData:t}=e;return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)("div",{className:"p-6 pt-0",children:[(0,Pe.jsx)("img",{src:null===t||void 0===t?void 0:t.Hovedbilde[0],alt:"configurator",className:"w-full h-auto object-cover"}),(0,Pe.jsx)("p",{className:"mt-6 text-secondary text-base",children:null===t||void 0===t?void 0:t.Produktbeskrivelse})]})})},aQ=XN([zN(File).refine(e=>null===e||e.size<=10485760,{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),HN()]),sQ=qN({Produktnavn:HN().optional(),delieverBy:HN().optional(),Hovedbilde:GN(aQ).optional(),pris:HN().nullable().optional(),IncludingOffer:KN().optional(),Produktbeskrivelse:HN().optional(),isSelected:KN().optional()}),oQ=YN("productOptions",[qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:QN("Multi Select"),produkter:GN(sQ).min(1,"Minst ett produkt er p\xe5krevd.")}),qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:QN("Single Select"),produkter:GN(sQ).min(1,"Minst ett produkt er p\xe5krevd.")}),qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:QN("Text"),text:HN().min(1,"Kommentar er p\xe5krevd.")})]),lQ=qN({name:HN().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:GN(oQ).optional().nullable(),isSelected:KN().optional()}),cQ=qN({hovedkategorinavn:GN(lQ)}),dQ=t=>{var n,r,i,a;let{setActiveTab:s,labelName:o,Category:l,activeTabData:d,setCategory:u}=t;const[h,p]=(0,e.useState)(0);(0,e.useEffect)(()=>{d&&p(0)},[d]);const f=hi().pathname.split("/"),m=f.length>2?f[2]:null,g=f.length>4?f[4]:null,v=mi(),x=t_({resolver:l_(cQ),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:null}]}}),b=x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter")),[y,w]=(0,e.useState)(null);function k(e,t){const n=c({},e);for(const r in t){const i=null===e||void 0===e?void 0:e[r],a=t[r];if("rooms"===r&&Array.isArray(i)&&Array.isArray(a)){const e=[];for(let t=0;t<a.length;t++){const n=a[t],r=t;i[r]?(i[r].Kategorinavn=n.Kategorinavn||i[r].Kategorinavn,i[r].name=n.name||i[r].name):i[r]=c({Kategorinavn:n.Kategorinavn,name:n.name},n),e.push(i[r])}}else"object"!==typeof a||null===a||Array.isArray(a)?a!==i&&(n[r]=a):n[r]=k(i||{},a)}return n}function S(e){return Array.isArray(e)?e.map(S):"object"===typeof e&&null!==e?Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,S(n)]})):e}(0,e.useEffect)(()=>{const e=new URLSearchParams(window.location.search);w(e.get("pdf_id"))},[]);const[C,j]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(Array.isArray(l)&&l.length>0){const e=l.map((e,t)=>({name:e.name,Kategorinavn:t===d&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn:null}));x.setValue("hovedkategorinavn",e)}},[x,l,d]);const _=(0,e.useRef)([]);(0,e.useEffect)(()=>{const e=x.watch("hovedkategorinavn.".concat(d));void 0!==e&&x.setValue("hovedkategorinavn.".concat(d),e)},[d,x]),(0,e.useEffect)(()=>{const e=x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"));e&&JSON.stringify(_.current)!==JSON.stringify(e)&&(u(t=>{var n,r;const i=[...t];return null!==(n=i[d])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[h]&&(i[d].Kategorinavn[h].produkter=null===e||void 0===e?void 0:e.map((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||""}))),i}),_.current=e)},[JSON.stringify(x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter")))]);const N=()=>{j(!C)},E=((e,t)=>{const n=((null===(e=x.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[d])||void 0===t?void 0:t.Kategorinavn)||[]).filter(e=>{var t,n,r,i;if(null===e||void 0===e||!e.navn)return!1;const a=""!==e.navn.trim(),s=""!==(null===e||void 0===e||null===(t=e[h])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim()),o=""!==(null===e||void 0===e||null===(r=e[h])||void 0===r||null===(i=r.productOptions)||void 0===i?void 0:i.trim());return a||s||o});return n.length>0?n:[]})(),[A,T]=(0,e.useState)(null),[I,P]=(0,e.useState)(null),[R,D]=(0,e.useState)(null),[M,O]=(0,e.useState)(!1),L=x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".navn")),[F,$]=(0,e.useState)(!1),[V,B]=(0,e.useState)(null),U=()=>{F?($(!1),B(null)):$(!0)},[z,H]=(0,e.useState)(null),[W,K]=(0,e.useState)(!1),G=null===(n=x.formState.errors)||void 0===n||null===(r=n.hovedkategorinavn)||void 0===r||null===(i=r[d])||void 0===i||null===(a=i.Kategorinavn)||void 0===a?void 0:a[h],q="Text"===(null===G||void 0===G?void 0:G.productOptions)&&"text"in G&&!!G.text;(0,e.useEffect)(()=>{if(b&&b.length>0&&!b.some(e=>e.isSelected)){const e=b.map((e,t)=>c(c({},e),{},{isSelected:0===t}));x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),e,{shouldValidate:!0})}},[b]);const[X,Y]=(0,e.useState)(!1),[Q,Z]=(0,e.useState)(""),[J,ee]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=setTimeout(()=>{m||Y(!0)},200);return()=>clearTimeout(e)},[m]);const[te,ne]=(0,e.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(jE,c(c({},x),{},{children:(0,Pe.jsxs)("form",{onSubmit:x.handleSubmit(async e=>{const t=e.hovedkategorinavn.map(e=>{if(!Array.isArray(e.Kategorinavn))return e;const t=e.Kategorinavn.map(e=>{if(!Array.isArray(e.produkter))return e;const t=e.produkter.some(e=>e.isSelected),n=e.produkter.map((e,n)=>c(c({},e),{},{isSelected:t?!0===e.isSelected:0===n}));return c(c({},e),{},{produkter:n})});return c(c({},e),{},{Kategorinavn:t})}),n={rooms:t};try{const e=await HS(m);if(!e||!g||!y)return;const t=(null===e||void 0===e?void 0:e.KundeInfo)||[],r=t.findIndex(e=>String(e.uniqueId)===String(g));if(-1===r)return;const i=t[r],a=(null===i||void 0===i?void 0:i.Plantegninger)||[],s=a.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y)),o=S(k(s,n)),l=[...a],d=l.findIndex(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y));-1!==d&&(l[d]=c(c(c({},l[d]),o),{},{id:m}));const u=t.map((e,t)=>t===r?c(c({},e),{},{Plantegninger:l}):e),h=Rg(BS,"housemodell_configure_broker",m),p=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Lv(h,{KundeInfo:u,updatedAt:p(new Date)}),kt.success("Lagret",{position:"top-right"}),v("/se-series/".concat(m))}catch(r){console.error("Failed to update plantegning:",r),kt.error("Noe gikk galt",{position:"top-right"})}}),children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"p-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2.5 mb-2.5 cursor-pointer",onClick:()=>{s(2)},children:[(0,Pe.jsx)(QY,{className:"text-purple"}),(0,Pe.jsx)("span",{className:"text-purple text-sm font-medium",children:"Tilbake til plantegning"})]}),(0,Pe.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl",children:["Legg til konfigurasjon for ",o]})})]}),(0,Pe.jsx)("div",{className:"border-t border-gray2"}),(0,Pe.jsxs)("div",{className:"p-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===E||void 0===E?void 0:E.length)>0&&(0,Pe.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===E||void 0===E?void 0:E.map((e,t)=>(0,Pe.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap ".concat(h===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>p(t),children:[(0,Pe.jsx)("span",{className:"text-sm",children:e.navn}),(0,Pe.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),D(t),j(!0)},children:(0,Pe.jsx)(hC,{className:"w-5 h-5 text-primary"})}),(0,Pe.jsx)("img",{src:$E,alt:"close",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=E.filter((e,n)=>n!==t);u(e=>{const t=[...e];return t[d]=c(c({},t[d]),{},{Kategorinavn:n}),t}),x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn"),n,{shouldValidate:!0})}})]},t))}),(0,Pe.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>j(!0),children:[(0,Pe.jsx)(pC,{}),"Legg til produkt"]})]}),E.length>0&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,Pe.jsx)("h4",{className:"text-darkBlack text-base font-semibold",children:L}),"Text"!==x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".productOptions"))&&(0,Pe.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{O(!0)},children:[(0,Pe.jsx)(pC,{}),"Legge til ",L]})]}),"Text"===x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".productOptions"))?(0,Pe.jsx)("div",{className:"mb-4",children:(0,Pe.jsx)("textarea",{className:"h-[130px] bg-white rounded-[8px] text-black p-2 w-full resize-none text-sm\n                        ".concat(q?"border-red":"border-gray1"," border\n                        flex w-full rounded-[8px] border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1"),placeholder:"Skriv kommentar...",value:x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".text"))||"",onChange:e=>{x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".text"),e.target.value,{shouldValidate:!0})}})}):(0,Pe.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null===b||void 0===b?void 0:b.map((e,t)=>{var n,r;const i=null===e||void 0===e?void 0:e.isSelected;return(0,Pe.jsx)("div",{className:"cursor-pointer border rounded-lg ".concat(i?"border-2 border-purple bg-lightPurple bg-opacity-10":"border-[#EFF1F5]"),draggable:!0,onDragStart:()=>T(t),onDragOver:e=>{e.preventDefault(),P(t)},onDrop:()=>(()=>{if(null===A||null===I||A===I)return;const e=[...b],t=e[A];e.splice(A,1),e.splice(I,0,t),x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),e),T(null),P(null)})(),onClick:()=>{let e;e="Single Select"===x.getValues("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".productOptions"))?b.map((e,n)=>c(c({},e),{},{isSelected:n===t})):b.map((e,n)=>c(c({},e),{},{isSelected:n===t?!e.isSelected:e.isSelected})),x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),e,{shouldValidate:!0})},children:(0,Pe.jsxs)("div",{className:"flex gap-4 p-3",children:[(null===e||void 0===e||null===(n=e.Hovedbilde)||void 0===n?void 0:n[0])&&(0,Pe.jsx)("div",{className:"w-[100px]",children:(0,Pe.jsx)("img",{src:"".concat(null===e||void 0===e||null===(r=e.Hovedbilde)||void 0===r?void 0:r[0]),alt:"floor",className:"w-[100px] h-[76px] border border-[#EFF1F5] rounded-[4px]"})}),(0,Pe.jsxs)("div",{className:"w-full",children:[(0,Pe.jsx)("div",{className:"flex items-center gap-2 justify-between",children:(0,Pe.jsx)("h4",{className:"text-darkBlack text-sm",children:null===e||void 0===e?void 0:e.Produktnavn})}),(null===e||void 0===e?void 0:e.delieverBy)&&(0,Pe.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,Pe.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,Pe.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,Pe.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,Pe.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:null!==e&&void 0!==e&&e.IncludingOffer?(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:(null===e||void 0===e?void 0:e.pris)&&"kr ".concat(null===e||void 0===e?void 0:e.pris)})})})]})]})},t)})})]})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white border-t border-gray2 p-4 left-0",style:{zIndex:99999},children:[(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(2)}}),(0,Pe.jsx)(uC,{text:"Lukk og lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"}),(0,Pe.jsx)(uC,{text:"Legg inn bestilling",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"button",onClick:async()=>{if(!m||!g||!y)return;ne(!0);const e=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");try{var t,n,r;const i={rooms:x.watch("hovedkategorinavn")},a=await HS(m),s=(null===a||void 0===a?void 0:a.KundeInfo)||[],o=s.findIndex(e=>String(e.uniqueId)===String(g));if(-1===o)return;const l=(null===(t=s[o])||void 0===t?void 0:t.Plantegninger)||[],d=l.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y)),u=S(k(d,i)),h=[...l],p=h.findIndex(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y));-1!==p&&(h[p]=c(c(c({},h[p]),u),{},{id:m})),s[o].Plantegninger=h;const f=Rg(BS,"housemodell_configure_broker",m);await Lv(f,{KundeInfo:s,updatedAt:e(new Date)});const b=await HS(m),w=null===b||void 0===b||null===(n=b.KundeInfo)||void 0===n?void 0:n.find(e=>String(e.uniqueId)===String(g)),C=null===w||void 0===w||null===(r=w.Plantegninger)||void 0===r?void 0:r.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y));if(!C)return;const j=Rg(BS,"room_configurator",g),_=await Rv(j),N={kundeId:g,Plantegninger:[C],updatedAt:e(new Date),Anleggsadresse:w.Anleggsadresse,EPost:w.EPost,Kundenavn:w.Kundenavn,Kundenummer:w.Kundenummer,mobileNummer:w.mobileNummer};if(_.exists()){const t=_.data(),n=(null===t||void 0===t?void 0:t.Plantegninger)||[],r=n.findIndex(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y));-1!==r?n[r]=C:n.push(C);const i=c(c({},t),{},{Plantegninger:n,updatedAt:e(new Date)});if(null===t||void 0===t||!t.name)return ee(i),void Y(!0);await Lv(j,i)}else{if(!Q.trim())return ee(c(c({},N),{},{createdAt:e(new Date)})),void Y(!0);await Ov(j,c(c({},N),{},{createdAt:e(new Date),name:Q.trim()}))}kt.success("Bestillingen er lagt inn!",{position:"top-right"}),v("/Room-Configurator/".concat(g))}catch(i){console.error("Error saving data:",i),kt.error("Noe gikk galt",{position:"top-right"})}finally{ne(!1)}}})]})]})})),(0,Pe.jsxs)(zE,{isOpen:C,onClose:N,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==R?"Rediger underkategori":"Legg til ny underkategori",(0,Pe.jsx)(rC,{onClick:N,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(JY,{onClose:()=>{j(!1),D(null)},formData:x,activeTabData:d,setCategory:u,editIndex:R,defaultValue:null!==R&&E[R]||{}})]}),(0,Pe.jsxs)(zE,{isOpen:M,onClose:()=>{O(!M)},children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,Pe.jsx)(rC,{onClick:N,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(rQ,{onClose:()=>O(!1),onSubmit:e=>{const t=x.getValues("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"))||[];x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),[...t,...e.produkter])}})]}),(0,Pe.jsxs)(zE,{isOpen:F,onClose:U,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Informasjon om ",null===V||void 0===V?void 0:V.Produktnavn,(0,Pe.jsx)(rC,{onClick:U,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(iQ,{editData:V})]}),(0,Pe.jsxs)(zE,{isOpen:W,onClose:()=>{K(!1),H(null)},children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Rediger produkt",(0,Pe.jsx)(rC,{onClick:()=>{K(!1),H(null)},className:"text-primary cursor-pointer"})]}),null!==z&&(0,Pe.jsx)(rQ,{onClose:()=>{K(!1),H(null)},editData:x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter.").concat(z)),onSubmit:e=>{var t;const n=[...x.getValues("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"))||[]];n[z]=null===(t=e.produkter)||void 0===t?void 0:t[0],x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),n),K(!1),H(null)}})]}),X&&(0,Pe.jsx)(lC,{isOpen:!0,onClose:()=>Y(!1),outSideClick:!0,children:(0,Pe.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg relative",children:[(0,Pe.jsx)(rC,{className:"text-primary absolute top-2.5 right-2.5 w-5 h-5 cursor-pointer",onClick:()=>{Y(!1)}}),(0,Pe.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Opprett ny konfigurator"}),(0,Pe.jsx)("input",{type:"text",value:Q,onChange:e=>Z(e.target.value),placeholder:"Skriv inn navn p\xe5 konfigurator",className:"bg-white rounded-[8px] border text-black border-gray1 flex h-11 w-full border-input px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1 mb-4"}),(0,Pe.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black",onClick:()=>Z("")}),(0,Pe.jsx)(uC,{text:"Opprett",className:"bg-purple text-white",onClick:async()=>{if(!J)return;const e=Rg(BS,"room_configurator",String(g));var t;(await Rv(e)).exists()?await Lv(e,c(c({},J),{},{name:Q.trim()})):await Ov(e,c(c({},J),{},{name:Q.trim(),createdAt:(t=new Date,t.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""))})),kt.success("Bestillingen er lagt inn!",{position:"top-right"}),Y(!1),Z(""),v("/Room-Configurator/".concat(g)),ne(!1)}})]})]})}),te&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center",style:{zIndex:99999},children:(0,Pe.jsxs)("div",{className:"flex flex-col items-center gap-4 bg-white p-3 rounded-lg",children:[(0,Pe.jsx)("span",{className:"text-purple text-base font-medium",children:"Plasserer bestilling..."}),(0,Pe.jsx)("div",{className:"w-48 h-1 overflow-hidden rounded-lg",children:(0,Pe.jsx)("div",{className:"w-full h-full bg-purple animate-[progress_1.5s_linear_infinite] rounded-lg"})})]})})]})},uQ=t=>{var n;let{setActiveTab:r}=t;const i=mi(),[a,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)([]),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(null),g=hi(),v=g.pathname.split("/"),x=v.length>2?v[2]:null,b=v.length>4?v[4]:null,[y,w]=(0,e.useState)(!0),k=()=>{o?(l(!1),m(null)):l(!0)},S=e=>{e.preventDefault()},[C,j]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=new URLSearchParams(window.location.search);j(e.get("pdf_id"))},[]);const[_,N]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(!x||!C||!b)return;(async()=>{const e=await HS(x);if(console.log(e),null===e||void 0===e||!e.KundeInfo)return void w(!1);const t=e.KundeInfo.find(e=>String(e.uniqueId)===String(b));if(!t)return void w(!1);const n={Himlling:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Mdf panel",isSelected:!1},{Produktnavn:"Takplate 60x120",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Vegger:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"5 bords kostmald mdf plate",isSelected:!1},{Produktnavn:"Ubehandlet sponplate",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Gulv:[{Produktnavn:"Lokalleveranse",isSelected:!0},{Produktnavn:"Eikeparkett 3 stavs",isSelected:!1},{Produktnavn:"Eikeparkett 1 stavs",isSelected:!1},{Produktnavn:"Laminat 1 stavs",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Lister:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Annen signatur",isSelected:!1},{Produktnavn:"Uten lister for listefri l\xf8sning",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Kommentar:[]},r=((null===t||void 0===t?void 0:t.Plantegninger)||[]).map(e=>{if(!Array.isArray(e.rooms))return e;const t=e.rooms.map(e=>{if(!Array.isArray(e.Kategorinavn))return c(c({},e),{},{Kategorinavn:Object.entries(n).map(e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}})});const t=e.Kategorinavn.map(e=>e.navn),r=Object.entries(n).filter(e=>{let[n]=e;return!t.includes(n)}).map(e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}});return c(c({},e),{},{Kategorinavn:[...e.Kategorinavn,...r]})});return c(c({},e),{},{rooms:t})}),i=null===r||void 0===r?void 0:r.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(C));i&&(N(i),u(i.rooms||[]));const a=Rg(BS,"housemodell_configure_broker",x);await Lv(a,{KundeInfo:e.KundeInfo.map(e=>String(e.uniqueId)===String(b)?c(c({},e),{},{Plantegninger:r}):e)}),w(!1)})()},[x,C,b]);const[E,A]=(0,e.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6 flex-wrap",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)(Sa,{to:"/se-series/".concat(x),className:"text-primary text-sm font-medium",children:"Kundeopplysninger"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("div",{onClick:()=>{r(1);const e=new URLSearchParams(g.search);e.delete("pdf_id"),i("".concat(g.pathname,"?").concat(e.toString()),{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-2 md:gap-3",children:[(0,Pe.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:null===_||void 0===_?void 0:_.title}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),null!==a&&(0,Pe.jsx)("img",{src:null===_||void 0===_?void 0:_.image,alt:"floor",className:"w-[120px] h-[120px] rounded-lg cursor-pointer",onClick:()=>A(!0)})]})]}),(0,Pe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 desktop:gap-6 px-4 md:px-6 pt-6 pb-[136px]",children:[(0,Pe.jsxs)("div",{className:"w-full lg:w-[30%] desktop:w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 lg:h-[690px]",children:[(0,Pe.jsxs)("div",{className:"p-3 md:p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:[(0,Pe.jsx)("span",{className:"truncate",children:"Romoversikt"}),(0,Pe.jsxs)("div",{className:"flex items-center text-purple gap-2 cursor-pointer",onClick:()=>l(!0),children:[(0,Pe.jsx)(pC,{}),(0,Pe.jsx)("span",{className:"text-sm font-medium whitespace-nowrap",children:"Nytt rom"})]})]}),(0,Pe.jsx)("div",{className:"flex lg:flex-col p-3 md:p-4 pb-0 rounded-lg gap-3 h-full lg:max-h-[calc(100%-90px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:d.length>0?d.map((e,t)=>(0,Pe.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{p(e)})(t),onDragOver:S,onDrop:()=>(e=>{if(null===h||h===e)return;const t=[...d],n=t[h];t.splice(h,1),t.splice(e,0,n),u(t),p(null)})(t),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 ".concat(a===t?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>s(t),children:[(0,Pe.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold truncate",children:[(0,Pe.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:t+1}),(0,Pe.jsx)("span",{className:"truncate",children:""!==(null===e||void 0===e?void 0:e.name_no)&&null!==e&&void 0!==e&&e.name_no?null===e||void 0===e?void 0:e.name_no:null===e||void 0===e?void 0:e.name})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Pe.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),m({index:t,data:e}),l(!0)},children:(0,Pe.jsx)(hC,{className:"w-5 h-5 text-primary"})}),(0,Pe.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),u(e=>e.filter((e,n)=>n!==t)),s(0)},className:"w-5 h-5",children:(0,Pe.jsx)("img",{src:cC,alt:"delete",className:"w-full h-full"})})]})]},t)):"No data found!"})]}),(0,Pe.jsx)("div",{className:"w-full lg:w-[70%] desktop:w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max p-3",children:null!==a?(0,Pe.jsx)(dQ,{setActiveTab:r,labelName:(null===(n=d[a])||void 0===n?void 0:n.name)||"",Category:d,activeTabData:a,setCategory:u}):(0,Pe.jsx)("img",{src:null===_||void 0===_?void 0:_.image,alt:"floor",className:"w-full h-full"})})]}),!a&&(0,Pe.jsx)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:(0,Pe.jsxs)("div",{className:"flex items-center gap-5",children:[(0,Pe.jsx)("div",{onClick:()=>r(2),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(0)}})]})}),o&&(0,Pe.jsx)(lC,{onClose:k,isOpen:!0,children:(0,Pe.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,Pe.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,Pe.jsx)(FE,{onClose:k,setCategory:u,editData:f,Category:d})]})}),y&&(0,Pe.jsx)(Ra,{}),E&&(0,Pe.jsx)(lC,{onClose:()=>A(!1),isOpen:!0,children:(0,Pe.jsxs)("div",{className:"relative bg-white rounded-[12px] p-4 w-full sm:w-[90vw] max-w-[800px]",children:[(0,Pe.jsx)("button",{onClick:()=>A(!1),className:"absolute top-3 right-3",children:(0,Pe.jsx)(rC,{className:"text-primary"})}),(0,Pe.jsx)("img",{src:null===_||void 0===_?void 0:_.image,alt:"Full view",className:"w-full h-auto rounded-lg"})]})})]})},hQ=()=>{const[t,n]=(0,e.useState)(0),r=hi(),i=r.pathname.split("/"),a=i.length>2?i[2]:null,s=i.length>4?i[4]:null;return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)(Pe.Fragment,{children:[(0===t||1===t)&&(0,Pe.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6 flex-wrap",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)(Sa,{to:"/se-series/".concat(a),className:"text-primary text-sm font-medium",children:"Kundeopplysninger"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("span",{className:"text-gray text-sm",children:s?"Rediger huset":"Legg til nytt hus"})]}),(0,Pe.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 justify-between mb-4 md:mb-5",children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:s?"Rediger huset":"Legg til nytt hus"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("div",{className:"border border-[#EFF1F5] bg-[#F9F9FB] p-1.5 rounded-lg w-max",children:(0,Pe.jsx)(vA,c({tabs:[{label:"Kundedetaljer"},{label:"Plantegninger"}],activeTab:t},r.pathname.includes("/edit-husmodell")?{setActiveTab:n}:{}))})})]})]}),0===t&&(0,Pe.jsx)(zD,{setActiveTab:n}),1===t&&(0,Pe.jsx)(qY,{setActiveTab:n}),2===t&&(0,Pe.jsx)(YY,{setActiveTab:n}),3===t&&(0,Pe.jsx)(uQ,{setActiveTab:n})]})})};const pQ=n.p+"static/media/Ic_mintomt.6b42d508d2abeace88f6f1c0b5c5cc25.svg",fQ=()=>{const t=mi(),[n,r]=(0,e.useState)([]),[i,a]=(0,e.useState)(!0),s=async()=>{a(!0);try{let e=xv(Pg(BS,"room_configurator"),kv("updatedAt","desc"));const t=(await Mv(e)).docs.map(e=>c({id:e.id},e.data()));r(t)}catch(e){console.error("Error fetching husmodell data:",e)}finally{a(!1)}};(0,e.useEffect)(()=>{s()},[]);const[o,l]=(0,e.useState)({}),d=e=>{l(t=>c(c({},t),{},{[e]:!0}))},[u,h]=(0,e.useState)(null),[p,f]=(0,e.useState)(""),[m,g]=(0,e.useState)(null),[v,x]=(0,e.useState)();return(0,Pe.jsxs)(Pe.Fragment,{children:[i&&(0,Pe.jsx)(Ra,{}),(0,Pe.jsx)("div",{className:"py-4 px-8 flex justify-end",children:(0,Pe.jsx)(uC,{text:"Legg til ny romkonfigurator",className:"border border-purple bg-purple text-white text-base rounded-[40px] h-[48px] font-medium relative px-5 py-3 flex items-center gap-2",onClick:()=>{t("/Room-Configurator")}})}),(0,Pe.jsx)("div",{className:"p-8 grid grid-cols-4 gap-x-6 gap-y-[40px]",children:n&&n.length>0&&(null===n||void 0===n?void 0:n.map((e,i)=>{var a,s;const l=o[i],m=u===i;return(0,Pe.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-4 rounded-lg flex flex-col gap-4",onClick:()=>{t("/Room-Configurator/".concat(null===e||void 0===e?void 0:e.id))},children:[(0,Pe.jsxs)("div",{className:"flex gap-2 items-center justify-between mb-4",children:[m?(0,Pe.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,Pe.jsx)("span",{className:"text-darkBlack font-medium",children:null===e||void 0===e?void 0:e.name}),(0,Pe.jsxs)("div",{className:"flex items-center gap-3",children:[m?(0,Pe.jsx)("button",{className:"bg-purple text-white px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const t=[...n];t[i]=c(c({},t[i]),{},{name:p}),r(t),h(null);const a=Rg(BS,"room_configurator",String(v));await Lv(a,{name:p,updatedAt:(new Date).toISOString()}),kt.success("Navn oppdatert!",{position:"top-right"})},children:"Oppdater"}):(0,Pe.jsx)(hC,{className:"w-5 h-5 text-purple cursor-pointer",onClick:t=>{t.preventDefault(),t.stopPropagation(),h(i),f(null===e||void 0===e?void 0:e.name),x(null===e||void 0===e?void 0:e.id)}}),(0,Pe.jsx)(VE,{className:"w-5 h-5 text-red cursor-pointer",onClick:t=>{t.preventDefault(),t.stopPropagation(),g(i),x(null===e||void 0===e?void 0:e.id)}})]})]}),(0,Pe.jsx)("div",{className:"w-full h-[200px] relative",children:null!==e&&void 0!==e&&null!==(a=e.Plantegninger)&&void 0!==a&&null!==(s=a[0])&&void 0!==s&&s.image?(0,Pe.jsxs)(Pe.Fragment,{children:[!l&&(0,Pe.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer absolute top-0 left-0"}),(0,Pe.jsx)("img",{src:e.Plantegninger[0].image,alt:"floor",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 ".concat(l?"opacity-100":"opacity-0"),onLoad:()=>d(i),onError:()=>d(i),loading:"lazy"})]}):(0,Pe.jsx)("div",{className:"w-full h-full flex items-center justify-center rounded-lg border border-gray2",children:(0,Pe.jsx)("img",{src:pQ,alt:"logo"})})})]},i)}))}),null!==m&&(0,Pe.jsx)(lC,{onClose:()=>{g(m?null:m)},isOpen:!0,children:(0,Pe.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,Pe.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,Pe.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,Pe.jsx)("div",{onClick:()=>g(null),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)("div",{onClick:()=>(async()=>{const e=Rg(BS,"room_configurator",String(v));try{await Fv(e),g(null),s(),kt.success("Romkonfiguratoren er slettet!",{position:"top-right"})}catch(t){console.error("Error deleting floor:",t),kt.error("Failed to delete room configurator",{position:"top-right"})}})(),children:(0,Pe.jsx)(uC,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})})]})},mQ=()=>(0,Pe.jsx)(fQ,{});const gQ=n.p+"static/media/Ic_Check_white.0a04cf64c88951f84fe6d6427acb5a26.svg",vQ=t=>{var n;let{steps:r,currIndex:i,setCurrIndex:a}=t;const s=(0,e.useRef)([]);(0,e.useEffect)(()=>{"undefined"!==typeof window&&i&&localStorage.setItem("currIndexBolig",i.toString());const e=s.current[i];e&&e.scrollIntoView({behavior:"smooth",inline:"start"})},[i]);return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"py-3 bg-[#00284C]",children:(0,Pe.jsx)("div",{className:"px-6 lg:px-8",children:(0,Pe.jsx)("div",{className:"stepper_main overFlowScrollHidden",children:(0,Pe.jsxs)("div",{className:"stepper-wrapper",children:[(0,Pe.jsx)("div",{className:"progress"}),r.map((e,t)=>(0,Pe.jsxs)("div",{ref:e=>s.current[t]=e,className:"screen-indicator-span ".concat(t<i?"completed cursor-pointer":t===i?"current":""),onClick:()=>(e=>{e<i&&(a(e),localStorage.setItem("currIndexBolig",e.toString()))})(t),style:{color:t===i?"#2a343e":""},children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-2 px-1 md:px-2 bg-[#00284C]",style:{zIndex:2},children:[t<i?(0,Pe.jsx)("div",{className:"w-6 h-6 bg-[#099250] flex items-center justify-center rounded-full",children:(0,Pe.jsx)("img",{src:gQ,alt:"Completed"})}):(0,Pe.jsx)("span",{className:"screen-index",children:t+1}),(0,Pe.jsx)("span",{children:e.name})]}),t<r.length-1&&(0,Pe.jsx)("div",{className:"screen-indicator ".concat(t<i?"completed":t===i?"current":"")})]},t))]})})})}),(0,Pe.jsx)("div",{className:"active_page",children:(null===(n=r[i])||void 0===n?void 0:n.component)||(0,Pe.jsx)("div",{children:"Unknown step"})})]})})},xQ=t=>{let{setActiveTab:n,Next:r}=t;const i=hi().pathname.split("/"),a=i.length>2?i[2]:null,[s,o]=(0,e.useState)(!0),[l,d]=(0,e.useState)([]),u=mi();(0,e.useEffect)(()=>{if(!a)return void o(!1);(async()=>{const e=await WS(a);e&&null!==e&&void 0!==e&&e.Plantegninger&&d(null===e||void 0===e?void 0:e.Plantegninger),o(!1)})()},[a]),(0,e.useEffect)(()=>{fU.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_H,"/pdf.worker.min.js")},[]);const h=e.useRef(null);function p(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}const f=async e=>{if(!e.length)return;const t=new FormData;t.append("file",e[0]),o(!0);try{let n=a;o(!0);const r=await fetch("https://iplotnor-hf-api-version-2.hf.space/upload",{method:"POST",headers:{accept:"application/json"},body:t,mode:"cors"});if(o(!0),!r.ok)throw new Error("HTTP error: ".concat(r.status));o(!0);const i=await r.json();if(i&&null!==i&&void 0!==i&&i.pdf_id&&n){const t=e[0];let r;if(o(!0),"application/pdf"===t.type){const e=await p(t);r=await(async e=>{try{const t=$z({data:atob(e.split(",")[1])}),n=await t.promise,r=await n.getPage(1),i=document.createElement("canvas");if(!i)return;const a=i.getContext("2d");if(!a)return;const s=r.getViewport({scale:1});return i.width=s.width,i.height=s.height,await r.render({canvasContext:a,viewport:s}).promise,i.toDataURL("image/png")}catch(t){console.error("Error loading PDF document:",t)}})(e)}else{if(!t.type.startsWith("image/"))return console.error("Unsupported file type"),void o(!1);r=await p(t)}if(r){const e=await(async e=>{if(!e)return;if(e.length*(3/4)-(e.endsWith("==")?2:e.endsWith("=")?1:0)>2097152)return void kt.error("Image size must be less than 2MB.",{position:"top-right"});const t=Date.now(),n="".concat(t,"_image.png"),r=LS(US,"".concat("images","/").concat(n));try{const t=await DS(r,e,"data_url");return await OS(t.ref)}catch(i){console.error("Error uploading base64",i)}})(r),t=Rg(BS,"room_configurator",String(n)),a=await Rv(t),s=a.exists()&&a.data().Plantegninger||[],l=s.length+1,u=c(c({},i),{},{image:e,title:"Floor ".concat(l)});d(e=>[...e,u]);const h=[];h.push(u);const p=[...s,...h],f=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Lv(t,{Plantegninger:p,id:n,updatedAt:f(new Date)}),kt.success(i.message,{position:"top-right"}),o(!1)}}}catch(n){console.error("Upload error:",n),o(!1),kt.error("File upload error!",{position:"top-right"})}},[m,g]=(0,e.useState)(null),[v,x]=(0,e.useState)(""),[b,y]=(0,e.useState)(null),[w,k]=(0,e.useState)({}),S=e=>{k(t=>c(c({},t),{},{[e]:!0}))},[C,j]=(0,e.useState)(!1),[_,N]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=setTimeout(()=>{a||j(!0)},200);return()=>clearTimeout(e)},[a]);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"bg-lightPurple px-8 py-3",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Romkonfigurator"}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her laster du opp plantegninger som bruker AI til \xe5 trekke ut alle rommene, du kan s\xe5 konfigurere hvert enkelt rom."})]}),(0,Pe.jsxs)("div",{className:"px-8 py-6",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack text-2xl font-semibold mb-2",children:"Opplasting av plantegninger"}),(0,Pe.jsx)("p",{className:"text-secondary text-lg",children:"Her laster du opp plantegninger for hver etasje, og ved \xe5 trykke p\xe5 \u201cNeste\u201d vil AI trekke ut alle rommene fra de opplastede plantegningene."})]}),(0,Pe.jsxs)("div",{className:"px-8 pb-[100px]",children:[(0,Pe.jsx)("div",{className:"relative p-2 rounded-lg w-max",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,Pe.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 flex-col items-center justify-center laptop:px-[42px] py-4 flex gap-6 cursor-pointer w-full",onClick:async()=>{var e;null===(e=h.current)||void 0===e||e.click()},onDrop:e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;t&&f(t)},onDragStart:e=>{e.preventDefault(),e.stopPropagation()},onDragOver:e=>e.preventDefault(),children:[(0,Pe.jsx)("img",{src:HD,alt:"upload"}),(0,Pe.jsxs)("div",{className:"flex items-center justify-center flex-col gap-3",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pe.jsx)("span",{className:"text-primary font-medium whitespace-nowrap flex items-center justify-center border-2 border-purple rounded-[40px] h-[36px] py-2 px-4",children:"Bla gjennom"}),(0,Pe.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Slipp filen her for \xe5 laste den opp"})]}),(0,Pe.jsx)("p",{className:"text-gray text-sm truncate w-full text-center",children:"Filformater: Kun JPEG, JPG, PNG, PDF maks 2 MB"})]}),(0,Pe.jsx)("input",{type:"file",ref:h,className:"hidden",accept:".pdf,image/*",onChange:async e=>{e.target.files&&await f(e.target.files)}})]})}),(0,Pe.jsx)("div",{className:"grid grid-cols-3 gap-6 w-full mt-8",children:l&&l.length>0?l.map((e,t)=>{const r=m===t,i=w[t];return(0,Pe.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-4 rounded-lg flex flex-col gap-4",onClick:()=>{n(2),u("?pdf_id=".concat(null===e||void 0===e?void 0:e.pdf_id))},children:[(0,Pe.jsxs)("div",{className:"flex gap-2 items-center justify-between mb-4",children:[r?(0,Pe.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,Pe.jsx)("span",{className:"text-darkBlack font-medium",children:(null===e||void 0===e?void 0:e.title)||"Floor ".concat(t+1)}),(0,Pe.jsxs)("div",{className:"flex items-center gap-3",children:[r?(0,Pe.jsx)("button",{className:"bg-purple text-white px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const n=[...l];n[t]=c(c({},n[t]),{},{title:v}),d(n),g(null);const r=Rg(BS,"room_configurator",String(a));await Lv(r,{Plantegninger:n,updatedAt:(new Date).toISOString()}),kt.success("Navn oppdatert!",{position:"top-right"})},children:"Oppdater"}):(0,Pe.jsx)(hC,{className:"w-6 h-6 text-purple cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),g(t),x((null===e||void 0===e?void 0:e.title)||"Floor ".concat(t+1))}}),(0,Pe.jsx)(VE,{className:"w-6 h-6 text-red cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),y(t)}})]})]}),(0,Pe.jsxs)("div",{className:"w-full h-[200px] relative",children:[!i&&(0,Pe.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer"}),(null===e||void 0===e?void 0:e.image)&&(0,Pe.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"floor",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 ".concat(i?"opacity-100":"opacity-0"),onLoad:()=>S(t),onError:()=>S(t),loading:"lazy"})]})]},t)}):"No Data Found!"})]}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{u("/Bolig-configurator")}}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{r()}})]}),null!==b&&(0,Pe.jsx)(lC,{onClose:()=>{y(b?null:b)},isOpen:!0,children:(0,Pe.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,Pe.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,Pe.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,Pe.jsx)("div",{onClick:()=>y(null),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)("div",{onClick:()=>(async e=>{const t=Rg(BS,"room_configurator",String(a));try{const n=await Rv(t),r=(n.exists()&&n.data().Plantegninger||[]).filter((t,n)=>n!==e);await Lv(t,{Plantegninger:r,updatedAt:(new Date).toISOString()}),d(r),y(null),kt.success("Floor deleted successfully!",{position:"top-right"})}catch(n){console.error("Error deleting floor:",n),kt.error("Failed to delete floor",{position:"top-right"})}})(b),children:(0,Pe.jsx)(uC,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})}),s&&(0,Pe.jsx)(Ra,{}),C&&(0,Pe.jsx)(lC,{isOpen:!0,onClose:()=>j(!1),outSideClick:!0,children:(0,Pe.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg relative",children:[(0,Pe.jsx)(rC,{className:"text-primary absolute top-2.5 right-2.5 w-5 h-5 cursor-pointer",onClick:()=>{j(!1),u("/Bolig-configurator")}}),(0,Pe.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Opprett ny konfigurator"}),(0,Pe.jsx)("input",{type:"text",value:_,onChange:e=>N(e.target.value),placeholder:"Skriv inn navn p\xe5 konfigurator",className:"bg-white rounded-[8px] border text-black border-gray1 flex h-11 w-full border-input px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1 mb-4"}),(0,Pe.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black",onClick:()=>N("")}),(0,Pe.jsx)(uC,{text:"Opprett",className:"bg-purple text-white",onClick:async()=>{const e=iA(),t=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),n=Rg(BS,"room_configurator",e);await Ov(n,{createdAt:t(new Date),updatedAt:t(new Date),id:e,name:_.trim()}),u("/Room-Configurator/".concat(e)),o(!0),j(!1)}})]})]})})]})},bQ=t=>{let{setActiveTab:n}=t;const[r,i]=(0,e.useState)(null),a=mi(),s=hi();(0,e.useEffect)(()=>{const e=new URLSearchParams(window.location.search);i(e.get("pdf_id"))},[]);const o=s.pathname.split("/"),l=o.length>2?o[2]:null,[d,u]=(0,e.useState)(!0),[h,p]=(0,e.useState)(null);return(0,e.useEffect)(()=>{if(!l||!r)return void u(!1);u(!0);(async()=>{const e=await WS(l);if(e){const t=null===e||void 0===e?void 0:e.Plantegninger.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r));if(p(t),null!==t&&void 0!==t&&t.rooms&&t.rooms.length>0)return void u(!1)}try{if(r){const e=Rg(BS,"room_configurator",String(l)),t=await Rv(e),i=t.exists()&&t.data().Plantegninger||[],a=await fetch("https://iplotnor-hf-api-version-2.hf.space/analyze/".concat(r),{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:"string"}),mode:"cors"});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));const s=await a.json(),o=i.map(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)?c(c({},e),s):e),d=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Lv(e,{Plantegninger:o,id:l,updatedAt:d(new Date)});const u=o.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r));p(u),kt.success(s.message,{position:"top-right"}),n(2)}}catch(t){console.error("Upload error:",t),u(!1),kt.error("File upload error!",{position:"top-right"})}u(!1)})()},[l,r,n]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"py-4 px-6",children:(0,Pe.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:null===h||void 0===h?void 0:h.title}),(0,Pe.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]})}),(0,Pe.jsx)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:(0,Pe.jsx)("div",{className:"border w-full border-[#B9C0D4] rounded-lg overflow-hidden",children:(0,Pe.jsx)("img",{src:null===h||void 0===h?void 0:h.image,alt:"floor",className:"w-full h-full"})})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(1);const e=new URLSearchParams(s.search);e.delete("pdf_id"),a("".concat(s.pathname,"?").concat(e.toString()),{replace:!0})}}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(3)}})]}),d&&(0,Pe.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,Pe.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-[280px] sm:w-[350px] h-0",style:{top:"50%",zIndex:9999},children:(0,Pe.jsxs)("div",{className:"p-4 flex items-center justify-center flex-col gap-6 w-full",children:[(0,Pe.jsx)(XY,{}),(0,Pe.jsxs)("p",{className:"text-base md:text-lg text-secondary text-center",children:["MinTomt AI analyserer n\xe5 ",(0,Pe.jsx)("br",{})," plantegninger og trekker ut rommene"]})]})})})]})},yQ=XN([zN(File).refine(e=>null===e||e.size<=10485760,{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),HN()]),wQ=qN({Produktnavn:HN().optional(),delieverBy:HN().optional(),Hovedbilde:GN(yQ).optional(),pris:HN().nullable().optional(),IncludingOffer:KN().optional(),Produktbeskrivelse:HN().optional(),isSelected:KN().optional()}),kQ=YN("productOptions",[qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:QN("Multi Select"),produkter:GN(wQ).min(1,"Minst ett produkt er p\xe5krevd.")}),qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:QN("Single Select"),produkter:GN(wQ).min(1,"Minst ett produkt er p\xe5krevd.")}),qN({navn:HN().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:QN("Text"),text:HN().min(1,"Kommentar er p\xe5krevd.")})]),SQ=qN({name:HN().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:GN(kQ).optional().nullable(),isSelected:KN().optional()}),CQ=qN({hovedkategorinavn:GN(SQ)}),jQ=t=>{var n,r,i,a;let{setActiveTab:s,labelName:o,Category:l,activeTabData:d,setCategory:u}=t;const[h,p]=(0,e.useState)(0),f=mi();(0,e.useEffect)(()=>{d&&p(0)},[d]);const m=hi(),g=m.pathname.split("/"),v=g.length>2?g[2]:null,x=t_({resolver:l_(CQ),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:null}]}}),b=x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter")),[y,w]=(0,e.useState)(null);function k(e,t){const n=c({},e);for(const r in t){const i=null===e||void 0===e?void 0:e[r],a=t[r];if("rooms"===r&&Array.isArray(i)&&Array.isArray(a)){const e=[];for(let t=0;t<a.length;t++){const n=a[t],r=t;i[r]?(i[r].Kategorinavn=n.Kategorinavn||i[r].Kategorinavn,i[r].name=n.name||i[r].name):i[r]=c({Kategorinavn:n.Kategorinavn,name:n.name},n),e.push(i[r])}}else"object"!==typeof a||null===a||Array.isArray(a)?a!==i&&(n[r]=a):n[r]=k(i||{},a)}return n}function S(e){return Array.isArray(e)?e.map(S):"object"===typeof e&&null!==e?Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,S(n)]})):e}(0,e.useEffect)(()=>{const e=new URLSearchParams(window.location.search);w(e.get("pdf_id"))},[]);const[C,j]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(Array.isArray(l)&&l.length>0){const e=l.map((e,t)=>({name:e.name,Kategorinavn:t===d&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn:null}));x.setValue("hovedkategorinavn",e)}},[x,l,d]);const _=(0,e.useRef)([]);(0,e.useEffect)(()=>{const e=x.watch("hovedkategorinavn.".concat(d));void 0!==e&&x.setValue("hovedkategorinavn.".concat(d),e)},[d,x]),(0,e.useEffect)(()=>{const e=x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"));e&&JSON.stringify(_.current)!==JSON.stringify(e)&&(u(t=>{var n,r;const i=[...t];return null!==(n=i[d])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[h]&&(i[d].Kategorinavn[h].produkter=null===e||void 0===e?void 0:e.map((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||"",isSelected:e.isSelected||!1}))),i}),_.current=e)},[JSON.stringify(x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter")))]);const N=()=>{j(!C)},E=((e,t)=>{const n=((null===(e=x.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[d])||void 0===t?void 0:t.Kategorinavn)||[]).filter(e=>{var t,n,r,i;if(null===e||void 0===e||!e.navn)return!1;const a=""!==e.navn.trim(),s=""!==(null===e||void 0===e||null===(t=e[h])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim()),o=""!==(null===e||void 0===e||null===(r=e[h])||void 0===r||null===(i=r.productOptions)||void 0===i?void 0:i.trim());return a||s||o});return n.length>0?n:[]})(),[A,T]=(0,e.useState)(null),[I,P]=(0,e.useState)(null),[R,D]=(0,e.useState)(null),[M,O]=(0,e.useState)(!1),L=x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".navn")),[F,$]=(0,e.useState)(!1),[V,B]=(0,e.useState)(null),U=()=>{F?($(!1),B(null)):$(!0)},[z,H]=(0,e.useState)(null),[W,K]=(0,e.useState)(!1),G=null===(n=x.formState.errors)||void 0===n||null===(r=n.hovedkategorinavn)||void 0===r||null===(i=r[d])||void 0===i||null===(a=i.Kategorinavn)||void 0===a?void 0:a[h],q="Text"===(null===G||void 0===G?void 0:G.productOptions)&&"text"in G&&!!G.text;return(0,e.useEffect)(()=>{if(b&&b.length>0&&!b.some(e=>e.isSelected)){const e=b.map((e,t)=>c(c({},e),{},{isSelected:0===t}));x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),e,{shouldValidate:!0}),u(t=>{var n,r;const i=[...t];return null!==(n=i[d])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[h]&&(i[d].Kategorinavn[h].produkter=e),i})}},[b]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(jE,c(c({},x),{},{children:(0,Pe.jsxs)("form",{onSubmit:x.handleSubmit(async e=>{const t=e.hovedkategorinavn.map(e=>{if(!Array.isArray(e.Kategorinavn))return e;const t=e.Kategorinavn.map(e=>{if(!Array.isArray(e.produkter))return e;const t=e.produkter.some(e=>e.isSelected),n=e.produkter.map((e,n)=>c(c({},e),{},{isSelected:t?!0===e.isSelected:0===n}));return c(c({},e),{},{produkter:n})});return c(c({},e),{},{Kategorinavn:t})}),n={rooms:t};try{const e=await WS(v);let t;e&&(t=null===e||void 0===e?void 0:e.Plantegninger.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y)));const r=S(k(t,n));let i=[...(null===e||void 0===e?void 0:e.Plantegninger)||[]];const a=i.findIndex(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(y));-1!==a&&(i[a]=c(c(c({},i[a]),r),{},{id:v}));const o=Rg(BS,"room_configurator",v),l=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Lv(o,{Plantegninger:i,updatedAt:l(new Date)}),kt.success("Lagret",{position:"top-right"});const d=new URLSearchParams(m.search);d.delete("pdf_id"),f("".concat(m.pathname,"?").concat(d.toString()),{replace:!0}),s(1)}catch(r){console.error("Firestore operation failed:",r),kt.error("Something went wrong. Please try again.",{position:"top-right"})}}),children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"p-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2.5 mb-2.5 cursor-pointer",onClick:()=>{s(3)},children:[(0,Pe.jsx)(QY,{className:"text-purple"}),(0,Pe.jsx)("span",{className:"text-purple text-sm font-medium",children:"Tilbake til plantegning"})]}),(0,Pe.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl",children:["Legg til konfigurasjon for ",o]})})]}),(0,Pe.jsx)("div",{className:"border-t border-gray2"}),(0,Pe.jsxs)("div",{className:"p-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===E||void 0===E?void 0:E.length)>0&&(0,Pe.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===E||void 0===E?void 0:E.map((e,t)=>(0,Pe.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap ".concat(h===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>p(t),children:[(0,Pe.jsx)("span",{className:"text-sm",children:e.navn}),(0,Pe.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),D(t),j(!0)},children:(0,Pe.jsx)(hC,{className:"w-5 h-5 text-primary"})}),(0,Pe.jsx)("img",{src:$E,alt:"close",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=E.filter((e,n)=>n!==t);u(e=>{const t=[...e];return t[d]=c(c({},t[d]),{},{Kategorinavn:n}),t}),x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn"),n,{shouldValidate:!0})}})]},t))}),(0,Pe.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>j(!0),children:[(0,Pe.jsx)(pC,{}),"Legg til produkt"]})]}),E.length>0&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,Pe.jsx)("h4",{className:"text-darkBlack text-base font-semibold",children:L}),"Text"!==x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".productOptions"))&&(0,Pe.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{O(!0)},children:[(0,Pe.jsx)(pC,{}),"Legge til ",L]})]}),"Text"===x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".productOptions"))?(0,Pe.jsx)("div",{className:"mb-4",children:(0,Pe.jsx)("textarea",{className:"h-[130px] bg-white rounded-[8px] text-black p-2 w-full resize-none text-sm\n                        ".concat(q?"border-red":"border-gray1"," border\n                        flex w-full rounded-[8px] border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1"),placeholder:"Skriv kommentar...",value:x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".text"))||"",onChange:e=>{x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".text"),e.target.value,{shouldValidate:!0})}})}):(0,Pe.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null===b||void 0===b?void 0:b.map((e,t)=>{var n,r;const i=null===e||void 0===e?void 0:e.isSelected;return(0,Pe.jsx)("div",{className:"cursor-pointer border rounded-lg ".concat(i?"border-2 border-purple bg-lightPurple bg-opacity-10":"border-[#EFF1F5]"),draggable:!0,onDragStart:()=>T(t),onDragOver:e=>{e.preventDefault(),P(t)},onDrop:()=>(()=>{if(null===A||null===I||A===I)return;const e=[...b],t=e[A];e.splice(A,1),e.splice(I,0,t),x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),e),T(null),P(null)})(),onClick:()=>{let e;e="Single Select"===x.getValues("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".productOptions"))?b.map((e,n)=>c(c({},e),{},{isSelected:n===t})):b.map((e,n)=>c(c({},e),{},{isSelected:n===t?!e.isSelected:e.isSelected})),x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),e,{shouldValidate:!0})},children:(0,Pe.jsxs)("div",{className:"flex gap-4 p-3",children:[(null===e||void 0===e||null===(n=e.Hovedbilde)||void 0===n?void 0:n[0])&&(0,Pe.jsx)("div",{className:"w-[100px]",children:(0,Pe.jsx)("img",{src:"".concat(null===e||void 0===e||null===(r=e.Hovedbilde)||void 0===r?void 0:r[0]),alt:"floor",className:"w-[100px] h-[76px] border border-[#EFF1F5] rounded-[4px]"})}),(0,Pe.jsxs)("div",{className:"w-full",children:[(0,Pe.jsx)("div",{className:"flex items-center gap-2 justify-between",children:(0,Pe.jsx)("h4",{className:"text-darkBlack text-sm",children:null===e||void 0===e?void 0:e.Produktnavn})}),(null===e||void 0===e?void 0:e.delieverBy)&&(0,Pe.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,Pe.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,Pe.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,Pe.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,Pe.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:null!==e&&void 0!==e&&e.IncludingOffer?(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:(null===e||void 0===e?void 0:e.pris)&&"kr ".concat(null===e||void 0===e?void 0:e.pris)})})})]})]})},t)})})]})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white border-t border-gray2 p-4 left-0",style:{zIndex:99999},children:[(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(3)}}),(0,Pe.jsx)(uC,{text:"Lukk og lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"})]})]})})),(0,Pe.jsxs)(zE,{isOpen:C,onClose:N,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==R?"Rediger underkategori":"Legg til ny underkategori",(0,Pe.jsx)(rC,{onClick:N,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(JY,{onClose:()=>{j(!1),D(null)},formData:x,activeTabData:d,setCategory:u,editIndex:R,defaultValue:null!==R&&E[R]||{}})]}),(0,Pe.jsxs)(zE,{isOpen:M,onClose:()=>{O(!M)},children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,Pe.jsx)(rC,{onClick:N,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(rQ,{onClose:()=>O(!1),onSubmit:e=>{const t=x.getValues("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"))||[];x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),[...t,...e.produkter])}})]}),(0,Pe.jsxs)(zE,{isOpen:F,onClose:U,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Informasjon om ",null===V||void 0===V?void 0:V.Produktnavn,(0,Pe.jsx)(rC,{onClick:U,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(iQ,{editData:V})]}),(0,Pe.jsxs)(zE,{isOpen:W,onClose:()=>{K(!1),H(null)},children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Rediger produkt",(0,Pe.jsx)(rC,{onClick:()=>{K(!1),H(null)},className:"text-primary cursor-pointer"})]}),null!==z&&(0,Pe.jsx)(rQ,{onClose:()=>{K(!1),H(null)},editData:x.watch("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter.").concat(z)),onSubmit:e=>{var t;const n=[...x.getValues("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"))||[]];n[z]=null===(t=e.produkter)||void 0===t?void 0:t[0],x.setValue("hovedkategorinavn.".concat(d,".Kategorinavn.").concat(h,".produkter"),n),K(!1),H(null)}})]})]})},_Q=t=>{var n;let{setActiveTab:r}=t;const i=mi(),[a,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)([]),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(null),g=hi(),v=g.pathname.split("/"),x=v.length>2?v[2]:null,[b,y]=(0,e.useState)(!0),w=()=>{o?(l(!1),m(null)):l(!0)},k=e=>{e.preventDefault()},[S,C]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=new URLSearchParams(window.location.search);C(e.get("pdf_id"))},[]);const[j,_]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(!x||!S)return;(async()=>{const e=await WS(x);if(!e)return console.error("No data found for ID:",x),void y(!1);const t={Himlling:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Mdf panel",isSelected:!1},{Produktnavn:"Takplate 60x120",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Vegger:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"5 bords kostmald mdf plate",isSelected:!1},{Produktnavn:"Ubehandlet sponplate",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Gulv:[{Produktnavn:"Lokalleveranse",isSelected:!0},{Produktnavn:"Eikeparkett 3 stavs",isSelected:!1},{Produktnavn:"Eikeparkett 1 stavs",isSelected:!1},{Produktnavn:"Laminat 1 stavs",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Lister:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Annen signatur",isSelected:!1},{Produktnavn:"Uten lister for listefri l\xf8sning",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Kommentar:[]},n=((null===e||void 0===e?void 0:e.Plantegninger)||[]).map(e=>{if(!Array.isArray(e.rooms))return e;const n=e.rooms.map(e=>{if(!Array.isArray(e.Kategorinavn))return c(c({},e),{},{Kategorinavn:Object.entries(t).map(e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}})});const n=e.Kategorinavn.map(e=>e.navn),r=Object.entries(t).filter(e=>{let[t]=e;return!n.includes(t)}).map(e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}});return c(c({},e),{},{Kategorinavn:[...e.Kategorinavn,...r]})});return c(c({},e),{},{rooms:n})}),r=n.find(e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(S));_(r),u(null===r||void 0===r?void 0:r.rooms),y(!1);const i=Rg(BS,"room_configurator",x);await Lv(i,{Plantegninger:n})})()},[x,S]);const[N,E]=(0,e.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"py-4 px-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5 mb-6",children:[(0,Pe.jsx)("div",{onClick:()=>{r(2);const e=new URLSearchParams(g.search);i("".concat(g.pathname,"?").concat(e.toString()),{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,Pe.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,Pe.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:null===j||void 0===j?void 0:j.title}),(0,Pe.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),null!==a&&(0,Pe.jsx)("img",{src:null===j||void 0===j?void 0:j.image,alt:"floor",className:"w-[120px] h-[120px] rounded-lg cursor-pointer",onClick:()=>E(!0)})]})]}),(0,Pe.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,Pe.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 h-[690px]",children:[(0,Pe.jsxs)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:[(0,Pe.jsx)("span",{className:"truncate",children:"Romoversikt"}),(0,Pe.jsxs)("div",{className:"flex items-center text-purple gap-2 cursor-pointer",onClick:()=>l(!0),children:[(0,Pe.jsx)(pC,{}),(0,Pe.jsx)("span",{className:"text-sm font-medium whitespace-nowrap",children:"Nytt rom"})]})]}),(0,Pe.jsx)("div",{className:"flex flex-col p-4 pb-0 rounded-lg gap-3 h-full max-h-[calc(100%-90px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:d&&(null===d||void 0===d?void 0:d.length)>0?d.map((e,t)=>(0,Pe.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{p(e)})(t),onDragOver:k,onDrop:()=>(e=>{if(null===h||h===e)return;const t=[...d],n=t[h];t.splice(h,1),t.splice(e,0,n),u(t),p(null)})(t),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 ".concat(a===t?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>s(t),children:[(0,Pe.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold",children:[(0,Pe.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:t+1}),(0,Pe.jsx)("span",{className:"w-[135px] truncate",children:""!==(null===e||void 0===e?void 0:e.name_no)&&null!==e&&void 0!==e&&e.name_no?null===e||void 0===e?void 0:e.name_no:null===e||void 0===e?void 0:e.name})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Pe.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),m({index:t,data:e}),l(!0)},children:(0,Pe.jsx)(hC,{className:"w-5 h-5 text-primary"})}),(0,Pe.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),u(e=>e.filter((e,n)=>n!==t)),s(0)},className:"w-5 h-5",children:(0,Pe.jsx)("img",{src:cC,alt:"delete",className:"w-full h-full"})})]})]},t)):"No data found!"})]}),(0,Pe.jsx)("div",{className:"w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max p-3",children:null!==a?(0,Pe.jsx)(jQ,{setActiveTab:r,labelName:(null===(n=d[a])||void 0===n?void 0:n.name)||"",Category:d,activeTabData:a,setCategory:u}):(0,Pe.jsx)("img",{src:null===j||void 0===j?void 0:j.image,alt:"floor",className:"w-full h-full"})})]}),!a&&(0,Pe.jsx)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:(0,Pe.jsxs)("div",{className:"flex items-center gap-5",children:[(0,Pe.jsx)("div",{onClick:()=>{r(2)},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(0)}})]})}),o&&(0,Pe.jsx)(lC,{onClose:w,isOpen:!0,children:(0,Pe.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,Pe.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,Pe.jsx)(FE,{onClose:w,setCategory:u,editData:f,Category:d})]})}),b&&(0,Pe.jsx)(Ra,{}),N&&(0,Pe.jsx)(lC,{onClose:()=>E(!1),isOpen:!0,children:(0,Pe.jsxs)("div",{className:"relative bg-white rounded-[12px] p-4 w-full sm:w-[90vw] max-w-[800px]",children:[(0,Pe.jsx)("button",{onClick:()=>E(!1),className:"absolute top-3 right-3",children:(0,Pe.jsx)(rC,{className:"text-primary"})}),(0,Pe.jsx)("img",{src:null===j||void 0===j?void 0:j.image,alt:"Full view",className:"w-full h-auto rounded-lg"})]})})]})},NQ=t=>{let{Next:n}=t;const[r,i]=(0,e.useState)(1);return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)("div",{className:"mb-12",children:[1===r&&(0,Pe.jsx)(xQ,{setActiveTab:i,Next:n}),2===r&&(0,Pe.jsx)(bQ,{setActiveTab:i}),3===r&&(0,Pe.jsx)(_Q,{setActiveTab:i})]})})};function EQ(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}function AQ(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}const TQ=["scope","children"];function IQ(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map(t=>e.createContext(t));return function(r){const i=(null===r||void 0===r?void 0:r[t])||n;return e.useMemo(()=>({["__scope".concat(t)]:c(c({},r),{},{[t]:i})}),[r,i])}};return i.scopeName=t,[function(n,i){const a=e.createContext(i),s=r.length;r=[...r,i];const o=n=>{var r;const{scope:i,children:o}=n,l=Yt(n,TQ),c=(null===i||void 0===i||null===(r=i[t])||void 0===r?void 0:r[s])||a,d=e.useMemo(()=>l,Object.values(l));return(0,Pe.jsx)(c.Provider,{value:d,children:o})};return o.displayName=n+"Provider",[o,function(r,o){var l;const c=(null===o||void 0===o||null===(l=o[t])||void 0===l?void 0:l[s])||a,d=e.useContext(c);if(d)return d;if(void 0!==i)return i;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},PQ(i,...n)]}function PQ(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const a=()=>{const t=n.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(n){const r=t.reduce((e,t)=>{let{useScope:r,scopeName:i}=t;const a=r(n)["__scope".concat(i)];return c(c({},e),a)},{});return e.useMemo(()=>({["__scope".concat(i.scopeName)]:r}),[r])}};return a.scopeName=i.scopeName,a}var RQ;const DQ=["scope","children"];var MQ=new WeakMap;RQ=new WeakMap,Map;function OQ(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=LQ(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function LQ(e){return e!==e||0===e?0:Math.trunc(e)}var FQ=e.createContext(void 0);function $Q(t){const n=e.useRef(t);return e.useEffect(()=>{n.current=t}),e.useMemo(()=>function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)},[])}const VQ=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var BQ,UQ="dismissableLayer.update",zQ="dismissableLayer.pointerDownOutside",HQ="dismissableLayer.focusOutside",WQ=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KQ=e.forwardRef((t,n)=>{var r;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:d}=t,u=Yt(t,VQ),h=e.useContext(WQ),[p,f]=e.useState(null),m=null!==(r=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=e.useState({}),v=tE(n,e=>f(e)),x=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),w=p?x.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,C=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=$Q(t),i=e.useRef(!1),a=e.useRef(()=>{});return e.useEffect(()=>{const e=e=>{if(e.target&&!i.current){let t=function(){XQ(zQ,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",a.current),a.current=t,n.addEventListener("click",a.current,{once:!0})):t()}else n.removeEventListener("click",a.current);i.current=!1},t=window.setTimeout(()=>{n.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",a.current)}},[n,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{const t=e.target,n=[...h.branches].some(e=>e.contains(t));S&&!n&&(null===s||void 0===s||s(e),null===l||void 0===l||l(e),e.defaultPrevented||null===d||void 0===d||d())},m),j=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=$Q(t),i=e.useRef(!1);return e.useEffect(()=>{const e=e=>{if(e.target&&!i.current){XQ(HQ,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)},[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{const t=e.target;[...h.branches].some(e=>e.contains(t))||(null===o||void 0===o||o(e),null===l||void 0===l||l(e),e.defaultPrevented||null===d||void 0===d||d())},m);return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=$Q(t);e.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})},[r,n])}(e=>{w===h.layers.size-1&&(null===a||void 0===a||a(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},m),e.useEffect(()=>{if(p)return i&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(BQ=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),qQ(),()=>{i&&1===h.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=BQ)}},[p,m,i,h]),e.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),qQ())},[p,h]),e.useEffect(()=>{const e=()=>g({});return document.addEventListener(UQ,e),()=>document.removeEventListener(UQ,e)},[]),(0,Pe.jsx)(dE.div,c(c({},u),{},{ref:v,style:c({pointerEvents:k?S?"auto":"none":void 0},t.style),onFocusCapture:AQ(t.onFocusCapture,j.onFocusCapture),onBlurCapture:AQ(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:AQ(t.onPointerDownCapture,C.onPointerDownCapture)}))});KQ.displayName="DismissableLayer";var GQ=e.forwardRef((t,n)=>{const r=e.useContext(WQ),i=e.useRef(null),a=tE(n,i);return e.useEffect(()=>{const e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,Pe.jsx)(dE.div,c(c({},t),{},{ref:a}))});function qQ(){const e=new CustomEvent(UQ);document.dispatchEvent(e)}function XQ(e,t,n,r){let{discrete:i}=r;const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),i?function(e,t){e&&Ia.flushSync(()=>e.dispatchEvent(t))}(a,s):a.dispatchEvent(s)}GQ.displayName="DismissableLayerBranch";var YQ=0;function QQ(){e.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:ZQ()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:ZQ()),YQ++,()=>{1===YQ&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),YQ--}},[])}function ZQ(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const JQ=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var eZ="focusScope.autoFocusOnMount",tZ="focusScope.autoFocusOnUnmount",nZ={bubbles:!1,cancelable:!0},rZ=e.forwardRef((t,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s}=t,o=Yt(t,JQ),[l,d]=e.useState(null),u=$Q(a),h=$Q(s),p=e.useRef(null),f=tE(n,e=>d(e)),m=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect(()=>{if(i){let e=function(e){if(m.paused||!l)return;const t=e.target;l.contains(t)?p.current=t:oZ(p.current,{select:!0})},t=function(e){if(m.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||oZ(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&oZ(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,l,m.paused]),e.useEffect(()=>{if(l){lZ.add(m);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(eZ,nZ);l.addEventListener(eZ,u),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(oZ(r,{select:t}),document.activeElement!==n)return}((e=iZ(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&oZ(l))}return()=>{l.removeEventListener(eZ,u),setTimeout(()=>{const e=new CustomEvent(tZ,nZ);l.addEventListener(tZ,h),l.dispatchEvent(e),e.defaultPrevented||oZ(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(tZ,h),lZ.remove(m)},0)}}var e},[l,u,h,m]);const g=e.useCallback(e=>{if(!r&&!i)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,a]=function(e){const t=iZ(e),n=aZ(t,e),r=aZ(t.reverse(),e);return[n,r]}(t);i&&a?e.shiftKey||n!==a?e.shiftKey&&n===i&&(e.preventDefault(),r&&oZ(a,{select:!0})):(e.preventDefault(),r&&oZ(i,{select:!0})):n===t&&e.preventDefault()}},[r,i,m.paused]);return(0,Pe.jsx)(dE.div,c(c({tabIndex:-1},o),{},{ref:f,onKeyDown:g}))});function iZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function aZ(e,t){for(const n of e)if(!sZ(n,{upTo:t}))return n}function sZ(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function oZ(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}rZ.displayName="FocusScope";var lZ=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=cZ(e,t),e.unshift(t)},remove(t){var n;e=cZ(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function cZ(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var dZ=null!==globalThis&&void 0!==globalThis&&globalThis.document?e.useLayoutEffect:()=>{},uZ=t[" useId ".trim().toString()]||(()=>{}),hZ=0;function pZ(t){const[n,r]=e.useState(uZ());return dZ(()=>{t||r(e=>null!==e&&void 0!==e?e:String(hZ++))},[t]),t||(n?"radix-".concat(n):"")}const fZ=["top","right","bottom","left"],mZ=Math.min,gZ=Math.max,vZ=Math.round,xZ=Math.floor,bZ=e=>({x:e,y:e}),yZ={left:"right",right:"left",bottom:"top",top:"bottom"},wZ={start:"end",end:"start"};function kZ(e,t,n){return gZ(e,mZ(t,n))}function SZ(e,t){return"function"===typeof e?e(t):e}function CZ(e){return e.split("-")[0]}function jZ(e){return e.split("-")[1]}function _Z(e){return"x"===e?"y":"x"}function NZ(e){return"y"===e?"height":"width"}function EZ(e){return["top","bottom"].includes(CZ(e))?"y":"x"}function AZ(e){return _Z(EZ(e))}function TZ(e){return e.replace(/start|end/g,e=>wZ[e])}function IZ(e){return e.replace(/left|right|bottom|top/g,e=>yZ[e])}function PZ(e){return"number"!==typeof e?function(e){return c({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function RZ(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const DZ=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],MZ=["strategy"],OZ=["mainAxis","crossAxis","limiter"],LZ=["apply"];function FZ(e,t,n){let{reference:r,floating:i}=e;const a=EZ(t),s=AZ(t),o=NZ(s),l=CZ(t),c="y"===a,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-i.width,y:u};break;default:p={x:r.x,y:r.y}}switch(jZ(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1)}return p}async function $Z(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=SZ(t,e),f=PZ(p),m=o[h?"floating"===u?"reference":"floating":u],g=RZ(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),b=await(null==a.isElement?void 0:a.isElement(x))&&await(null==a.getScale?void 0:a.getScale(x))||{x:1,y:1},y=RZ(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-y.top+f.top)/b.y,bottom:(y.bottom-g.bottom+f.bottom)/b.y,left:(g.left-y.left+f.left)/b.x,right:(y.right-g.right+f.right)/b.x}}function VZ(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function BZ(e){return fZ.some(t=>e[t]>=0)}function UZ(){return"undefined"!==typeof window}function zZ(e){return KZ(e)?(e.nodeName||"").toLowerCase():"#document"}function HZ(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function WZ(e){var t;return null==(t=(KZ(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function KZ(e){return!!UZ()&&(e instanceof Node||e instanceof HZ(e).Node)}function GZ(e){return!!UZ()&&(e instanceof Element||e instanceof HZ(e).Element)}function qZ(e){return!!UZ()&&(e instanceof HTMLElement||e instanceof HZ(e).HTMLElement)}function XZ(e){return!(!UZ()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof HZ(e).ShadowRoot)}function YZ(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=nJ(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function QZ(e){return["table","td","th"].includes(zZ(e))}function ZZ(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(Oe){return!1}})}function JZ(e){const t=eJ(),n=GZ(e)?nJ(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function eJ(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function tJ(e){return["html","body","#document"].includes(zZ(e))}function nJ(e){return HZ(e).getComputedStyle(e)}function rJ(e){return GZ(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function iJ(e){if("html"===zZ(e))return e;const t=e.assignedSlot||e.parentNode||XZ(e)&&e.host||WZ(e);return XZ(t)?t.host:t}function aJ(e){const t=iJ(e);return tJ(t)?e.ownerDocument?e.ownerDocument.body:e.body:qZ(t)&&YZ(t)?t:aJ(t)}function sJ(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=aJ(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=HZ(i);if(a){const e=oJ(s);return t.concat(s,s.visualViewport||[],YZ(i)?i:[],e&&n?sJ(e):[])}return t.concat(i,sJ(i,[],n))}function oJ(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lJ(e){const t=nJ(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=qZ(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=vZ(n)!==a||vZ(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function cJ(e){return GZ(e)?e:e.contextElement}function dJ(e){const t=cJ(e);if(!qZ(t))return bZ(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=lJ(t);let s=(a?vZ(n.width):n.width)/r,o=(a?vZ(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const uJ=bZ(0);function hJ(e){const t=HZ(e);return eJ()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:uJ}function pJ(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=cJ(e);let s=bZ(1);t&&(r?GZ(r)&&(s=dJ(r)):s=dJ(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==HZ(e))&&t}(a,n,r)?hJ(a):bZ(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,u=i.height/s.y;if(a){const e=HZ(a),t=r&&GZ(r)?HZ(r):r;let n=e,i=oJ(n);for(;i&&r&&t!==n;){const e=dJ(i),t=i.getBoundingClientRect(),r=nJ(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=s,n=HZ(i),i=oJ(n)}}return RZ({width:d,height:u,x:l,y:c})}function fJ(e,t){const n=rJ(e).scrollLeft;return t?t.left+n:pJ(WZ(e)).left+n}function mJ(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:fJ(e,r)),y:r.top+t.scrollTop}}function gJ(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=HZ(e),r=WZ(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=eJ();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=WZ(e),n=rJ(e),r=e.ownerDocument.body,i=gZ(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=gZ(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fJ(e);const o=-n.scrollTop;return"rtl"===nJ(r).direction&&(s+=gZ(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(WZ(e));else if(GZ(t))r=function(e,t){const n=pJ(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=qZ(e)?dJ(e):bZ(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=hJ(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return RZ(r)}function vJ(e,t){const n=iJ(e);return!(n===t||!GZ(n)||tJ(n))&&("fixed"===nJ(n).position||vJ(n,t))}function xJ(e,t,n){const r=qZ(t),i=WZ(t),a="fixed"===n,s=pJ(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=bZ(0);function c(){l.x=fJ(i)}if(r||!r&&!a)if(("body"!==zZ(t)||YZ(i))&&(o=rJ(t)),r){const e=pJ(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const d=!i||r||a?bZ(0):mJ(i,o);return{x:s.left+o.scrollLeft-l.x-d.x,y:s.top+o.scrollTop-l.y-d.y,width:s.width,height:s.height}}function bJ(e){return"static"===nJ(e).position}function yJ(e,t){if(!qZ(e)||"fixed"===nJ(e).position)return null;if(t)return t(e);let n=e.offsetParent;return WZ(e)===n&&(n=n.ownerDocument.body),n}function wJ(e,t){const n=HZ(e);if(ZZ(e))return n;if(!qZ(e)){let t=iJ(e);for(;t&&!tJ(t);){if(GZ(t)&&!bJ(t))return t;t=iJ(t)}return n}let r=yJ(e,t);for(;r&&QZ(r)&&bJ(r);)r=yJ(r,t);return r&&tJ(r)&&bJ(r)&&!JZ(r)?n:r||function(e){let t=iJ(e);for(;qZ(t)&&!tJ(t);){if(JZ(t))return t;if(ZZ(t))return null;t=iJ(t)}return null}(e)||n}const kJ={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=WZ(r),o=!!t&&ZZ(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=bZ(1);const d=bZ(0),u=qZ(r);if((u||!u&&!a)&&(("body"!==zZ(r)||YZ(s))&&(l=rJ(r)),qZ(r))){const e=pJ(r);c=dJ(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!s||u||a?bZ(0):mJ(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:WZ,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a="clippingAncestors"===n?ZZ(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=sJ(e,[],!1).filter(e=>GZ(e)&&"body"!==zZ(e)),i=null;const a="fixed"===nJ(e).position;let s=a?iJ(e):e;for(;GZ(s)&&!tJ(s);){const t=nJ(s),n=JZ(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||YZ(s)&&!n&&vJ(e,s))?r=r.filter(e=>e!==s):i=t,s=iJ(s)}return t.set(e,r),r}(t,this._c):[].concat(n),s=[...a,r],o=s[0],l=s.reduce((e,n)=>{const r=gJ(t,n,i);return e.top=gZ(r.top,e.top),e.right=mZ(r.right,e.right),e.bottom=mZ(r.bottom,e.bottom),e.left=gZ(r.left,e.left),e},gJ(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:wJ,getElementRects:async function(e){const t=this.getOffsetParent||wJ,n=this.getDimensions,r=await n(e.floating);return{reference:xJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=lJ(e);return{width:t,height:n}},getScale:dJ,isElement:GZ,isRTL:function(e){return"rtl"===nJ(e).direction}};function SJ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CJ(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,d=cJ(e),u=i||a?[...d?sJ(d):[],...sJ(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const h=d&&o?function(e,t){let n,r=null;const i=WZ(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const d=e.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=d;if(o||t(),!p||!f)return;const m={rootMargin:-xZ(h)+"px "+-xZ(i.clientWidth-(u+p))+"px "+-xZ(i.clientHeight-(h+f))+"px "+-xZ(u)+"px",threshold:gZ(0,mZ(1,l))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||SJ(d,e.getBoundingClientRect())||s(),g=!1}try{r=new IntersectionObserver(v,c(c({},m),{},{root:i.ownerDocument}))}catch(x){r=new IntersectionObserver(v,m)}r.observe(e)}(!0),a}(d,n):null;let p,f=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),d&&!l&&m.observe(d),m.observe(t));let g=l?pJ(e):null;return l&&function t(){const r=pJ(e);g&&!SJ(g,r)&&n();g=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(p)}}const jJ=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=CZ(n),o=jZ(n),l="y"===EZ(n),c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=SZ(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"===typeof f&&(p="end"===o?-1*f:f),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:c(c({},l),{},{placement:s})}}}},_J=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,a=SZ(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,d=Yt(a,OZ),u={x:n,y:r},h=await $Z(t,d),p=EZ(CZ(i)),f=_Z(p);let m=u[f],g=u[p];if(s){const e="y"===f?"bottom":"right";m=kZ(m+h["y"===f?"top":"left"],m,m-h[e])}if(o){const e="y"===p?"bottom":"right";g=kZ(g+h["y"===p?"top":"left"],g,g-h[e])}const v=l.fn(c(c({},t),{},{[f]:m,[p]:g}));return c(c({},v),{},{data:{x:v.x-n,y:v.y-r,enabled:{[f]:s,[p]:o}}})}}},NJ=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,d=SZ(e,t),{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0}=d,v=Yt(d,DZ);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const x=CZ(i),b=EZ(o),y=CZ(o)===o,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),k=p||(y||!g?[IZ(o)]:function(e){const t=IZ(e);return[TZ(e),t,TZ(t)]}(o)),S="none"!==m;!p&&S&&k.push(...function(e,t,n,r){const i=jZ(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(CZ(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(TZ)))),a}(o,g,m,w));const C=[o,...k],j=await $Z(t,v),_=[];let N=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&_.push(j[x]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=jZ(e),i=AZ(e),a=NZ(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=IZ(s)),[s,IZ(s)]}(i,s,w);_.push(j[e[0]],j[e[1]])}if(N=[...N,{placement:i,overflows:_}],!_.every(e=>e<=0)){var E,A;const e=((null==(E=a.flip)?void 0:E.index)||0)+1,t=C[e];if(t){if(!("alignment"===h&&b!==EZ(t))||N.every(e=>e.overflows[0]>0&&EZ(e.placement)===b))return{data:{index:e,overflows:N},reset:{placement:t}}}let n=null==(A=N.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!n)switch(f){case"bestFit":{var T;const e=null==(T=N.filter(e=>{if(S){const t=EZ(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},EJ=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,l=SZ(e,t),{apply:d=()=>{}}=l,u=Yt(l,LZ),h=await $Z(t,u),p=CZ(i),f=jZ(i),m="y"===EZ(i),{width:g,height:v}=a.floating;let x,b;"top"===p||"bottom"===p?(x=p,b=f===(await(null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(b=p,x="end"===f?"top":"bottom");const y=v-h.top-h.bottom,w=g-h.left-h.right,k=mZ(v-h[x],y),S=mZ(g-h[b],w),C=!t.middlewareData.shift;let j=k,_=S;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=w),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(j=y),C&&!f){const e=gZ(h.left,0),t=gZ(h.right,0),n=gZ(h.top,0),r=gZ(h.bottom,0);m?_=g-2*(0!==e||0!==t?e+t:gZ(h.left,h.right)):j=v-2*(0!==n||0!==r?n+r:gZ(h.top,h.bottom))}await d(c(c({},t),{},{availableWidth:_,availableHeight:j}));const N=await s.getDimensions(o.floating);return g!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}},AJ=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=SZ(e,t),{strategy:i="referenceHidden"}=r,a=Yt(r,MZ);switch(i){case"referenceHidden":{const e=VZ(await $Z(t,c(c({},a),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:BZ(e)}}}case"escaped":{const e=VZ(await $Z(t,c(c({},a),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:BZ(e)}}}default:return{}}}}},TJ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:d,padding:u=0}=SZ(e,t)||{};if(null==d)return{};const h=PZ(u),p={x:n,y:r},f=AZ(i),m=NZ(f),g=await s.getDimensions(d),v="y"===f,x=v?"top":"left",b=v?"bottom":"right",y=v?"clientHeight":"clientWidth",w=a.reference[m]+a.reference[f]-p[f]-a.floating[m],k=p[f]-a.reference[f],S=await(null==s.getOffsetParent?void 0:s.getOffsetParent(d));let C=S?S[y]:0;C&&await(null==s.isElement?void 0:s.isElement(S))||(C=o.floating[y]||a.floating[m]);const j=w/2-k/2,_=C/2-g[m]/2-1,N=mZ(h[x],_),E=mZ(h[b],_),A=N,T=C-g[m]-E,I=C/2-g[m]/2+j,P=kZ(A,I,T),R=!l.arrow&&null!=jZ(i)&&I!==P&&a.reference[m]/2-(I<A?N:E)-g[m]/2<0,D=R?I<A?I-A:I-T:0;return{[f]:p[f]+D,data:c({[f]:P,centerOffset:I-P-D},R&&{alignmentOffset:D}),reset:R}}}),IJ=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:d=!0}=SZ(e,t),u={x:n,y:r},h=EZ(i),p=_Z(h);let f=u[p],m=u[h];const g=SZ(o,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:c({mainAxis:0,crossAxis:0},g);if(l){const e="y"===p?"height":"width",t=a.reference[p]-a.floating[e]+v.mainAxis,n=a.reference[p]+a.reference[e]-v.mainAxis;f<t?f=t:f>n&&(f=n)}if(d){var x,b;const e="y"===p?"width":"height",t=["top","left"].includes(CZ(i)),n=a.reference[h]-a.floating[e]+(t&&(null==(x=s.offset)?void 0:x[h])||0)+(t?0:v.crossAxis),r=a.reference[h]+a.reference[e]+(t?0:(null==(b=s.offset)?void 0:b[h])||0)-(t?v.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[p]:f,[h]:m}}}},PJ=(e,t,n)=>{const r=new Map,i=c({platform:kJ},n),a=c(c({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=FZ(d,r,l),p=r,f={},m=0;for(let g=0;g<o.length;g++){const{name:n,fn:a}=o[g],{x:v,y:x,data:b,reset:y}=await a({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:d,platform:s,elements:{reference:e,floating:t}});u=null!=v?v:u,h=null!=x?x:h,f=c(c({},f),{},{[n]:c(c({},f[n]),b)}),y&&m<=50&&(m++,"object"===typeof y&&(y.placement&&(p=y.placement),y.rects&&(d=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:u,y:h}=FZ(d,p,l))),g=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:f}})(e,t,c(c({},i),{},{platform:a}))};var RJ="undefined"!==typeof document?e.useLayoutEffect:function(){};function DJ(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!DJ(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!DJ(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function MJ(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OJ(e,t){const n=MJ(e);return Math.round(t*n)/n}function LJ(t){const n=e.useRef(t);return RJ(()=>{n.current=t}),n}const FJ=(e,t)=>c(c({},jJ(e)),{},{options:[e,t]}),$J=(e,t)=>c(c({},_J(e)),{},{options:[e,t]}),VJ=(e,t)=>c(c({},IJ(e)),{},{options:[e,t]}),BJ=(e,t)=>c(c({},NJ(e)),{},{options:[e,t]}),UJ=(e,t)=>c(c({},EJ(e)),{},{options:[e,t]}),zJ=(e,t)=>c(c({},AJ(e)),{},{options:[e,t]}),HJ=(e,t)=>c(c({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?TJ({element:n.current,padding:r}).fn(t):{}:n?TJ({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),WJ=["children","width","height"];var KJ=e.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5}=e,a=Yt(e,WJ);return(0,Pe.jsx)(dE.svg,c(c({},a),{},{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Pe.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});KJ.displayName="Arrow";var GJ=KJ;const qJ=["__scopePopper","virtualRef"],XJ=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],YJ=["__scopePopper"];var QJ="Popper",[ZJ,JJ]=IQ(QJ),[e0,t0]=ZJ(QJ),n0=t=>{const{__scopePopper:n,children:r}=t,[i,a]=e.useState(null);return(0,Pe.jsx)(e0,{scope:n,anchor:i,onAnchorChange:a,children:r})};n0.displayName=QJ;var r0="PopperAnchor",i0=e.forwardRef((t,n)=>{const{__scopePopper:r,virtualRef:i}=t,a=Yt(t,qJ),s=t0(r0,r),o=e.useRef(null),l=tE(n,o);return e.useEffect(()=>{s.onAnchorChange((null===i||void 0===i?void 0:i.current)||o.current)}),i?null:(0,Pe.jsx)(dE.div,c(c({},a),{},{ref:l}))});i0.displayName=r0;var a0="PopperContent",[s0,o0]=ZJ(a0),l0=e.forwardRef((t,n)=>{var r,i,a,s,o,l,d,u;const{__scopePopper:h,side:p="bottom",sideOffset:f=0,align:m="center",alignOffset:g=0,arrowPadding:v=0,avoidCollisions:x=!0,collisionBoundary:b=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:k=!1,updatePositionStrategy:S="optimized",onPlaced:C}=t,j=Yt(t,XJ),_=t0(a0,h),[N,E]=e.useState(null),A=tE(n,e=>E(e)),[T,I]=e.useState(null),P=function(t){const[n,r]=e.useState(void 0);return dZ(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const n=e[0];let i,a;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}r(void 0)},[t]),n}(T),R=null!==(r=null===P||void 0===P?void 0:P.width)&&void 0!==r?r:0,D=null!==(i=null===P||void 0===P?void 0:P.height)&&void 0!==i?i:0,M=p+("center"!==m?"-"+m:""),O="number"===typeof y?y:c({top:0,right:0,bottom:0,left:0},y),L=Array.isArray(b)?b:[b],F=L.length>0,$={padding:O,boundary:L.filter(h0),altBoundary:F},{refs:V,floatingStyles:B,placement:U,isPositioned:z,middlewareData:H}=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=t,[h,p]=e.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[f,m]=e.useState(i);DJ(f,i)||m(i);const[g,v]=e.useState(null),[x,b]=e.useState(null),y=e.useCallback(e=>{e!==C.current&&(C.current=e,v(e))},[]),w=e.useCallback(e=>{e!==j.current&&(j.current=e,b(e))},[]),k=s||g,S=o||x,C=e.useRef(null),j=e.useRef(null),_=e.useRef(h),N=null!=d,E=LJ(d),A=LJ(a),T=LJ(u),I=e.useCallback(()=>{if(!C.current||!j.current)return;const e={placement:n,strategy:r,middleware:f};A.current&&(e.platform=A.current),PJ(C.current,j.current,e).then(e=>{const t=c(c({},e),{},{isPositioned:!1!==T.current});P.current&&!DJ(_.current,t)&&(_.current=t,Ia.flushSync(()=>{p(t)}))})},[f,n,r,A,T]);RJ(()=>{!1===u&&_.current.isPositioned&&(_.current.isPositioned=!1,p(e=>c(c({},e),{},{isPositioned:!1})))},[u]);const P=e.useRef(!1);RJ(()=>(P.current=!0,()=>{P.current=!1}),[]),RJ(()=>{if(k&&(C.current=k),S&&(j.current=S),k&&S){if(E.current)return E.current(k,S,I);I()}},[k,S,I,E,N]);const R=e.useMemo(()=>({reference:C,floating:j,setReference:y,setFloating:w}),[y,w]),D=e.useMemo(()=>({reference:k,floating:S}),[k,S]),M=e.useMemo(()=>{const e={position:r,left:0,top:0};if(!D.floating)return e;const t=OJ(D.floating,h.x),n=OJ(D.floating,h.y);return l?c(c({},e),{},{transform:"translate("+t+"px, "+n+"px)"},MJ(D.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,l,D.floating,h.x,h.y]);return e.useMemo(()=>c(c({},h),{},{update:I,refs:R,elements:D,floatingStyles:M}),[h,I,R,D,M])}({strategy:"fixed",placement:M,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return CJ(...t,{animationFrame:"always"===S})},elements:{reference:_.anchor},middleware:[FJ({mainAxis:f+D,alignmentAxis:g}),x&&$J(c({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?VJ():void 0},$)),x&&BJ(c({},$)),UJ(c(c({},$),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:a,height:s}=n.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width","".concat(r,"px")),o.setProperty("--radix-popper-available-height","".concat(i,"px")),o.setProperty("--radix-popper-anchor-width","".concat(a,"px")),o.setProperty("--radix-popper-anchor-height","".concat(s,"px"))}})),T&&HJ({element:T,padding:v}),p0({arrowWidth:R,arrowHeight:D}),k&&zJ(c({strategy:"referenceHidden"},$))]}),[W,K]=f0(U),G=$Q(C);dZ(()=>{z&&(null===G||void 0===G||G())},[z,G]);const q=null===(a=H.arrow)||void 0===a?void 0:a.x,X=null===(s=H.arrow)||void 0===s?void 0:s.y,Y=0!==(null===(o=H.arrow)||void 0===o?void 0:o.centerOffset),[Q,Z]=e.useState();return dZ(()=>{N&&Z(window.getComputedStyle(N).zIndex)},[N]),(0,Pe.jsx)("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:c(c({},B),{},{transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[null===(l=H.transformOrigin)||void 0===l?void 0:l.x,null===(d=H.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(u=H.hide)||void 0===u?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:t.dir,children:(0,Pe.jsx)(s0,{scope:h,placedSide:W,onArrowChange:I,arrowX:q,arrowY:X,shouldHideArrow:Y,children:(0,Pe.jsx)(dE.div,c(c({"data-side":W,"data-align":K},j),{},{ref:A,style:c(c({},j.style),{},{animation:z?void 0:"none"})}))})})});l0.displayName=a0;var c0="PopperArrow",d0={top:"bottom",right:"left",bottom:"top",left:"right"},u0=e.forwardRef(function(e,t){const{__scopePopper:n}=e,r=Yt(e,YJ),i=o0(c0,n),a=d0[i.placedSide];return(0,Pe.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,Pe.jsx)(GJ,c(c({},r),{},{ref:t,style:c(c({},r.style),{},{display:"block"})}))})});function h0(e){return null!==e}u0.displayName=c0;var p0=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,s;const{placement:o,rects:l,middlewareData:c}=t,d=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[p,f]=f0(o),m={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(r=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+u/2,v=(null!==(a=null===(s=c.arrow)||void 0===s?void 0:s.y)&&void 0!==a?a:0)+h/2;let x="",b="";return"bottom"===p?(x=d?m:"".concat(g,"px"),b="".concat(-h,"px")):"top"===p?(x=d?m:"".concat(g,"px"),b="".concat(l.floating.height+h,"px")):"right"===p?(x="".concat(-h,"px"),b=d?m:"".concat(v,"px")):"left"===p&&(x="".concat(l.floating.width+h,"px"),b=d?m:"".concat(v,"px")),{data:{x:x,y:b}}}});function f0(e){const[t,n="center"]=e.split("-");return[t,n]}var m0=n0,g0=i0,v0=l0,x0=u0;const b0=["container"];var y0=e.forwardRef((t,n)=>{var r;const{container:i}=t,a=Yt(t,b0),[s,o]=e.useState(!1);dZ(()=>o(!0),[]);const l=i||s&&(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body);return l?Ia.createPortal((0,Pe.jsx)(dE.div,c(c({},a),{},{ref:n})),l):null});y0.displayName="Portal";var w0=t[" useInsertionEffect ".trim().toString()]||dZ;function k0(t){let{prop:n,defaultProp:r,onChange:i=()=>{},caller:a}=t;const[s,o,l]=function(t){let{defaultProp:n,onChange:r}=t;const[i,a]=e.useState(n),s=e.useRef(i),o=e.useRef(r);return w0(()=>{o.current=r},[r]),e.useEffect(()=>{var e;s.current!==i&&(null===(e=o.current)||void 0===e||e.call(o,i),s.current=i)},[i,s]),[i,a,o]}({defaultProp:r,onChange:i}),c=void 0!==n,d=c?n:s;{const t=e.useRef(void 0!==n);e.useEffect(()=>{const e=t.current;if(e!==c){const t=e?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(a," is changing from ").concat(t," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}t.current=c},[c,a])}const u=e.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(n):e;var t;if(r!==n)null===(t=l.current)||void 0===t||t.call(l,r)}else o(e)},[c,n,o,l]);return[d,u]}Symbol("RADIX:SYNC_STATE");var S0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),C0=e.forwardRef((e,t)=>(0,Pe.jsx)(dE.span,c(c({},e),{},{ref:t,style:c(c({},S0),e.style)})));C0.displayName="VisuallyHidden";var j0=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},_0=new WeakMap,N0=new WeakMap,E0={},A0=0,T0=function(e){return e&&(e.host||T0(e.parentNode))},I0=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=T0(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);E0[n]||(E0[n]=new WeakMap);var a=E0[n],s=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(_0.get(e)||0)+1,c=(a.get(e)||0)+1;_0.set(e,l),a.set(e,c),s.push(e),1===l&&i&&N0.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(Oe){console.error("aria-hidden: cannot operate on ",e,Oe)}})};return d(t),o.clear(),A0++,function(){s.forEach(function(e){var t=_0.get(e)-1,i=a.get(e)-1;_0.set(e,t),a.set(e,i),t||(N0.has(e)||e.removeAttribute(r),N0.delete(e)),i||e.removeAttribute(n)}),--A0||(_0=new WeakMap,_0=new WeakMap,N0=new WeakMap,E0={})}},P0=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||j0(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),I0(r,i,n,"aria-hidden")):function(){return null}},R0="right-scroll-bar-position",D0="width-before-scroll-bar";function M0(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var O0="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,L0=new WeakMap;function F0(t,n){var r=function(t,n){var r=(0,e.useState)(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}})[0];return r.callback=n,r.facade}(n||null,function(e){return t.forEach(function(t){return M0(t,e)})});return O0(function(){var e=L0.get(r);if(e){var n=new Set(e),i=new Set(t),a=r.current;n.forEach(function(e){i.has(e)||M0(e,null)}),i.forEach(function(e){n.has(e)||M0(e,a)})}L0.set(r,t)},[t]),r}function $0(e){return e}function V0(e,t){void 0===t&&(t=$0);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}};return i}var B0=function(e){void 0===e&&(e={});var t=V0(null);return t.options=qx({async:!0,ssr:!1},e),t}(),U0=function(){},z0=e.forwardRef(function(t,n){var r=e.useRef(null),i=e.useState({onScrollCapture:U0,onWheelCapture:U0,onTouchMoveCapture:U0}),a=i[0],s=i[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,m=t.noIsolation,g=t.inert,v=t.allowPinchZoom,x=t.as,b=void 0===x?"div":x,y=t.gapMode,w=Xx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,S=F0([r,n]),C=qx(qx({},w),a);return e.createElement(e.Fragment,null,u&&e.createElement(k,{sideCar:B0,removeScrollBar:d,shards:h,noRelative:f,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?e.cloneElement(e.Children.only(l),qx(qx({},C),{ref:S})):e.createElement(b,qx({},C,{className:c,ref:S}),l))});z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},z0.classNames={fullWidth:D0,zeroRight:R0};var H0,W0=function(t){var n=t.sideCar,r=Xx(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return e.createElement(i,qx({},r))};W0.isSideCarExport=!0;function K0(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=H0||n.nc;return t&&e.setAttribute("nonce",t),e}var G0=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=K0())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},q0=function(){var t=function(){var t=G0();return function(n,r){e.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},X0={left:0,top:0,right:0,gap:0},Y0=function(e){return parseInt(e||"",10)||0},Q0=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return X0;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Y0(n),Y0(r),Y0(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Z0=q0(),J0="data-scroll-locked",e1=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(J0,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(R0," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(D0," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(R0," .").concat(R0," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(D0," .").concat(D0," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(J0,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},t1=function(){var e=parseInt(document.body.getAttribute(J0)||"0",10);return isFinite(e)?e:0},n1=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,a=void 0===i?"margin":i;e.useEffect(function(){return document.body.setAttribute(J0,(t1()+1).toString()),function(){var e=t1()-1;e<=0?document.body.removeAttribute(J0):document.body.setAttribute(J0,e.toString())}},[]);var s=e.useMemo(function(){return Q0(a)},[a]);return e.createElement(Z0,{styles:e1(s,!n,a,r?"":"!important")})},r1=!1;if("undefined"!==typeof window)try{var i1=Object.defineProperty({},"passive",{get:function(){return r1=!0,!0}});window.addEventListener("test",i1,i1),window.removeEventListener("test",i1,i1)}catch(f6){r1=!1}var a1=!!r1&&{passive:!1},s1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},o1=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),l1(e,r)){var i=c1(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},l1=function(e,t){return"v"===e?function(e){return s1(e,"overflowY")}(t):function(e){return s1(e,"overflowX")}(t)},c1=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},d1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},u1=function(e){return[e.deltaX,e.deltaY]},h1=function(e){return e&&"current"in e?e.current:e},p1=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},f1=0,m1=[];function g1(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const v1=(x1=function(t){var n=e.useRef([]),r=e.useRef([0,0]),i=e.useRef(),a=e.useState(f1++)[0],s=e.useState(q0)[0],o=e.useRef(t);e.useEffect(function(){o.current=t},[t]),e.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var e=Yx([t.lockRef.current],(t.shards||[]).map(h1),!0).filter(Boolean);return e.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),e.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=e.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var n,a=d1(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=o1(u,d);if(!h)return!0;if(h?n=u:(n="v"===u?"h":"v",h=o1(u,d)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var p=i.current||n;return function(e,t,n,r,i){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=a*r,o=n.target,l=t.contains(o),c=!1,d=s>0,u=0,h=0;do{if(!o)break;var p=c1(e,o),f=p[0],m=p[1]-p[2]-a*f;(f||m)&&l1(e,o)&&(u+=m,h+=f);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(i&&Math.abs(u)<1||!i&&s>u)||!d&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)},[]),c=e.useCallback(function(e){var t=e;if(m1.length&&m1[m1.length-1]===s){var r="deltaY"in t?u1(t):d1(t),i=n.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)})[0];if(i&&i.should)t.cancelable&&t.preventDefault();else if(!i){var a=(o.current.shards||[]).map(h1).filter(Boolean).filter(function(e){return e.contains(t.target)});(a.length>0?l(t,a[0]):!o.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),d=e.useCallback(function(e,t,r,i){var a={name:e,delta:t,target:r,should:i,shadowParent:g1(r)};n.current.push(a),setTimeout(function(){n.current=n.current.filter(function(e){return e!==a})},1)},[]),u=e.useCallback(function(e){r.current=d1(e),i.current=void 0},[]),h=e.useCallback(function(e){d(e.type,u1(e),e.target,l(e,t.lockRef.current))},[]),p=e.useCallback(function(e){d(e.type,d1(e),e.target,l(e,t.lockRef.current))},[]);e.useEffect(function(){return m1.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,a1),document.addEventListener("touchmove",c,a1),document.addEventListener("touchstart",u,a1),function(){m1=m1.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,a1),document.removeEventListener("touchmove",c,a1),document.removeEventListener("touchstart",u,a1)}},[]);var f=t.removeScrollBar,m=t.inert;return e.createElement(e.Fragment,null,m?e.createElement(s,{styles:p1(a)}):null,f?e.createElement(n1,{noRelative:t.noRelative,gapMode:t.gapMode}):null)},B0.useMedium(x1),W0);var x1,b1=e.forwardRef(function(t,n){return e.createElement(z0,qx({},t,{ref:n,sideCar:v1}))});b1.classNames=z0.classNames;const y1=b1,w1=["__scopeSelect","disabled"],k1=["__scopeSelect","className","style","children","placeholder"],S1=["__scopeSelect","children"],C1=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],j1=["__scopeSelect","onPlaced"],_1=["__scopeSelect","align","collisionPadding"],N1=["__scopeSelect","nonce"],E1=["__scopeSelect"],A1=["__scopeSelect"],T1=["__scopeSelect","value","disabled","textValue"],I1=["__scopeSelect","className","style"],P1=["__scopeSelect"],R1=["__scopeSelect","onAutoScroll"],D1=["__scopeSelect"],M1=["__scopeSelect"],O1=["__scopeSelect","value"];var L1=[" ","Enter","ArrowUp","ArrowDown"],F1=[" ","Enter"],$1="Select",[V1,B1,U1]=function(t){const n=t+"CollectionProvider",[r,i]=IQ(n),[a,s]=r(n,{collectionRef:{current:null},itemMap:new Map}),o=t=>{const{scope:n,children:r}=t,i=e.useRef(null),s=e.useRef(new Map).current;return(0,Pe.jsx)(a,{scope:n,itemMap:s,collectionRef:i,children:r})};o.displayName=n;const l=t+"CollectionSlot",d=iE(l),u=e.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=tE(t,s(l,n).collectionRef);return(0,Pe.jsx)(d,{ref:i,children:r})});u.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",f=iE(h),m=e.forwardRef((t,n)=>{const{scope:r,children:i}=t,a=Yt(t,DQ),o=e.useRef(null),l=tE(n,o),d=s(h,r);return e.useEffect(()=>(d.itemMap.set(o,c({ref:o},a)),()=>{d.itemMap.delete(o)})),(0,Pe.jsx)(f,c(c({},{[p]:""}),{},{ref:l,children:i}))});return m.displayName=h,[{Provider:o,Slot:u,ItemSlot:m},function(n){const r=s(t+"CollectionConsumer",n),i=e.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]"))),n=Array.from(r.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return n},[r.collectionRef,r.itemMap]);return i},i]}($1),[z1,H1]=IQ($1,[U1,JJ]),W1=JJ(),[K1,G1]=z1($1),[q1,X1]=z1($1),Y1=t=>{const{__scopeSelect:n,children:r,open:i,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:p,disabled:f,required:m,form:g}=t,v=W1(n),[x,b]=e.useState(null),[y,w]=e.useState(null),[k,S]=e.useState(!1),C=function(t){const n=e.useContext(FQ);return t||n||"ltr"}(u),[j,_]=k0({prop:i,defaultProp:null!==a&&void 0!==a&&a,onChange:s,caller:$1}),[N,E]=k0({prop:o,defaultProp:l,onChange:d,caller:$1}),A=e.useRef(null),T=!x||(g||!!x.closest("form")),[I,P]=e.useState(new Set),R=Array.from(I).map(e=>e.props.value).join(";");return(0,Pe.jsx)(m0,c(c({},v),{},{children:(0,Pe.jsxs)(K1,{required:m,scope:n,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:k,onValueNodeHasChildrenChange:S,contentId:pZ(),value:N,onValueChange:E,open:j,onOpenChange:_,dir:C,triggerPointerDownPosRef:A,disabled:f,children:[(0,Pe.jsx)(V1.Provider,{scope:n,children:(0,Pe.jsx)(q1,{scope:t.__scopeSelect,onNativeOptionAdd:e.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:e.useCallback(e=>{P(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:r})}),T?(0,Pe.jsxs)(F2,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:p,value:N,onChange:e=>E(e.target.value),disabled:f,form:g,children:[void 0===N?(0,Pe.jsx)("option",{value:""}):null,Array.from(I)]},R):null]})}))};Y1.displayName=$1;var Q1="SelectTrigger",Z1=e.forwardRef((t,n)=>{const{__scopeSelect:r,disabled:i=!1}=t,a=Yt(t,w1),s=W1(r),o=G1(Q1,r),l=o.disabled||i,d=tE(n,o.onTriggerChange),u=B1(r),h=e.useRef("touch"),[p,f,m]=V2(e=>{const t=u().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=B2(t,e,n);void 0!==r&&o.onValueChange(r.value)}),g=e=>{l||(o.onOpenChange(!0),m()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,Pe.jsx)(g0,c(c({asChild:!0},s),{},{children:(0,Pe.jsx)(dE.button,c(c({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":$2(o.value)?"":void 0},a),{},{ref:d,onClick:AQ(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&g(e)}),onPointerDown:AQ(a.onPointerDown,e=>{h.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:AQ(a.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||L1.includes(e.key)&&(g(),e.preventDefault())})}))}))});Z1.displayName=Q1;var J1="SelectValue",e2=e.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s=""}=e,o=Yt(e,k1),l=G1(J1,n),{onValueNodeHasChildrenChange:d}=l,u=void 0!==a,h=tE(t,l.onValueNodeChange);return dZ(()=>{d(u)},[d,u]),(0,Pe.jsx)(dE.span,c(c({},o),{},{ref:h,style:{pointerEvents:"none"},children:$2(l.value)?(0,Pe.jsx)(Pe.Fragment,{children:s}):a}))});e2.displayName=J1;var t2=e.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,i=Yt(e,S1);return(0,Pe.jsx)(dE.span,c(c({"aria-hidden":!0},i),{},{ref:t,children:r||"\u25bc"}))});t2.displayName="SelectIcon";var n2=e=>(0,Pe.jsx)(y0,c({asChild:!0},e));n2.displayName="SelectPortal";var r2="SelectContent",i2=e.forwardRef((t,n)=>{const r=G1(r2,t.__scopeSelect),[i,a]=e.useState();if(dZ(()=>{a(new DocumentFragment)},[]),!r.open){const e=i;return e?Ia.createPortal((0,Pe.jsx)(s2,{scope:t.__scopeSelect,children:(0,Pe.jsx)(V1.Slot,{scope:t.__scopeSelect,children:(0,Pe.jsx)("div",{children:t.children})})}),e):null}return(0,Pe.jsx)(c2,c(c({},t),{},{ref:n}))});i2.displayName=r2;var a2=10,[s2,o2]=z1(r2),l2=iE("SelectContent.RemoveScroll"),c2=e.forwardRef((t,n)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:x}=t,b=Yt(t,C1),y=G1(r2,r),[w,k]=e.useState(null),[S,C]=e.useState(null),j=tE(n,e=>k(e)),[_,N]=e.useState(null),[E,A]=e.useState(null),T=B1(r),[I,P]=e.useState(!1),R=e.useRef(!1);e.useEffect(()=>{if(w)return P0(w)},[w]),QQ();const D=e.useCallback(e=>{const[t,...n]=T().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(null===a||void 0===a||a.scrollIntoView({block:"nearest"}),a===t&&S&&(S.scrollTop=0),a===r&&S&&(S.scrollTop=S.scrollHeight),null===a||void 0===a||a.focus(),document.activeElement!==i)return}},[T,S]),M=e.useCallback(()=>D([_,w]),[D,_,w]);e.useEffect(()=>{I&&M()},[I,M]);const{onOpenChange:O,triggerPointerDownPosRef:L}=y;e.useEffect(()=>{if(w){let e={x:0,y:0};const t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=L.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(a=L.current)||void 0===a?void 0:a.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():w.contains(n.target)||O(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[w,O,L]),e.useEffect(()=>{const e=()=>O(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[O]);const[F,$]=V2(e=>{const t=T().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=B2(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),V=e.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==y.value&&y.value===t||r)&&(N(e),r&&(R.current=!0))},[y.value]),B=e.useCallback(()=>null===w||void 0===w?void 0:w.focus(),[w]),U=e.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==y.value&&y.value===t||r)&&A(e)},[y.value]),z="popper"===i?u2:d2,H=z===u2?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:x}:{};return(0,Pe.jsx)(s2,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:V,selectedItem:_,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:M,selectedItemText:E,position:i,isPositioned:I,searchRef:F,children:(0,Pe.jsx)(y1,{as:l2,allowPinchZoom:!0,children:(0,Pe.jsx)(rZ,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:AQ(a,e=>{var t;null===(t=y.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,Pe.jsx)(KQ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:(0,Pe.jsx)(z,c(c(c({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault()},b),H),{},{onPlaced:()=>P(!0),ref:j,style:c({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:AQ(b.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>D(t)),e.preventDefault()}})}))})})})})});c2.displayName="SelectContentImpl";var d2=e.forwardRef((t,n)=>{const{__scopeSelect:r,onPlaced:i}=t,a=Yt(t,j1),s=G1(r2,r),o=o2(r2,r),[l,d]=e.useState(null),[u,h]=e.useState(null),p=tE(n,e=>h(e)),f=B1(r),m=e.useRef(!1),g=e.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,w=e.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&x&&b){const e=s.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),r=b.getBoundingClientRect();if("rtl"!==s.dir){const i=r.left-t.left,a=n.left-i,s=e.left-a,o=e.width+s,c=Math.max(o,t.width),d=window.innerWidth-a2,u=EQ(a,[a2,Math.max(a2,d-c)]);l.style.minWidth=o+"px",l.style.left=u+"px"}else{const i=t.right-r.right,a=window.innerWidth-n.right-i,s=window.innerWidth-e.right-a,o=e.width+s,c=Math.max(o,t.width),d=window.innerWidth-a2,u=EQ(a,[a2,Math.max(a2,d-c)]);l.style.minWidth=o+"px",l.style.right=u+"px"}const a=f(),o=window.innerHeight-2*a2,c=v.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),p=parseInt(d.paddingTop,10),g=parseInt(d.borderBottomWidth,10),y=h+p+c+parseInt(d.paddingBottom,10)+g,w=Math.min(5*x.offsetHeight,y),k=window.getComputedStyle(v),S=parseInt(k.paddingTop,10),C=parseInt(k.paddingBottom,10),j=e.top+e.height/2-a2,_=o-j,N=x.offsetHeight/2,E=h+p+(x.offsetTop+N),A=y-E;if(E<=j){const e=a.length>0&&x===a[a.length-1].ref.current;l.style.bottom="0px";const t=u.clientHeight-v.offsetTop-v.offsetHeight,n=E+Math.max(_,N+(e?C:0)+t+g);l.style.height=n+"px"}else{const e=a.length>0&&x===a[0].ref.current;l.style.top="0px";const t=Math.max(j,h+v.offsetTop+(e?S:0)+N)+A;l.style.height=t+"px",v.scrollTop=E-j+v.offsetTop}l.style.margin="".concat(a2,"px 0"),l.style.minHeight=w+"px",l.style.maxHeight=o+"px",null===i||void 0===i||i(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,l,u,v,x,b,s.dir,i]);dZ(()=>w(),[w]);const[k,S]=e.useState();dZ(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=e.useCallback(e=>{e&&!0===g.current&&(w(),null===y||void 0===y||y(),g.current=!1)},[w,y]);return(0,Pe.jsx)(h2,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:(0,Pe.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,Pe.jsx)(dE.div,c(c({},a),{},{ref:p,style:c({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});d2.displayName="SelectItemAlignedPosition";var u2=e.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=a2}=e,a=Yt(e,_1),s=W1(n);return(0,Pe.jsx)(v0,c(c(c({},s),a),{},{ref:t,align:r,collisionPadding:i,style:c(c({boxSizing:"border-box"},a.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});u2.displayName="SelectPopperPosition";var[h2,p2]=z1(r2,{}),f2="SelectViewport",m2=e.forwardRef((t,n)=>{const{__scopeSelect:r,nonce:i}=t,a=Yt(t,N1),s=o2(f2,r),o=p2(f2,r),l=tE(n,s.onViewportChange),d=e.useRef(0);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,Pe.jsx)(V1.Slot,{scope:r,children:(0,Pe.jsx)(dE.div,c(c({"data-radix-select-viewport":"",role:"presentation"},a),{},{ref:l,style:c({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:AQ(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(d.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*a2,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),s=Math.max(i,a);if(s<r){const i=s+e,a=Math.min(r,i),o=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});m2.displayName=f2;var g2="SelectGroup",[v2,x2]=z1(g2),b2=e.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=Yt(e,E1),i=pZ();return(0,Pe.jsx)(v2,{scope:n,id:i,children:(0,Pe.jsx)(dE.div,c(c({role:"group","aria-labelledby":i},r),{},{ref:t}))})});b2.displayName=g2;var y2="SelectLabel",w2=e.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=Yt(e,A1),i=x2(y2,n);return(0,Pe.jsx)(dE.div,c(c({id:i.id},r),{},{ref:t}))});w2.displayName=y2;var k2="SelectItem",[S2,C2]=z1(k2),j2=e.forwardRef((t,n)=>{const{__scopeSelect:r,value:i,disabled:a=!1,textValue:s}=t,o=Yt(t,T1),l=G1(k2,r),d=o2(k2,r),u=l.value===i,[h,p]=e.useState(null!==s&&void 0!==s?s:""),[f,m]=e.useState(!1),g=tE(n,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,i,a)}),v=pZ(),x=e.useRef("touch"),b=()=>{a||(l.onValueChange(i),l.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Pe.jsx)(S2,{scope:r,value:i,disabled:a,textId:v,isSelected:u,onItemTextChange:e.useCallback(e=>{p(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,Pe.jsx)(V1.ItemSlot,{scope:r,value:i,disabled:a,textValue:h,children:(0,Pe.jsx)(dE.div,c(c({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o),{},{ref:g,onFocus:AQ(o.onFocus,()=>m(!0)),onBlur:AQ(o.onBlur,()=>m(!1)),onClick:AQ(o.onClick,()=>{"mouse"!==x.current&&b()}),onPointerUp:AQ(o.onPointerUp,()=>{"mouse"===x.current&&b()}),onPointerDown:AQ(o.onPointerDown,e=>{x.current=e.pointerType}),onPointerMove:AQ(o.onPointerMove,e=>{var t;(x.current=e.pointerType,a)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===x.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:AQ(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:AQ(o.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(F1.includes(e.key)&&b()," "===e.key&&e.preventDefault())})}))})})});j2.displayName=k2;var _2="SelectItemText",N2=e.forwardRef((t,n)=>{const{__scopeSelect:r,className:i,style:a}=t,s=Yt(t,I1),o=G1(_2,r),l=o2(_2,r),d=C2(_2,r),u=X1(_2,r),[h,p]=e.useState(null),f=tE(n,e=>p(e),d.onItemTextChange,e=>{var t;return null===(t=l.itemTextRefCallback)||void 0===t?void 0:t.call(l,e,d.value,d.disabled)}),m=null===h||void 0===h?void 0:h.textContent,g=e.useMemo(()=>(0,Pe.jsx)("option",{value:d.value,disabled:d.disabled,children:m},d.value),[d.disabled,d.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return dZ(()=>(v(g),()=>x(g)),[v,x,g]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(dE.span,c(c({id:d.textId},s),{},{ref:f})),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ia.createPortal(s.children,o.valueNode):null]})});N2.displayName=_2;var E2="SelectItemIndicator",A2=e.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=Yt(e,P1);return C2(E2,n).isSelected?(0,Pe.jsx)(dE.span,c(c({"aria-hidden":!0},r),{},{ref:t})):null});A2.displayName=E2;var T2="SelectScrollUpButton",I2=e.forwardRef((t,n)=>{const r=o2(T2,t.__scopeSelect),i=p2(T2,t.__scopeSelect),[a,s]=e.useState(!1),o=tE(n,i.onScrollButtonChange);return dZ(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?(0,Pe.jsx)(D2,c(c({},t),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});I2.displayName=T2;var P2="SelectScrollDownButton",R2=e.forwardRef((t,n)=>{const r=o2(P2,t.__scopeSelect),i=p2(P2,t.__scopeSelect),[a,s]=e.useState(!1),o=tE(n,i.onScrollButtonChange);return dZ(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?(0,Pe.jsx)(D2,c(c({},t),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});R2.displayName=P2;var D2=e.forwardRef((t,n)=>{const{__scopeSelect:r,onAutoScroll:i}=t,a=Yt(t,R1),s=o2("SelectScrollButton",r),o=e.useRef(null),l=B1(r),d=e.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return e.useEffect(()=>()=>d(),[d]),dZ(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[l]),(0,Pe.jsx)(dE.div,c(c({"aria-hidden":!0},a),{},{ref:n,style:c({flexShrink:0},a.style),onPointerDown:AQ(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:AQ(a.onPointerMove,()=>{var e;null===(e=s.onItemLeave)||void 0===e||e.call(s),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:AQ(a.onPointerLeave,()=>{d()})}))}),M2=e.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=Yt(e,D1);return(0,Pe.jsx)(dE.div,c(c({"aria-hidden":!0},r),{},{ref:t}))});M2.displayName="SelectSeparator";var O2="SelectArrow",L2=e.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=Yt(e,M1),i=W1(n),a=G1(O2,n),s=o2(O2,n);return a.open&&"popper"===s.position?(0,Pe.jsx)(x0,c(c(c({},i),r),{},{ref:t})):null});L2.displayName=O2;var F2=e.forwardRef((t,n)=>{let{__scopeSelect:r,value:i}=t,a=Yt(t,O1);const s=e.useRef(null),o=tE(n,s),l=function(t){const n=e.useRef({value:t,previous:t});return e.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}(i);return e.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==i&&n){const t=new Event("change",{bubbles:!0});n.call(e,i),e.dispatchEvent(t)}},[l,i]),(0,Pe.jsx)(dE.select,c(c({},a),{},{style:c(c({},S0),a.style),ref:o,defaultValue:i}))});function $2(e){return""===e||void 0===e}function V2(t){const n=$Q(t),r=e.useRef(""),i=e.useRef(0),a=e.useCallback(e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout(()=>e(""),1e3))}(t)},[n]),s=e.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return e.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,a,s]}function B2(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=(s=e,o=Math.max(i,0),s.map((e,t)=>s[(o+t)%s.length]));var s,o;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}F2.displayName="SelectBubbleInput";var U2=Y1,z2=Z1,H2=e2,W2=t2,K2=n2,G2=i2,q2=m2,X2=b2,Y2=w2,Q2=j2,Z2=N2,J2=A2,e3=I2,t3=R2,n3=M2;const r3=tC("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i3=tC("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),a3=tC("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),s3=["className","children"],o3=["className"],l3=["className"],c3=["className","children","position"],d3=["className"],u3=["className","children"],h3=["className"],p3=U2,f3=X2,m3=H2,g3=e.forwardRef((e,t)=>{let{className:n,children:r}=e,i=Yt(e,s3);return(0,Pe.jsxs)(z2,c(c({ref:t,className:zS("flex h-11 w-full items-center justify-between rounded-[8px] border border-input bg-background px-3 py-2 text-base placeholder:text-[#667085] placeholder:text-opacity-55 focus:outline-none disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 disabled:text-[#767676] [&>span]:line-clamp-1",n)},i),{},{children:[r,(0,Pe.jsx)(W2,{asChild:!0,children:(0,Pe.jsx)(r3,{className:"h-4 w-4"})})]}))});g3.displayName=z2.displayName;const v3=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,o3);return(0,Pe.jsx)(e3,c(c({ref:t,className:zS("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,Pe.jsx)(i3,{className:"h-4 w-4"})}))});v3.displayName=e3.displayName;const x3=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,l3);return(0,Pe.jsx)(t3,c(c({ref:t,className:zS("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,Pe.jsx)(r3,{className:"h-4 w-4"})}))});x3.displayName=t3.displayName;const b3=e.forwardRef((e,t)=>{let{className:n,children:r,position:i="popper"}=e,a=Yt(e,c3);return(0,Pe.jsx)(K2,{children:(0,Pe.jsxs)(G2,c(c({ref:t,className:zS("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-[8px] border border-gray1 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i},a),{},{style:{zIndex:"99999999"},children:[(0,Pe.jsx)(v3,{}),(0,Pe.jsx)(q2,{className:zS("","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,Pe.jsx)(x3,{})]}))})});b3.displayName=G2.displayName;const y3=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,d3);return(0,Pe.jsx)(Y2,c({ref:t,className:zS("py-1.5 pl-8 pr-2 text-sm",n)},r))});y3.displayName=Y2.displayName;const w3=e.forwardRef((e,t)=>{let{className:n,children:r}=e,i=Yt(e,u3);return(0,Pe.jsxs)(Q2,c(c({ref:t,className:zS("relative flex w-full cursor-default select-none items-center py-1.5 pl-4 pr-2 text-base outline-none focus:text-accent-foreground hover:bg-[#EAECF0] data-[state=selected]:bg-[#EAECF0] data-[disabled]:pointer-events-none data-[disabled]:opacity-50 rounded-[8px]",n)},i),{},{children:[(0,Pe.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Pe.jsx)(J2,{children:(0,Pe.jsx)(a3,{className:"h-4 w-4"})})}),(0,Pe.jsx)(Z2,{children:r})]}))});w3.displayName=Q2.displayName;const k3=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,h3);return(0,Pe.jsx)(n3,c({ref:t,className:zS("-mx-1 my-1 h-px bg-muted",n)},r))});k3.displayName=n3.displayName;const S3=qN({Standardlevering:qN({StandardLeveranse:GN(HN()).optional()}),MaskinmaltPanel:qN({StandardGrunnet:GN(HN()).optional(),Fargekode:HN().optional(),"mellomstr\xf8kMaskinbeisetFabrikk":KN().optional()}),ResterendeKledningMaskinbeiset:KN().optional(),Ultimalt:KN().optional(),"mellomstr\xf8k":KN().optional(),YtterveggGarasjeUisolertBod:KN().optional(),AsfaltVindtettBodGarasjeUtlekting:KN().optional(),Diverse:HN().optional()});function C3(e){if(Array.isArray(e))return e.map(C3).filter(e=>void 0!==e&&null!==e);if("object"===typeof e&&null!==e){const t={};for(const[n,r]of Object.entries(e)){const e=C3(r);void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||(t[n]=e)}return t}return e}const j3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(S3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Boliger: 198 + 48 mm bindingsverk.","Hytte: 148 + 48 mm bindingsverk."],h=["norwegian wood","vindskier, gesims, hj\xf8rnekasser osv."];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Yttervegger&&Object.entries(null===a||void 0===a?void 0:a.Yttervegger).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u,h]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{Yttervegger:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(6))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Yttervegger i tre, pkt. 4 i leveransebeskrivelse"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Standardlevering"}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)(NE,{control:d.control,name:"Standardlevering.StandardLeveranse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Standard leveranse iht leveransebeskrivelse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Standardlevering.StandardLeveranse",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Standardlevering.StandardLeveranse",[...i,e]):d.setValue("Standardlevering.StandardLeveranse",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Maskinmalt panel"}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)(NE,{control:d.control,name:"MaskinmaltPanel.StandardGrunnet",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Standard grunnet utvendig panel maskinbeiset med 1 str\xf8k grunning (hovedkledningen)\u2026"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:h.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("MaskinmaltPanel.StandardGrunnet",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n      ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("MaskinmaltPanel.StandardGrunnet",[...i,e]):d.setValue("MaskinmaltPanel.StandardGrunnet",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)("p",{className:"text-xs text-darkBlack mt-2 font-medium",children:"Italicized note:\u201cImpregnert virke leveres ikke grunnet eller med mellomstr\xf8k.\u201d"}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"ResterendeKledningMaskinbeiset",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"ResterendeKledningMaskinbeiset",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Resterende kledning maskinbeiset"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"MaskinmaltPanel.Fargekode",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Fargekode"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv fargekode"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"MaskinmaltPanel.mellomstr\xf8kMaskinbeisetFabrikk",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"MaskinmaltPanel.mellomstr\xf8kMaskinbeisetFabrikk",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"1 mellomstr\xf8k (maskinbeiset fra fabrikk)"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Ultimalt"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Ultimalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Ultimalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ultimalt (sopp/r\xe5tebeh. + grunning + mellomstr\xf8k)"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Ultimalt Proff 10"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"YtterveggGarasjeUisolertBod",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"YtterveggGarasjeUisolertBod",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Yttervegg i garasje og uisolert bod. Kun maskinbeiset med grunning."]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"mellomstr\xf8k",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"mellomstr\xf8k",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"1 mellomstr\xf8k (maskinbeiset fra fabrikk)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"AsfaltVindtettBodGarasjeUtlekting",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"AsfaltVindtettBodGarasjeUtlekting",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Asfalt vindtett frittst\xe5ende bod/garasje inkl. utlekting"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Diverse"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Diverse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Diverse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Diverse"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(4))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),_3=t=>{var n;let{rooms:r}=t;const[i,a]=(0,e.useState)("");(0,e.useEffect)(()=>{var e;r&&r.length>0&&a(null===(e=r[0])||void 0===e?void 0:e.title)},[r]);const s=r&&r.find(e=>e.title===i),o=null===s||void 0===s||null===(n=s.rooms)||void 0===n?void 0:n.reduce((e,t)=>{var n,r;return e+(null===t||void 0===t||null===(n=t.Kategorinavn)||void 0===n||null===(r=n.filter(e=>"Text"!==e.productOptions))||void 0===r?void 0:r.reduce((e,t)=>{var n,r;return e+(null===t||void 0===t||null===(n=t.produkter)||void 0===n||null===(r=n.filter(e=>null===e||void 0===e?void 0:e.isSelected))||void 0===r?void 0:r.reduce((e,t)=>{return e+((n=null===t||void 0===t?void 0:t.pris)&&parseFloat(n.replace(/\s/g,"").replace(",","."))||0);var n},0))},0))},0),l=(c=o,new Intl.NumberFormat("nb-NO",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(c));var c;return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("h4",{className:"mb-[20px] text-darkBlack font-semibold text-xl",children:"Her f\xf8lger oppsummering"}),(0,Pe.jsx)("div",{className:"flex flex-col gap-6",children:r&&r.length>0&&r.map((e,t)=>(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"mb-4 text-darkBlack text-xl font-semibold",children:null===e||void 0===e?void 0:e.title}),(0,Pe.jsxs)("div",{className:"flex gap-8",children:[(0,Pe.jsx)("div",{className:"w-[70%] flex flex-col gap-4",children:e.rooms&&e.rooms.length>0?e.rooms.map((e,t)=>(0,Pe.jsxs)("div",{className:"flex flex-col gap-4 bg-gray3 p-4 rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-black font-semibold text-lg",children:(null===e||void 0===e?void 0:e.name_no)||(null===e||void 0===e?void 0:e.name)}),null!==e&&void 0!==e&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn.filter(e=>"Text"!==e.productOptions).map((e,t,n)=>{var r;const i=t===n.length-1;return(0,Pe.jsxs)("div",{className:"flex flex-col gap-4",children:[(null===e||void 0===e?void 0:e.produkter)&&(null===e||void 0===e?void 0:e.produkter.length)>0&&(null===e||void 0===e||null===(r=e.produkter)||void 0===r?void 0:r.filter(e=>!0===(null===e||void 0===e?void 0:e.isSelected)).map((t,n,r)=>{var i;const a=n===r.length-1;return(0,Pe.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-4",children:[null!==t&&void 0!==t&&t.Hovedbilde&&(null===t||void 0===t||null===(i=t.Hovedbilde)||void 0===i?void 0:i.length)>0?(0,Pe.jsx)("div",{className:"w-[50px] h-[50px]",children:(0,Pe.jsx)("img",{src:null===t||void 0===t?void 0:t.Hovedbilde[0],alt:"w-full h-full rounded-lg"})}):(0,Pe.jsx)("div",{className:"w-[50px] h-[50px] bg-gray2 rounded-lg"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h4",{className:"text-sm font-medium",children:null===e||void 0===e?void 0:e.navn}),(0,Pe.jsx)("h3",{className:"text-secondary",children:null===t||void 0===t?void 0:t.Produktnavn})]})]}),null!==t&&void 0!==t&&t.IncludingOffer?(0,Pe.jsx)("div",{className:"text-black font-semibold",children:"Standard"}):(0,Pe.jsx)("div",{className:"text-black font-semibold",children:null!==t&&void 0!==t&&t.pris?"kr ".concat(null===t||void 0===t?void 0:t.pris):"-"})]}),(0,Pe.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,Pe.jsxs)("div",{className:"text-secondary text-sm",children:["Leveres av:"," ",(0,Pe.jsx)("span",{className:"text-black",children:"Boligpartner"})]}),(null===t||void 0===t?void 0:t.delieverBy)&&(0,Pe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pe.jsx)("div",{className:"border-l h-[14px] border-[#DCDFEA]"}),(0,Pe.jsxs)("div",{className:"text-secondary text-sm",children:["Assembled by:"," ",(0,Pe.jsx)("span",{className:"text-black",children:null===t||void 0===t?void 0:t.delieverBy})]})]})]})]}),!a&&(0,Pe.jsx)("div",{className:"border-b border-[#DCDFEA]"})]},n)})),!i&&(0,Pe.jsx)("div",{className:"border-b border-[#DCDFEA]"})]},t)}):(0,Pe.jsx)("div",{className:"text-sm text-gray",children:"Ingen romoversikt funnet."})]},t)):"Ingen rom funnet."}),e.rooms&&e.rooms.length>0&&(0,Pe.jsxs)("div",{className:"w-[30%] p-4 bg-[#F5F3FF] h-max rounded-lg flex flex-col gap-3",children:[e.rooms.map((e,t)=>(0,Pe.jsx)("div",{className:"flex flex-col gap-3",children:null!==e&&void 0!==e&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn.filter(e=>"Text"!==e.productOptions).map((e,t)=>{var n;return(0,Pe.jsx)("div",{className:"flex flex-col gap-3",children:(null===e||void 0===e?void 0:e.produkter)&&(null===e||void 0===e?void 0:e.produkter.length)>0&&(null===e||void 0===e||null===(n=e.produkter)||void 0===n?void 0:n.filter(e=>!0===(null===e||void 0===e?void 0:e.isSelected)).map((e,t)=>(0,Pe.jsx)("div",{children:(0,Pe.jsxs)("div",{className:"flex items-center gap-1 justify-between",children:[(0,Pe.jsx)("h3",{className:"text-secondary",children:null===e||void 0===e?void 0:e.Produktnavn}),null!==e&&void 0!==e&&e.IncludingOffer?(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:null!==e&&void 0!==e&&e.pris?"kr ".concat(null===e||void 0===e?void 0:e.pris):"-"})]})},t)))},t)}):(0,Pe.jsx)("div",{className:"text-sm text-gray",children:"Ingen romoversikt funnet."})},t)),(0,Pe.jsx)("div",{className:"border-t border-[#DCDFEA]"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("p",{className:"text-secondary text-sm",children:"Total of Customisation"}),(0,Pe.jsx)("span",{className:"text-base font-medium text-black",children:"kr ".concat(l)})]}),(0,Pe.jsx)("div",{className:"border-t border-[#DCDFEA]"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("p",{className:"text-red text-sm",children:"House Model Price"}),(0,Pe.jsx)("span",{className:"text-base font-medium text-red",children:"5.210.000 NOK"})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("p",{className:"text-red text-sm",children:"Total"}),(0,Pe.jsx)("span",{className:"text-base font-medium text-red",children:"5 211 111 kr"})]})]})]}),t<r.length-1&&(0,Pe.jsx)("div",{className:"border-b border-[#DCDFEA] mt-6"})]},t))})]})},N3=qN({Kundenavn:HN({required_error:"Kundenavn must m\xe5 spesifiseres."}),mobile:HN().refine(e=>{const t=LD(e),n=null!==t&&void 0!==t&&t.countryCallingCode?"+".concat(t.countryCallingCode):"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=qS[n];return!!i&&i(r)},{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}),Serie:HN({required_error:"Serie must m\xe5 spesifiseres."}),Kundenummer:WN({required_error:"Kundenummer er p\xe5krevd."}),Husmodell:HN({required_error:"Husmodell m\xe5 spesifiseres."}),exportType:HN({required_error:"Required"})}),E3=t=>{let{onClose:n,rooms:r}=t;const i=hi().pathname.split("/"),a=i.length>2?i[2]:null,s=(0,e.useRef)(null),o=t_({resolver:l_(N3)}),l=["PDF","PPT","Excel"],d=["BoligPartner Herskapelig","Abc","Xyz"];return(0,e.useEffect)(()=>{if(!a)return;(async()=>{const e=await WS(a);e&&null!==e&&void 0!==e&&e.FinalSubmission&&Object.entries(null===e||void 0===e?void 0:e.FinalSubmission).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&o.setValue(t,n)})})()},[a]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(jE,c(c({},o),{},{children:(0,Pe.jsxs)("form",{onSubmit:o.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(a)),r=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const s=i.data(),o=C3(e),l=c(c({},s),{},{FinalSubmission:o,id:a,updatedAt:r(new Date)});await Lv(t,l),kt.success("Lagret",{position:"top-right"}),n()}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative w-full",children:[(0,Pe.jsxs)("div",{className:"p-6 grid grid-cols-2 gap-4",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:o.control,name:"Kundenavn",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Kundenavn"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kundenavn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:o.control,name:"mobile",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Mobile:"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative flex gap-1.5 items-center",children:(0,Pe.jsx)($D,c(c({placeholder:"Skriv inn Telefon"},t),{},{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"tel"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:o.control,name:"Serie",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Serie:"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===d||void 0===d?void 0:d.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:o.control,name:"Kundenummer",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kundenummer*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kundenummer"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:o.control,name:"Husmodell",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Husmodell:"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Husmodell"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:o.control,name:"exportType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Velg type export av tiltak:"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:l.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{o.setValue("exportType",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"radio",value:e,onChange:e=>{o.setValue("exportType",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})})]}),(0,Pe.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,Pe.jsx)("div",{onClick:()=>o.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})),(0,Pe.jsx)("div",{style:{display:"none"},children:(0,Pe.jsx)("div",{ref:s,children:(0,Pe.jsx)(_3,{rooms:r})})})]})},A3=t=>{var n;let{rooms:r,Prev:i}=t;const[a,s]=(0,e.useState)("");(0,e.useEffect)(()=>{var e;r&&r.length>0&&s(null===(e=r[0])||void 0===e?void 0:e.title)},[r]);const o=r&&r.find(e=>e.title===a),l=null===o||void 0===o||null===(n=o.rooms)||void 0===n?void 0:n.reduce((e,t)=>{var n,r;return e+(null===t||void 0===t||null===(n=t.Kategorinavn)||void 0===n||null===(r=n.filter(e=>"Text"!==e.productOptions))||void 0===r?void 0:r.reduce((e,t)=>{var n,r;return e+(null===t||void 0===t||null===(n=t.produkter)||void 0===n||null===(r=n.filter(e=>null===e||void 0===e?void 0:e.isSelected))||void 0===r?void 0:r.reduce((e,t)=>{return e+((n=null===t||void 0===t?void 0:t.pris)&&parseFloat(n.replace(/\s/g,"").replace(",","."))||0);var n},0))},0))},0),c=(d=l,new Intl.NumberFormat("nb-NO",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(d));var d;const[u,h]=(0,e.useState)(!1),p=()=>{h(!u)},[f,m]=(0,e.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"px-6 py-8",children:[(0,Pe.jsx)("div",{className:"bg-gray3 border border-[#EFF1F5] rounded-lg p-2 flex items-center gap-2 mb-3.5",children:r&&r.map((e,t)=>(0,Pe.jsx)("div",{className:"cursor-pointer w-max py-2 px-3 rounded-lg ".concat(a===(null===e||void 0===e?void 0:e.title)?"bg-white text-purple font-semibold":"text-black"),onClick:()=>s(null===e||void 0===e?void 0:e.title),style:{boxShadow:a===(null===e||void 0===e?void 0:e.title)?"0px 1px 2px 0px #1018280D":""},children:null===e||void 0===e?void 0:e.title},t))}),(0,Pe.jsxs)("div",{className:"border border-[#DCDFEA] rounded-lg",children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl p-5 border-b border-[#DCDFEA]",children:["Her f\xf8lger oppsummering av ",a]}),(0,Pe.jsx)("div",{className:"p-5",children:o&&(0,Pe.jsxs)("div",{className:"flex gap-8",children:[(0,Pe.jsx)("div",{className:"w-[70%] flex flex-col gap-4",children:o.rooms&&o.rooms.length>0?o.rooms.map((e,t)=>(0,Pe.jsxs)("div",{className:"flex flex-col gap-4 bg-gray3 p-4 rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-black font-semibold text-lg",children:(null===e||void 0===e?void 0:e.name_no)||(null===e||void 0===e?void 0:e.name)}),null!==e&&void 0!==e&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn.filter(e=>"Text"!==e.productOptions).map((e,t,n)=>{var r;const i=t===n.length-1;return(0,Pe.jsxs)("div",{className:"flex flex-col gap-4",children:[(null===e||void 0===e?void 0:e.produkter)&&(null===e||void 0===e?void 0:e.produkter.length)>0&&(null===e||void 0===e||null===(r=e.produkter)||void 0===r?void 0:r.filter(e=>!0===(null===e||void 0===e?void 0:e.isSelected)).map((t,n,r)=>{var i;const a=n===r.length-1;return(0,Pe.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-4",children:[null!==t&&void 0!==t&&t.Hovedbilde&&(null===t||void 0===t||null===(i=t.Hovedbilde)||void 0===i?void 0:i.length)>0?(0,Pe.jsx)("div",{className:"w-[50px] h-[50px]",children:(0,Pe.jsx)("img",{src:null===t||void 0===t?void 0:t.Hovedbilde[0],alt:"w-full h-full rounded-lg"})}):(0,Pe.jsx)("div",{className:"w-[50px] h-[50px] bg-gray2 rounded-lg"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h4",{className:"text-sm font-medium",children:null===e||void 0===e?void 0:e.navn}),(0,Pe.jsx)("h3",{className:"text-secondary",children:null===t||void 0===t?void 0:t.Produktnavn})]})]}),null!==t&&void 0!==t&&t.IncludingOffer?(0,Pe.jsx)("div",{className:"text-black font-semibold",children:"Standard"}):(0,Pe.jsx)("div",{className:"text-black font-semibold",children:null!==t&&void 0!==t&&t.pris?"kr ".concat(null===t||void 0===t?void 0:t.pris):"-"})]}),(0,Pe.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,Pe.jsxs)("div",{className:"text-secondary text-sm",children:["Leveres av:"," ",(0,Pe.jsx)("span",{className:"text-black",children:"Boligpartner"})]}),(null===t||void 0===t?void 0:t.delieverBy)&&(0,Pe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pe.jsx)("div",{className:"border-l h-[14px] border-[#DCDFEA]"}),(0,Pe.jsxs)("div",{className:"text-secondary text-sm",children:["Assembled by:"," ",(0,Pe.jsx)("span",{className:"text-black",children:null===t||void 0===t?void 0:t.delieverBy})]})]})]})]}),!a&&(0,Pe.jsx)("div",{className:"border-b border-[#DCDFEA]"})]},n)})),!i&&(0,Pe.jsx)("div",{className:"border-b border-[#DCDFEA]"})]},t)}):(0,Pe.jsx)("div",{className:"text-sm text-gray",children:"Ingen romoversikt funnet."})]},t)):"Ingen rom funnet."}),o.rooms&&o.rooms.length>0&&(0,Pe.jsxs)("div",{className:"w-[30%] p-4 bg-[#F5F3FF] h-max rounded-lg flex flex-col gap-3",children:[o.rooms.map((e,t)=>(0,Pe.jsx)("div",{className:"flex flex-col gap-3",children:null!==e&&void 0!==e&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn.filter(e=>"Text"!==e.productOptions).map((e,t)=>{var n;return(0,Pe.jsx)("div",{className:"flex flex-col gap-3",children:(null===e||void 0===e?void 0:e.produkter)&&(null===e||void 0===e?void 0:e.produkter.length)>0&&(null===e||void 0===e||null===(n=e.produkter)||void 0===n?void 0:n.filter(e=>!0===(null===e||void 0===e?void 0:e.isSelected)).map((e,t)=>(0,Pe.jsx)("div",{children:(0,Pe.jsxs)("div",{className:"flex items-center gap-1 justify-between",children:[(0,Pe.jsx)("h3",{className:"text-secondary",children:null===e||void 0===e?void 0:e.Produktnavn}),null!==e&&void 0!==e&&e.IncludingOffer?(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,Pe.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:null!==e&&void 0!==e&&e.pris?"kr ".concat(null===e||void 0===e?void 0:e.pris):"-"})]})},t)))},t)}):(0,Pe.jsx)("div",{className:"text-sm text-gray",children:"Ingen romoversikt funnet."})},t)),(0,Pe.jsx)("div",{className:"border-t border-[#DCDFEA]"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("p",{className:"text-secondary text-sm",children:"Total of Customisation"}),(0,Pe.jsx)("span",{className:"text-base font-medium text-black",children:"kr ".concat(c)})]}),(0,Pe.jsx)("div",{className:"border-t border-[#DCDFEA]"}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("p",{className:"text-red text-sm",children:"House Model Price"}),(0,Pe.jsx)("span",{className:"text-base font-medium text-red",children:"5.210.000 NOK"})]}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,Pe.jsx)("p",{className:"text-red text-sm",children:"Total"}),(0,Pe.jsx)("span",{className:"text-base font-medium text-red",children:"5 211 111 kr"})]})]})]})})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>i()}),(0,Pe.jsx)(uC,{text:"Forh\xe5ndsvis",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>m(!0)}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>h(!0)})]}),(0,Pe.jsxs)(zE,{isOpen:u,onClose:p,children:[(0,Pe.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Fullf\xf8r innsending av tilak",(0,Pe.jsx)(rC,{onClick:p,className:"text-primary cursor-pointer"})]}),(0,Pe.jsx)(E3,{onClose:()=>h(!1),rooms:r})]}),f&&(0,Pe.jsx)(lC,{onClose:()=>{m(!f)},isOpen:!0,children:(0,Pe.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-lg relative h-auto max-h-[90vh] overflow-y-auto w-[100vw] lg:w-[70vw]",children:[(0,Pe.jsx)(rC,{className:"text-primary absolute top-2.5 right-2.5 w-5 h-5 cursor-pointer",onClick:()=>m(!1)}),(0,Pe.jsx)(_3,{rooms:r})]})})]})},T3=t=>{let{Prev:n}=t;const r=hi().pathname.split("/"),i=r.length>2?r[2]:null,[a,s]=(0,e.useState)(!0),[o,l]=(0,e.useState)([]);return(0,e.useEffect)(()=>{if(!i)return void s(!1);(async()=>{const e=await WS(i);e&&l(e),s(!1)})()},[i]),(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"bg-lightPurple px-8 py-3",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Romkonfigurator"}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her laster du opp plantegninger som bruker AI til \xe5 trekke ut alle rommene, du kan s\xe5 konfigurere hvert enkelt rom."})]}),(0,Pe.jsx)(A3,{rooms:null===o||void 0===o?void 0:o.Plantegninger,Prev:n}),a&&(0,Pe.jsx)(Ra,{})]})},I3=e=>{let{steps:t,className:n="",currentStep:r,setCurrentStep:i,invalidSteps:a,formRefs:s,setInvalidSteps:o}=e;const l=t[r-1];return(0,Pe.jsx)("div",{className:"".concat(n),children:(0,Pe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Pe.jsx)("div",{className:"w-full lg:w-80 bg-[#F9F9FB] border border-[#EFF1F5] rounded-lg p-5 h-full max-h-[500px] overflow-y-auto overFlowAutoY sticky top-[90px]",children:(0,Pe.jsx)("div",{className:"space-y-6",children:t.map((e,n)=>(0,Pe.jsxs)("div",{className:"relative",children:[n<t.length-1&&(0,Pe.jsx)("div",{className:"absolute left-3 z-30 w-0.5 h-16 border-l border-dashed border-[#B9C0D4]"}),(0,Pe.jsxs)("div",{onClick:()=>(async e=>{var t;const n=s.current[r];await(null===n||void 0===n||null===(t=n.validateForm)||void 0===t?void 0:t.call(n))?o(a.filter(e=>e!==r)):a.includes(r)||o([...a,r]),(e<r||e===r+1)&&(i(e),localStorage.setItem("currVerticalIndex",e.toString()))})(e.id),className:"flex items-start space-x-4 rounded-lg transition-all  relative z-40\n                  ".concat(e.id<r||e.id===r||e.id===r+1?"cursor-pointer":"cursor-default opacity-50"),children:[(0,Pe.jsx)("div",{className:"w-6 h-6 flex items-center text-xs rounded-full justify-center ".concat(r===e.id?"bg-primary text-white":r>e.id?a.includes(e.id)?"bg-[#ECE9FE] text-darkBlack":"bg-[#099250]":"bg-[#ECE9FE] text-darkBlack"," "),children:r>e.id&&!a.includes(e.id)?(0,Pe.jsx)("img",{src:gQ,alt:"Completed"}):e.id}),(0,Pe.jsx)("div",{className:"flex-1 min-w-0",children:(0,Pe.jsx)("h3",{className:"text-black text-sm ".concat(r===e.id?"font-semibold":"font-normal"),children:e.title})})]})]},e.id))})}),(0,Pe.jsx)("div",{className:"flex-1",children:(0,Pe.jsx)("div",{children:null===l||void 0===l?void 0:l.content})})]})})},P3=tC("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),R3=tC("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),D3=tC("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),M3=qN({Kundenr:WN({required_error:"Kundenr er p\xe5krevd."}),Tiltakshaver:HN({required_error:"Tiltakshaver er p\xe5krevd."}),Byggeadresse:HN({required_error:"Byggeadresse er p\xe5krevd."}),Postnr:HN({required_error:"Postnr er p\xe5krevd."}),Poststed:HN({required_error:"Poststed er p\xe5krevd."}),Kommune:WN({required_error:"Kommune er p\xe5krevd."}),TelefonMobile:HN().refine(e=>{const t=LD(e),n=null!==t&&void 0!==t&&t.countryCallingCode?"+".concat(t.countryCallingCode):"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=qS[n];return!!i&&i(r)},{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}),TelefonPrivate:HN().refine(e=>{const t=LD(e),n=null!==t&&void 0!==t&&t.countryCallingCode?"+".concat(t.countryCallingCode):"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=qS[n];return!!i&&i(r)},{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}).optional(),Hustype:HN({required_error:"Hustype er p\xe5krevd."}),Finansiering:HN({required_error:"Finansiering er p\xe5krevd."}),Leveransebeskrivelse:HN({required_error:"Leveransebeskrivelse er p\xe5krevd."}),Energiberegning:HN().optional(),Situasjonsplan:HN({required_error:"Situasjonsplan dat er p\xe5krevd."}),TegnNummer:WN({required_error:"Tegn.nummer er p\xe5krevd."}),GjeldendeDato:HN({required_error:"Gjeldende 1:50 tegning datert er p\xe5krevd."}),SignertDato:HN({required_error:"Signert 1:100 tegning datert er p\xe5krevd."}),Referansekalkyledato:HN({required_error:"Referanse / kalkyledato er p\xe5krevd."})}),O3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,Prev:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(M3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=d.watch("Hustype"),h=["Privat","Husbank"],[p,f]=(0,e.useState)(""),[m,g]=(0,e.useState)(null),v=(0,e.useRef)(null),x=async e=>{const t=e.target.value;if(f(t),t)try{const e=await VD.getAddress(t);if(!e.ok)throw new Error("Response status: ".concat(e.status));const n=await e.json();g(n.adresser)}catch(n){console.error(null===n||void 0===n?void 0:n.message)}};return(0,e.useEffect)(()=>{a&&(a&&null!==a&&void 0!==a&&a.Prosjektdetaljer?Object.entries(null===a||void 0===a?void 0:a.Prosjektdetaljer).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)}):d.setValue("Kundenr",Number(null===a||void 0===a?void 0:a.Kundenummer)))},[a,h]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{Prosjektdetaljer:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(2))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Prosjektdetaljer"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kundenr",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kundenr*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kundenr"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Tiltakshaver",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tiltakshaver*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Tiltakshaver"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Byggeadresse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Byggeadresse*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Byggeadresse"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",ref:v,onChange:x,value:p,autoComplete:"off"})),p&&m&&m.length>0&&(0,Pe.jsx)("div",{className:"absolute top-[45px] left-0 bg-white rounded-[8px] w-full h-auto max-h-[300px] overflow-y-auto overFlowYAuto",style:{zIndex:999,boxShadow:"rgba(16, 24, 40, 0.09) 0px 4px 6px -2px, rgba(16, 24, 40, 0.09) 0px 12px 16px -4px"},children:m&&(null===m||void 0===m?void 0:m.map((e,t)=>(0,Pe.jsxs)("div",{className:"p-2 flex items-center gap-2 hover:bg-lightPurple cursor-pointer",onClick:()=>{d.setValue("Byggeadresse","".concat(e.adressetekst," ").concat(e.postnummer," ").concat(e.poststed)),g(null),f("".concat(e.adressetekst," ").concat(e.postnummer," ").concat(e.poststed)),d.setValue("Postnr",e.postnummer),d.setValue("Kommune",Number(e.kommunenummer)),d.setValue("Poststed",e.poststed)},children:[(0,Pe.jsx)("img",{src:BD,alt:"location",className:"w-6 h-6 md:w-7 md:h-7"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("span",{className:"text-black font-medium text-sm",children:"".concat(e.adressetekst,"  ").concat(e.postnummer," ").concat(e.poststed)||"N/A"})})]},t)))})]})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Postnr",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Postnr*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Postnr"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",disable:!0}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Poststed",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Poststed*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Poststed"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",disable:!0}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kommune",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kommune*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kommune"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"number",onChange:e=>t.onChange(Number(e.target.value)||""),disable:!0}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TelefonMobile",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tlf. Mobil*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)($D,c(c({placeholder:"Skriv inn Tlf. Mobil"},t),{},{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"tel"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TelefonPrivate",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tlf. privat"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)($D,c(c({placeholder:"Skriv inn Tlf. privat"},t),{},{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"tel"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"".concat(d.formState.errors.Hustype?"text-red":"text-black"," mb-[6px] text-sm"),children:"Hustype*"}),(0,Pe.jsx)("div",{className:"flex flex-wrap gap-2 lg:gap-4 items-center",children:[{label:"Bolig",icon:(0,Pe.jsx)(P3,{className:"".concat("bolig"===u?"text-[#444CE7]":"text-[#5D6B98]")}),value:"bolig"},{label:"Hytte",icon:(0,Pe.jsx)(R3,{className:"".concat("hytte"===u?"text-[#444CE7]":"text-[#5D6B98]")}),value:"hytte"},{label:"Prosjekt",icon:(0,Pe.jsx)(D3,{className:"".concat("prosjekt"===u?"text-[#444CE7]":"text-[#5D6B98]")}),value:"prosjekt"}].map((e,t)=>(0,Pe.jsxs)("div",{onClick:()=>{d.setValue("Hustype",e.value),d.clearErrors("Hustype")},className:"flex items-center gap-2 border-2 rounded-lg py-2 px-3 cursor-pointer ".concat(u===e.value?"border-[#444CE7]":"border-[#EFF1F5]"),children:[e.icon,(0,Pe.jsx)("div",{className:"text-darkBlack text-sm text-center",children:e.label})]},t))}),d.formState.errors.Hustype&&(0,Pe.jsx)("p",{className:"text-red text-sm mt-1",children:d.formState.errors.Hustype.message})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Finansiering",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Finansiering*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:h.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{d.setValue("Finansiering",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"radio",value:e,onChange:e=>{d.setValue("Finansiering",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Leveransebeskrivelse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Leveransebeskrivelse (Dato)*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Leveransebeskrivelse (Dato)"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Energiberegning",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Energiberegning dat"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Energiberegning dat"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Situasjonsplan",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Situasjonsplan dat*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Situasjonsplan dat"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TegnNummer",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tegn.nummer*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn  Tegn.nummer"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"GjeldendeDato",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Gjeldende 1:50 tegning datert*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Gjeldende 1:50 tegning datert"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"SignertDato",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Signert 1:100 tegning datert*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Signert 1:100 tegning datert"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Referansekalkyledato",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Referanse / kalkyledato*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Referanse / kalkyledato"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i();localStorage.setItem("currIndexBolig",(0).toString())},children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),L3=qN({LassLeveresByggeplass:HN({required_error:"Lass leveres byggeplass uke must m\xe5 spesifiseres."}),TakstolerLeveresUke:HN().optional(),"Spr\xf8ytebetongLeveres":HN({required_error:"Spr\xf8ytebetong leveres (6 uker lev.) must m\xe5 spesifiseres."}),VinduerLeveresUke:HN({required_error:"Vinduer leveres uke must m\xe5 spesifiseres."}),EndringsavtalerHensyntatt:HN().optional(),VedleggKontraktDatert:HN().optional(),Diverse:HN().optional()}),F3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(L3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=Array.from({length:53},(e,t)=>(t+1).toString());return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Leveransedetaljer&&Object.entries(null===a||void 0===a?void 0:a.Leveransedetaljer).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{Leveransedetaljer:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(3))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Leveransedetaljer"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"LassLeveresByggeplass",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"1. lass leveres byggeplass uke*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg uke"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TakstolerLeveresUke",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Takstoler leveres uke"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg uke"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Spr\xf8ytebetongLeveres",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Spr\xf8ytebetong leveres (6 uker lev.)*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg uke"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerLeveresUke",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Vinduer leveres uke*"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg uke"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"EndringsavtalerHensyntatt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Endringsavtaler hensyntatt: NR"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VedleggKontraktDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Vedlegg til kontrakt datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Vedlegg til kontrakt datert"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)(NE,{control:d.control,name:"Diverse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Diverse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(1))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),$3=qN({TypeVegger:HN().optional(),TykkelseVegger:HN().optional(),SkorsteinType:HN().optional(),SkorsteinLeveresAvChimney:HN().optional(),IldstedType:HN().optional(),SkorsteinLeveresAvFireplace:HN().optional(),PlateBoligPartnersdetaljnummerText:HN().optional(),PlateBoligPartnersdetaljnummer:KN().optional(),noRelevant:KN().optional(),BoligPartnersdetaljnummer:KN().optional(),BoligPartnersdetaljnummerText:HN().optional()}),V3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_($3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=d.watch("PlateBoligPartnersdetaljnummer"),h=d.watch("noRelevant");return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.GrunnerOgSkorstein&&Object.entries(null===a||void 0===a?void 0:a.GrunnerOgSkorstein).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{GrunnerOgSkorstein:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(4))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Betong- og murerarbeid, pkt. 2.3 i leveransebeskrivelse."}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"PlateBoligPartnersdetaljnummer",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"PlateBoligPartnersdetaljnummer",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Plate p\xe5 mark iht BoligPartners detalj(er) nr."]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"PlateBoligPartnersdetaljnummerText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Skriv detaljnummer"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Vegger grunnmur pkt 2.3"}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"noRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline ".concat((t.value,"text-black")),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"noRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak."]})})}})})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TypeVegger",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Type"}),(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text",disable:!(!h||!0!==h)}))})}),(0,Pe.jsx)(DE,{})]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TykkelseVegger",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tykkelse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{disable:!(!h||!0!==h),className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Skorstein pkt 2.3"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"SkorsteinType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"SkorsteinLeveresAvChimney",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Leveres av (chimney)"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IldstedType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Ildsted Type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"SkorsteinLeveresAvFireplace",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Leveres av (fireplace)"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"S\xf8ylefundamenter"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"BoligPartnersdetaljnummer",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"BoligPartnersdetaljnummer",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"BoligPartners detalj(er) nr."]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"BoligPartnersdetaljnummerText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn detaljnummer"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(2))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),B3=qN({"BjelkelagForsterkesF\xf8lgende":HN().optional(),IkkeRelevantTiltak:KN().optional(),RomskjemaOverflateskjema:KN().optional(),LydgulvDetaljNr:KN().optional(),Thermogulv:KN().optional(),ThermogulvEkstra:KN().optional(),GulvplaterEkstra:KN().optional(),IkkeRelevantTiltakLoft:KN().optional(),Tekstboks:HN().optional(),Alt:HN().optional()}),U3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(B3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.GulvBjelkelagHimling&&Object.entries(null===a||void 0===a?void 0:a.GulvBjelkelagHimling).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{GulvBjelkelagHimling:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(5))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Bjelkelag, gulv, himling, pkt. 3 i leveransebeskrivelse"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BjelkelagForsterkesF\xf8lgende",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Bjelkelag forsterkes for p\xe5st\xf8p i f\xf8lgende rom"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Bjelkelag over kjeller/underetg., pkt.3.1"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevantTiltak",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevantTiltak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"RomskjemaOverflateskjema",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"RomskjemaOverflateskjema",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Se romskjema/overflateskjema"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"LydgulvDetaljNr",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"LydgulvDetaljNr",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Lydgulv (kt. detail) nr. 251-110 fig.B"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Thermogulv",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Thermogulv",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Thermogulv oStandard: 22 x 620 x 1820 mm [Pristtillegg]"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"ThermogulvEkstra",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"ThermogulvEkstra",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Thermogulv ekstrem: 25 mm [Pristtillegg]"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Loft skal innredes, pkt. 3.3"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevantTiltakLoft",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevantTiltakLoft",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"GulvplaterEkstra",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"GulvplaterEkstra",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Gulvplater oEkstra: 22 mm (Standard)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv type takstein"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)(NE,{control:d.control,name:"Tekstboks",render:e=>{let{field:t,fieldState:n}=e;const r=d.getValues("Tekstboks")||"";return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Tekstboks"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(WE,c(c({placeholder:"Skriv inn"},t),{},{className:"h-[130px] bg-white rounded-[8px] border text-black\n                                  ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),value:r}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(3))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),z3=qN({SeRomskjema:KN().optional(),mm70standard:KN().optional(),mm100Pristillegg:KN().optional(),"InnvendigeHj\xf8rnelister":KN().optional(),IkkeRelevantTiltak:KN().optional(),Tekstboks:HN().optional(),StandardLeveranseLeveransebeskrivelse:KN().optional(),PakkeHusmalt:KN().optional(),"BeisemaltFargePpris\xf8kningFarge":KN().optional(),"BeisemaltFargePpris\xf8kningFargeText":HN().optional(),Ubehandlet:KN().optional(),"pris\xf8kning":HN().optional(),Galvlut:KN().optional(),Hvitmalt:KN().optional(),"BeisemaltFargePpris\xf8kningFarge2":KN().optional(),"BeisemaltFargePpris\xf8kningFarge2Text":HN().optional(),Ubehandlet2:KN().optional(),GestillVelclearSkarve:KN().optional(),Hvitmalt3:KN().optional(),"BeisemaltFargePpris\xf8kningFarge3":KN().optional(),"BeisemaltFargePpris\xf8kningFarge3Text":HN().optional(),Ubehandlet3:KN().optional(),TekstboksLightingOption:HN().optional(),CeilingStandardLeveranseValgteSignatur:KN().optional(),CeilingStandardLeveranseValgteSignaturText:HN().optional(),SeRomskjemaOverflateskJemaAvvik:KN().optional(),SeRomskjemaOverflateskJemaAvvikText:HN().optional(),LydhimlingIhtDetaljrNrFigB:KN().optional()}),H3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(z3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Innervegger&&Object.entries(null===a||void 0===a?void 0:a.Innervegger).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{Innervegger:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(7))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Innervegger, pkt. 5 i leveransebeskrivelse"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Alternativer for veggkonstruksjon"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"SeRomskjema",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"SeRomskjema",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Se romskjema/ overflatebevaranskjema."]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"mm70standard",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"mm70standard",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"70 mm (standard)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"mm100Pristillegg",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"mm100Pristillegg",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"100 mm (Pristillegg)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"InnvendigeHj\xf8rnelister",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"InnvendigeHj\xf8rnelister",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Innvendige hj\xf8rnelister type hulkil 12 x 12 mm grunnet, farge iht veggplater (Standard ved liggende panel) (Pristillegg)"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Innvendig paneling"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevantTiltak",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevantTiltak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Tekstboks",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tekstboks"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Interior Lighting"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StandardLeveranseLeveransebeskrivelse",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardLeveranseLeveransebeskrivelse",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse ihtl leveransebeskrivelse for valgte signatur"]})})}})}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Lighting Options Row 1:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"PakkeHusmalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"PakkeHusmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Pakke 1: Husmalt"]})})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"BeisemaltFargePpris\xf8kningFarge",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"BeisemaltFargePpris\xf8kningFarge",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Beisemalt i samme farge (pris\xf8kning) Farge"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"BeisemaltFargePpris\xf8kningFargeText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Ubehandlet",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Ubehandlet",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ubehandlet"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"pris\xf8kning",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"pris\xf8kning"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Lighting Options Row 2:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Galvlut",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Galvlut",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Galvlut"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hvitmalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Hvitmalt"]})})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"BeisemaltFargePpris\xf8kningFarge2",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"BeisemaltFargePpris\xf8kningFarge2",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Beisemalt i samme farge (pris\xf8kning) Farge"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"BeisemaltFargePpris\xf8kningFarge2Text",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Ubehandlet2",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Ubehandlet2",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ubehandlet"]})})}})}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Lighting Options Row 3:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"GestillVelclearSkarve",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"GestillVelclearSkarve",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Gestill (velclear ou skarve)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hvitmalt3",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hvitmalt3",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Hvitmalt"]})})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"BeisemaltFargePpris\xf8kningFarge3",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"BeisemaltFargePpris\xf8kningFarge3",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Beisemalt i samme farge (pris\xf8kning) Farge"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"BeisemaltFargePpris\xf8kningFarge3Text",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Ubehandlet3",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Ubehandlet3",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ubehandlet (pris\xf8kning)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TekstboksLightingOption",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tekstboks"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Ceiling"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"CeilingStandardLeveranseValgteSignatur",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"CeilingStandardLeveranseValgteSignatur",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse ihtl leveransebeskr for valgte signatur"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"CeilingStandardLeveranseValgteSignaturText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"SeRomskjemaOverflateskJemaAvvik",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"SeRomskjemaOverflateskJemaAvvik",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Se romskjema/overflatesk jema for avvik fra standard"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"SeRomskjemaOverflateskJemaAvvikText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"LydhimlingIhtDetaljrNrFigB",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"LydhimlingIhtDetaljrNrFigB",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Lydhimling iht. detaljr nr. 231-110 fig.B"]})})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(5))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),W3=qN({StandardUndertak:KN().optional(),PappskingelTypeSortSkiferKarakter:KN().optional(),PappTekkingTypeModerne:KN().optional(),UndertakDpapp:KN().optional(),Tekstboks:HN().optional(),TaksteinType:KN().optional(),TaksteinFarge:HN().optional(),TaksteinKode:HN().optional(),"HeisesP\xe5Tak":KN().optional(),"Avl\xf8pslufteribetongdobbkr":KN().optional(),"Sn\xf8fangereMeter":HN().optional(),"Sn\xf8fangereFarge":HN().optional(),"StandardTakbeleggsl\xf8sning":KN().optional(),UndertakDpappText:HN().optional(),Hytte:GN(HN()).optional(),Hus:GN(HN()).optional(),Struktur:KN().optional(),GlattPristilleggAreal:KN().optional(),GlattPristilleggArealText:HN().optional(),Sort:KN().optional(),"R\xf8d":KN().optional(),"Sn\xf8fangereKroker":KN().optional(),FeieplassPristillegg:KN().optional(),GradrennerBeslagFargeAlt:HN().optional()}),K3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(W3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Karakter skingel","Tar takstein","V-lytte","Moderne papp"],h=["Moderne hus med lav vinkel: Takpapp","Funkis: Puden","Alle andre hus: takstein"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.TakogTaktekkingTakogTaktekking&&Object.entries(null===a||void 0===a?void 0:a.TakogTaktekkingTakogTaktekking).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u,h]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{TakogTaktekkingTakogTaktekking:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(8))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Tak/taktekking, pkt. 6 i leveransebeskrivelse"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Standardalternativer"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StandardUndertak",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardUndertak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard undertak"]})})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"UndertakDpapp",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"UndertakDpapp",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Undertak med D-papp"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"UndertakDpappText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Tekstboks",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tekstboks"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Tekstboks"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Informasjonsseksjoner"}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)(NE,{control:d.control,name:"Hytte",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Hytte"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Hytte",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Hytte",[...i,e]):d.setValue("Hytte",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-3",children:(0,Pe.jsx)(NE,{control:d.control,name:"Hus",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Hus"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:h.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Hus",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Hus",[...i,e]):d.setValue("Hus",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Roofing Type Selection"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"PappskingelTypeSortSkiferKarakter",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"PappskingelTypeSortSkiferKarakter",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Pappskingel type sort skifer (Karakter)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"PappTekkingTypeModerne",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"PappTekkingTypeModerne",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Papptekking type med av Moderne, Prosjekt, V og Moderne hytter"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StandardTakbeleggsl\xf8sning",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardTakbeleggsl\xf8sning",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse med takbelegg inkl. sluk og med Silver parapetbeslag"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Takstein (Roof Tiles)"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Roof Tile Type Selection:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TaksteinType",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"TaksteinType",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Takstein type"]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Struktur",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Struktur",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Struktur (standard)"]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"GlattPristilleggAreal",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"GlattPristilleggAreal",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Glatt (pristillegg) Areal:"]}),(0,Pe.jsx)(DE,{})]})}}),(0,Pe.jsx)(NE,{control:d.control,name:"GlattPristilleggArealText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Roof Tile Color:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TaksteinFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Takstein farge"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Takstein farge"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TaksteinKode",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Takstein kode"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"HeisesP\xe5Tak",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"HeisesP\xe5Tak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Heises p\xe5 tak"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Avl\xf8pslufteribetongdobbkr",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Avl\xf8pslufteribetongdobbkr",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Avl\xf8pspllass i betong, dobh kt (pristillegg)"]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Sn\xf8fangere (Snow Guards)"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sn\xf8fangereFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Sn\xf8fangere farge"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv fargekode"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sn\xf8fangereMeter",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Sn\xf8fangere meter"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Antall meter"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Edge Treatment:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"GradrennerBeslagFargeAlt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Gratb\xe6mer/beslag farge"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sort",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sort",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Sort"]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"R\xf8d",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"R\xf8d",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"R\xf8d"]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Endelige alternativer:"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sn\xf8fangereKroker",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sn\xf8fangereKroker",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Sn\xf8fangere kroker i grad (pristillegg)"]}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"FeieplassPristillegg",render:e=>{let{field:t}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"FeieplassPristillegg",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Feieplass (pristillegg)"]}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(6))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),G3=qN({"Hovedd\xf8r":qN({StandardHvitmalt:KN().optional(),Slagretning:HN().optional(),"D\xf8rFargeNCSKode":HN().optional(),"D\xf8rType":HN().optional(),KarmUtforingHvitmalt:KN().optional(),"Tilleggsl\xe5sType":HN().optional(),"Sikkerhetsl\xe5sType":HN().optional(),"SigaWigluvRundtD\xf8r":HN().optional()}),"BalkongTerrassed\xf8r":qN({StandardHvitmalt:KN().optional(),HvitUtforingMDF:KN().optional(),MedTerskelforing:HN().optional(),UtvendigInnvendigSylinder:HN().optional(),"Likel\xe5smedHovedd\xf8r":HN().optional(),HvitmaltUtvLakkertInnv:HN().optional(),AndreFargekombinasjoner:HN().optional(),Slagretning:HN().optional(),"SigaWigluvRundtD\xf8r":HN().optional()}),"D\xf8rerIboligrom":qN({StandardTypeVision:KN().optional(),AnnenType:HN().optional(),"Glassd\xf8rAntall":HN().optional(),"Skyved\xf8rMedGlass":HN().optional(),"Skyved\xf8rskarmSeparatOrdre":HN().optional(),KarmType:GN(HN()).optional(),Terskeltype:GN(HN()).optional(),Dempelister:HN().optional(),SpalteIoverkarm:HN().optional(),Hengsler:HN().optional(),SporForBelegg:HN().optional(),Slagretning:HN().optional(),"L\xf8seForinger":KN().optional(),VridereType:GN(HN()).optional(),AlternativVrider:HN().optional()}),"D\xf8rerIKjellerrom":qN({SammeSom:KN().optional(),AnnenType:HN().optional(),IkkeRelevant:KN().optional()}),Garasjeport:qN({IkkeRelevant:KN().optional(),StandardHorisontal:KN().optional(),AlternativType:HN().optional(),"BreddeXh\xf8yde":HN().optional(),"Port\xe5pner":KN().optional(),MicroSenderAntall:HN().optional(),AlternativRAL:HN().optional()}),"Bodd\xf8r":qN({IkkeRelevant:KN().optional(),PThvitmaltMedKarm:KN().optional(),MaltKarmAnnenFarge:HN().optional(),"Likel\xe5sMedHovedd\xf8r":HN().optional(),Alt:HN().optional()})}),q3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(G3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Standard","Ubehandlet","Lakkert"],h=["Standard","Ubehandlet","Lakkert"],p=["Habo A2012 (St\xe5l)","183 (St\xe5l)"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.D\u00f8rer&&Object.entries(null===a||void 0===a?void 0:a.D\u00f8rer).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u,h,p]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{"D\xf8rer":o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(9))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"D\xf8rer"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Hovedd\xf8r"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.StandardHvitmalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.StandardHvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.Slagretning",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Slagretning 150 cm"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.D\xf8rFargeNCSKode",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"D\xf8r farge NCS Kode"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv kode"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.D\xf8rType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"D\xf8r type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg type"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.KarmUtforingHvitmalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"mmMineralull",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Karm/utforing hvitmalt"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.Tilleggsl\xe5sType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Tilleggsl\xe5s type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg type"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.Sikkerhetsl\xe5sType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Sikkerhetsl\xe5s type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.SigaWigluvRundtD\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Siga Wigluv rundt d\xf8r"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Balkong/Terrassed\xf8r"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.StandardHvitmalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.StandardHvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt utvendig/innvendig"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.HvitUtforingMDF",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.HvitUtforingMDF",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Hvit utforing i MDF"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.MedTerskelforing",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Med terskelforing"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.UtvendigInnvendigSylinder",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Utvendig/innvendig sylinder"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.Likel\xe5smedHovedd\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Likel\xe5s med hovedd\xf8r"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.HvitmaltUtvLakkertInnv",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Hvitmalt utv. og lakkert innv."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.AndreFargekombinasjoner",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Andre fargekombinasjoner"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.Slagretning",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Slagretning"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalkongTerrassed\xf8r.SigaWigluvRundtD\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Siga Wigluv rundt d\xf8r"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"D\xf8rer i boligrom"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.StandardTypeVision",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"D\xf8rerIboligrom.StandardTypeVision",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard type Visjon1, hvit"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.AnnenType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Annen type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Glassd\xf8rAntall",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Glassd\xf8r antall"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Skyved\xf8rMedGlass",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Skyved\xf8r med glass"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Skyved\xf8rskarmSeparatOrdre",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Skyved\xf8rskarm separat ordre"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv kode"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.KarmType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Karm type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("D\xf8rerIboligrom.KarmType",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("D\xf8rerIboligrom.KarmType",[...i,e]):d.setValue("D\xf8rerIboligrom.KarmType",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Terskeltype",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Terskeltype"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:h.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("D\xf8rerIboligrom.Terskeltype",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("D\xf8rerIboligrom.Terskeltype",[...i,e]):d.setValue("D\xf8rerIboligrom.Terskeltype",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Dempelister",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Dempelister"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.SpalteIoverkarm",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Spalte i overkarm"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Hengsler",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Hengsler"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.SporForBelegg",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Spor for belegg"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.Slagretning",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Slagretning 150 cm"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.L\xf8seForinger",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"mmMineralull",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"L\xf8se foringer"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.VridereType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Vridere type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:p.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("D\xf8rerIboligrom.VridereType",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("D\xf8rerIboligrom.VridereType",[...i,e]):d.setValue("D\xf8rerIboligrom.VridereType",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIboligrom.AlternativVrider",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alternativ vrider"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"D\xf8rer i kjellerrom"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIKjellerrom.SammeSom",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"D\xf8rerIKjellerrom.SammeSom",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Samme som 1. etg."]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIKjellerrom.AnnenType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Annen type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"D\xf8rerIKjellerrom.IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"D\xf8rerIKjellerrom.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Garasjeport"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Garasjeport.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.StandardHorisontal",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Garasjeport.StandardHorisontal",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard 26x21 Horisontal"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.AlternativType",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alternativ type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.BreddeXh\xf8yde",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Bredde x h\xf8yde"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.Port\xe5pner",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Garasjeport.Port\xe5pner",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Port\xe5pner"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.MicroSenderAntall",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Micro-sender antall"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Garasjeport.AlternativRAL",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alternativ RAL"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Bodd\xf8r"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Bodd\xf8r.IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Bodd\xf8r.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Bodd\xf8r.PThvitmaltMedKarm",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Bodd\xf8r.PThvitmaltMedKarm",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"PT-303 hvitmalt med karm"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Bodd\xf8r.MaltKarmAnnenFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Malt karm annen farge"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Bodd\xf8r.Likel\xe5sMedHovedd\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Likel\xe5s med hovedd\xf8r"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Bodd\xf8r.Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(7))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),X3=qN({"Hovedd\xf8r":qN({StandardHvitmalt:KN().optional(),VinduerNedTilGulv:HN().optional(),Alt:HN().optional(),MDFUtforing:KN().optional(),HvitmaltUtvLakkertInnv:HN().optional(),TilpassesVeggkledning:KN().optional(),TilpassesVeggkledningDate:HN().optional(),AndreFargekombinasjoner:HN().optional(),SigaWigluvRundtVindu:HN().optional(),"L\xf8seForinger":KN().optional(),ForingerSeparatOrdre:HN().optional()}),Sprosser:qN({mmVertikale:KN().optional(),mmHorisontale:KN().optional(),mmHorisontaleKlips:KN().optional(),mmHorisontaleKlips50:KN().optional()}),VinduerIKjellerrom:qN({IkkeRelevant:KN().optional(),LikSometg:KN().optional(),Alt:HN().optional()}),VinduerUninnredetLoft:qN({IkkeRelevant:KN().optional(),StandardUtenUtforing:KN().optional(),"Utf\xf8resTil":HN().optional(),SigaWigluvRundtVindu:HN().optional(),MDFUtforingHvitmalt:HN().optional()}),TakvinduVelux:qN({IkkeRelevant:KN().optional(),Type:HN().optional(),"St\xf8rrelse":HN().optional(),Utforing:HN().optional()})}),Y3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(X3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=d.watch("Hovedd\xf8r.TilpassesVeggkledning"),h=["Abc","Xyz"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Vinduer&&Object.entries(null===a||void 0===a?void 0:a.Vinduer).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,h]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{Vinduer:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(10))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Vinduer"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Hovedd\xf8r"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.StandardHvitmalt",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.StandardHvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt utv. og innv."]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.VinduerNedTilGulv",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Vinduer ned til gulv"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.MDFUtforing",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"MDFUtforing",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"MDF utforing"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.HvitmaltUtvLakkertInnv",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Hvitmalt utv./lakkert innv."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===h||void 0===h?void 0:h.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.AndreFargekombinasjoner",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Andre fargekombinasjoner"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===h||void 0===h?void 0:h.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.TilpassesVeggkledning",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.TilpassesVeggkledning",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Tilpasses veggkledning (romskjema)"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.TilpassesVeggkledningDate",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Skriv detaljnummer"},t),{},{disable:u,className:"bg-white rounded-[8px] border text-black ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.L\xf8seForinger",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.L\xf8seForinger",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"L\xf8se foringer"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.ForingerSeparatOrdre",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":""," mb-[6px] text-sm"),children:"Foringer separat ordre"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg dato"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Hovedd\xf8r.SigaWigluvRundtVindu",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Siga Wigluv rundt vindu"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===h||void 0===h?void 0:h.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Sprosser"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sprosser.mmVertikale",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sprosser.mmVertikale",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"65 mm vertikale"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sprosser.mmHorisontale",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sprosser.mmHorisontale",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"65 mm horisontale"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sprosser.mmHorisontaleKlips",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sprosser.mmHorisontaleKlips",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"25 mm horisontale klips"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sprosser.mmHorisontaleKlips50",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sprosser.mmHorisontaleKlips50",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"50 mm horisontale klips"]})})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Vinduer i kjellerrom"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerIKjellerrom.IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"VinduerIKjellerrom.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerIKjellerrom.LikSometg",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"VinduerIKjellerrom.LikSometg",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Lik som 1. etg."]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerIKjellerrom.Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Vinduer uinnredet loft"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerUninnredetLoft.IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"VinduerUninnredetLoft.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerUninnredetLoft.StandardUtenUtforing",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"VinduerUninnredetLoft.StandardUtenUtforing",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard uten utforing"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerUninnredetLoft.Utf\xf8resTil",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Utf\xf8res til"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerUninnredetLoft.SigaWigluvRundtVindu",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Siga Wigluv rundt vindu"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===h||void 0===h?void 0:h.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VinduerUninnredetLoft.MDFUtforingHvitmalt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"MDF utforing hvitmalt"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===h||void 0===h?void 0:h.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Takvindu Velux"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TakvinduVelux.IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"TakvinduVelux.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TakvinduVelux.Type",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Type"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TakvinduVelux.St\xf8rrelse",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"St\xf8rrelse"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TakvinduVelux.Utforing",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Utforing"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(8))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),Q3=qN({StandardHvitmaltUtvogInnv:KN().optional(),LeveranseomfangIhtInnredningspakke:KN().optional(),Prisgruppe:HN().optional(),Alt:HN().optional(),GarderobeTilvalg:HN().optional(),Kombigarderobe:HN().optional(),"Badeinteri\xf8rTilvalg":HN().optional(),IkkeRelevantBathroom:KN().optional(),LeveranseomfangIhtVedlagtTegning:KN().optional(),AltBad:HN().optional()}),Z3=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(Q3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Abc","Xyz"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Kj\u00f8kkenGarderobeBad&&Object.entries(null===a||void 0===a?void 0:a.Kj\u00f8kkenGarderobeBad).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{"Kj\xf8kkenGarderobeBad":o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(11))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Kj\xf8kken, Garderobe, Bad"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StandardHvitmaltUtvogInnv",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardHvitmaltUtvogInnv",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt utv. og innv."]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"LeveranseomfangIhtInnredningspakke",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"LeveranseomfangIhtInnredningspakke",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveranseomfang iht. innredningspakke"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Prisgruppe",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Prisgruppe"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Prisgruppe"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv type takstein"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"GarderobeTilvalg",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Garderobe tilvalg"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===u||void 0===u?void 0:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kombigarderobe",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kombigarderobe: 100/60/50/40 cm"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Badeinteri\xf8rTilvalg",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Badeinteri\xf8r tilvalg"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===u||void 0===u?void 0:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevantBathroom",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevantBathroom",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant (Bathroom)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"LeveranseomfangIhtVedlagtTegning",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"LeveranseomfangIhtVedlagtTegning",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveranseomfang iht. vedlagt tegning"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"AltBad",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt. (Bad)"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(9))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),J3=qN({IkkeRelevant:KN().optional(),"H\xe5ndrekkeVangerHvit":KN().optional(),TrinnLakkertEikHelStav:KN().optional(),TrinnLakkertEikHelStavText:HN().optional(),"St\xe5lspiler":KN().optional(),AltBad:HN().optional(),Alternativ:HN().optional(),Farge:HN().optional(),Montering:GN(HN()).optional(),"M\xe5ltaking":GN(HN()).optional(),Kommentar:HN().optional(),StandardHvitgrunnet:KN().optional(),HimlingCount:KN().optional(),VeggCount:KN().optional(),Furu:KN().optional()}),e4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(J3)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=d.watch("TrinnLakkertEikHelStav"),h=(0,e.useMemo)(()=>["Trappeleverand\xf8r","Lokal"],[]),p=(0,e.useMemo)(()=>["Trappeleverand\xf8r","Lokal"],[]),f=(0,e.useMemo)(()=>["Abc","Xyz"],[]);return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.TrappogLuker&&Object.entries(null===a||void 0===a?void 0:a.TrappogLuker).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,d]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{TrappogLuker:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(12))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Trapp og Luker"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"H\xe5ndrekkeVangerHvit",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"H\xe5ndrekkeVangerHvit",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"H\xe5ndrekke/vanger hvit"]})})}})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"TrinnLakkertEikHelStav",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"TrinnLakkertEikHelStav",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Trinn lakkert eik / hel stav"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"TrinnLakkertEikHelStavText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,disabled:u,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===f||void 0===f?void 0:f.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"St\xe5lspiler",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"St\xe5lspiler",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"St\xe5lspiler"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"AltBad",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alt. (Bad)"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Alternativ",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alternativ"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv type takstein"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Farge",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Farge"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===f||void 0===f?void 0:f.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Montering",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Montering"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:h.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Montering",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Montering",[...i,e]):d.setValue("Montering",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"M\xe5ltaking",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"M\xe5ltaking"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:p.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("M\xe5ltaking",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("M\xe5ltaking",[...i,e]):d.setValue("M\xe5ltaking",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kommentar",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kommentar"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Kommentar"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{className:"col-span-3",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack font-semibold text-base mb-3",children:"Isolerte inspeksjonsluker:"}),(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StandardHvitgrunnet",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardHvitgrunnet",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitgrunnet 55x55 (Tek 07)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"HimlingCount",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"HimlingCount",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Himling [count]"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VeggCount",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"VeggCount",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Vegg [count]"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Furu",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Furu",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Furu (ikke Tek 07)"]})})}})})]})]})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(10))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),t4=qN({"StandardBalkongOverBakkeniv\xe5":KN().optional(),RekkverkGalvanisertGlass:KN().optional(),RekkverkPulverlakkert:KN().optional(),Alternativ:HN().optional(),PlattingVedInngangDxB:HN().optional(),TerrasseUtenTrinnDxB:HN().optional()}),n4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(t4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Abc","Xyz"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.BalkongTerrasse&&Object.entries(null===a||void 0===a?void 0:a.BalkongTerrasse).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{BalkongTerrasse:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(13))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Balkong & Terrasse"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StandardBalkongOverBakkeniv\xe5",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardBalkongOverBakkeniv\xe5",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard balkong over bakkeniv\xe5"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"RekkverkGalvanisertGlass",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"RekkverkGalvanisertGlass",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Rekkverk galvanisert m. glass"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"RekkverkPulverlakkert",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"RekkverkPulverlakkert",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Rekkverk pulverlakkert (RAL 7024)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Alternativ",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Alternativ"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"PlattingVedInngangDxB",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Platting ved inngang DxB"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===u||void 0===u?void 0:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TerrasseUtenTrinnDxB",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Terrasse uten trinn DxB"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsx)(f3,{children:null===u||void 0===u?void 0:u.map((e,t)=>(0,Pe.jsx)(w3,{value:e,children:e},t))})})]})})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(11))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),r4=qN({IsolerteInspeksjonsluker:qN({StandardOmrammingMedSilverBeslag:KN().optional(),KunSidebordBeiset:KN().optional(),"mellomstr\xf8k":HN().optional()}),Innvendig:qN({Taklist:GN(HN()).optional(),Gulvlist:GN(HN()).optional(),Gerikt:GN(HN()).optional(),EikIdeal:HN().optional()}),Kommentar:HN().optional()}),i4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(r4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Hvitmalt","Lakkert","Ubehandlet"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.ListverkogBelistning&&Object.entries(null===a||void 0===a?void 0:a.ListverkogBelistning).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{ListverkogBelistning:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(14))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Listverk og Belistning"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Isolerte inspeksjonsluker"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IsolerteInspeksjonsluker.StandardOmrammingMedSilverBeslag",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IsolerteInspeksjonsluker.StandardOmrammingMedSilverBeslag",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard omramming med Silver beslag"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IsolerteInspeksjonsluker.KunSidebordBeiset",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"KunSidebordBeiset",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Kun sidebord beiset (1 str\xf8k, hvit)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IsolerteInspeksjonsluker.mellomstr\xf8k",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"1 mellomstr\xf8k"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Innvendig"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Innvendig.Taklist",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Taklist 21x45"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Innvendig.Taklist",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Innvendig.Taklist",[...i,e]):d.setValue("Innvendig.Taklist",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Innvendig.Gulvlist",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Gulvlist 12x58"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Innvendig.Gulvlist",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Innvendig.Gulvlist",[...i,e]):d.setValue("Innvendig.Gulvlist",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Innvendig.Gerikt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Gerikt 12x58"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map(e=>{var r;return(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{const n=t.value||[],r=n.includes(e)?n.filter(t=>t!==e):[...n,e];d.setValue("Innvendig.Gerikt",r)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?d.setValue("Innvendig.Gerikt",[...i,e]):d.setValue("Innvendig.Gerikt",i.filter(t=>t!==e))}}),(0,Pe.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Innvendig.EikIdeal",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Eik ideal 15x45"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kommentar",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kommentar (listverk)"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(12))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),a4=qN({BalansertVentilasjon:KN().optional(),KundetilpassetPlasseringAggregat:KN().optional(),Date:HN().optional(),MarkSignature:KN().optional(),VentilatorNoremaTiltakshaver:HN().optional(),"Sentralst\xf8vsuger":KN().optional(),AntallKontakter:HN().optional(),Sugebrett:HN().optional(),Kommentar:HN().optional()}),s4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(a4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["Norema","Tiltakshaver"],h=["2","3","4","Alt"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.VentilasjonSentralst\u00f8vsuger&&Object.entries(null===a||void 0===a?void 0:a.VentilasjonSentralst\u00f8vsuger).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a,u,h]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{"VentilasjonSentralst\xf8vsuger":o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(15))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Ventilasjon og Sentralst\xf8vsuger"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BalansertVentilasjon",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"BalansertVentilasjon",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Balansert ventilasjon"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"KundetilpassetPlasseringAggregat",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"KundetilpassetPlasseringAggregat",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Kundetilpasset plassering av aggregat"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Date",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Date"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg dato"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"MarkSignature",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"MarkSignature",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"VentilatorNoremaTiltakshaver",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Ventilator fra Norema / tiltakshaver"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:u.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{d.setValue("VentilatorNoremaTiltakshaver",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"radio",value:e,onChange:e=>{d.setValue("VentilatorNoremaTiltakshaver",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sentralst\xf8vsuger",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Sentralst\xf8vsuger",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Sentralst\xf8vsuger V-30"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"AntallKontakter",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Antall kontakter"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:h.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{d.setValue("AntallKontakter",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"radio",value:e,onChange:e=>{d.setValue("AntallKontakter",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Sugebrett",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Sugebrett"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsxs)(p3,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,Pe.jsx)(g3,{className:"bg-white rounded-[8px] border text-black\n                              ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),children:(0,Pe.jsx)(m3,{placeholder:"Velg"})}),(0,Pe.jsx)(b3,{className:"bg-white",children:(0,Pe.jsxs)(f3,{children:[(0,Pe.jsx)(w3,{value:"Abc",children:"Abc"}),(0,Pe.jsx)(w3,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kommentar",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kommentar"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(13))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),o4=qN({IkkeRelevant:KN().optional(),StkPulverapparat:KN().optional(),LeveresDKFH:KN().optional()}),l4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(o4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Brannvern&&Object.entries(null===a||void 0===a?void 0:a.Brannvern).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{Brannvern:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(16))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Brannvern"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StkPulverapparat",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StkPulverapparat",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"1 stk. 6 kg pulverapparat"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"LeveresDKFH",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"LeveresDKFH",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveres av DK/FH"]})})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(14))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),c4=qN({IkkeRelevant:KN().optional(),Leveres:KN().optional(),"Utg\xe5r":KN().optional(),Punkt:HN().optional()}),d4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(c4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.TekniskeInstallasjoner&&Object.entries(null===a||void 0===a?void 0:a.TekniskeInstallasjoner).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{TekniskeInstallasjoner:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(17))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Tekniske Installasjoner"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"IkkeRelevant",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Leveres",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Leveres",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveres"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Utg\xe5r",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Utg\xe5r",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Utg\xe5r"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Punkt",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Punkt (referanse)"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(15))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),u4=qN({Byggeplassinformasjon:KN().optional(),StiftpakkeNr:HN().optional(),"ByggetillatelseVilk\xe5rDatert":HN().optional(),"Kj\xf8kkentegningDatert":HN().optional(),OverflateskjemaDatert:HN().optional(),FramdriftsplanDatert:HN().optional(),EnergiberegningTegn:HN().optional(),KontraktSignert:KN().optional(),"UtstyrslisteTilR\xf8rleggerDatert":HN().optional(),ProduktinfoInnvPanel:KN().optional(),StiftpakkeLimLeveresFor:HN().optional(),BestillingsoversiktDatert:HN().optional(),FargekodeFabrikkmalteProdukter:HN().optional(),MarkSignatureSelgerSelger:KN().optional(),MarkSignatureByggeleder:KN().optional(),MarkSignatureTiltakshaver:KN().optional()}),h4=(0,e.forwardRef)((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(u4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));const u=["17\xb0","21\xb0","34\xb0"];return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.Sluttf\u00f8ringDokumentasjon&&Object.entries(null===a||void 0===a?void 0:a.Sluttf\u00f8ringDokumentasjon).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{"Sluttf\xf8ringDokumentasjon":o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(18))}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Sluttf\xf8ring og Dokumentasjon"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StiftpakkeLimLeveresFor",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"mb-2 ".concat(n.error?"text-red":"text-black"," text-sm"),children:"Stiftpakke/lim leveres for"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:u.map(e=>(0,Pe.jsxs)("div",{className:"relative flex items-center gap-2 cursor-pointer",onClick:()=>{d.setValue("StiftpakkeLimLeveresFor",e)},children:[(0,Pe.jsx)("input",{className:"bg-white rounded-[8px] border text-black\n        ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," h-4 w-4 accent-[#444CE7]"),type:"radio",value:e,onChange:e=>{d.setValue("StiftpakkeLimLeveresFor",e.target.value)},checked:t.value===e}),(0,Pe.jsx)("p",{className:"text-black text-sm",children:e})]},e))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"StiftpakkeNr",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Stiftpakke nr."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"ByggetillatelseVilk\xe5rDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Byggetillatelse m/vilk\xe5r datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Kj\xf8kkentegningDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Kj\xf8kkentegning datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"OverflateskjemaDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Overflateskjema datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"FramdriftsplanDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Framdriftsplan datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"EnergiberegningTegn",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Energiberegning / tegn."}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv her"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"Byggeplassinformasjon",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"Byggeplassinformasjon",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Byggeplassinformasjon"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"KontraktSignert",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"KontraktSignert",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Kontrakt signert"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"UtstyrslisteTilR\xf8rleggerDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Utstyrsliste til r\xf8rlegger datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg dato"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"ProduktinfoInnvPanel",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"ProduktinfoInnvPanel",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Produktinfo innv. panel"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"BestillingsoversiktDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Bestillingsoversikt datert"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Velg dato"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"date"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"FargekodeFabrikkmalteProdukter",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Fargekode fabrikkmalte produkter"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"NCS S 0502Y"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsxs)("div",{className:"mt-1 col-span-3",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack font-medium text-base mb-4",children:"Signering"}),(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"MarkSignatureSelgerSelger",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"MarkSignatureSelgerSelger",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature (Selger)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"MarkSignatureByggeleder",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"MarkSignatureByggeleder",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature (Byggeleder)"]})})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"MarkSignatureTiltakshaver",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"MarkSignatureTiltakshaver",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature (Tiltakshaver)"]})})}})})]})]})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(16))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),p4=qN({StandardLeveranseLufieKrokFarge:KN().optional(),StandardLeveranseLufieKrokFargeText:HN().optional(),TakfotbeslagFarge:HN().optional(),"AntallNedl\xf8p":HN().optional(),"FargeNedl\xf8p":HN().optional(),OverliggereTilRenneknekter:KN().optional()}),f4=(0,e.forwardRef)((t,n)=>{let{Next:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=hi().pathname.split("/"),l=o.length>2?o[2]:null,d=t_({resolver:l_(p4)});(0,e.useImperativeHandle)(n,()=>({validateForm:async()=>await d.trigger()}));return(0,e.useEffect)(()=>{a&&null!==a&&void 0!==a&&a.TakrennerBeslag&&Object.entries(null===a||void 0===a?void 0:a.TakrennerBeslag).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n&&d.setValue(t,n)})},[a]),(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(jE,c(c({},d),{},{children:(0,Pe.jsx)("form",{onSubmit:d.handleSubmit(async e=>{try{const t=Rg(BS,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Rv(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=C3(e),d=c(c({},a),{},{TakrennerBeslag:o,id:l,updatedAt:n(new Date)});s(d),await Lv(t,d),kt.success("Lagret",{position:"top-right"}),r()}catch(t){console.error("error:",t),kt.error("Something went wrong!",{position:"top-right"})}}),className:"relative",children:(0,Pe.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,Pe.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Takrenner/beslag"}),(0,Pe.jsx)("div",{className:"p-4 md:p-5",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(NE,{control:d.control,name:"StandardLeveranseLufieKrokFarge",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"StandardLeveranseLufieKrokFarge",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse med lufie-krok, Farge"]})})}}),(0,Pe.jsx)(NE,{control:d.control,name:"StandardLeveranseLufieKrokFargeText",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"TakfotbeslagFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Takfotbeslag farge"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"AntallNedl\xf8p",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Antall nedl\xf8p"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"FargeNedl\xf8p",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm"),children:"Farge nedl\xf8p"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:d.control,name:"OverliggereTilRenneknekter",render:e=>{let{field:t}=e;return(0,Pe.jsx)(TE,{children:(0,Pe.jsxs)("p",{className:"text-sm flex gap-2 items-baseline cursor-pointer ".concat((t.value,"text-black")),onClick:()=>t.onChange(!t.value),children:[(0,Pe.jsx)("input",{type:"checkbox",id:"OverliggereTilRenneknekter",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Overliggere til renneknekter"]})})}})})]})}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,Pe.jsx)("div",{onClick:()=>{d.reset(),i(),localStorage.setItem("currVerticalIndex",String(17))},children:(0,Pe.jsx)(uC,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})}))})}),m4=t=>{let{Next:n,Prev:r}=t;const[i,a]=(0,e.useState)(1),[s,o]=(0,e.useState)([]);(0,e.useEffect)(()=>{if("undefined"!==typeof window){const e=localStorage.getItem("currVerticalIndex");a(e?Number(e):1)}},[i]);const l=async()=>{var e,t;const n=null===(e=v[i-1])||void 0===e?void 0:e.content;if("function"===typeof(null===n||void 0===n||null===(t=n.props)||void 0===t?void 0:t.validateForm)){if(!await n.props.validateForm())return void(s.includes(i)||o([...s,i]));o(s.filter(e=>e!==i))}if(i<v.length){a(i+1)}},c=()=>{if(i>1){a(i-1)}},d=(0,e.useRef)({}),u=hi().pathname.split("/"),h=u.length>2?u[2]:null,[p,f]=(0,e.useState)(!0),[m,g]=(0,e.useState)([]);(0,e.useEffect)(()=>{if(!h)return void f(!1);(async()=>{const e=await WS(h);e&&g(e),f(!1)})()},[h]);const v=[{id:1,title:"Prosjektdetaljer",content:(0,Pe.jsx)(O3,{ref:e=>{d.current[1]=e},handleNext:l,Prev:r,roomsData:m,setRoomsData:g})},{id:2,title:"Leveransedetaljer",content:(0,Pe.jsx)(F3,{ref:e=>{d.current[2]=e},handleNext:l,handlePrevious:c,roomsData:m,setRoomsData:g})},{id:3,title:"Betong- og murerarbeid",content:(0,Pe.jsx)(V3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[3]=e},roomsData:m,setRoomsData:g})},{id:4,title:"Bjelkelag, gulv, himling",content:(0,Pe.jsx)(U3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[4]=e},roomsData:m,setRoomsData:g})},{id:5,title:"Yttervegger",content:(0,Pe.jsx)(j3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[5]=e},roomsData:m,setRoomsData:g})},{id:6,title:"Innervegger",content:(0,Pe.jsx)(H3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[6]=e},roomsData:m,setRoomsData:g})},{id:7,title:"Tak/Taktekking",content:(0,Pe.jsx)(K3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[7]=e},roomsData:m,setRoomsData:g})},{id:8,title:"D\xf8rer",content:(0,Pe.jsx)(q3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[8]=e},roomsData:m,setRoomsData:g})},{id:9,title:"Vinduer",content:(0,Pe.jsx)(Y3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[9]=e},roomsData:m,setRoomsData:g})},{id:10,title:"Kj\xf8kken, Garderobe, Bad",content:(0,Pe.jsx)(Z3,{handleNext:l,handlePrevious:c,ref:e=>{d.current[10]=e},roomsData:m,setRoomsData:g})},{id:11,title:"Trapp og Luker",content:(0,Pe.jsx)(e4,{handleNext:l,handlePrevious:c,ref:e=>{d.current[11]=e},roomsData:m,setRoomsData:g})},{id:12,title:"Balkong & Terrasse",content:(0,Pe.jsx)(n4,{handleNext:l,handlePrevious:c,ref:e=>{d.current[12]=e},roomsData:m,setRoomsData:g})},{id:13,title:"Listverk og Belistning",content:(0,Pe.jsx)(i4,{handleNext:l,handlePrevious:c,ref:e=>{d.current[13]=e},roomsData:m,setRoomsData:g})},{id:14,title:"Ventilasjon og Sentralst\xf8vsuger",content:(0,Pe.jsx)(s4,{handleNext:l,handlePrevious:c,ref:e=>{d.current[14]=e},roomsData:m,setRoomsData:g})},{id:15,title:"Brannvern",content:(0,Pe.jsx)(l4,{handleNext:l,handlePrevious:c,ref:e=>{d.current[15]=e},roomsData:m,setRoomsData:g})},{id:16,title:"Tekniske Installasjoner",content:(0,Pe.jsx)(d4,{handleNext:l,handlePrevious:c,ref:e=>{d.current[16]=e},roomsData:m,setRoomsData:g})},{id:17,title:"Sluttf\xf8ring og Dokumentasjon",content:(0,Pe.jsx)(h4,{handlePrevious:c,handleNext:l,ref:e=>{d.current[17]=e},roomsData:m,setRoomsData:g})},{id:18,title:"Takrenner/beslag",content:(0,Pe.jsx)(f4,{handlePrevious:c,Next:n,ref:e=>{d.current[18]=e},roomsData:m,setRoomsData:g})}];return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"bg-lightPurple px-4 md:px-6 desktop:px-8 py-3",children:[(0,Pe.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Boligkonfigurator"}),(0,Pe.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her melder du opp huset til produksjon til BoligPartner."})]}),(0,Pe.jsx)("div",{className:"px-4 md:px-6 desktop:px-8 my-12",children:(0,Pe.jsx)(I3,{steps:v,currentStep:i,setCurrentStep:a,invalidSteps:s,formRefs:d,setInvalidSteps:o})}),p&&(0,Pe.jsx)(Ra,{})]})},g4=()=>{const[t,n]=(0,e.useState)(null);(0,e.useEffect)(()=>{if("undefined"!==typeof window){const e=localStorage.getItem("currIndexBolig");n(e?Number(e):0)}},[t]);const r=()=>{"number"===typeof t&&t<a.length-1&&n(t+1)},i=()=>{"number"===typeof t&&t>0&&n(t-1)};(0,e.useEffect)(()=>{window.scrollTo(0,0)},[t]);const a=[{name:"Romkonfigurator",component:(0,Pe.jsx)(NQ,{Prev:i,Next:r})},{name:"Oppmelding av tiltak",component:(0,Pe.jsx)(m4,{Next:r,Prev:i})},{name:"Oppsummering",component:(0,Pe.jsx)(T3,{Prev:i})}];return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)(vQ,{steps:a,currIndex:t,setCurrIndex:n})})},v4=tC("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),x4=tC("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),b4=["className"],y4=["className"],w4=["className"],k4=["className"],S4=["className"],C4=["className"],j4=["className"],_4=["className"],N4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,b4);return(0,Pe.jsx)("div",{className:"relative w-full overflow-auto",children:(0,Pe.jsx)("table",c({ref:t,className:zS("w-full caption-bottom text-sm",n)},r))})});N4.displayName="Table";const E4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,y4);return(0,Pe.jsx)("thead",c({ref:t,className:zS("[&_tr]:border-b border-gray2",n)},r))});E4.displayName="TableHeader";const A4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,w4);return(0,Pe.jsx)("tbody",c({ref:t,className:zS("[&_tr:last-child]:border-0",n)},r))});A4.displayName="TableBody";const T4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,k4);return(0,Pe.jsx)("tfoot",c({ref:t,className:zS("border-t border-gray2 bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",n)},r))});T4.displayName="TableFooter";const I4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,S4);return(0,Pe.jsx)("tr",c({ref:t,className:zS("border-b border-gray2 transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",n)},r))});I4.displayName="TableRow";const P4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,C4);return(0,Pe.jsx)("th",c({ref:t,className:zS("h-10 px-6 py-3 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] text-[#667085] dark:text-zinc-400 bg-[#F9FAFB]",n)},r))});P4.displayName="TableHead";const R4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,j4);return(0,Pe.jsx)("td",c({ref:t,className:zS("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n)},r))});R4.displayName="TableCell";const D4=e.forwardRef((e,t)=>{let{className:n}=e,r=Yt(e,_4);return(0,Pe.jsx)("caption",c({ref:t,className:zS("mt-4 text-sm text-zinc-500 dark:text-zinc-400",n)},r))});function M4(e,t){return"function"===typeof e?e(t):e}function O4(e,t){return n=>{t.setState(t=>c(c({},t),{},{[e]:M4(n,t[e])}))}}function L4(e){return e instanceof Function}function F4(e,t){const n=[],r=e=>{e.forEach(e=>{n.push(e);const i=t(e);null!=i&&i.length&&r(i)})};return r(e),n}function $4(e,t,n){let r,i=[];return a=>{let s;n.key&&n.debug&&(s=Date.now());const o=e(a),l=o.length!==i.length||o.some((e,t)=>i[t]!==e);if(!l)return r;let c;if(i=o,n.key&&n.debug&&(c=Date.now()),r=t(...o),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-s))/100,t=Math.round(100*(Date.now()-c))/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c\u23f1 ".concat(i(t,5)," /").concat(i(e,5)," ms"),"\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(".concat(Math.max(0,Math.min(120-120*r,120)),"deg 100% 31%);"),null==n?void 0:n.key)}return r}}function V4(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}D4.displayName="TableCaption";const B4="debugHeaders";function U4(e,t,n){var r;let i={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(i,e)}),i}const z4={createTable:e=>{e.getHeaderGroups=$4(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,s;const o=null!=(a=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?a:[],l=null!=(s=null==i?void 0:i.map(e=>n.find(t=>t.id===e)).filter(Boolean))?s:[];return H4(t,[...o,...n.filter(e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id))),...l],e)},V4(e.options,B4)),e.getCenterHeaderGroups=$4(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>H4(t,n=n.filter(e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id))),e,"center"),V4(e.options,B4)),e.getLeftHeaderGroups=$4(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const a=null!=(i=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[];return H4(t,a,e,"left")},V4(e.options,B4)),e.getRightHeaderGroups=$4(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const a=null!=(i=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[];return H4(t,a,e,"right")},V4(e.options,B4)),e.getFooterGroups=$4(()=>[e.getHeaderGroups()],e=>[...e].reverse(),V4(e.options,B4)),e.getLeftFooterGroups=$4(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),V4(e.options,B4)),e.getCenterFooterGroups=$4(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),V4(e.options,B4)),e.getRightFooterGroups=$4(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),V4(e.options,B4)),e.getFlatHeaders=$4(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),V4(e.options,B4)),e.getLeftFlatHeaders=$4(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),V4(e.options,B4)),e.getCenterFlatHeaders=$4(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),V4(e.options,B4)),e.getRightFlatHeaders=$4(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),V4(e.options,B4)),e.getCenterLeafHeaders=$4(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),V4(e.options,B4)),e.getLeftLeafHeaders=$4(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),V4(e.options,B4)),e.getRightLeafHeaders=$4(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),V4(e.options,B4)),e.getLeafHeaders=$4(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,n)=>{var r,i,a,s,o,l;return[...null!=(r=null==(i=e[0])?void 0:i.headers)?r:[],...null!=(a=null==(s=t[0])?void 0:s.headers)?a:[],...null!=(o=null==(l=n[0])?void 0:l.headers)?o:[]].map(e=>e.getLeafHeaders()).flat()},V4(e.options,B4))}};function H4(e,t,n,r){var i,a;let s=0;const o=function(e,t){void 0===t&&(t=1),s=Math.max(s,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var n;null!=(n=e.columns)&&n.length&&o(e.columns,t+1)},0)};o(e);let l=[];const c=(e,t)=>{const i={depth:t,id:[r,"".concat(t)].filter(Boolean).join("_"),headers:[]},a=[];e.forEach(e=>{const s=[...a].reverse()[0];let o,l=!1;if(e.column.depth===i.depth&&e.column.parent?o=e.column.parent:(o=e.column,l=!0),s&&(null==s?void 0:s.column)===o)s.subHeaders.push(e);else{const i=U4(n,o,{id:[r,t,o.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?"".concat(a.filter(e=>e.column===o).length):void 0,depth:t,index:a.length});i.subHeaders.push(e),a.push(i)}i.headers.push(e),e.headerGroup=i}),l.push(i),t>0&&c(a,t-1)},d=t.map((e,t)=>U4(n,e,{depth:s,index:t}));c(d,s-1),l.reverse();const u=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],u(e.subHeaders).forEach(e=>{let{colSpan:n,rowSpan:i}=e;t+=n,r.push(i)})):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}});return u(null!=(i=null==(a=l[0])?void 0:a.headers)?i:[]),l}const W4=(e,t,n,r,i,a,s)=>{let o={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(o._valuesCache.hasOwnProperty(t))return o._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(o._valuesCache[t]=n.accessorFn(o.original,r),o._valuesCache[t]):void 0},getUniqueValues:t=>{if(o._uniqueValuesCache.hasOwnProperty(t))return o._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(o._uniqueValuesCache[t]=n.columnDef.getUniqueValues(o.original,r),o._uniqueValuesCache[t]):(o._uniqueValuesCache[t]=[o.getValue(t)],o._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=o.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=a?a:[],getLeafRows:()=>F4(o.subRows,e=>e.subRows),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let e=[],t=o;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:$4(()=>[e.getAllLeafColumns()],t=>t.map(t=>function(e,t,n,r){const i={id:"".concat(t.id,"_").concat(n.id),row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:$4(()=>[e,n,t,i],(e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue}),V4(e.options,"debugCells"))};return e._features.forEach(r=>{null==r.createCell||r.createCell(i,n,t,e)},{}),i}(e,o,t,t.id)),V4(e.options,"debugRows")),_getAllCellsByColumnId:$4(()=>[o.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),V4(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const t=e._features[l];null==t||null==t.createRow||t.createRow(o,e)}return o},K4={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},G4=(e,t,n)=>{var r,i;const a=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(i=e.getValue(t))||null==(i=i.toString())||null==(i=i.toLowerCase())?void 0:i.includes(a))};G4.autoRemove=e=>r5(e);const q4=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};q4.autoRemove=e=>r5(e);const X4=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};X4.autoRemove=e=>r5(e);const Y4=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Y4.autoRemove=e=>r5(e);const Q4=(e,t,n)=>!n.some(n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))});Q4.autoRemove=e=>r5(e)||!(null!=e&&e.length);const Z4=(e,t,n)=>n.some(n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)});Z4.autoRemove=e=>r5(e)||!(null!=e&&e.length);const J4=(e,t,n)=>e.getValue(t)===n;J4.autoRemove=e=>r5(e);const e5=(e,t,n)=>e.getValue(t)==n;e5.autoRemove=e=>r5(e);const t5=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};t5.resolveFilterValue=e=>{let[t,n]=e,r="number"!==typeof t?parseFloat(t):t,i="number"!==typeof n?parseFloat(n):n,a=null===t||Number.isNaN(r)?-1/0:r,s=null===n||Number.isNaN(i)?1/0:i;if(a>s){const e=a;a=s,s=e}return[a,s]},t5.autoRemove=e=>r5(e)||r5(e[0])&&r5(e[1]);const n5={includesString:G4,includesStringSensitive:q4,equalsString:X4,arrIncludes:Y4,arrIncludesAll:Q4,arrIncludesSome:Z4,equals:J4,weakEquals:e5,inNumberRange:t5};function r5(e){return void 0===e||null===e||""===e}const i5={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>c({columnFilters:[]},e),getDefaultOptions:e=>({onColumnFiltersChange:O4("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"===typeof r?n5.includesString:"number"===typeof r?n5.inNumberRange:"boolean"===typeof r||null!==r&&"object"===typeof r?n5.equals:Array.isArray(r)?n5.arrIncludes:n5.weakEquals},e.getFilterFn=()=>{var n,r;return L4(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:n5[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find(t=>t.id===e.id))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.setFilterValue=n=>{t.setColumnFilters(t=>{const r=e.getFilterFn(),i=null==t?void 0:t.find(t=>t.id===e.id),a=M4(n,i?i.value:void 0);var s;if(a5(r,a,e))return null!=(s=null==t?void 0:t.filter(t=>t.id!==e.id))?s:[];const o={id:e.id,value:a};var l;return i?null!=(l=null==t?void 0:t.map(t=>t.id===e.id?o:t))?l:[]:null!=t&&t.length?[...t,o]:[o]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var r;return null==(r=M4(t,e))?void 0:r.filter(e=>{const t=n.find(t=>t.id===e.id);if(t){if(a5(t.getFilterFn(),e.value,t))return!1}return!0})})},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function a5(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||"undefined"===typeof t||"string"===typeof t&&!t}const s5={sum:(e,t,n)=>n.reduce((t,n)=>{const r=n.getValue(e);return t+("number"===typeof r?r:0)},0),min:(e,t,n)=>{let r;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)}),r},max:(e,t,n)=>{let r;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)}),r},extent:(e,t,n)=>{let r,i;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)))}),[r,i]},mean:(e,t)=>{let n=0,r=0;if(t.forEach(t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map(t=>t.getValue(e));if(!function(e){return Array.isArray(e)&&e.every(e=>"number"===typeof e)}(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),i=n.sort((e,t)=>e-t);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},o5={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>c({grouping:[]},e),getDefaultOptions:e=>({onGroupingChange:O4("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"===typeof r?s5.sum:"[object Date]"===Object.prototype.toString.call(r)?s5.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return L4(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:s5[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}};const l5={getInitialState:e=>c({columnOrder:[]},e),getDefaultOptions:e=>({onColumnOrderChange:O4("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=$4(e=>[m5(t,e)],t=>t.findIndex(t=>t.id===e.id),V4(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=m5(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=m5(t,n);return(null==(r=i[i.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=$4(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,n)=>r=>{let i=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex(t=>t.id===e);r>-1&&i.push(n.splice(r,1)[0])}i=[...i,...n]}else i=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter(e=>!t.includes(e.id));if("remove"===n)return r;const i=t.map(t=>e.find(e=>e.id===t)).filter(Boolean);return[...i,...r]}(i,t,n)},V4(e.options,"debugTable"))}},c5={getInitialState:e=>c({columnPinning:{left:[],right:[]}},e),getDefaultOptions:e=>({onColumnPinningChange:O4("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,i,a,s,o,l;return"right"===n?{left:(null!=(a=null==e?void 0:e.left)?a:[]).filter(e=>!(null!=r&&r.includes(e))),right:[...(null!=(s=null==e?void 0:e.right)?s:[]).filter(e=>!(null!=r&&r.includes(e))),...r]}:"left"===n?{left:[...(null!=(o=null==e?void 0:e.left)?o:[]).filter(e=>!(null!=r&&r.includes(e))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter(e=>!(null!=r&&r.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=r&&r.includes(e))),right:(null!=(i=null==e?void 0:e.right)?i:[]).filter(e=>!(null!=r&&r.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var n,r,i;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(i=t.options.enableColumnPinning)?i:t.options.enablePinning)||r)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(e=>e.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(e=>null==r?void 0:r.includes(e)),s=n.some(e=>null==i?void 0:i.includes(e));return a?"left":!!s&&"right"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[i])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=$4(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.column.id))},V4(t.options,"debugRows")),e.getLeftVisibleCells=$4(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>{const n=(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>c(c({},e),{},{position:"left"}));return n},V4(t.options,"debugRows")),e.getRightVisibleCells=$4(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>{const n=(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>c(c({},e),{},{position:"right"}));return n},V4(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var i,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.left)?void 0:i.length)||(null==(a=r.right)?void 0:a.length))},e.getLeftLeafColumns=$4(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),V4(e.options,"debugColumns")),e.getRightLeafColumns=$4(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),V4(e.options,"debugColumns")),e.getCenterLeafColumns=$4(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.id))},V4(e.options,"debugColumns"))}};const d5={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},u5={getDefaultColumnDef:()=>d5,getInitialState:e=>c({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}},e),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:O4("columnSizing",e),onColumnSizingInfoChange:O4("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:d5.minSize,null!=(r=null!=a?a:e.columnDef.size)?r:d5.size),null!=(i=e.columnDef.maxSize)?i:d5.maxSize)},e.getStart=$4(e=>[e,m5(t,e),t.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),V4(t.options,"debugColumns")),e.getAfter=$4(e=>[e,m5(t,e),t.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),V4(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(t=>{let n=e.id,{[n]:r}=t;return Yt(t,[n].map(s))})},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=null==r?void 0:r.getCanResize();return a=>{if(!r||!i)return;if(null==a.persist||a.persist(),p5(a)&&a.touches&&a.touches.length>1)return;const s=e.getSize(),o=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[r.id,r.getSize()]],l=p5(a)?Math.round(a.touches[0].clientX):a.clientX,d={},u=(e,n)=>{"number"===typeof n&&(t.setColumnSizingInfo(e=>{var r,i;const a="rtl"===t.options.columnResizeDirection?-1:1,s=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*a,o=Math.max(s/(null!=(i=null==e?void 0:e.startSize)?i:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,n]=e;d[t]=Math.round(100*Math.max(n+n*o,0))/100}),c(c({},e),{},{deltaOffset:s,deltaPercentage:o})}),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing(e=>c(c({},e),d)))},h=e=>u("move",e),p=e=>{u("end",e),t.setColumnSizingInfo(e=>c(c({},e),{},{isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=function(e){return e||("undefined"!==typeof document?document:null)}(n),m={moveHandler:e=>h(e.clientX),upHandler:e=>{null==f||f.removeEventListener("mousemove",m.moveHandler),null==f||f.removeEventListener("mouseup",m.upHandler),p(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(e.touches[0].clientX),!1),upHandler:e=>{var t;null==f||f.removeEventListener("touchmove",g.moveHandler),null==f||f.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),p(null==(t=e.touches[0])?void 0:t.clientX)}},v=!!function(){if("boolean"===typeof h5)return h5;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(f6){e=!1}return h5=e,h5}()&&{passive:!1};p5(a)?(null==f||f.addEventListener("touchmove",g.moveHandler,v),null==f||f.addEventListener("touchend",g.upHandler,v)):(null==f||f.addEventListener("mousemove",m.moveHandler,v),null==f||f.addEventListener("mouseup",m.upHandler,v)),t.setColumnSizingInfo(e=>c(c({},e),{},{startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}};let h5=null;function p5(e){return"touchstart"===e.type}const f5={getInitialState:e=>c({columnVisibility:{}},e),getDefaultOptions:e=>({onColumnVisibilityChange:O4("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(t=>c(c({},t),{},{[e.id]:null!=n?n:!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return null==(n=i.length?i.some(e=>e.getIsVisible()):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=$4(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),V4(t.options,"debugRows")),e.getVisibleCells=$4(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,n)=>[...e,...t,...n],V4(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>$4(()=>[n(),n().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),V4(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t(0,()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t(0,()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t(0,()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t(0,()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,n)=>c(c({},e),{},{[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function m5(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const g5={getInitialState:e=>c({expanded:{}},e),getDefaultOptions:e=>({onExpandedChange:O4("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}}else e._queue(()=>{t=!0})},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"===typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some(e=>!e.getIsExpanded())},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{const n=e.split(".");t=Math.max(t,n.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const a=!0===r||!(null==r||!r[e.id]);let o={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach(e=>{o[e]=!0}):o=r,n=null!=(i=n)?i:!a,!a&&n)return c(c({},o),{},{[e.id]:!0});if(a&&!n){const t=e.id,{[t]:n}=o;return Yt(o,[t].map(s))}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,i;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(i=e.subRows)||!i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},v5={getInitialState:e=>c(c({},e),{},{pagination:c(c({},{pageIndex:0,pageSize:10}),null==e?void 0:e.pagination)}),getDefaultOptions:e=>({onPaginationChange:O4("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}}else e._queue(()=>{t=!0})},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>M4(t,e)),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination(n=>{let r=M4(t,n.pageIndex);const i="undefined"===typeof e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),c(c({},n),{},{pageIndex:r})})},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination(e=>{const n=Math.max(1,M4(t,e.pageSize)),r=e.pageSize*e.pageIndex,i=Math.floor(r/n);return c(c({},e),{},{pageIndex:i,pageSize:n})})},e.setPageCount=t=>e.setPagination(n=>{var r;let i=M4(t,null!=(r=e.options.pageCount)?r:-1);return"number"===typeof i&&(i=Math.max(-1,i)),c(c({},n),{},{pageCount:i})}),e.getPageOptions=$4(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map((e,t)=>t)),t},V4(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},x5={getInitialState:e=>c({rowPinning:{top:[],bottom:[]}},e),getDefaultOptions:e=>({onRowPinningChange:O4("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],s=i?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],o=new Set([...s,e.id,...a]);t.setRowPinning(e=>{var t,r,i,a,s,l;return"bottom"===n?{top:(null!=(i=null==e?void 0:e.top)?i:[]).filter(e=>!(null!=o&&o.has(e))),bottom:[...(null!=(a=null==e?void 0:e.bottom)?a:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)]}:"top"===n?{top:[...(null!=(s=null==e?void 0:e.top)?s:[]).filter(e=>!(null!=o&&o.has(e))),...Array.from(o)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter(e=>!(null!=o&&o.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=o&&o.has(e))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter(e=>!(null!=o&&o.has(e)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return"function"===typeof r?r(e):null==(n=null!=r?r:i)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(e=>null==r?void 0:r.includes(e)),s=n.some(e=>null==i?void 0:i.includes(e));return a?"top":!!s&&"bottom"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=null==(n="top"===i?t.getTopRows():t.getBottomRows())?void 0:n.map(e=>{let{id:t}=e;return t});return null!=(r=null==a?void 0:a.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var i,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.top)?void 0:i.length)||(null==(a=r.bottom)?void 0:a.length))},e._getPinnedRows=(t,n,r)=>{var i;return(null==(i=e.options.keepPinnedRows)||i?(null!=n?n:[]).map(t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null}):(null!=n?n:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>c(c({},e),{},{position:r}))},e.getTopRows=$4(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),V4(e.options,"debugRows")),e.getBottomRows=$4(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),V4(e.options,"debugRows")),e.getCenterRows=$4(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter(e=>!r.has(e.id))},V4(e.options,"debugRows"))}},b5={getInitialState:e=>c({rowSelection:{}},e),getDefaultOptions:e=>({onRowSelectionChange:O4("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t="undefined"!==typeof t?t:!e.getIsAllRowsSelected();const r=c({},n),i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(e=>{e.getCanSelect()&&(r[e.id]=!0)}):i.forEach(e=>{delete r[e.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r="undefined"!==typeof t?t:!e.getIsAllPageRowsSelected(),i=c({},n);return e.getRowModel().rows.forEach(t=>{y5(i,t.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=$4(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?w5(e,n):{rows:[],flatRows:[],rowsById:{}},V4(e.options,"debugTable")),e.getFilteredSelectedRowModel=$4(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?w5(e,n):{rows:[],flatRows:[],rowsById:{}},V4(e.options,"debugTable")),e.getGroupedSelectedRowModel=$4(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?w5(e,n):{rows:[],flatRows:[],rowsById:{}},V4(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some(e=>e.getCanSelect()&&!n[e.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(e=>!n[e.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var s;if(n="undefined"!==typeof n?n:!i,e.getCanSelect()&&i===n)return a;const o=c({},a);return y5(o,e.id,n,null==(s=null==r?void 0:r.selectChildren)||s,t),o})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return k5(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===S5(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===S5(e,n)},e.getCanSelect=()=>{var n;return"function"===typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"===typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"===typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},y5=(e,t,n,r,i)=>{var a;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(a=s.subRows)&&a.length&&s.getCanSelectSubRows()&&s.subRows.forEach(t=>y5(e,t.id,n,r,i))};function w5(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(e,t){return e.map(e=>{var t;const s=k5(e,n);if(s&&(r.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e=c(c({},e),{},{subRows:a(e.subRows)})),s)return e}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function k5(e,t){var n;return null!=(n=t[e.id])&&n}function S5(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let i=!0,a=!1;return e.subRows.forEach(e=>{if((!a||i)&&(e.getCanSelect()&&(k5(e,t)?a=!0:i=!1),e.subRows&&e.subRows.length)){const n=S5(e,t);"all"===n?a=!0:"some"===n?(a=!0,i=!1):i=!1}}),i?"all":!!a&&"some"}const C5=/([0-9]+)/gm;function j5(e,t){return e===t?0:e>t?1:-1}function _5(e){return"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"===typeof e?e:""}function N5(e,t){const n=e.split(C5).filter(Boolean),r=t.split(C5).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),i=parseInt(e,10),a=parseInt(t,10),s=[i,a].sort();if(isNaN(s[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(s[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}}return n.length-r.length}const E5={alphanumeric:(e,t,n)=>N5(_5(e.getValue(n)).toLowerCase(),_5(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>N5(_5(e.getValue(n)),_5(t.getValue(n))),text:(e,t,n)=>j5(_5(e.getValue(n)).toLowerCase(),_5(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>j5(_5(e.getValue(n)),_5(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},basic:(e,t,n)=>j5(e.getValue(n),t.getValue(n))},A5={getInitialState:e=>c({sorting:[]},e),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:O4("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return E5.datetime;if("string"===typeof n&&(r=!0,n.split(C5).length>1))return E5.alphanumeric}return r?E5.text:E5.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"===typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return L4(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:E5[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a="undefined"!==typeof n&&null!==n;t.setSorting(s=>{const o=null==s?void 0:s.find(t=>t.id===e.id),l=null==s?void 0:s.findIndex(t=>t.id===e.id);let d,u=[],h=a?n:"desc"===i;var p;(d=null!=s&&s.length&&e.getCanMultiSort()&&r?o?"toggle":"add":null!=s&&s.length&&l!==s.length-1?"replace":o?"toggle":"replace","toggle"===d&&(a||i||(d="remove")),"add"===d)?(u=[...s,{id:e.id,desc:h}],u.splice(0,u.length-(null!=(p=t.options.maxMultiSortColCount)?p:Number.MAX_SAFE_INTEGER))):u="toggle"===d?s.map(t=>t.id===e.id?c(c({},t),{},{desc:h}):t):"remove"===d?s.filter(t=>t.id!==e.id):[{id:e.id,desc:h}];return u})},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),s=e.getIsSorted();return s?!!(s===a||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===s?"asc":"desc"):a},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find(t=>t.id===e.id);return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},T5=[z4,f5,l5,c5,K4,i5,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>c({globalFilter:void 0},e),getDefaultOptions:e=>({onGlobalFilterChange:O4("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"===typeof r||"number"===typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(i=t.options.enableFilters)||i)&&(null==(a=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||a)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>n5.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return L4(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:n5[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},A5,o5,g5,v5,x5,b5,u5];function I5(e){var t,n;const r=[...T5,...null!=(t=e._features)?t:[]];let i={_features:r};const a=i._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(i)),{});let s=c(c({},{}),null!=(n=e.initialState)?n:{});i._features.forEach(e=>{var t;s=null!=(t=null==e.getInitialState?void 0:e.getInitialState(s))?t:s});const o=[];let l=!1;const d={_features:r,options:c(c({},a),e),initialState:s,_queue:e=>{o.push(e),l||(l=!0,Promise.resolve().then(()=>{for(;o.length;)o.shift()();l=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{i.setState(i.initialState)},setOptions:e=>{const t=M4(e,i.options);i.options=(e=>i.options.mergeOptions?i.options.mergeOptions(a,e):c(c({},a),e))(t)},getState:()=>i.options.state,setState:e=>{null==i.options.onStateChange||i.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==i.options.getRowId?void 0:i.options.getRowId(e,t,n))?r:"".concat(n?[n.id,t].join("."):t)},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?i.getPrePaginationRowModel():i.getRowModel()).rowsById[e];if(!n&&(n=i.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:$4(()=>[i.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},c(c({header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null}},i._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{})),e)},V4(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:$4(()=>[i._getColumnDefs()],e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map(e=>{const a=function(e,t,n,r){var i,a;const s=c(c({},e._getDefaultColumnDef()),t),o=s.accessorKey;let l,d=null!=(i=null!=(a=s.id)?a:o?"function"===typeof String.prototype.replaceAll?o.replaceAll(".","_"):o.replace(/\./g,"_"):void 0)?i:"string"===typeof s.header?s.header:void 0;if(s.accessorFn?l=s.accessorFn:o&&(l=o.includes(".")?e=>{let t=e;for(const r of o.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[s.accessorKey]),!d)throw new Error;let u={id:"".concat(String(d)),accessorFn:l,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:$4(()=>[!0],()=>{var e;return[u,...null==(e=u.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},V4(e.options,"debugColumns")),getLeafColumns:$4(()=>[e._getOrderColumnsFn()],e=>{var t;if(null!=(t=u.columns)&&t.length){let t=u.columns.flatMap(e=>e.getLeafColumns());return e(t)}return[u]},V4(e.options,"debugColumns"))};for(const c of e._features)null==c.createColumn||c.createColumn(u,e);return u}(i,e,r,n),s=e;return a.columns=s.columns?t(s.columns,a,r+1):[],a})};return t(e)},V4(e,"debugColumns")),getAllFlatColumns:$4(()=>[i.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),V4(e,"debugColumns")),_getAllFlatColumnsById:$4(()=>[i.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),V4(e,"debugColumns")),getAllLeafColumns:$4(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),V4(e,"debugColumns")),getColumn:e=>i._getAllFlatColumnsById()[e]};Object.assign(i,d);for(let c=0;c<i._features.length;c++){const e=i._features[c];null==e||null==e.createTable||e.createTable(i)}return i}function P5(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function R5(t,n){return t?function(e){return"function"===typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=t)||"function"===typeof r||function(e){return"object"===typeof e&&"symbol"===typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?e.createElement(t,n):t:null;var r}const D5=n.p+"static/media/Ic_search.d0212c92f08c853ef9e4c155ff66b447.svg",M5=()=>{var t;const[n,r]=(0,e.useState)(1),[i,a]=(0,e.useState)([]),[s,o]=(0,e.useState)(""),l=mi(),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(null),[f,m]=(0,e.useState)(!0),g=hi().pathname.split("/"),v=g.length>2?g[2]:null,x=async()=>{if(v){m(!0);try{const e=await HS(v);if(e&&e.KundeInfo){const t=e.KundeInfo.sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime());a(t)}}catch(e){console.error("Error fetching husmodell data:",e)}finally{m(!1)}}else m(!1)};(0,e.useEffect)(()=>{v&&x()},[v]);const b=(0,e.useMemo)(()=>i.filter(e=>{var t;return null===(t=e.Kundenavn)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase())}),[i,s]),y=(0,e.useMemo)(()=>[{accessorKey:"Kundenavn",header:"Kundenavn",cell:e=>{let{row:t}=e;return(0,Pe.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.Kundenavn})}},{accessorKey:"Anleggsadresse",header:"Anleggsadresse",cell:e=>{let{row:t}=e;return(0,Pe.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.Anleggsadresse})}},{accessorKey:"Mobilnummer",header:"Mobilnummer",cell:e=>{let{row:t}=e;return(0,Pe.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.mobileNummer})}},{accessorKey:"EPost",header:"EPost",cell:e=>{let{row:t}=e;return(0,Pe.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.EPost})}},{accessorKey:"Kundenummer",header:"Kundenummer",cell:e=>{let{row:t}=e;return(0,Pe.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.Kundenummer})}},{accessorKey:"sisteoppdatertav",header:"Siste oppdatert av",cell:e=>{let{row:t}=e;return(0,Pe.jsx)("div",{className:"flex items-start gap-3",children:(0,Pe.jsx)("p",{className:"text-sm font-medium text-black w-max",children:KS(t.original.updatedAt)})})}},{id:"action",header:"Action",cell:e=>{let{row:t}=e;return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Pe.jsx)(hC,{className:"h-5 w-5 text-primary cursor-pointer",onClick:()=>l("/se-series/".concat(v,"/edit-husmodell/").concat(t.original.uniqueId))}),(0,Pe.jsx)(v4,{className:"h-5 w-5 text-primary cursor-pointer",onClick:()=>(e=>{p(e),u(!0)})(t.original.uniqueId)})]})})}}],[l]),w=(0,e.useMemo)(()=>{const e=10*(n-1);return b.slice(e,e+10)},[b,n]),k=function(t){const n=c({state:{},onStateChange:()=>{},renderFallbackValue:null},t),[r]=e.useState(()=>({current:I5(n)})),[i,a]=e.useState(()=>r.current.initialState);return r.current.setOptions(e=>c(c(c({},e),t),{},{state:c(c({},i),t.state),onStateChange:e=>{a(e),null==t.onStateChange||t.onStateChange(e)}})),r.current}({data:w,columns:y,getCoreRowModel:e=>$4(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,i,a){void 0===i&&(i=0);const s=[];for(let l=0;l<t.length;l++){const c=W4(e,e._getRowId(t[l],l,a),t[l],l,i,void 0,null==a?void 0:a.id);var o;n.flatRows.push(c),n.rowsById[c.id]=c,s.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[l],l),null!=(o=c.originalSubRows)&&o.length&&(c.subRows=r(c.originalSubRows,i+1,c)))}return s};return n.rows=r(t),n},V4(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getPaginationRowModel:e=>$4(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:i}=t;let{rows:a,flatRows:s,rowsById:o}=n;const l=r*i,c=l+r;let d;a=a.slice(l,c),d=e.options.paginateExpandedRows?{rows:a,flatRows:s,rowsById:o}:P5({rows:a,flatRows:s,rowsById:o}),d.flatRows=[];const u=e=>{d.flatRows.push(e),e.subRows.length&&e.subRows.forEach(u)};return d.rows.forEach(u),d},V4(e.options,"debugTable")),getSortedRowModel:e=>$4(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,i=[],a=r.filter(t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()}),s={};a.forEach(t=>{const n=e.getColumn(t.id);n&&(s[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})});const o=e=>{const t=e.map(e=>c({},e));return t.sort((e,t)=>{for(let r=0;r<a.length;r+=1){var n;const i=a[r],o=s[i.id],l=o.sortUndefined,c=null!=(n=null==i?void 0:i.desc)&&n;let d=0;if(l){const n=void 0===e.getValue(i.id),r=void 0===t.getValue(i.id);if(n||r){if("first"===l)return n?-1:1;if("last"===l)return n?1:-1;d=n&&r?0:n?l:-l}}if(0===d&&(d=o.sortingFn(e,t,i.id)),0!==d)return c&&(d*=-1),o.invertSorting&&(d*=-1),d}return e.index-t.index}),t.forEach(e=>{var t;i.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=o(e.subRows))}),t};return{rows:o(n.rows),flatRows:i,rowsById:n.rowsById}},V4(e.options,"debugTable",0,()=>e._autoResetPageIndex())),state:{pagination:{pageIndex:n-1,pageSize:10}},pageCount:Math.ceil(b.length/10),manualPagination:!0,onPaginationChange:e=>{if("function"===typeof e){const t=e({pageIndex:n-1,pageSize:10});r(t.pageIndex+1)}}});return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"mb-2 flex items-center justify-between bg-lightPurple rounded-[12px] py-3 px-4",children:(0,Pe.jsxs)("div",{className:"flex items-center border border-gray1 shadow-shadow1 bg-[#fff] gap-2 rounded-lg py-[10px] px-[14px]",children:[(0,Pe.jsx)("img",{src:D5,alt:"search"}),(0,Pe.jsx)("input",{type:"text",placeholder:"S\xf8k etter lead",className:"focus-within:outline-none",value:s,onChange:e=>o(e.target.value)})]})}),(0,Pe.jsxs)("div",{className:"rounded-lg border border-gray2 shadow-shadow2 overflow-hidden",children:[(0,Pe.jsxs)(N4,{children:[(0,Pe.jsx)(E4,{children:k.getHeaderGroups().map(e=>(0,Pe.jsx)(I4,{className:"hover:bg-transparent",children:e.headers.map(e=>(0,Pe.jsx)(P4,{className:"h-8 text-sm",children:R5(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,Pe.jsx)(A4,{children:f?(0,Pe.jsx)(I4,{children:(0,Pe.jsx)(R4,{colSpan:y.length,className:"h-24 text-center",children:(0,Pe.jsx)(x4,{className:"w-6 h-6 animate-spin mx-auto"})})}):0===b.length?(0,Pe.jsx)(I4,{children:(0,Pe.jsx)(R4,{colSpan:y.length,className:"h-24 text-center",children:"No results."})}):(null===(t=k.getRowModel().rows)||void 0===t?void 0:t.length)&&k.getRowModel().rows.map(e=>(0,Pe.jsx)(I4,{"data-state":e.getIsSelected()&&"selected",className:"hover:bg-muted/50",children:e.getVisibleCells().map(e=>(0,Pe.jsx)(R4,{className:"px-6 py-3",children:R5(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,Pe.jsxs)("div",{className:"flex justify-between items-center py-4 px-6 border-t border-gray2",children:[(0,Pe.jsx)("button",{className:"px-[14px] py-2 rounded-lg disabled:opacity-50 shadow-shadow1 border border-gray1 text-black font-semibold text-sm",onClick:()=>k.previousPage(),disabled:!k.getCanPreviousPage(),children:"Forrige"}),(0,Pe.jsxs)("span",{className:"text-black text-sm",children:["Side ",(0,Pe.jsx)("span",{className:"font-semibold",children:n})," av"," ",(0,Pe.jsx)("span",{className:"font-semibold",children:k.getPageCount()})]}),(0,Pe.jsx)("button",{className:"px-[14px] py-2 rounded-lg disabled:opacity-50 shadow-shadow1 border border-gray1 text-black font-semibold text-sm",onClick:()=>k.nextPage(),disabled:!k.getCanNextPage(),children:"Neste"})]})]}),d&&(0,Pe.jsx)(lC,{onClose:()=>{u(!d)},isOpen:!0,children:(0,Pe.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,Pe.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,Pe.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,Pe.jsx)("div",{onClick:()=>u(!1),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)("div",{onClick:()=>(async e=>{try{const t=Rg(BS,"housemodell_configure_broker",String(v)),n=await Rv(t);if(n.exists()){const r=n.data(),i=((null===r||void 0===r?void 0:r.KundeInfo)||[]).filter(t=>t.uniqueId!==e);await Lv(t,{KundeInfo:i,updatedAt:(new Date).toISOString()}),Xt.success("Slettet",{position:"top-right"}),x(),u(!1)}}catch(t){console.error("Error deleting entry from KundeInfo:",t),Xt.error("Noe gikk galt ved sletting.")}})(h),children:(0,Pe.jsx)(uC,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})})]})},O5=()=>{const e=hi().pathname.split("/"),t=e.length>2?e[2]:null;return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,Pe.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6",children:[(0,Pe.jsx)(Sa,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,Pe.jsx)(gA,{className:"text-[#5D6B98] w-4 h-4"}),(0,Pe.jsx)("span",{className:"text-gray text-sm",children:"Kundeopplysninger"})]}),(0,Pe.jsxs)("div",{className:"flex sm:items-center gap-3 justify-between mb-4 md:mb-5",children:[(0,Pe.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:"Kundeopplysninger"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(uC,{text:"Legg til",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",path:"/se-series/".concat(t,"/add-husmodell")})})]})]}),(0,Pe.jsx)("div",{className:"py-4 px-4 md:px-6",children:(0,Pe.jsx)(M5,{})})]})},L5=()=>sC()?(0,Pe.jsx)(Fi,{to:"/Husmodell",replace:!0}):(0,Pe.jsx)($i,{});var F5=n(825),$5=null;function V5(e,t){if("number"!==typeof(e=e||Z5))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(X5(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch(t){}try{return F5.randomBytes(e)}catch(n){}if(!$5)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return $5(e)}(Q5),Q5)),n.join("")}function B5(e,t,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof e&&(n=e,e=void 0),"undefined"===typeof e)e=Z5;else if("number"!==typeof e)throw Error("illegal arguments: "+typeof e);function r(t){W5(function(){try{t(null,V5(e))}catch(f6){t(f6)}})}if(!n)return new Promise(function(e,t){r(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);r(n)}function U5(e,t){if("undefined"===typeof t&&(t=Z5),"number"===typeof t&&(t=V5(t)),"string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return l6(e,t)}function z5(e,t,n,r){function i(n){"string"===typeof e&&"number"===typeof t?B5(t,function(t,i){l6(e,i,n,r)}):"string"===typeof e&&"string"===typeof t?l6(e,t,n,r):W5(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise(function(e,t){i(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);i(n)}function H5(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return 0===n}var W5="undefined"!==typeof process&&process&&"function"===typeof process.nextTick?"function"===typeof setImmediate?setImmediate:process.nextTick:setTimeout;function K5(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}var G5="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),q5=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function X5(e,t){var n,r,i=0,a=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(n=255&e[i++],a.push(G5[n>>2&63]),n=(3&n)<<4,i>=t){a.push(G5[63&n]);break}if(n|=(r=255&e[i++])>>4&15,a.push(G5[63&n]),n=(15&r)<<2,i>=t){a.push(G5[63&n]);break}n|=(r=255&e[i++])>>6&3,a.push(G5[63&n]),a.push(G5[63&r])}return a.join("")}function Y5(e,t){var n,r,i,a,s,o=0,l=e.length,c=0,d=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<l-1&&c<t&&(n=(s=e.charCodeAt(o++))<q5.length?q5[s]:-1,r=(s=e.charCodeAt(o++))<q5.length?q5[s]:-1,-1!=n&&-1!=r)&&(a=n<<2>>>0,a|=(48&r)>>4,d.push(String.fromCharCode(a)),!(++c>=t||o>=l))&&-1!=(i=(s=e.charCodeAt(o++))<q5.length?q5[s]:-1)&&(a=(15&r)<<4>>>0,a|=(60&i)>>2,d.push(String.fromCharCode(a)),!(++c>=t||o>=l));)a=(3&i)<<6>>>0,a|=(s=e.charCodeAt(o++))<q5.length?q5[s]:-1,d.push(String.fromCharCode(a)),++c;var u=[];for(o=0;o<c;o++)u.push(d[o].charCodeAt(0));return u}var Q5=16,Z5=10,J5=16,e6=100,t6=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],n6=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],r6=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function i6(e,t,n,r){var i,a=e[t],s=e[t+1];return i=r[(a^=n[0])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[1])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[2])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[3])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[4])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[5])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[6])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[7])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[8])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[9])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[10])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[11])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[12])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[13])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[14])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[15])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],a^=(i+=r[768|255&s])^n[16],e[t]=s^n[J5+1],e[t+1]=a,e}function a6(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}}function s6(e,t,n){for(var r,i=0,a=[0,0],s=t.length,o=n.length,l=0;l<s;l++)i=(r=a6(e,i)).offp,t[l]=t[l]^r.key;for(l=0;l<s;l+=2)a=i6(a,0,t,n),t[l]=a[0],t[l+1]=a[1];for(l=0;l<o;l+=2)a=i6(a,0,t,n),n[l]=a[0],n[l+1]=a[1]}function o6(e,t,n,r,i){var a,s=r6.slice(),o=s.length;if(n<4||n>31){if(a=Error("Illegal number of rounds (4-31): "+n),r)return void W5(r.bind(this,a));throw a}if(t.length!==Q5){if(a=Error("Illegal salt length: "+t.length+" != "+Q5),r)return void W5(r.bind(this,a));throw a}n=1<<n>>>0;var l,c,d,u=0;function h(){if(i&&i(u/n),!(u<n)){for(u=0;u<64;u++)for(d=0;d<o>>1;d++)i6(s,d<<1,l,c);var a=[];for(u=0;u<o;u++)a.push((s[u]>>24&255)>>>0),a.push((s[u]>>16&255)>>>0),a.push((s[u]>>8&255)>>>0),a.push((255&s[u])>>>0);return r?void r(null,a):a}for(var p=Date.now();u<n&&(u+=1,s6(e,l,c),s6(t,l,c),!(Date.now()-p>e6)););r&&W5(h)}if("function"===typeof Int32Array?(l=new Int32Array(t6),c=new Int32Array(n6)):(l=t6.slice(),c=n6.slice()),function(e,t,n,r){for(var i,a=0,s=[0,0],o=n.length,l=r.length,c=0;c<o;c++)a=(i=a6(t,a)).offp,n[c]=n[c]^i.key;for(a=0,c=0;c<o;c+=2)a=(i=a6(e,a)).offp,s[0]^=i.key,a=(i=a6(e,a)).offp,s[1]^=i.key,s=i6(s,0,n,r),n[c]=s[0],n[c+1]=s[1];for(c=0;c<l;c+=2)a=(i=a6(e,a)).offp,s[0]^=i.key,a=(i=a6(e,a)).offp,s[1]^=i.key,s=i6(s,0,n,r),r[c]=s[0],r[c+1]=s[1]}(t,e,l,c),"undefined"!==typeof r)h();else for(var p;;)if("undefined"!==typeof(p=h()))return p||[]}function l6(e,t,n,r){var i,a,s;if("string"!==typeof e||"string"!==typeof t){if(i=Error("Invalid string / salt: Not a string"),n)return void W5(n.bind(this,i));throw i}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(i=Error("Invalid salt version: "+t.substring(0,2)),n)return void W5(n.bind(this,i));throw i}if("$"===t.charAt(2))a=String.fromCharCode(0),s=3;else{if("a"!==(a=t.charAt(2))&&"b"!==a&&"y"!==a||"$"!==t.charAt(3)){if(i=Error("Invalid salt revision: "+t.substring(2,4)),n)return void W5(n.bind(this,i));throw i}s=4}if(t.charAt(s+2)>"$"){if(i=Error("Missing salt rounds"),n)return void W5(n.bind(this,i));throw i}var o=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=function(e){for(var t,n,r=0,i=new Array(K5(e)),a=0,s=e.length;a<s;++a)(t=e.charCodeAt(a))<128?i[r++]=t:t<2048?(i[r++]=t>>6|192,i[r++]=63&t|128):55296===(64512&t)&&56320===(64512&(n=e.charCodeAt(a+1)))?(t=65536+((1023&t)<<10)+(1023&n),++a,i[r++]=t>>18|240,i[r++]=t>>12&63|128,i[r++]=t>>6&63|128,i[r++]=63&t|128):(i[r++]=t>>12|224,i[r++]=t>>6&63|128,i[r++]=63&t|128);return i}(e+=a>="a"?"\0":""),d=Y5(l,Q5);function u(e){var t=[];return t.push("$2"),a>="a"&&t.push(a),t.push("$"),o<10&&t.push("0"),t.push(o.toString()),t.push("$"),t.push(X5(d,d.length)),t.push(X5(e,4*r6.length-1)),t.join("")}if("undefined"==typeof n)return u(o6(c,d,o));o6(c,d,o,function(e,t){e?n(e,null):n(null,u(t))},r)}const c6={setRandomFallback:function(e){$5=e},genSaltSync:V5,genSalt:B5,hashSync:U5,hash:z5,compareSync:function(e,t){if("string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&H5(U5(e,t.substring(0,t.length-31)),t)},compare:function(e,t,n,r){function i(n){"string"===typeof e&&"string"===typeof t?60===t.length?z5(e,t.substring(0,29),function(e,r){e?n(e):n(null,H5(r,t))},r):W5(n.bind(this,null,!1)):W5(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise(function(e,t){i(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);i(n)},getRounds:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return K5(e)>72},encodeBase64:function(e,t){return X5(e,t)},decodeBase64:function(e,t){return Y5(e,t)}},d6=()=>{const e=mi(),t=t_({resolver:l_(qN({email:HN().email({message:"Vennligst skriv inn en gyldig e-postadresse."}).min(1,{message:"E-postadresse er p\xe5krevd."}),password:HN().min(8,{message:"Passordet m\xe5 v\xe6re minst 8 tegn langt."}).regex(/[A-Z]/,{message:"Passordet m\xe5 inneholde minst \xe9n stor bokstav."}).regex(/[a-z]/,{message:"Passordet m\xe5 inneholde minst \xe9n liten bokstav."}).regex(/[0-9]/,{message:"Passordet m\xe5 inneholde minst ett tall."}).regex(/[@$!%*?&]/,{message:"Passordet m\xe5 inneholde minst ett spesialtegn."})}))});return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Pe.jsx)("div",{className:"relative w-full max-w-[490px]",children:(0,Pe.jsxs)("div",{className:"mx-4 bg-white p-7 w-full",style:{boxShadow:"0px 8px 8px -4px #10182808, 0px 20px 24px -4px #10182814"},children:[(0,Pe.jsx)("div",{className:"flex justify-center mb-10",children:(0,Pe.jsx)("img",{src:Da,alt:"logo"})}),(0,Pe.jsx)(jE,c(c({},t),{},{children:(0,Pe.jsxs)("form",{onSubmit:t.handleSubmit(async t=>{try{const n=Rg(BS,"admin",t.email),r=await Rv(n);if(r.exists()){const i=r.data();if("9f523136-72ca-4bde-88e5-de175bc2fc71"!==(null===i||void 0===i?void 0:i.supplier)||!0===(null===i||void 0===i?void 0:i.is_admin))return void Xt.error("Please login with Bolig Partner user.",{position:"top-right"});const a=null===i||void 0===i?void 0:i.password;if(a){if(c6.compareSync(t.password,a)){Xt.success("Login successfully",{position:"top-right"}),localStorage.setItem("Iplot_admin_bolig",t.email);await XS()&&e("/Husmodell")}else Xt.error("Incorrect password",{position:"top-right"})}else if(t.password){const r=c6.hashSync(t.password,10);await Lv(n,{password:r}),Xt.success("Login successfully",{position:"top-right"}),localStorage.setItem("Iplot_admin_bolig",t.email);await XS()&&e("/Husmodell")}}else Xt.error("Admin not exist",{position:"top-right"})}catch(n){console.error("Error during sign-in",n)}}),className:"relative",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:t.control,name:"email",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"E-post"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn E-post"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"text"}))})}),(0,Pe.jsx)(DE,{})]})}})}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)(NE,{control:t.control,name:"password",render:e=>{let{field:t,fieldState:n}=e;return(0,Pe.jsxs)(TE,{children:[(0,Pe.jsx)("p",{className:"".concat(n.error?"text-red":"text-black"," mb-[6px] text-sm font-medium"),children:"Passord"}),(0,Pe.jsx)(PE,{children:(0,Pe.jsx)("div",{className:"relative",children:(0,Pe.jsx)(OE,c(c({placeholder:"Skriv inn Passord"},t),{},{className:"bg-white rounded-[8px] border text-black\n                                          ".concat(null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"," "),type:"password"}))})}),(0,Pe.jsx)(DE,{})]})}})})]}),(0,Pe.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center p-4",children:[(0,Pe.jsx)("div",{onClick:()=>t.reset(),children:(0,Pe.jsx)(uC,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,Pe.jsx)(uC,{text:"Lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})}))]})})})})},u6=function(e,t){return cr({basename:null===t||void 0===t?void 0:t.basename,unstable_getContext:null===t||void 0===t?void 0:t.unstable_getContext,future:null===t||void 0===t?void 0:t.future,history:ln({window:null===t||void 0===t?void 0:t.window}),hydrationData:(null===t||void 0===t?void 0:t.hydrationData)||ya(),routes:e,mapRouteProperties:Ri,hydrationRouteProperties:Di,dataStrategy:null===t||void 0===t?void 0:t.dataStrategy,patchRoutesOnNavigation:null===t||void 0===t?void 0:t.patchRoutesOnNavigation,window:null===t||void 0===t?void 0:t.window}).initialize()}([{path:"/",element:(0,Pe.jsx)(Fi,{to:"/login",replace:!0})},{path:"/",element:(0,Pe.jsx)(L5,{}),children:[{path:"login",element:(0,Pe.jsx)(d6,{})}]},{path:"/",element:(0,Pe.jsx)(oC,{}),children:[{path:"Bolig-configurator",element:(0,Pe.jsx)(mQ,{})},{path:"Room-Configurator",element:(0,Pe.jsx)(g4,{})},{path:"Room-Configurator/*",element:(0,Pe.jsx)(g4,{})},{path:"Inventory",element:(0,Pe.jsx)(fA,{})},{path:"Husmodell",element:(0,Pe.jsx)(mA,{})},{path:"se-husmodell/*",element:(0,Pe.jsx)(_A,{})},{path:"se-series/*",element:(0,Pe.jsx)(O5,{})},{path:"se-series/:seriesId/edit-husmodell/*",element:(0,Pe.jsx)(hQ,{})},{path:"se-series/:seriesId/add-husmodell",element:(0,Pe.jsx)(hQ,{})}]}]),h6=new Ie({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),p6=()=>(0,Pe.jsxs)(De,{client:h6,children:[(0,Pe.jsx)(qt,{toastOptions:{style:{zIndex:999999999}}}),(0,Pe.jsx)(Pa,{router:u6})]});r.createRoot(document.getElementById("root")).render((0,Pe.jsx)(e.StrictMode,{children:(0,Pe.jsx)(p6,{})})),i()})()})();
//# sourceMappingURL=main.8626edfa.js.map
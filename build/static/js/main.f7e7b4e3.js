/*! For license information please see main.f7e7b4e3.js.LICENSE.txt */
(()=>{var __webpack_modules__={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var E,A,T=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign;function I(e){if(void 0===E)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||"",A=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+E+e+A}var $=!1;function R(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?I(n):""}function O(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=O(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function M(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function L(e){if(F(e)!==e)throw Error(s(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var B=Array.isArray,U=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},H=[],K=-1;function q(e){return{current:e}}function G(e){0>K||(e.current=H[K],H[K]=null,K--)}function W(e,t){K++,H[K]=e.current,e.current=t}var X=q(null),Y=q(null),Z=q(null),Q=q(null);function J(e,t){switch(W(Z,t),W(Y,e),W(X,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Zd(e=Yd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(X),W(X,t)}function ee(){G(X),G(Y),G(Z)}function te(e){null!==e.memoizedState&&W(Q,e);var t=X.current,n=Zd(t,e.type);t!==n&&(W(Y,e),W(X,n))}function ne(e){Y.current===e&&(G(X),G(Y)),Q.current===e&&(G(Q),Du._currentValue=z)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,se=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,xe=null;function be(e){if("function"===typeof me&&ge(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(ve,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=128,_e=4194304;function je(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=je(n):0!==(a&=o)?r=je(a):e||0!==(s=o&~s)&&(r=je(s)):0!==(o=n&~i)?r=je(o):0!==a?r=je(a):e||0!==(s=n&~s)&&(r=je(s)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||32===i&&0!==(4194176&s))?t:r}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Te(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=U.p;return 0!==e?e:void 0===(e=window.event)?32:Zu(e.type)}var Fe=Math.random().toString(36).slice(2),Me="__reactFiber$"+Fe,Le="__reactProps$"+Fe,Ve="__reactContainer$"+Fe,Be="__reactEvents$"+Fe,Ue="__reactListeners$"+Fe,ze="__reactHandles$"+Fe,He="__reactResources$"+Fe,Ke="__reactMarker$"+Fe;function qe(e){delete e[Me],delete e[Le],delete e[Be],delete e[Ue],delete e[ze]}function Ge(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lu(e);null!==e;){if(n=e[Me])return n;e=lu(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[Me]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ye(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ke]=!0}var Qe=new Set,Je={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Je[e]=t,e=0;e<t.length;e++)Qe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},at={};function st(e,t,n){if(i=t,re.call(at,i)||!re.call(it,i)&&(rt.test(i)?at[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?xt(e,s,ct(t)):null!=n?xt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function xt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(B(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,$t=null;function Rt(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Le]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Dt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==It||null!==$t)&&(Mc(),It&&(t=It,e=$t,$t=It=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Mt=!1;if(nt)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(wh){Mt=!1}var Vt=null,Bt=null,Ut=null;function zt(){if(Ut)return Ut;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Ut=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function qt(){return!1}function Gt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:qt,this.isPropagationStopped=qt,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Wt,Xt,Yt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=Gt(Zt),Jt=P({},Zt,{view:0,detail:0}),en=Gt(Jt),tn=P({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Wt=e.screenX-Yt.screenX,Xt=e.screenY-Yt.screenY):Xt=Wt=0,Yt=e),Wt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),nn=Gt(tn),rn=Gt(P({},tn,{dataTransfer:0})),an=Gt(P({},Jt,{relatedTarget:0})),sn=Gt(P({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Gt(P({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Gt(P({},Zt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function pn(){return hn}var fn=Gt(P({},Jt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Gt(P({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Gt(P({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(P({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Gt(P({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(P({},Zt,{newState:0,oldState:0})),yn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,_n=nt&&(!wn||kn&&8<kn&&11>=kn),jn=String.fromCharCode(32),Cn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function In(e,t,n,r){It?$t?$t.push(r):$t=[r]:It=r,0<(t=Dd(t,"onChange")).length&&(n=new Qt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Rn=null;function On(e){Ed(e,0)}function Dn(e){if(ht(Xe(e)))return e}function Fn(e,t){if("change"===e)return t}var Mn=!1;if(nt){var Ln;if(nt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Ln=Vn}else Ln=!1;Mn=Ln&&(!document.documentMode||9<document.documentMode)}function Un(){$n&&($n.detachEvent("onpropertychange",zn),Rn=$n=null)}function zn(e){if("value"===e.propertyName&&Dn(Rn)){var t=[];In(t,Rn,e,Pt(e)),Dt(On,t)}}function Hn(e,t,n){"focusin"===e?(Un(),Rn=n,($n=t).attachEvent("onpropertychange",zn)):"focusout"===e&&Un()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Rn)}function qn(e,t){if("click"===e)return Dn(t)}function Gn(e,t){if("input"===e||"change"===e)return Dn(t)}var Wn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Wn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Wn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Qn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jn(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Jn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Qn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!n.extend&&a>r&&(i=r,r=a,a=i),i=Zn(t,a);var s=Zn(t,r);i&&s&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Xn(ar,r)||(ar=r,0<(r=Dd(ir,"onSelect")).length&&(t=new Qt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},dr={},ur={};function hr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}nt&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),xr=hr("transitioncancel"),br=hr("transitionend"),yr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){yr.set(e,t),et(t,[e])}var Sr=[],_r=0,jr=0;function Cr(){for(var e=_r,t=jr=_r=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var i=Sr[t];Sr[t++]=null;var a=Sr[t];if(Sr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Tr(n,i,a)}}function Nr(e,t,n,r){Sr[_r++]=e,Sr[_r++]=t,Sr[_r++]=n,Sr[_r++]=r,jr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Er(e,t,n,r){return Nr(e,t,n,r),Pr(e)}function Ar(e,t){return Nr(e,null,null,t),Pr(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;i&&null!==t&&3===e.tag&&(a=e.stateNode,i=31-ye(n),null===(e=(a=a.hiddenUpdates)[i])?a[i]=[t]:e.push(t),t.lane=536870912|n)}function Pr(e){if(50<Ec)throw Ec=0,Ac=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={},$r=new WeakMap;function Rr(e,t){if("object"===typeof e&&null!==e){var n=$r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:D(t)},$r.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Or=[],Dr=0,Fr=null,Mr=0,Lr=[],Vr=0,Br=null,Ur=1,zr="";function Hr(e,t){Or[Dr++]=Mr,Or[Dr++]=Fr,Fr=e,Mr=t}function Kr(e,t,n){Lr[Vr++]=Ur,Lr[Vr++]=zr,Lr[Vr++]=Br,Br=e;var r=Ur;e=zr;var i=32-ye(r)-1;r&=~(1<<i),n+=1;var a=32-ye(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ur=1<<32-ye(t)+i|n<<i|r,zr=a+e}else Ur=1<<a|n<<i|r,zr=e}function qr(e){null!==e.return&&(Hr(e,1),Kr(e,1,0))}function Gr(e){for(;e===Fr;)Fr=Or[--Dr],Or[Dr]=null,Mr=Or[--Dr],Or[Dr]=null;for(;e===Br;)Br=Lr[--Vr],Lr[Vr]=null,zr=Lr[--Vr],Lr[Vr]=null,Ur=Lr[--Vr],Lr[Vr]=null}var Wr=null,Xr=null,Yr=!1,Zr=null,Qr=!1,Jr=Error(s(519));function ei(e){throw ai(Rr(Error(s(418,"")),e)),Jr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Le]=r,n){case"dialog":Ad("cancel",t),Ad("close",t);break;case"iframe":case"object":case"embed":Ad("load",t);break;case"video":case"audio":for(n=0;n<Cd.length;n++)Ad(Cd[n],t);break;case"source":Ad("error",t);break;case"img":case"image":case"link":Ad("error",t),Ad("load",t);break;case"details":Ad("toggle",t);break;case"input":Ad("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Ad("invalid",t);break;case"textarea":Ad("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ud(t.textContent,n)?(null!=r.popover&&(Ad("beforetoggle",t),Ad("toggle",t)),null!=r.onScroll&&Ad("scroll",t),null!=r.onScrollEnd&&Ad("scrollend",t),null!=r.onClick&&(t.onclick=zd),t=!0):t=!1,t||ei(e)}function ni(e){for(Wr=e.return;Wr;)switch(Wr.tag){case 3:case 27:return void(Qr=!0);case 5:case 13:return void(Qr=!1);default:Wr=Wr.return}}function ri(e){if(e!==Wr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Qd(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Xr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Xr=ou(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Xr=null}}else Xr=Wr?ou(e.stateNode.nextSibling):null;return!0}function ii(){Xr=Wr=null,Yr=!1}function ai(e){null===Zr?Zr=[e]:Zr.push(e)}var si=Error(s(460)),oi=Error(s(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function di(){}function ui(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(di,di),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(di,di);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e}throw hi=t,si}}var hi=null;function pi(){if(null===hi)throw Error(s(459));var e=hi;return hi=null,e}var fi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===fi&&(fi=[]),ui(fi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function xi(e,t){if(t.$$typeof===l)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===u?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===w&&bi(a)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Ll(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Ll(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case d:return(t=zl(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(B(t)||j(t))return(t=Vl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Co(e,t),n);xi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case d:return n.key===i?p(e,t,n,r):null;case w:return v(e,t,n=(i=n._init)(n._payload),r)}if(B(n)||j(n))return null!==i?null:f(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,Co(e,n),r);xi(e,n)}return null}function x(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case d:return p(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return x(e,t,n,r=(0,r._init)(r._payload),i)}if(B(r)||j(r))return f(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return x(e,t,n,gi(r),i);if(r.$$typeof===g)return x(e,t,n,Co(t,r),i);xi(t,r)}return null}function b(l,h,p,f){if("object"===typeof p&&null!==p&&p.type===u&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:e:{for(var y=p.key;null!==h;){if(h.key===y){if((y=p.type)===u){if(7===h.tag){n(l,h.sibling),(f=i(h,p.props.children)).return=l,l=f;break e}}else if(h.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===w&&bi(y)===h.type){n(l,h.sibling),vi(f=i(h,p.props),p),f.return=l,l=f;break e}n(l,h);break}t(l,h),h=h.sibling}p.type===u?((f=Vl(p.props.children,l.mode,f,p.key)).return=l,l=f):(vi(f=Ll(p.type,p.key,p.props,null,l.mode,f),p),f.return=l,l=f)}return o(l);case d:e:{for(y=p.key;null!==h;){if(h.key===y){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(l,h.sibling),(f=i(h,p.children||[])).return=l,l=f;break e}n(l,h);break}t(l,h),h=h.sibling}(f=zl(p,l.mode,f)).return=l,l=f}return o(l);case w:return b(l,h,p=(y=p._init)(p._payload),f)}if(B(p))return function(i,s,o,l){for(var c=null,d=null,u=s,h=s=0,p=null;null!==u&&h<o.length;h++){u.index>h?(p=u,u=null):p=u.sibling;var f=v(i,u,o[h],l);if(null===f){null===u&&(u=p);break}e&&u&&null===f.alternate&&t(i,u),s=a(f,s,h),null===d?c=f:d.sibling=f,d=f,u=p}if(h===o.length)return n(i,u),Yr&&Hr(i,h),c;if(null===u){for(;h<o.length;h++)null!==(u=m(i,o[h],l))&&(s=a(u,s,h),null===d?c=u:d.sibling=u,d=u);return Yr&&Hr(i,h),c}for(u=r(u);h<o.length;h++)null!==(p=x(u,i,h,o[h],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?h:p.key),s=a(p,s,h),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach((function(e){return t(i,e)})),Yr&&Hr(i,h),c}(l,h,p,f);if(j(p)){if("function"!==typeof(y=j(p)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var d=null,u=null,h=o,p=o=0,f=null,g=l.next();null!==h&&!g.done;p++,g=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var b=v(i,h,g.value,c);if(null===b){null===h&&(h=f);break}e&&h&&null===b.alternate&&t(i,h),o=a(b,o,p),null===u?d=b:u.sibling=b,u=b,h=f}if(g.done)return n(i,h),Yr&&Hr(i,p),d;if(null===h){for(;!g.done;p++,g=l.next())null!==(g=m(i,g.value,c))&&(o=a(g,o,p),null===u?d=g:u.sibling=g,u=g);return Yr&&Hr(i,p),d}for(h=r(h);!g.done;p++,g=l.next())null!==(g=x(h,i,p,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),o=a(g,o,p),null===u?d=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),Yr&&Hr(i,p),d}(l,h,p=y.call(p),f)}if("function"===typeof p.then)return b(l,h,gi(p),f);if(p.$$typeof===g)return b(l,h,Co(l,p),f);xi(l,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==h&&6===h.tag?(n(l,h.sibling),(f=i(h,p)).return=l,l=f):(n(l,h),(f=Ul(p,l.mode,f)).return=l,l=f),o(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=b(e,t,n,r);return fi=null,i}catch(s){if(s===si)throw s;var a=Ol(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var wi=yi(!0),ki=yi(!1),Si=q(null),_i=q(0);function ji(e,t){W(_i,e=cc),W(Si,t),cc=e|t.baseLanes}function Ci(){W(_i,cc),W(Si,Si.current)}function Ni(){cc=_i.current,G(Si),G(_i)}var Ei=q(null),Ai=null;function Ti(e){var t=e.alternate;W(Ri,1&Ri.current),W(Ei,e),null===Ai&&(null===t||null!==Si.current||null!==t.memoizedState)&&(Ai=e)}function Pi(e){if(22===e.tag){if(W(Ri,Ri.current),W(Ei,e),null===Ai){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ai=e)}}else Ii()}function Ii(){W(Ri,Ri.current),W(Ei,Ei.current)}function $i(e){G(Ei),Ai===e&&(Ai=null),G(Ri)}var Ri=q(0);function Oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Di="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,Li={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Di,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Fi(Mi,(function(){e.controller.abort()}))}var Ui=null,zi=0,Hi=0,Ki=null;function qi(){if(0===--zi&&null!==Ui){null!==Ki&&(Ki.status="fulfilled");var e=Ui;Ui=null,Hi=0,Ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=T.S;T.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];zi=0,Hi=wd(),Ki={status:"pending",value:void 0,then:function(e){n.push(e)}}}zi++,t.then(qi,qi)}(0,t),null!==Gi&&Gi(e,t)};var Wi=q(null);function Xi(){var e=Wi.current;return null!==e?e:tc.pooledCache}function Yi(e,t){W(Wi,null===t?Wi.current:t.pool)}function Zi(){var e=Xi();return null===e?null:{parent:Li._currentValue,pool:e}}var Qi=0,Ji=null,ea=null,ta=null,na=!1,ra=!1,ia=!1,aa=0,sa=0,oa=null,la=0;function ca(){throw Error(s(321))}function da(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,a){return Qi=a,Ji=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?js:Cs,ia=!1,a=n(r,i),ia=!1,ra&&(a=pa(t,n,r,i)),ha(e),a}function ha(e){T.H=_s;var t=null!==ea&&null!==ea.next;if(Qi=0,ta=ea=Ji=null,na=!1,sa=0,oa=null,t)throw Error(s(300));null===e||zs||null!==(e=e.dependencies)&&So(e)&&(zs=!0)}function pa(e,t,n,r){Ji=e;var i=0;do{if(ra&&(oa=null),sa=0,ra=!1,25<=i)throw Error(s(301));if(i+=1,ta=ea=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}T.H=Ns,a=t(n,r)}while(ra);return a}function fa(){var e=T.H,t=e.useState()[0];return t="function"===typeof t.then?ya(t):t,e=e.useState()[0],(null!==ea?ea.memoizedState:null)!==e&&(Ji.flags|=1024),t}function ma(){var e=0!==aa;return aa=0,e}function ga(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function va(e){if(na){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}na=!1}Qi=0,ta=ea=Ji=null,ra=!1,sa=aa=0,oa=null}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Ji.memoizedState=ta=e:ta=ta.next=e,ta}function ba(){if(null===ea){var e=Ji.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Ji.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e){if(null===Ji.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Ji.memoizedState=ta=e:ta=ta.next=e}return ta}function ya(e){var t=sa;return sa+=1,null===oa&&(oa=[]),e=ui(oa,e,t),t=Ji,null===(null===ta?t.memoizedState:ta.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?js:Cs),e}function wa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ya(e);if(e.$$typeof===g)return jo(e)}throw Error(s(438,String(e)))}function ka(e){var t=null,n=Ji.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ji.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Sa(e,t){return"function"===typeof t?t(e):t}function _a(e){return ja(ba(),ea,e)}function ja(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,d=t=i.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(rc&h)===h:(Qi&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Hi&&(u=!0);else{if((Qi&p)===p){d=d.next,p===Hi&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,Ji.lanes|=p,uc|=p}h=d.action,ia&&n(a,h),a=d.hasEagerState?d.eagerState:n(a,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=a):c=c.next=p,Ji.lanes|=h,uc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=a:c.next=l,!Wn(a,e.memoizedState)&&(zs=!0,u&&null!==(n=Ki)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ca(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Wn(a,t.memoizedState)||(zs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(e,t,n){var r=Ji,i=ba(),a=Yr;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Wn((ea||i).memoizedState,n);if(o&&(i.memoizedState=n,zs=!0),i=i.queue,Qa(Ta.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ta&&1&ta.memoizedState.tag){if(r.flags|=2048,Ga(9,Aa.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(s(349));a||0!==(60&Qi)||Ea(r,t,n)}return n}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ji.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Ia(e)}function Ta(e,t,n){return n((function(){Pa(t)&&Ia(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch(r){return!0}}function Ia(e){var t=Ar(e,2);null!==t&&Ic(t,e,2)}function $a(e){var t=xa();if("function"===typeof e){var n=e;if(e=n(),ia){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t}function Ra(e,t,n,r){return e.baseState=n,ja(e,ea,"function"===typeof r?r:Sa)}function Oa(e,t,n,r,i){if(ws(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==T.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Da(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Da(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,s={};T.T=s;try{var o=n(i,r),l=T.S;null!==l&&l(s,o),Fa(e,t,o)}catch(c){La(e,t,c)}finally{T.T=a}}else try{Fa(e,t,a=n(i,r))}catch(d){La(e,t,d)}}function Fa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Ma(e,t,n)}),(function(n){return La(e,t,n)})):Ma(e,t,n)}function Ma(e,t,n){t.status="fulfilled",t.value=n,Va(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Da(e,n)))}function La(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Va(t),t=t.next}while(t!==r)}e.action=null}function Va(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ba(e,t){return t}function Ua(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=Ji;if(Yr){if(Xr){t:{for(var i=Xr,a=Qr;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=ou(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){Xr=ou(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=xa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},n.queue=r,n=xs.bind(null,Ji,r),r.dispatch=n,r=$a(!1),a=ys.bind(null,Ji,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=xa()).queue=i,n=Oa.bind(null,Ji,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function za(e){return Ha(ba(),ea,e)}function Ha(e,t,n){t=ja(e,t,Ba)[0],e=_a(Sa)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ya(t):t;var r=ba(),i=r.queue,a=i.dispatch;return n!==r.memoizedState&&(Ji.flags|=2048,Ga(9,Ka.bind(null,i,n),{destroy:void 0},null)),[t,a,e]}function Ka(e,t){e.action=t}function qa(e){var t=ba(),n=ea;if(null!==n)return Ha(t,n,e);ba(),t=t.memoizedState;var r=(n=ba()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ga(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Ji.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Wa(){return ba().memoizedState}function Xa(e,t,n,r){var i=xa();Ji.flags|=e,i.memoizedState=Ga(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ya(e,t,n,r){var i=ba();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ea&&null!==r&&da(r,ea.memoizedState.deps)?i.memoizedState=Ga(t,n,a,r):(Ji.flags|=e,i.memoizedState=Ga(1|t,n,a,r))}function Za(e,t){Xa(8390656,8,e,t)}function Qa(e,t){Ya(2048,8,e,t)}function Ja(e,t){return Ya(4,2,e,t)}function es(e,t){return Ya(4,4,e,t)}function ts(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ns(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ya(4,4,ts.bind(null,t,e),n)}function rs(){}function is(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function as(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&da(t,r[1]))return r[0];if(r=e(),ia){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function ss(e,t,n){return void 0===n||0!==(1073741824&Qi)?e.memoizedState=t:(e.memoizedState=n,e=Pc(),Ji.lanes|=e,uc|=e,n)}function os(e,t,n,r){return Wn(n,t)?n:null!==Si.current?(e=ss(e,n,r),Wn(e,t)||(zs=!0),e):0===(42&Qi)?(zs=!0,e.memoizedState=n):(e=Pc(),Ji.lanes|=e,uc|=e,t)}function ls(e,t,n,r,i){var a=U.p;U.p=0!==a&&8>a?a:8;var s=T.T,o={};T.T=o,ys(e,!1,t,n);try{var l=i(),c=T.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)bs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Tc());else bs(e,t,r,Tc())}catch(d){bs(e,t,{then:function(){},status:"rejected",reason:d},Tc())}finally{U.p=a,T.T=s}}function cs(){}function ds(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=us(e).queue;ls(e,i,t,z,null===n?cs:function(){return hs(e),n(r)})}function us(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function hs(e){bs(e,us(e).next.queue,{},Tc())}function ps(){return jo(Du)}function fs(){return ba().memoizedState}function ms(){return ba().memoizedState}function gs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Tc(),r=Io(t,e=Po(n),n);return null!==r&&(Ic(r,t,n),$o(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function vs(e,t,n){var r=Tc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ws(e)?ks(t,n):null!==(n=Er(e,t,n,r))&&(Ic(n,e,r),Ss(n,t,r))}function xs(e,t,n){bs(e,t,n,Tc())}function bs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ws(e))ks(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Wn(o,s))return Nr(e,t,i,0),null===tc&&Cr(),!1}catch(l){}if(null!==(n=Er(e,t,i,r)))return Ic(n,e,r),Ss(n,t,r),!0}return!1}function ys(e,t,n,r){if(r={lane:2,revertLane:wd(),action:r,hasEagerState:!1,eagerState:null,next:null},ws(e)){if(t)throw Error(s(479))}else null!==(t=Er(e,n,r,2))&&Ic(t,e,2)}function ws(e){var t=e.alternate;return e===Ji||null!==t&&t===Ji}function ks(e,t){ra=na=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ss(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var _s={readContext:jo,use:wa,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useInsertionEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useSyncExternalStore:ca,useId:ca};_s.useCacheRefresh=ca,_s.useMemoCache=ca,_s.useHostTransitionStatus=ca,_s.useFormState=ca,_s.useActionState=ca,_s.useOptimistic=ca;var js={readContext:jo,use:wa,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:Za,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xa(4194308,4,ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xa(4194308,4,e,t)},useInsertionEffect:function(e,t){Xa(4,2,e,t)},useMemo:function(e,t){var n=xa();t=void 0===t?null:t;var r=e();if(ia){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=xa();if(void 0!==n){var i=n(t);if(ia){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=vs.bind(null,Ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:function(e){var t=(e=$a(e)).queue,n=xs.bind(null,Ji,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rs,useDeferredValue:function(e,t){return ss(xa(),e,t)},useTransition:function(){var e=$a(!1);return e=ls.bind(null,Ji,e.queue,!0,!1),xa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ji,i=xa();if(Yr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===tc)throw Error(s(349));0!==(60&rc)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Za(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Ga(9,Aa.bind(null,r,a,n,t),{destroy:void 0},null),n},useId:function(){var e=xa(),t=tc.identifierPrefix;if(Yr){var n=zr;t=":"+t+"R"+(n=(Ur&~(1<<32-ye(Ur)-1)).toString(32)+n),0<(n=aa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=la++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return xa().memoizedState=gs.bind(null,Ji)}};js.useMemoCache=ka,js.useHostTransitionStatus=ps,js.useFormState=Ua,js.useActionState=Ua,js.useOptimistic=function(e){var t=xa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ys.bind(null,Ji,!0,n),n.dispatch=t,[e,t]};var Cs={readContext:jo,use:wa,useCallback:is,useContext:jo,useEffect:Qa,useImperativeHandle:ns,useInsertionEffect:Ja,useLayoutEffect:es,useMemo:as,useReducer:_a,useRef:Wa,useState:function(){return _a(Sa)},useDebugValue:rs,useDeferredValue:function(e,t){return os(ba(),ea.memoizedState,e,t)},useTransition:function(){var e=_a(Sa)[0],t=ba().memoizedState;return["boolean"===typeof e?e:ya(e),t]},useSyncExternalStore:Na,useId:fs};Cs.useCacheRefresh=ms,Cs.useMemoCache=ka,Cs.useHostTransitionStatus=ps,Cs.useFormState=za,Cs.useActionState=za,Cs.useOptimistic=function(e,t){return Ra(ba(),0,e,t)};var Ns={readContext:jo,use:wa,useCallback:is,useContext:jo,useEffect:Qa,useImperativeHandle:ns,useInsertionEffect:Ja,useLayoutEffect:es,useMemo:as,useReducer:Ca,useRef:Wa,useState:function(){return Ca(Sa)},useDebugValue:rs,useDeferredValue:function(e,t){var n=ba();return null===ea?ss(n,e,t):os(n,ea.memoizedState,e,t)},useTransition:function(){var e=Ca(Sa)[0],t=ba().memoizedState;return["boolean"===typeof e?e:ya(e),t]},useSyncExternalStore:Na,useId:fs};function Es(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ns.useCacheRefresh=ms,Ns.useMemoCache=ka,Ns.useHostTransitionStatus=ps,Ns.useFormState=qa,Ns.useActionState=qa,Ns.useOptimistic=function(e,t){var n=ba();return null!==ea?Ra(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var As={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tc(),i=Po(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Io(e,i,r))&&(Ic(t,e,r),$o(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tc(),i=Po(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Io(e,i,r))&&(Ic(t,e,r),$o(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tc(),r=Po(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Io(e,r,n))&&(Ic(t,e,n),$o(t,e,n))}};function Ts(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,a))}function Ps(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&As.enqueueReplaceState(t,t.state,null)}function Is(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=P({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var $s="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Rs(e){$s(e)}function Os(e){console.error(e)}function Ds(e){$s(e)}function Fs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ms(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ls(e,t,n){return(n=Po(n)).tag=3,n.payload={element:null},n.callback=function(){Fs(e,t)},n}function Vs(e){return(e=Po(e)).tag=3,e}function Bs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ms(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ms(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Us=Error(s(461)),zs=!1;function Hs(e,t,n,r){t.child=null===e?ki(t,null,n,r):wi(t,e.child,n,r)}function Ks(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return _o(t),r=ua(e,t,n,s,a,i),o=ma(),null===e||zs?(Yr&&o&&qr(t),t.flags|=1,Hs(e,t,r,i),t.child):(ga(e,t,i),ho(e,t,i))}function qs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Gs(e,t,a,r,i))}if(a=e.child,!po(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Fl(a,r)).ref=t.ref,e.return=t,t.child=e}function Gs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Xn(a,r)&&e.ref===t.ref){if(zs=!1,t.pendingProps=r=a,!po(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&(zs=!0)}}return Zs(e,t,n,r,i)}function Ws(e,t,n){var r=t.pendingProps,i=r.children,a=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Ys(e,t),"hidden"===r.mode||a){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Xs(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xs(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?ji(t,s):Ci(),Pi(t)}else null!==s?(Yi(0,s.cachePool),ji(t,s),Ii(),t.memoizedState=null):(null!==e&&Yi(0,null),Ci(),Ii());return Hs(e,t,i,n),t.child}function Xs(e,t,n,r){var i=Xi();return i=null===i?null:{parent:Li._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yi(0,null),Ci(),Pi(t),null!==e&&ko(e,t,r,!0),null}function Ys(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Zs(e,t,n,r,i){return _o(t),n=ua(e,t,n,r,void 0,i),r=ma(),null===e||zs?(Yr&&r&&qr(t),t.flags|=1,Hs(e,t,n,i),t.child):(ga(e,t,i),ho(e,t,i))}function Qs(e,t,n,r,i,a){return _o(t),t.updateQueue=null,n=pa(t,r,n,i),ha(e),r=ma(),null===e||zs?(Yr&&r&&qr(t),t.flags|=1,Hs(e,t,n,a),t.child):(ga(e,t,a),ho(e,t,a))}function Js(e,t,n,r,i){if(_o(t),null===t.stateNode){var a=Ir,s=n.contextType;"object"===typeof s&&null!==s&&(a=jo(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=As,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},Ao(t),s=n.contextType,a.context="object"===typeof s&&null!==s?jo(s):Ir,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(Es(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&As.enqueueReplaceState(a,a.state,null),Fo(t,r,a,i),Do(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Is(n,o);a.props=l;var c=a.context,d=n.contextType;s=Ir,"object"===typeof d&&null!==d&&(s=jo(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&Ps(t,a,r,s),Eo=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),Do(),c=t.memoizedState,o||h!==c||Eo?("function"===typeof u&&(Es(t,n,u,r),c=t.memoizedState),(l=Eo||Ts(t,n,l,r,h,c,s))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,To(e,t),d=Is(n,s=t.memoizedProps),a.props=d,u=t.pendingProps,h=a.context,c=n.contextType,l=Ir,"object"===typeof c&&null!==c&&(l=jo(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||h!==l)&&Ps(t,a,r,l),Eo=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i),Do();var p=t.memoizedState;s!==u||h!==p||Eo||null!==e&&null!==e.dependencies&&So(e.dependencies)?("function"===typeof o&&(Es(t,n,o,r),p=t.memoizedState),(d=Eo||Ts(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&So(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=d):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ys(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):Hs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,Hs(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Zi()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fc),e}function io(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ri.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(a?Ti(t):Ii(),Yr){var l,c=Xr;if(l=c){e:{for(l=c,c=Qr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ou(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:Ur,overflow:zr}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Wr=t,Xr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;$i(t)}return c=i.children,i=i.fallback,a?(Ii(),c=so({mode:"hidden",children:c},a=t.mode),i=Vl(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=no(n),a.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ti(t),ao(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Ti(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Ii(),t.child=e.child,t.flags|=128,t=null):(Ii(),a=i.fallback,c=t.mode,i=so({mode:"visible",children:i.children},c),(a=Vl(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,wi(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=a);else if(Ti(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(i=Error(s(419))).stack="",i.digest=r,ai({value:i,source:null,stack:null}),t=oo(e,t,n)}else if(zs||ko(e,t,n,!1),r=0!==(n&e.childLanes),zs||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ar(e,i),Ic(r,e,i),Us}"$?"===c.data||Hc(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=od.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Xr=ou(c.nextSibling),Wr=t,Yr=!0,Zr=null,Qr=!1,null!==e&&(Lr[Vr++]=Ur,Lr[Vr++]=zr,Lr[Vr++]=Br,Ur=e.id,zr=e.overflow,Br=t),(t=ao(t,i.children)).flags|=4096);return t}return a?(Ii(),a=i.fallback,c=t.mode,d=(l=e.child).sibling,(i=Fl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==d?a=Fl(d,a):(a=Vl(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(d=Li._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Zi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ti(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ao(e,t){return(t=so({mode:"visible",children:t},e.mode)).return=e,e.child=t}function so(e,t){return Bl(e,t,0,null)}function oo(e,t,n){return wi(t,e.child,null,n),(e=ao(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),yo(e.return,t,n)}function co(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Hs(e,t,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(W(Ri,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Oi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Oi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,a);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),uc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function po(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!So(e))}function fo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)zs=!0;else{if(!po(e,n)&&0===(128&t.flags))return zs=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),xo(t,Li,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:xo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ti(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(Ti(t),null!==(e=ho(e,t,n))?e.sibling:null);Ti(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ko(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(Ri,Ri.current),r)break;return null;case 22:case 23:return t.lanes=0,Ws(e,t,n);case 24:xo(t,Li,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);zs=0!==(131072&e.flags)}else zs=!1,Yr&&0!==(1048576&t.flags)&&Kr(t,Mr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=Ks(null,t,r,e,n);break e}if(i===y){t.tag=14,t=qs(null,t,r,e,n);break e}}throw t=N(r)||r,Error(s(306,t,""))}Dl(r)?(e=Is(r,e),t.tag=1,t=Js(null,t,r,e,n)):(t.tag=0,t=Zs(null,t,r,e,n))}return t;case 0:return Zs(e,t,t.type,t.pendingProps,n);case 1:return Js(e,t,r=t.type,i=Is(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var a=t.pendingProps;r=(i=t.memoizedState).element,To(e,t),Fo(t,a,null,n);var o=t.memoizedState;if(a=o.cache,xo(t,Li,a),a!==i.cache&&wo(t,[Li],n,!0),Do(),a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,a,n);break e}if(a!==r){ai(r=Rr(Error(s(424)),t)),t=eo(e,t,a,n);break e}for(Xr=ou(t.stateNode.containerInfo.firstChild),Wr=t,Yr=!0,Zr=null,Qr=!0,n=ki(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),a===r){t=ho(e,t,n);break e}Hs(e,t,a,n)}t=t.child}return t;case 26:return Ys(e,t),null===e?(n=gu(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Xd(Z.current).createElement(n))[Me]=t,r[Le]=e,qd(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=cu(t.type,t.pendingProps,Z.current),Wr=t,Qr=!0,Xr=ou(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?Hs(e,t,r,n):t.child=wi(t,null,r,n),Ys(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Xr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=ou(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Qr))?(t.stateNode=r,Wr=t,Xr=ou(r.firstChild),Qr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,Qd(i,a)?r=null:null!==o&&Qd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ua(e,t,fa,null,null,n),Du._currentValue=i),Ys(e,t),Hs(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Xr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ou(e.nextSibling)))return null}return e}(n,t.pendingProps,Qr))?(t.stateNode=n,Wr=t,Xr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):Hs(e,t,r,n),t.child;case 11:return Ks(e,t,t.type,t.pendingProps,n);case 7:return Hs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xo(t,t.type,r.value),Hs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_o(t),r=r(i=jo(i)),t.flags|=1,Hs(e,t,r,n),t.child;case 14:return qs(e,t,t.type,t.pendingProps,n);case 15:return Gs(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Ws(e,t,n);case 24:return _o(t),r=jo(Li),null===e?(null===(i=Xi())&&(i=tc,a=Vi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},Ao(t),xo(t,Li,i)):(0!==(e.lanes&n)&&(To(e,t),Fo(t,null,null,n),Do()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),xo(t,Li,r)):(r=a.cache,xo(t,Li,r),r!==i.cache&&wo(t,[Li],n,!0))),Hs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var mo=q(null),go=null,vo=null;function xo(e,t,n){W(mo,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=mo.current,G(mo)}function yo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),yo(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),yo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ko(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Wn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===Q.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Du):e=[Du])}i=i.return}null!==e&&wo(t,e,n,r),t.flags|=262144}function So(e){for(e=e.firstContext;null!==e;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _o(e){go=e,vo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function jo(e){return No(go,e)}function Co(e,t){return null===go&&_o(e),No(e,t)}function No(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vo){if(null===e)throw Error(s(308));vo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vo=vo.next=t;return n}var Eo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function To(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Po(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Tr(e,null,n),t}return Nr(e,r,t,n),Pr(e)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function Do(){if(Oo){if(null!==Ki)throw Ki}}function Fo(e,t,n,r){Oo=!1;var i=e.updateQueue;Eo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=i.baseState;for(s=0,d=c=l=null,o=a;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(rc&h)===h:(r&h)===h){0!==h&&h===Hi&&(Oo=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,m=o;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(g,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(g,u,h):f)||void 0===h)break e;u=P({},u,h);break e;case 2:Eo=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),uc|=s,e.lanes=s,e.memoizedState=u}}function Mo(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Lo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Mo(n[e],t)}function Vo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){rd(t,t.return,o)}}function Bo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n;try{o()}catch(c){rd(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){rd(t,t.return,c)}}function Uo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Lo(t,n)}catch(r){rd(e,e.return,r)}}}function zo(e,t,n){n.props=Is(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){rd(e,t,r)}}function Ho(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(a){rd(e,t,a)}}function Ko(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){rd(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){rd(e,t,a)}else n.current=null}function qo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){rd(e,e.return,i)}}function Go(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,d=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Hd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Hd(e,t,p,f,r,h)}}return void gt(e,o,l,c,d,u,a,i);case"select":for(a in f=o=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(a)||Hd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Hd(e,t,i,a,r,c)}return t=l,n=o,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Hd(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Hd(e,t,o,i,r,a)}return void yt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Hd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Hd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Hd(e,t,g,null,r,p);for(d in r)if(p=r[d],f=n[d],r.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Hd(e,t,d,p,r,f)}return;default:if(Ct(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Kd(e,t,v,void 0,r,p);for(u in r)p=r[u],f=n[u],!r.hasOwnProperty(u)||p===f||void 0===p&&void 0===f||Kd(e,t,u,p,r,f);return}}for(var x in n)p=n[x],n.hasOwnProperty(x)&&null!=p&&!r.hasOwnProperty(x)&&Hd(e,t,x,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Hd(e,t,h,p,r,f)}(r,e.type,n,t),r[Le]=t}catch(i){rd(e,e.return,i)}}function Wo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Xo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Wo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zd));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yo(e,t,n),e=e.sibling;null!==e;)Yo(e,t,n),e=e.sibling}function Zo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Zo(e,t,n),e=e.sibling;null!==e;)Zo(e,t,n),e=e.sibling}var Qo=!1,Jo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Vo(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){rd(n,n.return,o)}else{var i=Is(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){rd(n,n.return,l)}}64&r&&Uo(n),512&r&&Ho(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Lo(r,e)}catch(o){rd(n,n.return,o)}}break;case 26:vl(e,n),512&r&&Ho(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&qo(n),512&r&&Ho(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&dl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Qo)){t=null!==t&&null!==t.memoizedState||Jo;var a=Qo,s=Jo;Qo=i,(Jo=t)&&!s?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Qo=a,Jo=s}512&r&&("manual"===n.memoizedProps.mode?Ho(n,n.return):Ko(n,n.return))}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Jo||Ko(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Jo||Ko(n,t);var r=sl,i=ol;for(sl=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);qe(n),sl=r,ol=i;break;case 5:Jo||Ko(n,t);case 6:i=sl;var a=ol;if(sl=null,ll(e,t,n),ol=a,null!==(sl=i))if(ol)try{e=sl,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){rd(n,t,o)}else try{sl.removeChild(n.stateNode)}catch(o){rd(n,t,o)}break;case 18:null!==sl&&(ol?(t=sl,n=n.stateNode,8===t.nodeType?au(t.parentNode,n):1===t.nodeType&&au(t,n),mh(t)):au(sl,n.stateNode));break;case 4:r=sl,i=ol,sl=n.stateNode.containerInfo,ol=!0,ll(e,t,n),sl=r,ol=i;break;case 0:case 11:case 14:case 15:Jo||Bo(2,n,t),Jo||Bo(4,n,t),ll(e,t,n);break;case 1:Jo||(Ko(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&zo(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Jo||Ko(n,t),Jo=(r=Jo)||null!==n.memoizedState,ll(e,t,n),Jo=r;break;default:ll(e,t,n)}}function dl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mh(e)}catch(n){rd(t,t.return,n)}}function ul(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=ld.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,ol=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===sl)throw Error(s(160));cl(a,o,i),sl=null,ol=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}var pl=null;function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),ml(e),4&r&&(Bo(3,e,e.return),Vo(3,e),Bo(5,e,e.return));break;case 1:hl(t,e),ml(e),512&r&&(Jo||null===n||Ko(n,n.return)),64&r&&Qo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=pl;if(hl(t,e),ml(e),512&r&&(Jo||null===n||Ko(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ke]||a[Me]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),qd(a,r,n),a[Me]=e,Ze(a),r=a;break e;case"link":var o=Nu("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}qd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=Nu("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}qd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Me]=e,Ze(a),r=a}e.stateNode=r}else Eu(i,e.type,e.stateNode);else e.stateNode=ku(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Eu(i,e.type,e.stateNode):ku(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Go(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,a=e.memoizedProps;try{for(var c=i.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[Ke]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=d}for(var h=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);qd(i,h,a),i[Me]=e,i[Le]=a}catch(m){rd(e,e.return,m)}}case 5:if(hl(t,e),ml(e),512&r&&(Jo||null===n||Ko(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){rd(e,e.return,m)}}4&r&&null!=e.stateNode&&Go(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){rd(e,e.return,m)}}break;case 3:if(Cu=null,i=pl,pl=hu(t.containerInfo),hl(t,e),pl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(m){rd(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=pl,pl=hu(e.stateNode.containerInfo),hl(t,e),ml(e),pl=r;break;case 12:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ul(e,r)));break;case 22:if(512&r&&(Jo||null===n||Ko(n,n.return)),c=null!==e.memoizedState,d=null!==n&&null!==n.memoizedState,Qo=(u=Qo)||c,Jo=(h=Jo)||d,hl(t,e),Jo=h,Qo=u,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Qo||Jo,null===n||d||t||xl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){d=n=t;try{if(i=d.stateNode,c)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{o=d.stateNode;var f=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){rd(d,d.return,m)}}}else if(6===t.tag){if(null===n){d=t;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){rd(d,d.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ul(e,n))));break;case 19:hl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ul(e,r)));break;case 21:break;default:hl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Wo(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 27:var i=r.stateNode;Zo(e,Xo(e),i);break;case 5:var a=r.stateNode;32&r.flags&&(kt(a,""),r.flags&=-33),Zo(e,Xo(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(e,Xo(e),o);break;default:throw Error(s(161))}}}catch(l){rd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bo(4,t,t.return),xl(t);break;case 1:Ko(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&zo(t,t.return,n),xl(t);break;case 26:case 27:case 5:Ko(t,t.return),xl(t);break;case 22:Ko(t,t.return),null===t.memoizedState&&xl(t);break;default:xl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:bl(i,a,n),Vo(4,a);break;case 1:if(bl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){rd(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Mo(l[i],o)}catch(c){rd(r,r.return,c)}}n&&64&s&&Uo(a),Ho(a,a.return);break;case 26:case 27:case 5:bl(i,a,n),n&&null===r&&4&s&&qo(a),Ho(a,a.return);break;case 12:default:bl(i,a,n);break;case 13:bl(i,a,n),n&&4&s&&dl(i,a);break;case 22:null===a.memoizedState&&bl(i,a,n),Ho(a,a.return)}t=t.sibling}}function yl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&i&&Vo(9,t);break;case 3:kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){kl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){rd(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?kl(e,t,n,r):jl(e,t):4&a._visibility?kl(e,t,n,r):(a._visibility|=4,_l(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&yl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&i&&wl(t.alternate,t);break;default:kl(e,t,n,r)}}function _l(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:_l(a,s,o,l,i),Vo(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?4&d._visibility?_l(a,s,o,l,i):jl(a,s):(d._visibility|=4,_l(a,s,o,l,i)),i&&2048&c&&yl(s.alternate,s);break;case 24:_l(a,s,o,l,i),i&&2048&c&&wl(s.alternate,s);break;default:_l(a,s,o,l,i)}t=t.sibling}}function jl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:jl(n,r),2048&i&&yl(r.alternate,r);break;case 24:jl(n,r),2048&i&&wl(r.alternate,r);break;default:jl(n,r)}t=t.sibling}}var Cl=8192;function Nl(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)El(e),e=e.sibling}function El(e){switch(e.tag){case 26:Nl(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Tu)throw Error(s(475));var r=Tu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vu(n.href),a=e.querySelector(xu(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Iu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ze(a);a=e.ownerDocument||e,n=bu(n),(i=du.get(i))&&_u(n,i),Ze(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),qd(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Iu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:Nl(e);break;case 3:case 4:var t=pl;pl=hu(e.stateNode.containerInfo),Nl(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Nl(e),Cl=t):Nl(e))}}function Al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Tl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,$l(r,e)}Al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Tl(e),2048&e.flags&&Bo(9,e,e.return);break;case 3:case 12:default:Tl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Il(e)):Tl(e)}}function Il(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,$l(r,e)}Al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bo(8,t,t.return),Il(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Il(t));break;default:Il(t)}e=e.sibling}}function $l(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Bo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,a=r.return;if(al(r),r===n){nl=null;break e}if(null!==i){i.return=a,nl=i;break e}nl=a}}}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Rl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ml(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ll(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Dl(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,X.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Vl(n.children,i,a,t);case h:o=8,i|=24;break;case p:return(e=Ol(12,n,t,2|i)).elementType=p,e.lanes=a,e;case x:return(e=Ol(13,n,t,i)).elementType=x,e.lanes=a,e;case b:return(e=Ol(19,n,t,i)).elementType=b,e.lanes=a,e;case k:return Bl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:case g:o=10;break e;case m:o=9;break e;case v:o=11;break e;case y:o=14;break e;case w:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Ol(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){(e=Ol(22,e,r,t)).elementType=k,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0===(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility|=2,Ic(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0!==(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility&=-3,Ic(t,e,2))}}};return e.stateNode=i,e}function Ul(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e){e.flags|=4}function Kl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Au(t)){if(null!==(t=Ei.current)&&((4194176&rc)===rc?null!==Ai:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ai))throw hi=li,oi;e.flags|=8192}}function ql(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,mc|=t)}function Gl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xl(e,t,n){var r=t.pendingProps;switch(Gr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Wl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(Li),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Hl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Zr&&(Rc(Zr),Zr=null))),Wl(t),null;case 26:return n=t.memoizedState,null===e?(Hl(t),null!==n?(Wl(t),Kl(t,n)):(Wl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hl(t),Wl(t),Kl(t,n)):(Wl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Hl(t),Wl(t),t.flags&=-16777217),null;case 27:ne(t),n=Z.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wl(t),null}e=X.current,ri(t)?ti(t):(e=cu(i,r,n),t.stateNode=e,Hl(t))}return Wl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wl(t),null}if(e=X.current,ri(t))ti(t);else{switch(i=Xd(Z.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Me]=t,e[Le]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(qd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hl(t)}}return Wl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=Z.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Wr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ud(e.nodeValue,n)))||ei(t)}else(e=Xd(e).createTextNode(r))[Me]=t,t.stateNode=e}return Wl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Me]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),i=!1}else null!==Zr&&(Rc(Zr),Zr=null),i=!0;if(!i)return 256&t.flags?($i(t),t):($i(t),null)}if($i(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ql(t,t.updateQueue),Wl(t),null;case 4:return ee(),null===e&&Id(t.stateNode.containerInfo),Wl(t),null;case 10:return bo(t.type),Wl(t),null;case 19:if(G(Ri),null===(i=t.memoizedState))return Wl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Gl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Oi(e))){for(t.flags|=128,Gl(i,!1),e=a.updateQueue,t.updateQueue=e,ql(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ml(n,e),n=n.sibling;return W(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==i.tail&&le()>yc&&(t.flags|=128,r=!0,Gl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Oi(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ql(t,e),Gl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Yr)return Wl(t),null}else 2*le()-i.renderingStartTime>yc&&536870912!==n&&(t.flags|=128,r=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Ri.current,W(Ri,r?1&e|2:1&e),t):(Wl(t),null);case 22:case 23:return $i(t),Ni(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null!==(n=t.updateQueue)&&ql(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&G(Wi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(Li),Wl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Yl(e,t){switch(Gr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(Li),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if($i(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Ri),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return $i(t),Ni(),null!==e&&G(Wi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(Li),null;default:return null}}function Zl(e,t){switch(Gr(t),t.tag){case 3:bo(Li),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:$i(t);break;case 19:G(Ri);break;case 10:bo(t.type);break;case 22:case 23:$i(t),Ni(),null!==e&&G(Wi);break;case 24:bo(Li)}}var Ql={getCacheForType:function(e){var t=jo(Li),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Jl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,ac=null,sc=!1,oc=!1,lc=!1,cc=0,dc=0,uc=0,hc=0,pc=0,fc=0,mc=0,gc=null,vc=null,xc=!1,bc=0,yc=1/0,wc=null,kc=null,Sc=!1,_c=null,jc=0,Cc=0,Nc=null,Ec=0,Ac=null;function Tc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==T.T){return 0!==Hi?Hi:wd()}return De()}function Pc(){0===fc&&(fc=0===(536870912&rc)||Yr?Ae():536870912);var e=Ei.current;return null!==e&&(e.flags|=32),fc}function Ic(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Vc(e,0),Fc(e,rc,fc,!1)),Ie(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===dc&&Fc(e,rc,fc,!1)),md(e))}function $c(e,t,n){if(0!==(6&ec))throw Error(s(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ne(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=Uc(),i=zc();tc!==e||rc!==t?(wc=null,yc=le()+500,Vc(e,t)):oc=Ne(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var a=ac;t:switch(ic){case 1:ic=0,ac=null,Yc(e,t,a,1);break;case 2:if(ci(a)){ic=0,ac=null,Xc(t);break}t=function(){2===ic&&tc===e&&(ic=7),md(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(a)?(ic=0,ac=null,Xc(t)):(ic=0,ac=null,Yc(e,t,a,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Au(o)){ic=0,ac=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,Zc(d)):nc=null}break t}}ic=0,ac=null,Yc(e,t,a,5);break;case 6:ic=0,ac=null,Yc(e,t,a,6);break;case 8:Lc(),dc=6;break e;default:throw Error(s(462))}}Gc();break}catch(u){Bc(e,u)}return vo=go=null,T.H=r,T.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Cr(),dc)}(e,t):Kc(e,t,!0),a=r;;){if(0===i){oc&&!r&&Fc(e,t,0,!1);break}if(6===i)Fc(e,t,0,!sc);else{if(n=e.current.alternate,a&&!Dc(n)){i=Kc(e,t,!1),a=!1;continue}if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=a,hc|=a,i=4;break e}a=vc,vc=i,null!==a&&Rc(a)}i=o}if(a=!1,2!==i)continue}}if(1===i){Vc(e,0),Fc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){Fc(r,t,fc,!sc);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(s(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(a=bc+300-le())){if(Fc(r,t,fc,!sc),0!==Ce(r,0))break e;r.timeoutHandle=eu(Oc.bind(null,r,n,vc,wc,xc,t,fc,hc,mc,sc,2,-0,0),a)}else Oc(r,n,vc,wc,xc,t,fc,hc,mc,sc,0,-0,0)}}break}md(e)}function Rc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Oc(e,t,n,r,i,a,o,l,c,d,u,h,p){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Tu={stylesheets:null,count:0,unsuspend:Pu},El(t),null!==(t=function(){if(null===Tu)throw Error(s(475));var e=Tu;return e.stylesheets&&0===e.count&&Ru(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Jc.bind(null,e,n,r,i,o,l,c,1,h,p)),void Fc(e,a,o,!d);Jc(e,n,r,i,o,l,c,u,h,p)}function Dc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ye(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&$e(e,n,t)}function Mc(){return 0!==(6&ec)||(gd(0,!1),!1)}function Lc(){if(null!==nc){if(0===ic)var e=nc.return;else vo=go=null,va(e=nc),fi=null,mi=0,e=nc;for(;null!==e;)Zl(e.alternate,e),e=e.return;nc=null}}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,tu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Lc(),tc=e,nc=n=Fl(e.current,null),rc=t,ic=0,ac=null,sc=!1,oc=Ne(e,t),lc=!1,mc=fc=pc=hc=uc=dc=0,vc=gc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ye(r),a=1<<i;t|=e[i],r&=~a}return cc=t,Cr(),n}function Bc(e,t){Ji=null,T.H=_s,t===si?(t=pi(),ic=3):t===oi?(t=pi(),ic=4):ic=t===Us?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===nc&&(dc=1,Fs(e,Rr(t,e.current)))}function Uc(){var e=T.H;return T.H=_s,null===e?_s:e}function zc(){var e=T.A;return T.A=Ql,e}function Hc(){dc=4,sc||(4194176&rc)!==rc&&null!==Ei.current||(oc=!0),0===(134217727&uc)&&0===(134217727&hc)||null===tc||Fc(tc,rc,fc,!1)}function Kc(e,t,n){var r=ec;ec|=2;var i=Uc(),a=zc();tc===e&&rc===t||(wc=null,Vc(e,t)),t=!1;var s=dc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=ac;switch(ic){case 8:Lc(),s=6;break e;case 3:case 2:case 6:null===Ei.current&&(t=!0);var c=ic;if(ic=0,ac=null,Yc(e,o,l,c),n&&oc){s=0;break e}break;default:c=ic,ic=0,ac=null,Yc(e,o,l,c)}}qc(),s=dc;break}catch(d){Bc(e,d)}return t&&e.shellSuspendCounter++,vo=go=null,ec=r,T.H=i,T.A=a,null===nc&&(tc=null,rc=0,Cr()),s}function qc(){for(;null!==nc;)Wc(nc)}function Gc(){for(;null!==nc&&!se();)Wc(nc)}function Wc(e){var t=fo(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Zc(e):nc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qs(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Qs(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:va(t);default:Zl(n,t),t=fo(n,t=nc=Ml(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Zc(e):nc=t}function Yc(e,t,n,r){vo=go=null,va(t),fi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,i,!0),null!==(n=Ei.current)){switch(n.tag){case 13:return null===Ai?Hc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),id(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),id(e,r,i)),!1}throw Error(s(435,n.tag))}return id(e,r,i),Hc(),!1}if(Yr)return null!==(t=Ei.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Jr&&ai(Rr(e=Error(s(422),{cause:r}),n))):(r!==Jr&&ai(Rr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Rr(r,n),Ro(e,i=Ls(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var a=Error(s(520),{cause:r});if(a=Rr(a,n),null===gc?gc=[a]:gc.push(a),4!==dc&&(dc=2),null===t)return!0;r=Rr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ro(n,e=Ls(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===kc||!kc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Bs(i=Vs(i),e,n,r),Ro(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return dc=1,Fs(e,Rr(n,e.current)),void(nc=null)}catch(a){if(null!==i)throw nc=i,a;return dc=1,Fs(e,Rr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:oc||0!==(536870912&rc)?e=!1:(sc=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ei.current)&&13===r.tag&&(r.flags|=16384))),Qc(t,e)):Zc(t)}function Zc(e){var t=e;do{if(0!==(32768&t.flags))return void Qc(t,sc);e=t.return;var n=Xl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===dc&&(dc=5)}function Qc(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);dc=6,nc=null}function Jc(e,t,n,r,i,a,o,l,c,d){var u=T.T,h=U.p;try{U.p=2,T.T=null,function(e,t,n,r,i,a,o,l){do{td()}while(null!==_c);if(0!==(6&ec))throw Error(s(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-ye(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&$e(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,r,d|=jr,a,o,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Cc=d,Nc=n,function(e,t){ie(e,t)}(he,(function(){return td(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=T.T,T.T=null,a=U.p,U.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Gd=Hu,er(e=Jn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===i&&(l=o),p===a&&++u===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wd={focusedElem:e,selectionRange:n},Hu=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(a=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Is(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){rd(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))su(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":su(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),fl(c,e),tr(Wd,e.containerInfo),Hu=!!Gd,Wd=Gd=null,e.current=c,il(e,c.alternate,c),oe(),ec=o,U.p=a,T.T=n):e.current=c,Sc?(Sc=!1,_c=e,jc=r):ed(e,d),d=e.pendingLanes,0===d&&(kc=null),function(e){if(xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),md(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)d=t[c],i(d.value,{componentStack:d.stack});0!==(3&jc)&&td(),d=e.pendingLanes,0!==(4194218&r)&&0!==(42&d)?e===Ac?Ec++:(Ec=0,Ac=e):Ec=0,gd(0,!1)}(e,t,n,r,h,i,a,o)}finally{T.T=u,U.p=h}}function ed(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function td(){if(null!==_c){var e=_c,t=Cc;Cc=0;var n=Oe(jc),r=T.T,i=U.p;try{if(U.p=32>n?32:n,T.T=null,null===_c)var a=!1;else{n=Nc,Nc=null;var o=_c,l=jc;if(_c=null,jc=0,0!==(6&ec))throw Error(s(331));var c=ec;if(ec|=4,Pl(o.current),Sl(o,o.current,l,n),ec=c,gd(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ve,o)}catch(d){}a=!0}return a}finally{U.p=i,T.T=r,ed(e,t)}}return!1}function nd(e,t,n){t=Rr(n,t),null!==(e=Io(e,t=Ls(e.stateNode,t,2),2))&&(Ie(e,2),md(e))}function rd(e,t,n){if(3===e.tag)nd(e,e,n);else for(;null!==t;){if(3===t.tag){nd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Rr(n,e),null!==(r=Io(t,n=Vs(2),2))&&(Bs(n,r,t,e),Ie(r,2),md(r));break}}t=t.return}}function id(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Jl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=ad.bind(null,e,t,n),t.then(e,e))}function ad(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===dc||3===dc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Vc(e,0):pc|=n,mc===rc&&(mc=0)),md(e)}function sd(e,t){0===t&&(t=Te()),null!==(e=Ar(e,t))&&(Ie(e,t),md(e))}function od(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),sd(e,n)}function ld(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),sd(e,n)}var cd=null,dd=null,ud=!1,hd=!1,pd=!1,fd=0;function md(e){var t;e!==dd&&null===e.next&&(null===dd?cd=dd=e:dd=dd.next=e),hd=!0,ud||(ud=!0,t=vd,ru((function(){0!==(6&ec)?ie(de,t):t()})))}function gd(e,t){if(!pd&&hd){pd=!0;do{for(var n=!1,r=cd;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ye(42|e)+1)-1,a=201326677&(a&=i&~(s&~o))?201326677&a|1:a?2|a:0}0!==a&&(n=!0,yd(r,a))}else a=rc,0===(3&(a=Ce(r,r===tc?a:0)))||Ne(r,a)||(n=!0,yd(r,a));r=r.next}}while(n);pd=!1}}function vd(){hd=ud=!1;var e=0;0!==fd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Jd&&(Jd=e,!0);return Jd=null,!1}()&&(e=fd),fd=0);for(var t=le(),n=null,r=cd;null!==r;){var i=r.next,a=xd(r,t);0===a?(r.next=null,null===n?cd=i:n.next=i,null===i&&(dd=n)):(n=r,(0!==e||0!==(3&a))&&(hd=!0)),r=i}gd(e,!1)}function xd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-ye(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ee(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=rc,n=Ce(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Oe(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=fe}return r=bd.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function bd(e,t){var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ce(e,e===tc?r:0))?null:($c(e,r,t),xd(e,le()),null!=e.callbackNode&&e.callbackNode===n?bd.bind(null,e):null)}function yd(e,t){if(td())return null;$c(e,t,!0)}function wd(){return 0===fd&&(fd=Ae()),fd}function kd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Sd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var _d=0;_d<wr.length;_d++){var jd=wr[_d];kr(jd.toLowerCase(),"on"+(jd[0].toUpperCase()+jd.slice(1)))}kr(pr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(xr,"onTransitionCancel"),kr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function Ed(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){$s(d)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){$s(d)}i.currentTarget=null,a=l}}}}function Ad(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||($d(t,e,2,!1),n.add(r))}function Td(e,t,n){var r=0;t&&(r|=4),$d(n,e,r,t)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Pd]){e[Pd]=!0,Qe.forEach((function(t){"selectionchange"!==t&&(Nd.has(t)||Td(t,!1,e),Td(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pd]||(t[Pd]=!0,Td("selectionchange",!1,t))}}function $d(e,t,n,r){switch(Zu(t)){case 2:var i=Ku;break;case 8:i=qu;break;default:i=Gu}n=i.bind(null,t,n,e),i=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=Ge(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Dt((function(){var r=a,i=Pt(n),s=[];e:{var o=yr.get(e);if(void 0!==o){var l=Qt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=fn;break;case"focusin":c="focus",l=an;break;case"focusout":c="blur",l=an;break;case"beforeblur":case"afterblur":l=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case pr:case fr:case mr:l=sn;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=r;null!==f;){var m=f;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===h||null!=(m=Ft(f,h))&&d.push(Od(f,m,p)),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(c=n.relatedTarget||n.fromElement)||!Ge(c)&&!c[Ve])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ge(c):null)&&(u=F(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=r),l!==c)){if(d=nn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:Xe(l),p=null==c?o:Xe(c),(o=new d(m,f+"leave",l,n,i)).target=u,o.relatedTarget=p,m=null,Ge(i)===r&&((d=new d(h,f+"enter",c,n,i)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Fd(p))f++;for(p=0,m=h;m;m=Fd(m))p++;for(;0<f-p;)d=Fd(d),f--;for(;0<p-f;)h=Fd(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Fd(d),h=Fd(h)}d=null}else d=null;null!==l&&Md(s,o,l,d,!1),null!==c&&null!==u&&Md(s,u,c,d,!0)}if("select"===(l=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Fn;else if(Pn(o))if(Mn)g=Gn;else{g=Kn;var v=Hn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(g=Fn):g=qn;switch(g&&(g=g(e,r))?In(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&xt(o,"number",o.value)),v=r?Xe(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var x;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(x=zt()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,An=!0)),0<(v=Dd(r,b)).length&&(b=new ln(b,e,null,n,i),s.push({event:b,listeners:v}),x?b.data=x:null!==(x=En(n))&&(b.data=x))),(x=Sn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Cn=!0,jn);case"textInput":return(e=t.data)===jn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!wn&&Nn(e,t)?(e=zt(),Ut=Bt=Vt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Dd(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:b}),v.data=x)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=kd((i[Le]||null).action),s=r.submitter;s&&null!==(t=(t=s[Le]||null)?kd(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Qt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fd){var e=s?Sd(i,s):new FormData(i);ds(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Sd(i,s):new FormData(i),ds(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Ed(s,t)}))}function Od(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(Od(e,i,a)),null!=(i=Ft(e,t))&&r.push(Od(e,i,a))),e=e.return}return r}function Fd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Md(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,a))&&s.unshift(Od(n,c,l)):i||null!=(c=Ft(n,a))&&s.push(Od(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ld=/\r\n?/g,Vd=/\u0000|\uFFFD/g;function Bd(e){return("string"===typeof e?e:""+e).replace(Ld,"\n").replace(Vd,"")}function Ud(e,t){return t=Bd(t),Bd(e)===t}function zd(){}function Hd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":jt(e,r,a);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Hd(e,t,"name",i.name,i,null),Hd(e,t,"formEncType",i.formEncType,i,null),Hd(e,t,"formMethod",i.formMethod,i,null),Hd(e,t,"formTarget",i.formTarget,i,null)):(Hd(e,t,"encType",i.encType,i,null),Hd(e,t,"method",i.method,i,null),Hd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=zd);break;case"onScroll":null!=r&&Ad("scroll",e);break;case"onScrollEnd":null!=r&&Ad("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ad("beforetoggle",e),Ad("toggle",e),st(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Nt.get(n)||n,r)}}function Kd(e,t,n,r,i,a){switch(n){case"style":jt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Ad("scroll",e);break;case"onScrollEnd":null!=r&&Ad("scrollend",e);break;case"onClick":null!=r&&(e.onclick=zd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Le]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function qd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ad("error",e),Ad("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Hd(e,t,r,o,n,null)}}return a&&Hd(e,t,"srcSet",n.srcSet,n,null),void(i&&Hd(e,t,"src",n.src,n,null));case"input":Ad("invalid",e);var l=r=o=a=null,c=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(null!=u)switch(i){case"name":a=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Hd(e,t,i,u,n,null)}}return vt(e,r,l,c,d,o,a,!1),void ut(e);case"select":for(a in Ad("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Hd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Ad("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Hd(e,t,o,l,n,null)}return wt(e,i,a,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Hd(e,t,c,i,n,null);return;case"dialog":Ad("cancel",e),Ad("close",e);break;case"iframe":case"object":Ad("load",e);break;case"video":case"audio":for(i=0;i<Cd.length;i++)Ad(Cd[i],e);break;case"image":Ad("error",e),Ad("load",e);break;case"details":Ad("toggle",e);break;case"embed":case"source":case"link":Ad("error",e),Ad("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(i=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Hd(e,t,d,i,n,null)}return;default:if(Ct(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(i=n[u])&&Kd(e,t,u,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Hd(e,t,l,i,n,null))}var Gd=null,Wd=null;function Xd(e){return 9===e.nodeType?e:e.ownerDocument}function Yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Qd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jd=null;var eu="function"===typeof setTimeout?setTimeout:void 0,tu="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,ru="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(e){return nu.resolve(null).then(e).catch(iu)}:eu;function iu(e){setTimeout((function(){throw e}))}function au(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void mh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mh(t)}function su(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":su(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ou(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function lu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cu(e,t,n){switch(t=Xd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var du=new Map,uu=new Set;function hu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pu=U.d;U.d={f:function(){var e=pu.f(),t=Mc();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?hs(t):pu.r(e)},D:function(e){pu.D(e),mu("dns-prefetch",e,null)},C:function(e,t){pu.C(e,t),mu("preconnect",e,t)},L:function(e,t,n){pu.L(e,t,n);var r=fu;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=vu(e);break;case"script":a=yu(e)}du.has(a)||(e=P({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),du.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(xu(a))||"script"===t&&r.querySelector(wu(a))||(qd(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){pu.m(e,t);var n=fu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=yu(e)}if(!du.has(a)&&(e=P({rel:"modulepreload",href:e},t),du.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wu(a)))return}qd(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){pu.X(e,t);var n=fu;if(n&&e){var r=Ye(n).hoistableScripts,i=yu(e),a=r.get(i);a||((a=n.querySelector(wu(i)))||(e=P({src:e,async:!0},t),(t=du.get(i))&&ju(e,t),Ze(a=n.createElement("script")),qd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){pu.S(e,t,n);var r=fu;if(r&&e){var i=Ye(r).hoistableStyles,a=vu(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(xu(a)))o.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},n),(n=du.get(a))&&_u(e,n);var l=s=r.createElement("link");Ze(l),qd(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Su(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){pu.M(e,t);var n=fu;if(n&&e){var r=Ye(n).hoistableScripts,i=yu(e),a=r.get(i);a||((a=n.querySelector(wu(i)))||(e=P({src:e,async:!0,type:"module"},t),(t=du.get(i))&&ju(e,t),Ze(a=n.createElement("script")),qd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var fu="undefined"===typeof document?null:document;function mu(e,t,n){var r=fu;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),uu.has(i)||(uu.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(qd(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function gu(e,t,n,r){var i,a,o,l,c=(c=Z.current)?hu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vu(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vu(n.href);var d=Ye(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(xu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),du.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},du.set(e,n),d||(i=c,a=e,o=n,l=u.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),qd(a,"link",o),Ze(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return u}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=yu(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function vu(e){return'href="'+mt(e)+'"'}function xu(e){return'link[rel="stylesheet"]['+e+"]"}function bu(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function yu(e){return'[src="'+mt(e)+'"]'}function wu(e){return"script[async]"+e}function ku(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var i=P({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),qd(r,"style",i),Su(r,n.precedence,e),t.instance=r;case"stylesheet":i=vu(n.href);var a=e.querySelector(xu(i));if(a)return t.state.loading|=4,t.instance=a,Ze(a),a;r=bu(n),(i=du.get(i))&&_u(r,i),Ze(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),qd(a,"link",r),t.state.loading|=4,Su(a,n.precedence,e),t.instance=a;case"script":return a=yu(n.src),(i=e.querySelector(wu(a)))?(t.instance=i,Ze(i),i):(r=n,(i=du.get(a))&&ju(r=P({},n),i),Ze(i=(e=e.ownerDocument||e).createElement("script")),qd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Su(r,n.precedence,e));return t.instance}function Su(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ju(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cu=null;function Nu(e,t,n){if(null===Cu){var r=new Map,i=Cu=new Map;i.set(n,r)}else(r=(i=Cu).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ke]||a[Me]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Eu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Au(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Tu=null;function Pu(){}function Iu(){if(this.count--,0===this.count)if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var $u=null;function Ru(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,$u=new Map,t.forEach(Ou,e),$u=null,Iu.call(e))}function Ou(e,t){if(!(4&t.state.loading)){var n=$u.get(e);if(n)var r=n.get(null);else{n=new Map,$u.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Iu.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Du={$$typeof:g,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Fu(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Mu(e,t,n,r,i,a,s,o,l,c,d,u){return e=new Fu(e,t,n,s,o,l,c,u),t=1,!0===a&&(t|=24),a=Ol(3,null,null,t),e.current=a,a.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ao(a),e}function Lu(e){return e?e=Ir:Ir}function Vu(e,t,n,r,i,a){i=Lu(i),null===r.context?r.context=i:r.pendingContext=i,(r=Po(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=Io(e,r,t))&&(Ic(n,0,t),$o(n,e,t))}function Bu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uu(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function zu(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Ic(t,0,67108864),Uu(e,67108864)}}var Hu=!0;function Ku(e,t,n,r){var i=T.T;T.T=null;var a=U.p;try{U.p=2,Gu(e,t,n,r)}finally{U.p=a,T.T=i}}function qu(e,t,n,r){var i=T.T;T.T=null;var a=U.p;try{U.p=8,Gu(e,t,n,r)}finally{U.p=a,T.T=i}}function Gu(e,t,n,r){if(Hu){var i=Wu(r);if(null===i)Rd(e,t,r,Xu,n),sh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ju=oh(Ju,e,t,n,r,i),!0;case"dragenter":return eh=oh(eh,e,t,n,r,i),!0;case"mouseover":return th=oh(th,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return nh.set(a,oh(nh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,rh.set(a,oh(rh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(sh(e,r),4&t&&-1<ah.indexOf(e)){for(;null!==i;){var a=We(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=je(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ye(s);o.entanglements[1]|=l,s&=~l}md(a),0===(6&ec)&&(yc=le()+500,gd(0,!1))}}break;case 13:null!==(o=Ar(a,2))&&Ic(o,0,2),Mc(),Uu(a,2)}if(null===(a=Wu(r))&&Rd(e,t,r,Xu,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Rd(e,t,r,null,n)}}function Wu(e){return Yu(e=Pt(e))}var Xu=null;function Yu(e){if(Xu=null,null!==(e=Ge(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=M(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xu=e,null}function Zu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Qu=!1,Ju=null,eh=null,th=null,nh=new Map,rh=new Map,ih=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function oh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=We(t))&&zu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lh(e){var t=Ge(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=M(n)))return e.blockedOn=t,void function(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}(e.priority,(function(){if(13===n.tag){var e=Tc(),t=Ar(n,e);null!==t&&Ic(t,0,e),Uu(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&zu(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function dh(e,t,n){ch(e)&&n.delete(t)}function uh(){Qu=!1,null!==Ju&&ch(Ju)&&(Ju=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(dh),rh.forEach(dh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uh)))}var ph=null;function fh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Yu(r||n))continue;break}var a=We(n);null!==a&&(e.splice(t,3),t-=3,ds(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mh(e){function t(t){return hh(t,e)}null!==Ju&&hh(Ju,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ih.length&&null===(n=ih[0]).blockedOn;)lh(n),null===n.blockedOn&&ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Le]||null;if("function"===typeof a)s||fh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Le]||null)o=s.formAction;else if(null!==Yu(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),fh(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vu(t.current,Tc(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&td(),Vu(e.current,2,null,e,null,null),Mc(),t[Ve]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&0!==t&&t<ih[n].priority;n++);ih.splice(n,0,e),0===n&&lh(e)}};var xh=i.version;if("19.0.0"!==xh)throw Error(s(527,xh,"19.0.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return L(i),e;if(a===r)return L(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{ve=yh.inject(bh),xe=yh}catch(kh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=Rs,a=Os,l=Ds;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Mu(e,1,!1,null,0,n,r,i,a,l,0,null),e[Ve]=t.current,Id(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=Rs,l=Os,c=Ds,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Mu(e,1,!0,t,0,r,i,a,l,c,0,d)).context=Lu(null),n=t.current,(i=Po(r=Tc())).callback=null,Io(n,i,r),t.current.lanes=r,Ie(t,r),md(t),e[Ve]=t.current,Id(e),new vh(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},173:(e,t,n)=>{e.exports=n(497)()},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},237:()=>{},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,m(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function _(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function A(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return A((d=e._init)(e._payload),t,i,a,s)}}if(d)return s=s(e),d=""===a?"."+N(e,0):a,w(s)?(i="",null!=d&&(i=d.replace(C,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(j(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+d,s=_(l.type,c,void 0,0,0,l.props)),t.push(s)),1;d=0;var u,f=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)d+=A(a=e[m],t,i,o=f+N(a,m),s);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(a=e.next()).done;)d+=A(a=a.value,t,i,o=f+N(a,m++),s);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function $(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return _(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then($,I)}catch(a){I(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},492:()=>{},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},640:()=>{},671:()=>{},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},749:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||s(t)},t.bytesToString=function(e){"object"===typeof e&&null!==e&&void 0!==e.length||s("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t&&t.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=p(e)}catch(r){}}const i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(r){}return null},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"===typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=o,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=c,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=c(e);return n.decode(r)}catch(n){a(`stringToPDFString: "${n}".`)}}const t=[];for(let r=0,i=e.length;r<i;r++){const n=h[e.charCodeAt(r)];t.push(n?String.fromCharCode(n):e.charAt(r))}return t.join("")},t.stringToUTF8String=p,t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=a,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35;const n=.35/1.35;t.BASELINE_FACTOR=n,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function a(e){i>=r.WARNINGS&&console.log(`Warning: ${e}`)}function s(e){throw new Error(e)}function o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&s("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"string"!==typeof e&&s("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return o(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return o(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return o(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?o(this,"platform",{isWin:!1,isMac:!1}):o(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const d=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class u{static makeHexColor(e,t,n){return`#${d[e]}${d[t]}${d[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=u.applyTransform(e,t),r=u.applyTransform(e.slice(2,4),t),i=u.applyTransform([e[0],e[3]],t),a=u.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],s=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-i*r))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}static bezierBoundingBox(e,t,n,r,i,a,s,o){const l=[],c=[[],[]];let d,u,h,p,f,m,g,v;for(let w=0;w<2;++w)if(0===w?(u=6*e-12*n+6*i,d=-3*e+9*n-9*i+3*s,h=3*n-3*e):(u=6*t-12*r+6*a,d=-3*t+9*r-9*a+3*o,h=3*r-3*t),Math.abs(d)<1e-12){if(Math.abs(u)<1e-12)continue;p=-h/u,0<p&&p<1&&l.push(p)}else g=u*u-4*h*d,v=Math.sqrt(g),g<0||(f=(-u+v)/(2*d),0<f&&f<1&&l.push(f),m=(-u-v)/(2*d),0<m&&m<1&&l.push(m));let x,b=l.length;const y=b;for(;b--;)p=l[b],x=1-p,c[0][b]=x*x*x*e+3*x*x*p*n+3*x*p*p*i+p*p*p*s,c[1][b]=x*x*x*t+3*x*x*p*r+3*x*p*p*a+p*p*p*o;return c[0][y]=e,c[1][y]=t,c[0][y+1]=s,c[1][y+1]=o,c[0].length=c[1].length=y+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}t.Util=u;const h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function p(e){return decodeURIComponent(escape(e))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}if(_is_node.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(21);createPDFNetworkStream=t=>new e(t)}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(24),{PDFFetchStream:t}=__w_pdfjs_require__(25);createPDFNetworkStream=n=>(0,_display_utils.isValidFetchUrl)(n.url)?new t(n):new e(n)}function getDocument(e){if("string"===typeof e||e instanceof URL)e={url:e};else if((0,_util.isArrayBuffer)(e))e={data:e};else if(e instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),e={range:e};else if("object"!==typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new PDFDocumentLoadingTask,n=e.url?getUrlProp(e.url):null,r=e.data?getDataProp(e.data):null,i=e.httpHeaders||null,a=!0===e.withCredentials,s=e.password??null,o=e.range instanceof PDFDataRangeTransport?e.range:null,l=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let c=e.worker instanceof PDFWorker?e.worker:null;const d=e.verbosity,u="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,h="string"===typeof e.cMapUrl?e.cMapUrl:null,p=!1!==e.cMapPacked,f=e.CMapReaderFactory||DefaultCMapReaderFactory,m="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,g=e.StandardFontDataFactory||DefaultStandardFontDataFactory,v=!0!==e.stopAtErrors,x=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,b=!1!==e.isEvalSupported,y="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_is_node.isNodeJS,w="boolean"===typeof e.disableFontFace?e.disableFontFace:_is_node.isNodeJS,k=!0===e.fontExtraProperties,S=!0===e.enableXfa,_=e.ownerDocument||globalThis.document,j=!0===e.disableRange,C=!0===e.disableStream,N=!0===e.disableAutoFetch,E=!0===e.pdfBug,A=o?o.length:e.length??NaN,T="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_is_node.isNodeJS&&!w,P="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:f===_display_utils.DOMCMapReaderFactory&&g===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(h,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(m,document.baseURI);(0,_util.setVerbosityLevel)(d);const I=P?null:{cMapReaderFactory:new f({baseUrl:h,isCompressed:p}),standardFontDataFactory:new g({baseUrl:m})};if(!c){const e={verbosity:d,port:_worker_options.GlobalWorkerOptions.workerPort};c=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=c}const $=t.docId,R={docId:$,apiVersion:"3.4.120",data:r,password:s,disableAutoFetch:N,rangeChunkSize:l,length:A,docBaseUrl:u,enableXfa:S,evaluatorOptions:{maxImageSize:x,disableFontFace:w,ignoreErrors:v,isEvalSupported:b,isOffscreenCanvasSupported:y,fontExtraProperties:k,useSystemFonts:T,cMapUrl:P?h:null,standardFontDataUrl:P?m:null}},O={ignoreErrors:v,isEvalSupported:b,disableFontFace:w,fontExtraProperties:k,enableXfa:S,ownerDocument:_,disableAutoFetch:N,pdfBug:E,styleElement:null};return c.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(c,R),s=new Promise((function(e){let t;o?t=new _transport_stream.PDFDataTransportStream({length:A,initialData:o.initialData,progressiveDone:o.progressiveDone,contentDispositionFilename:o.contentDispositionFilename,disableRange:j,disableStream:C},o):r||(t=createPDFNetworkStream({url:n,length:A,httpHeaders:i,withCredentials:a,rangeChunkSize:l,disableRange:j,disableStream:C})),e(t)}));return Promise.all([e,s]).then((function(e){let[n,r]=e;if(t.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler($,n,c.port),a=new WorkerTransport(i,t,r,O,I);t._transport=a,i.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(_is_node.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(e);if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;#t=null;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return this.#t}set onUnsupportedFeature(e){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),this.#t=e}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._pageIndex=e,this._pageInfo=t,this._ownerDocument=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:r="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:a=null,canvasFactory:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:u=null}=e;this._stats?.time("Overall");const h=this._transport.getRenderingIntent(r,i,u);this.pendingCleanup=!1,l||(l=this._transport.getOptionalContentConfig());let p=this._intentStates.get(h.cacheKey);p||(p=Object.create(null),this._intentStates.set(h.cacheKey,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const f=s||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),m=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);p.displayReadyCapability||(p.displayReadyCapability=(0,_util.createPromiseCapability)(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const g=e=>{p.renderTasks.delete(v),(this.cleanupAfterRender||m)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(v.capability.reject(e),this._abortOperatorList({intentState:p,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},v=new InternalRenderTask({callback:g,params:{canvasContext:t,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:f,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:d});(p.renderTasks||=new Set).add(v);const x=v.task;return Promise.all([p.displayReadyCapability.promise,l]).then((e=>{let[t,n]=e;this.pendingCleanup?g():(this._stats?.time("Rendering"),v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged())})).catch(g),x}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let i,a=this._intentStates.get(r.cacheKey);return a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a)),a.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(i))},a.opListReadCapability=(0,_util.createPromiseCapability)(),(a.renderTasks||=new Set).add(i),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:e=!1,includeMarkedContent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:a}=n;a?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageMap:r}=e;const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r}).getReader(),a=this._intentStates.get(n);a.streamReader=i;const s=()=>{i.read().then((e=>{let{value:t,done:n}=e;n?a.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,a),s())}),(e=>{if(a.streamReader=null,!this._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(const e of a.renderTasks)e.operatorListChanged();this._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(e);else{if(!a.opListReadCapability)throw e;a.opListReadCapability.reject(e)}}}))};s()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#n=(()=>new Set)();#r=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t)};this.#r.then((()=>{for(const e of this.#n)e.call(this,n)}))}addEventListener(e,t){this.#n.add(t)}removeEventListener(e,t){this.#n.delete(t)}terminate(){this.#n.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static#i=(()=>new WeakMap)();constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&PDFWorker.#i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return PDFWorker.#i.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),n.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)r();else try{a()}catch(n){this._setupFakeWorker()}}));const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#i.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#i.has(e.port)?this.#i.get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#a=(()=>new Map)();#s=(()=>new Map)();#o=(()=>new Map)();constructor(e,t,n,r,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.cMapReaderFactory=i?.cMapReaderFactory,this.standardFontDataFactory=i?.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}#l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#a.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#a.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,a=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,a=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${_annotation_storage.AnnotationStorage.getHash(a)}`,annotationStorageMap:a}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#s.values())e.push(n._destroy());this.#s.clear(),this.#o.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#a.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const r=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){this._passwordCapability.reject(n)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.#s.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,r,i]=t;if(!this.destroyed&&!this.commonObjs.has(n))switch(r){case"Font":const t=this._params;if("error"in i){const e=i.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}let a=null;t.pdfBug&&globalThis.FontInspector?.enabled&&(a={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const s=new _font_loader.FontFaceObject(i,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(s).catch((t=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!t.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(n,s)}));break;case"FontPath":case"Image":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${r}`)}})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const a=this.#s.get(n);if(!a.objs.has(t))switch(r){case"Image":a.objs.resolve(t,i);const e=8e6;if(i){let t;if(i.bitmap){const{width:e,height:n}=i;t=e*n*4}else t=i.data?.length||0;t>e&&(a.cleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(t,i);break;default:throw new Error(`Got unknown object type ${r}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature(e){let{featureId:t}=e;this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#o.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);return this.#s.set(t,n),n}));return this.#o.set(t,r),r}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#a.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#a.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#s.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#a.clear()}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}class PDFObjects{#c=(()=>Object.create(null))();#d(e){const t=this.#c[e];return t||(this.#c[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#d(e);return n.capability.promise.then((()=>t(n.data))),null}const n=this.#c[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#c[e];return t?.capability.settled||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#d(e);n.data=t,n.capability.resolve()}clear(){for(const e in this.#c){const{data:t}=this.#c[e];t?.bitmap?.close()}this.#c=Object.create(null)}}class RenderTask{#u=null;constructor(e){this.#u=e,this.onContinue=null}get promise(){return this.#u.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#u.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#u.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#u;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#h=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:u=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this._pdfBug=d,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#h.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#h.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&InternalRenderTask.#h.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#h.delete(this._canvas),this.callback())))}}const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(4),a=n(8);class s{#p=!1;#f=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#f.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#f.get(e)}remove(e){if(this.#f.delete(e),0===this.#f.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#f.values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#f.get(e);let r=!1;if(void 0!==n)for(const[i,a]of Object.entries(t))n[i]!==a&&(r=!0,n[i]=a);else r=!0,this.#f.set(e,t);r&&this.#m(),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#f.has(e)}getAll(){return this.#f.size>0?(0,r.objectFromMap)(this.#f):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#f.size}#m(){this.#p||(this.#p=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#p&&(this.#p=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new o(this)}get serializable(){if(0===this.#f.size)return null;const e=new Map;for(const[t,n]of this.#f){const r=n instanceof i.AnnotationEditor?n.serialize():n;r&&e.set(t,r)}return e}static getHash(e){if(!e)return"";const t=new a.MurmurHash3_64;for(const[n,r]of e)t.update(`${n}:${JSON.stringify(r)}`);return t.hexdigest()}}t.AnnotationStorage=s;class o extends s{#g=null;constructor(e){super(),this.#g=structuredClone(e.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#g}}t.PrintAnnotationStorage=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(5),i=n(1);class a{#v=this.focusin.bind(this);#x=this.focusout.bind(this);#b=!1;#y=!1;#w=!1;_uiManager=null;#k=(()=>a._zIndex++)();static _colorManager=(()=>new r.ColorManager)();static _zIndex=1;constructor(e){this.constructor===a&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#k}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this.#b?this.#b=!1:this.parent.setSelected(this)}focusout(e){if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(e){const t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,t,n,r){const[i,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/a,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,t){const[n,r]=this.parentDimensions;[e,t]=this.screenToPageTranslation(e,t),this.x+=e/n,this.y+=t/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,t){switch(this.parentRotation){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:e}=this._uiManager.viewParameters,[t,n]=this.pageDimensions;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=100*e/n+"%",this.div.style.height=100*t/r+"%"}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=t.endsWith("%");if(r&&i)return;const[a,s]=this.parentDimensions;r||(e.width=100*parseFloat(n)/a+"%"),i||(e.height=100*parseFloat(t)/s+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#v),this.div.addEventListener("focusout",this.#x);const[e,t]=this.getInitialTranslation();return this.translate(e,t),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const{isMac:t}=i.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#b=!0)}getRect(e,t){const n=this.parentScale,[r,i]=this.pageDimensions,[a,s]=this.pageTranslation,o=e/n,l=t/n,c=this.x*r,d=this.y*i,u=this.width*r,h=this.height*i;switch(this.rotation){case 0:return[c+o+a,i-d-l-h+s,c+o+u+a,i-d-l+s];case 90:return[c+l+a,i-d+o+s,c+l+h+a,i-d+o+u+s];case 180:return[c-o-u+a,i-d+l+s,c-o+a,i-d+l+h+s];case 270:return[c-l-h+a,i-d-o-u+s,c-l+a,i-d-o+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,a]=e,s=i-n,o=a-r;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-r,o,s];case 180:return[i,t-r,s,o];case 270:return[i,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#w=!0}disableEditMode(){this.#w=!1}isInEditMode(){return this.#w}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#v)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[i,a]=r.pageDimensions,[s,o,l,c]=r.getRectInCurrentCoords(e.rect,a);return r.x=s/i,r.y=o/a,r.width=l/i,r.height=c/a,r}remove(){this.div.removeEventListener("focusin",this.#v),this.div.removeEventListener("focusout",this.#x),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(e,t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#y}set isEditing(e){this.#y=e,e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(6);class a{#S=0;getId(){return`${r.AnnotationEditorPrefix}${this.#S++}`}}class s{#_=[];#j=!1;#C;#N=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#C=e}add(e){let{cmd:t,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}=e;if(r&&t(),this.#j)return;const o={cmd:t,undo:n,type:i};if(-1===this.#N)return this.#_.length>0&&(this.#_.length=0),this.#N=0,void this.#_.push(o);if(a&&this.#_[this.#N].type===i)return s&&(o.undo=this.#_[this.#N].undo),void(this.#_[this.#N]=o);const l=this.#N+1;l===this.#C?this.#_.splice(0,1):(this.#N=l,l<this.#_.length&&this.#_.splice(l)),this.#_.push(o)}undo(){-1!==this.#N&&(this.#j=!0,this.#_[this.#N].undo(),this.#j=!1,this.#N-=1)}redo(){this.#N<this.#_.length-1&&(this.#N+=1,this.#j=!0,this.#_[this.#N].cmd(),this.#j=!1)}hasSomethingToUndo(){return-1!==this.#N}hasSomethingToRedo(){return this.#N<this.#_.length-1}destroy(){this.#_=null}}t.CommandManager=s;class o{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=r.FeatureTest.platform;for(const[n,r]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),r),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,r),this.allKeys.add(e.split("+").at(-1)))}}#E(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#E(t));n&&(n.bind(e)(),t.stopPropagation(),t.preventDefault())}}t.KeyboardManager=o;class l{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,i.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return l._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=l;class c{#A=null;#T=(()=>new Map)();#P=(()=>new Map)();#I=null;#$=(()=>new s)();#R=0;#O=null;#D=(()=>new Set)();#F=null;#M=(()=>new a)();#L=!1;#V=(()=>r.AnnotationEditorType.NONE)();#B=(()=>new Set)();#U=this.copy.bind(this);#z=this.cut.bind(this);#H=this.paste.bind(this);#K=this.keydown.bind(this);#q=this.onEditingAction.bind(this);#G=this.onPageChanging.bind(this);#W=this.onScaleChanging.bind(this);#X=this.onRotationChanging.bind(this);#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#Z=null;static _keyboardManager=(()=>new o([[["ctrl+a","mac+meta+a"],c.prototype.selectAll],[["ctrl+z","mac+meta+z"],c.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],c.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],c.prototype.delete],[["Escape","mac+Escape"],c.prototype.unselectAll]]))();constructor(e,t,n){this.#Z=e,this.#F=t,this.#F._on("editingaction",this.#q),this.#F._on("pagechanging",this.#G),this.#F._on("scalechanging",this.#W),this.#F._on("rotationchanging",this.#X),this.#I=n,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#Q(),this.#F._off("editingaction",this.#q),this.#F._off("pagechanging",this.#G),this.#F._off("scalechanging",this.#W),this.#F._off("rotationchanging",this.#X);for(const e of this.#P.values())e.destroy();this.#P.clear(),this.#T.clear(),this.#D.clear(),this.#A=null,this.#B.clear(),this.#$.destroy()}onPageChanging(e){let{pageNumber:t}=e;this.#R=t-1}focusMainContainer(){this.#Z.focus()}addShouldRescale(e){this.#D.add(e)}removeShouldRescale(e){this.#D.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of this.#D)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!this.#I||this.#I.has(e.id)||this.#I.setValue(e.id,e)}#J(){this.#Z.addEventListener("keydown",this.#K)}#Q(){this.#Z.removeEventListener("keydown",this.#K)}#ee(){document.addEventListener("copy",this.#U),document.addEventListener("cut",this.#z),document.addEventListener("paste",this.#H)}#te(){document.removeEventListener("copy",this.#U),document.removeEventListener("cut",this.#z),document.removeEventListener("paste",this.#H)}copy(e){if(e.preventDefault(),this.#A&&this.#A.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#B)n.isEmpty()||t.push(n.serialize());0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();let t=e.clipboardData.getData("application/pdfjs");if(!t)return;try{t=JSON.parse(t)}catch(i){return void(0,r.warn)(`paste: "${i.message}".`)}if(!Array.isArray(t))return;this.unselectAll();const n=this.#P.get(this.#R);try{const e=[];for(const a of t){const t=n.deserialize(a);if(!t)return;e.push(t)}const r=()=>{for(const t of e)this.#ne(t);this.#re(e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:r,undo:i,mustExec:!0})}catch(i){(0,r.warn)(`paste: "${i.message}".`)}}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||c._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}#ie(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#Y[t]!==n}))&&this.#F.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)})}#ae(e){this.#F.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#J(),this.#ee(),this.#ie({isEditing:this.#V!==r.AnnotationEditorType.NONE,isEmpty:this.#se(),hasSomethingToUndo:this.#$.hasSomethingToUndo(),hasSomethingToRedo:this.#$.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Q(),this.#te(),this.#ie({isEditing:!1}))}registerEditorTypes(e){if(!this.#O){this.#O=e;for(const e of this.#O)this.#ae(e.defaultPropertiesToUpdate)}}getId(){return this.#M.getId()}get currentLayer(){return this.#P.get(this.#R)}get currentPageIndex(){return this.#R}addLayer(e){this.#P.set(e.pageIndex,e),this.#L?e.enable():e.disable()}removeLayer(e){this.#P.delete(e.pageIndex)}updateMode(e){if(this.#V=e,e===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#oe();else{this.setEditingState(!0),this.#le();for(const t of this.#P.values())t.updateMode(e)}}updateToolbar(e){e!==this.#V&&this.#F.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#O){for(const n of this.#B)n.updateParams(e,t);for(const n of this.#O)n.updateDefaultParams(e,t)}}#le(){if(!this.#L){this.#L=!0;for(const e of this.#P.values())e.enable()}}#oe(){if(this.unselectAll(),this.#L){this.#L=!1;for(const e of this.#P.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#T.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#T.get(e)}addEditor(e){this.#T.set(e.id,e)}removeEditor(e){this.#T.delete(e.id),this.unselect(e),this.#I?.remove(e.id)}#ne(e){const t=this.#P.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#A!==e&&(this.#A=e,e&&this.#ae(e.propertiesToUpdate))}toggleSelected(e){if(this.#B.has(e))return this.#B.delete(e),e.unselect(),void this.#ie({hasSelectedEditor:this.hasSelection});this.#B.add(e),e.select(),this.#ae(e.propertiesToUpdate),this.#ie({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#B)t!==e&&t.unselect();this.#B.clear(),this.#B.add(e),e.select(),this.#ae(e.propertiesToUpdate),this.#ie({hasSelectedEditor:!0})}isSelected(e){return this.#B.has(e)}unselect(e){e.unselect(),this.#B.delete(e),this.#ie({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#B.size}undo(){this.#$.undo(),this.#ie({hasSomethingToUndo:this.#$.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#se()})}redo(){this.#$.redo(),this.#ie({hasSomethingToUndo:!0,hasSomethingToRedo:this.#$.hasSomethingToRedo(),isEmpty:this.#se()})}addCommands(e){this.#$.add(e),this.#ie({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#se()})}#se(){if(0===this.#T.size)return!0;if(1===this.#T.size)for(const e of this.#T.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#B];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#ne(t)},mustExec:!0})}commitOrRemove(){this.#A?.commitOrRemove()}#re(e){this.#B.clear();for(const t of e)t.isEmpty()||(this.#B.add(t),t.select());this.#ie({hasSelectedEditor:!0})}selectAll(){for(const e of this.#B)e.commit();this.#re(this.#T.values())}unselectAll(){if(this.#A)this.#A.commitOrRemove();else if(0!==this.#B.size){for(const e of this.#B)e.unselect();this.#B.clear(),this.#ie({hasSelectedEditor:!1})}}isActive(e){return this.#A===e}getActive(){return this.#A}getMode(){return this.#V}}t.AnnotationEditorUIManager=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,g(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform();return[t,n,r,i,a,s]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform().invertSelf();return[t,n,r,i,a,s]},t.getFilenameFromUrl=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(p(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let a=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch(s){}return a||t},t.getRGB=g,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:a}=e.attributes.style,s=[0,0,parseInt(i),parseInt(a)];return new u({viewBox:s,scale:n,rotation:r})},t.isDataScheme=p,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=f,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)}))},t.setLayerDimensions=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof u){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:a}=e,s=`calc(var(--scale-factor) * ${r}px)`,o=`calc(var(--scale-factor) * ${i}px)`;n&&t.rotation%180!==0?(a.width=o,a.height=s):(a.width=s,a.height=o)}r&&e.setAttribute("data-main-rotation",t.rotation)};var r=n(7),i=n(1);t.AnnotationPrefix="pdfjs_internal_id_";class a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}t.PixelsPerInch=a;class s extends r.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(f(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const a=new XMLHttpRequest;a.open("GET",e,!0),t&&(a.responseType="arraybuffer"),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){let e;if(t&&a.response?e=new Uint8Array(a.response):!t&&a.responseText&&(e=(0,i.stringToBytes)(a.responseText)),e)return void n(e)}r(new Error(a.statusText))}},a.send(null)}))}t.DOMCanvasFactory=s;class l extends r.BaseCMapReaderFactory{_fetchData(e,t){return o(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=l;class c extends r.BaseStandardFontDataFactory{_fetchData(e){return o(e,!0)}}t.DOMStandardFontDataFactory=c;class d extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}t.DOMSVGFactory=d;class u{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,p,f,m,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(u=-u,h=-h),0===c?(p=Math.abs(l-t[1])*n+i,f=Math.abs(o-t[0])*n+a,m=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+i,f=Math.abs(l-t[1])*n+a,m=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,d*n,u*n,h*n,p-c*n*o-u*n*l,f-d*n*o-h*n*l],this.width=m,this.height=g}get rawDims(){const{viewBox:e}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new u({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=u;class h extends i.BaseException{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,"RenderingCancelledException"),this.type=t,this.extraDelay=n}}function p(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function f(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}let m;function g(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,i.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=h,t.StatTimer=class{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-r}ms\n`);return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,s+=d):"+"===l&&(a-=c,s-=d),new Date(Date.UTC(n,r,i,a,s,o))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=i;class a{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=a;class s{constructor(e){let{baseUrl:t=null}=e;this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=s;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,a=4294901760,s=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,o=n-4*i,l=new Uint32Array(t.buffer,0,i);let c=0,d=0,u=this.h1,h=this.h2;const p=3432918353,f=461845907,m=11601,g=13715;for(let r=0;r<i;r++)1&r?(c=l[r],c=c*p&a|c*m&s,c=c<<15|c>>>17,c=c*f&a|c*g&s,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(d=l[r],d=d*p&a|d*m&s,d=d<<15|d>>>17,d=d*f&a|d*g&s,h^=d,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,o){case 3:c^=t[4*i+2]<<16;case 2:c^=t[4*i+1]<<8;case 1:c^=t[4*i],c=c*p&a|c*m&s,c=c<<15|c>>>17,c=c*f&a|c*g&s,1&i?u^=c:h^=c}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&a|36045*e&s,t=4283543511*t&a|(2950163797*(t<<16|e>>>16)&a)>>>16,e^=t>>>1,e=444984403*e&a|60499*e&s,t=3301882366*t&a|(3120437893*(t<<16|e>>>16)&a)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1),i=n(10);t.FontLoader=class{constructor(e){let{onUnsupportedFeature:t,ownerDocument:n=globalThis.document,styleElement:r=null}=e;this._onUnsupportedFeature=t,this._document=n,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(i.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=i(u,976,d.length,d);const h=1482184792;let p=n(u,16);for(a=0,s=d.length-3;a<s;a+=4)p=p-h+n(d,a)|0;a<d.length&&(p=p-h+n(d+"XXX",a)|0),u=i(u,16,4,(0,r.string32)(p));const f=`@font-face {font-family:"${d}";src:url(data:font/opentype;base64,${btoa(u)});}`;this.insertRule(f);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const r of[e.loadedName,d]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,m.append(e)}this._document.body.append(m),function e(t,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(d,(()=>{m.remove(),t.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,onUnsupportedFeature:a,fontRegistry:s=null}=t;this.compiledGlyphs=Object.create(null);for(const o in e)this[o]=e[o];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._onUnsupportedFeature=a,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry?.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry?.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){if(!this.ignoreErrors)throw i;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${i}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),i=n(6),a=n(12),s=n(13);const o=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function d(e,t,n,r,a,s,o,l,c,d){const[u,h,p,f,m,g]=(0,i.getCurrentTransform)(e);if(0===h&&0===p){const i=o*u+m,v=Math.round(i),x=l*f+g,b=Math.round(x),y=(o+c)*u+m,w=Math.abs(Math.round(y)-v)||1,k=(l+d)*f+g,S=Math.abs(Math.round(k)-b)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(f),v,b),e.drawImage(t,n,r,a,s,0,0,w,S),e.setTransform(u,h,p,f,m,g),[w,S]}if(0===u&&0===f){const i=l*p+m,v=Math.round(i),x=o*h+g,b=Math.round(x),y=(l+d)*p+m,w=Math.abs(Math.round(y)-v)||1,k=(o+c)*h+g,S=Math.abs(Math.round(k)-b)||1;return e.setTransform(0,Math.sign(h),Math.sign(p),0,v,b),e.drawImage(t,n,r,a,s,0,0,S,w),e.setTransform(u,h,p,f,m,g),[S,w]}return e.drawImage(t,n,r,a,s,o,l,c,d),[Math.hypot(u,h)*c,Math.hypot(p,f)*d]}class u{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),i=r.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],i[0]),this.minY=Math.min(this.minY,n[1],i[1]),this.maxX=Math.max(this.maxX,n[0],i[0]),this.maxY=Math.max(this.maxY,n[1],i[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,a,s,o,l,c,d){const u=r.Util.bezierBoundingBox(t,n,i,a,s,o,l,c);if(d)return d[0]=Math.min(d[0],u[0],u[2]),d[1]=Math.max(d[1],u[0],u[2]),d[2]=Math.min(d[2],u[1],u[3]),void(d[3]=Math.max(d[3],u[1],u[3]));this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===a.PathType.STROKE){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,a=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const i=t.height,a=t.width,s=i%l,o=(i-s)/l,c=0===s?o:o+1,d=e.createImageData(a,l);let u,h=0;const p=t.data,f=d.data;let m,g,v,x,b,y,w,k;if(n)switch(n.length){case 1:b=n[0],y=n[0],w=n[0],k=n[0];break;case 4:b=n[0],y=n[1],w=n[2],k=n[3]}if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=p.byteLength,n=new Uint32Array(f.buffer,0,f.byteLength>>2),i=n.length,x=a+7>>3;let b=4294967295,y=r.FeatureTest.isLittleEndian?4278190080:255;for(k&&255===k[0]&&0===k[255]&&([b,y]=[y,b]),m=0;m<c;m++){for(v=m<o?l:s,u=0,g=0;g<v;g++){const e=t-h;let r=0;const i=e>x?a:8*e-7,s=-8&i;let o=0,l=0;for(;r<s;r+=8)l=p[h++],n[u++]=128&l?b:y,n[u++]=64&l?b:y,n[u++]=32&l?b:y,n[u++]=16&l?b:y,n[u++]=8&l?b:y,n[u++]=4&l?b:y,n[u++]=2&l?b:y,n[u++]=1&l?b:y;for(;r<i;r++)0===o&&(l=p[h++],o=128),n[u++]=l&o?b:y,o>>=1}for(;u<i;)n[u++]=0;e.putImageData(d,0,m*l)}}else if(t.kind===r.ImageKind.RGBA_32BPP){const t=!!(b||y||w);for(g=0,x=a*l*4,m=0;m<o;m++){if(f.set(p.subarray(h,h+x)),h+=x,t)for(let e=0;e<x;e+=4)b&&(f[e+0]=b[f[e+0]]),y&&(f[e+1]=y[f[e+1]]),w&&(f[e+2]=w[f[e+2]]);e.putImageData(d,0,g),g+=l}if(m<c){if(x=a*s*4,f.set(p.subarray(h,h+x)),t)for(let e=0;e<x;e+=4)b&&(f[e+0]=b[f[e+0]]),y&&(f[e+1]=y[f[e+1]]),w&&(f[e+2]=w[f[e+2]]);e.putImageData(d,0,g)}}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(b||y||w);for(v=l,x=a*v,m=0;m<c;m++){for(m>=o&&(v=s,x=a*v),u=0,g=x;g--;)f[u++]=p[h++],f[u++]=p[h++],f[u++]=p[h++],f[u++]=255;if(t)for(let e=0;e<u;e+=4)b&&(f[e+0]=b[f[e+0]]),y&&(f[e+1]=y[f[e+1]]),w&&(f[e+2]=w[f[e+2]]);e.putImageData(d,0,m*l)}}}}function p(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%l,a=(n-i)/l,o=0===i?a:a+1,c=e.createImageData(r,l);let d=0;const u=t.data,h=c.data;for(let p=0;p<o;p++){const t=p<a?l:i;({srcPos:d}=(0,s.applyMaskImageData)({src:u,srcPos:d,dest:h,width:r,height:t})),e.putImageData(c,0,p*l)}}function f(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function m(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function g(e,t,n,r){const i=e.length;for(let a=3;a<i;a+=4){const i=e[a];if(0===i)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(i<255){const s=255-i;e[a-3]=e[a-3]*i+t*s>>8,e[a-2]=e[a-2]*i+n*s>>8,e[a-1]=e[a-1]*i+r*s>>8}}}function v(e,t,n){const r=e.length,i=1/255;for(let a=3;a<r;a+=4){const r=n?n[e[a]]:e[a];t[a]=t[a]*r*i|0}}function x(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function b(e,t,n,r){const i=r[0],a=r[1],s=r[2]-i,o=r[3]-a;0!==s&&0!==o&&(function(e,t,n,r,i,a,s,o,l,c,d){const u=!!a,h=u?a[0]:0,p=u?a[1]:0,f=u?a[2]:0;let m;m="Luminosity"===i?x:v;const b=Math.min(r,Math.ceil(1048576/n));for(let v=0;v<r;v+=b){const i=Math.min(b,r-v),a=e.getImageData(o-c,v+(l-d),n,i),x=t.getImageData(o,v+l,n,i);u&&g(a.data,h,p,f),m(a.data,x.data,s),t.putImageData(x,o,v+l)}}(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function y(e,t){const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=a||n[1]<=a}const w=["butt","round","square"],k=["miter","round","bevel"],S={},_={};class j{constructor(e,t,n,r,i,a,s){let{optionalContentConfig:o,markedContentStack:l=null}=i;this.ctx=e,this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=s?.background||null,this.foregroundColor=s?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:a=null}=e;const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=a||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const e=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const t=this.backgroundColor=this.ctx.fillStyle;let n=!0,r=l;if(this.ctx.fillStyle=l,r=this.ctx.fillStyle,n="string"===typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r),"#000000"===e&&"#ffffff"===t||e===t||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,a,s]=(0,i.getRGB)(r),o=e=>(e/=255)<=.03928?e/12.92:((e+.055)/1.055)**2.4,l=Math.round(.2126*o(n)+.7152*o(a)+.0722*o(s));this.selectColor=(n,r,i)=>{const a=.2126*o(n)+.7152*o(r)+.0722*o(i);return Math.round(a)===l?t:e}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,s,o),this.ctx.restore(),r){const e=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),m(this.ctx,this.foregroundColor),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,i){const a=e.argsArray,s=e.fnArray;let o=t||0;const l=a.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,d=c?Date.now()+15:0;let u=0;const h=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(f=s[o],f!==r.OPS.dependency)this[f].apply(this,a[o]);else for(const e of a[o]){const t=e.startsWith("g_")?h:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++u>10){if(Date.now()>d)return n(),o;u=0}}}#ce(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#ce(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear()}_scaleImage(e,t){const n=e.width,r=e.height;let i,a,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,d="prescale1";for(;s>2&&l>1||o>2&&c>1;){let t=l,n=c;s>2&&l>1&&(t=Math.ceil(l/2),s/=l/t),o>2&&c>1&&(n=Math.ceil(c/2),o/=c/n),i=this.cachedCanvases.getCanvas(d,t,n),a=i.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(t);let u,h,f,m;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const n=u.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};f=n}f||(m=this.cachedCanvases.getCanvas("maskCanvas",n,s),p(m.context,e));let g=r.Util.transform(c,[1/n,0,0,-1/s,0,0]);g=r.Util.transform(g,[1,0,0,1,0,-s]);const v=r.Util.applyTransform([0,0],g),x=r.Util.applyTransform([n,s],g),b=r.Util.normalizeRect([v[0],v[1],x[0],x[1]]),w=Math.round(b[2]-b[0])||1,k=Math.round(b[3]-b[1])||1,S=this.cachedCanvases.getCanvas("fillCanvas",w,k),_=S.context,j=Math.min(v[0],x[0]),C=Math.min(v[1],x[1]);_.translate(-j,-C),_.transform(...g),f||(f=this._scaleImage(m.canvas,(0,i.getCurrentTransformInverse)(_)),f=f.img,u&&l&&u.set(h,f)),_.imageSmoothingEnabled=y((0,i.getCurrentTransform)(_),e.interpolate),d(_,f,0,0,f.width,f.height,0,0,n,s),_.globalCompositeOperation="source-in";const N=r.Util.transform((0,i.getCurrentTransformInverse)(_),[1,0,0,1,-j,-C]);return _.fillStyle=l?o.getPattern(t,this,N,a.PathType.FILL):o,_.fillRect(0,0,n,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,S.canvas)),{canvas:S.canvas,offsetX:Math.round(j),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=w[e]}setLineJoin(e){this.ctx.lineJoin=k[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=n}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const a=this.ctx;a.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),f(this.suspendedCtx,a),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,s){t.transform(e,n,r,i,a,s),this.__originalTransform(e,n,r,i,a,s)},e.setTransform=function(e,n,r,i,a,s){t.setTransform(e,n,r,i,a,s),this.__originalSetTransform(e,n,r,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,s){t.bezierCurveTo(e,n,r,i,a,s),this.__originalBezierCurveTo(e,n,r,i,a,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;b(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const a=this.ctx,s=this.current;let o,l,c=s.x,d=s.y;const u=(0,i.getCurrentTransform)(a),h=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],p=h?n.slice(0):null;for(let i=0,f=0,m=e.length;i<m;i++)switch(0|e[i]){case r.OPS.rectangle:c=t[f++],d=t[f++];const e=t[f++],n=t[f++],i=c+e,m=d+n;a.moveTo(c,d),0===e||0===n?a.lineTo(i,m):(a.lineTo(i,d),a.lineTo(i,m),a.lineTo(c,m)),h||s.updateRectMinMax(u,[c,d,i,m]),a.closePath();break;case r.OPS.moveTo:c=t[f++],d=t[f++],a.moveTo(c,d),h||s.updatePathMinMax(u,c,d);break;case r.OPS.lineTo:c=t[f++],d=t[f++],a.lineTo(c,d),h||s.updatePathMinMax(u,c,d);break;case r.OPS.curveTo:o=c,l=d,c=t[f+4],d=t[f+5],a.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],c,d),s.updateCurvePathMinMax(u,o,l,t[f],t[f+1],t[f+2],t[f+3],c,d,p),f+=6;break;case r.OPS.curveTo2:o=c,l=d,a.bezierCurveTo(c,d,t[f],t[f+1],t[f+2],t[f+3]),s.updateCurvePathMinMax(u,o,l,c,d,t[f],t[f+1],t[f+2],t[f+3],p),c=t[f+2],d=t[f+3],f+=4;break;case r.OPS.curveTo3:o=c,l=d,c=t[f+2],d=t[f+3],a.bezierCurveTo(t[f],t[f+1],c,d,c,d),s.updateCurvePathMinMax(u,o,l,t[f],t[f+1],c,d,c,d,p),f+=4;break;case r.OPS.closePath:a.closePath()}h&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.FILL),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=S}eoClip(){this.pendingClip=_}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const a=n.loadedName||"sans-serif";let s="normal";n.black?s="900":n.bold&&(s="bold");const o=n.italic?"italic":"normal",l=`"${a}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${o} ${s} ${c}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,a){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,u=c&r.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let f;(l.disableFontFace||h||p)&&(f=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),f(s,d),a&&s.setTransform(...a),u!==r.TextRenderingMode.FILL&&u!==r.TextRenderingMode.FILL_STROKE||s.fill(),u!==r.TextRenderingMode.STROKE&&u!==r.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(u!==r.TextRenderingMode.FILL&&u!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),u!==r.TextRenderingMode.STROKE&&u!==r.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(s),x:t,y:n,fontSize:d,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,p=e.length,f=n.vertical,m=f?1:-1,g=n.defaultVMetrics,v=s*t.fontMatrix[0],x=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let b;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),u>0?o.scale(h,-1):o.scale(h,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,i.getCurrentTransformInverse)(o),a.PathType.FILL);b=(0,i.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let y=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===y){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(y=this.getSinglePixelWidth())}else y/=w;if(1!==l&&(o.scale(l,l),y/=l),o.lineWidth=y,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return o.fillText(n.join(""),0,0),t.x+=r*v*h,o.restore(),void this.compose()}let k,S=0;for(k=0;k<p;++k){const t=e[k];if("number"===typeof t){S+=m*t*s/1e3;continue}let r=!1;const i=(t.isSpace?d:0)+c,a=t.fontChar,h=t.accent;let p,y,w,_=t.width;if(f){const e=t.vmetric||g,n=-(t.vmetric?e[1]:.5*_)*v,r=e[2]*v;_=e?-e[0]:_,p=n/l,y=(S+r)/l}else p=S/l,y=0;if(n.remeasure&&_>0){const e=1e3*o.measureText(a).width/s*l;if(_<e&&this.isFontSubpixelAAEnabled){const t=_/e;r=!0,o.save(),o.scale(t,1),p/=t}else _!==e&&(p+=(_-e)/2e3*s/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(x&&!h)o.fillText(a,p,y);else if(this.paintChar(a,p,y,b),h){const e=p+s*h.offset.x/l,t=y-s*h.offset.y/l;this.paintChar(h.fontChar,e,t,b)}w=f?_*v-i*u:_*v+i*u,S+=w,r&&o.restore()}f?t.y-=S:t.x+=S*h,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,a=n.fontSize,s=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,d=n.textHScale*s,u=n.fontMatrix||r.FONT_IDENTITY_MATRIX,h=e.length;let p,f,m,g;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==a){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(d,s),p=0;p<h;++p){if(f=e[p],"number"===typeof f){g=o*f*a/1e3,this.ctx.translate(g,0),n.x+=g*d;continue}const s=(f.isSpace?c:0)+l,h=i.charProcOperatorList[f.operatorListId];h?(this.contentVisible&&(this.processingType3=f,this.save(),t.scale(a,a),t.transform(...u),this.executeOperatorList(h),this.restore()),m=r.Util.applyTransform([f.width,0],u)[0]*a+s,t.translate(m,0),n.x+=m*d):(0,r.warn)(`Type3 character "${f.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),s={createCanvasGraphics:e=>new j(e,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new a.TilingPattern(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=this.selectColor?.(e,t,n)||r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=this.selectColor?.(e,t,n)||r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,a.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.SHADING);const s=(0,i.getCurrentTransformInverse)(t);if(s){const e=t.canvas,n=e.width,i=e.height,a=r.Util.applyTransform([0,0],s),o=r.Util.applyTransform([0,i],s),l=r.Util.applyTransform([n,0],s),c=r.Util.applyTransform([n,i],s),d=Math.min(a[0],o[0],l[0],c[0]),u=Math.min(a[1],o[1],l[1],c[1]),h=Math.max(a[0],o[0],l[0],c[0]),p=Math.max(a[1],o[1],l[1],c[1]);this.ctx.fillRect(d,u,h-d,p-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t));const s=[0,0,t.canvas.width,t.canvas.height];a=r.Util.intersect(a,s)||[0,0,0,0];const l=Math.floor(a[0]),c=Math.floor(a[1]);let d=Math.max(Math.ceil(a[2])-l,1),u=Math.max(Math.ceil(a[3])-c,1),h=1,p=1;d>o&&(h=d/o,d=o),u>o&&(p=u/o,u=o),this.current.startNewPathAndClipBox([0,0,d,u]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(m,d,u),v=g.context;v.scale(1/h,1/p),v.translate(-l,-c),v.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:l,offsetY:c,scaleX:h,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,p),t.save()),f(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,a,s){if(this.#ce(),m(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=a,t[3]=o;const[s,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,d=Math.ceil(a*this.outputScaleX*c),u=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,u);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.setTransform(s,0,0,-l,0,o*l),m(this.ctx,this.foregroundColor)}else m(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let a,s,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),u=0;for(const m of e.data){let e=128;for(;e>0;)d[u++]=m&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),s=1;s<t;s++)d[u]!==d[u+1]&&(l[s]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[s]=2,++h),a=1;a<n;a++){u=a*c,o=a*i,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(s=1;s<t;s++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),r[e]&&(l[o+s]=r[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+s]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(n-1),o=a*i,0!==d[u]&&(l[o]=8,++h),s=1;s<t;s++)d[u]!==d[u+1]&&(l[o+s]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+s]=4,++h),h>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),f=new Path2D;for(a=0;h&&a<=n;a++){let e=a*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%i,a);const r=e;let s=l[e];do{const t=p[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),f.lineTo(e%i,e/i|0),l[e]||--h}while(r!==e);--a}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(t,n,a,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let i=0,u=o.length;i<u;i+=2){const e=r.Util.transform(c,[t,n,a,s,o[i],o[i+1]]),[u,h]=r.Util.applyTransform([0,0],e);l.drawImage(d.canvas,u,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:e,width:o,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=u.context;h.save(),p(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(t),a.PathType.FILL):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),d(t,u.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a)return void(0,r.warn)("Dependent image isn't ready yet");const s=a.width,o=a.height,l=[];for(let r=0,c=i.length;r<c;r+=2)l.push({transform:[t,0,0,n,i[r],i[r+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;let a;if(this.save(),r.scale(1/t,-1/n),"function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n);h(r.context,e,this.current.transferMaps),a=r.canvas}const s=this._scaleImage(a,(0,i.getCurrentTransformInverse)(r));r.imageSmoothingEnabled=y((0,i.getCurrentTransform)(r),e.interpolate),d(r,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,r=e.width,i=e.height,a=this.cachedCanvases.getCanvas("inlineImage",r,i);h(a.context,e,this.current.transferMaps);for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),d(n,a.canvas,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===_?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=(0,i.getCurrentTransform)(this.ctx);let n,r;if(0===t[1]&&0===t[2]){const i=Math.abs(t[0]),a=Math.abs(t[3]);if(0===e)n=1/i,r=1/a;else{const t=i*e,s=a*e;n=t<1?1/t:1,r=s<1?1/s:1}}else{const i=Math.abs(t[0]*t[3]-t[2]*t[1]),a=Math.hypot(t[0],t[1]),s=Math.hypot(t[2],t[3]);if(0===e)n=s/i,r=a/i;else{const t=e*i;n=s>t?s/t:1,r=a>t?a/t:1}}this._cachedScaleForStroking=[n,r]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,a]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===a)return void t.stroke();let s,o,l;e&&(s=(0,i.getCurrentTransform)(t),o=t.getLineDash().slice(),l=t.lineDashOffset),t.scale(r,a);const c=Math.max(r,a);t.setLineDash(t.getLineDash().map((e=>e/c))),t.lineDashOffset/=c,t.stroke(),e&&(t.setTransform(...s),t.setLineDash(o),t.lineDashOffset=l)}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=j;for(const C in r.OPS)void 0!==j.prototype[C]&&(j.prototype[r.OPS[C]]=j.prototype[C])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new u(e);case"Dummy":return new h}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),i=n(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=a;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let l;if(o===a.STROKE||o===a.FILL){const a=t.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,d=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",c,d,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=r.Util.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),s(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(n);l.setTransform(p)}else s(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,n,r,i,a,s,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,x=(l[i+1]+t.offsetY)*t.scaleY;if(f>=x)return;const b=c[a],y=c[a+1],w=c[a+2],k=c[s],S=c[s+1],_=c[s+2],j=c[o],C=c[o+1],N=c[o+2],E=Math.round(f),A=Math.round(x);let T,P,I,$,R,O,D,F;for(let M=E;M<=A;M++){if(M<g){let e;e=M<f?0:(f-M)/(f-g),T=p-(p-m)*e,P=b-(b-k)*e,I=y-(y-S)*e,$=w-(w-_)*e}else{let e;e=M>x?1:g===x?0:(g-M)/(g-x),T=m-(m-v)*e,P=k-(k-j)*e,I=S-(S-C)*e,$=_-(_-N)*e}let e;e=M<f?0:M>x?1:(f-M)/(f-x),R=p-(p-v)*e,O=b-(b-j)*e,D=y-(y-C)*e,F=w-(w-N)*e;const t=Math.round(Math.min(T,R)),n=Math.round(Math.max(T,R));let r=u*M+4*t;for(let i=t;i<=n;i++)e=(T-i)/(T-R),e<0?e=0:e>1&&(e=1),d[r++]=P-(P-O)*e|0,d[r++]=I-(I-D)*e|0,d[r++]=$-($-F)*e|0,d[r++]=255}}function d(e,t,n){const r=t.coords,i=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,d=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<d;a++,t++)c(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),c(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)c(e,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class u extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,u=s/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},p=o+4,f=l+4,m=n.getCanvas("mesh",p,f,!1),g=m.context,v=g.createImageData(o,l);if(t){const e=v.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const x of this._figures)d(v,x,h);return g.putImageData(v,2,2),{canvas:m.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,o){let l;if(s(e,this._bbox),o===a.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===a.SHADING?null:this._background,t.cachedCanvases);return o!==a.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends o{getPattern(){return"hotpink"}}const p=1,f=2;class m{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,a=this.xstep,s=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const u=n[0],h=n[1],p=n[2],f=n[3],m=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[m[0]*g[0],m[1]*g[1]],x=this.getSizeAndScale(a,this.ctx.canvas.width,v[0]),b=this.getSizeAndScale(s,this.ctx.canvas.height,v[1]),y=e.cachedCanvases.getCanvas("pattern",x.size,b.size,!0),w=y.context,k=d.createCanvasGraphics(w);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,c);let S=u,_=h,j=p,C=f;return u<0&&(S=0,j+=Math.abs(u)),h<0&&(_=0,C+=Math.abs(h)),w.translate(-x.scale*S,-b.scale*_),k.transform(x.scale,0,0,b.scale,0,0),w.save(),this.clipBbox(k,S,_,j,C),k.baseTransform=(0,i.getCurrentTransform)(k.ctx),k.executeOperatorList(t),k.endDrawing(),{canvas:y.canvas,scaleX:x.scale,scaleY:b.scale,offsetX:S,offsetY:_}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(m.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,a){const s=r-t,o=a-n;e.ctx.rect(t,n,s,o),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case p:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,a.fillColor=e.fillStyle,a.strokeColor=e.strokeStyle;break;case f:const s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==a.SHADING&&(s=r.Util.transform(s,t.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}t.TilingPattern=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=function(e){let{src:t,srcPos:n=0,dest:i,destPos:a=0,width:s,height:o,inverseDecode:l=!1}=e;const c=r.FeatureTest.isLittleEndian?4278190080:255,[d,u]=l?[0,c]:[c,0],h=s>>3,p=7&s,f=t.length;i=new Uint32Array(i.buffer);for(let r=0;r<o;r++){for(const r=n+h;n<r;n++){const e=n<f?t[n]:255;i[a++]=128&e?u:d,i[a++]=64&e?u:d,i[a++]=32&e?u:d,i[a++]=16&e?u:d,i[a++]=8&e?u:d,i[a++]=4&e?u:d,i[a++]=2&e?u:d,i[a++]=1&e?u:d}if(0===p)continue;const e=n<f?t[n++]:255;for(let t=0;t<p;t++)i[a++]=e&1<<7-t?u:d}return{srcPos:n,destPos:a}};var r=n(1)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);const i=1,a=2,s=1,o=2,l=3,c=4,d=5,u=6,h=7,p=8;function f(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==a)throw new Error("Unexpected callback case");n.reject(f(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:s,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:s,callback:a,callbackId:t.callbackId,reason:f(r)})}))}else t.streamId?this._createStreamSink(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const s=(0,r.createPromiseCapability)();return this.streamControllers[a]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:t,desiredSize:n.desiredSize},i),s.promise},pull:e=>{const t=(0,r.createPromiseCapability)();return this.streamControllers[a].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:u,streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,r.createPromiseCapability)();return this.streamControllers[a].cancelCall=t,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:s,streamId:a,reason:f(e)}),t.promise}},n)}_createStreamSink(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],u={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=s,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:c,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:l,streamId:t}),delete s.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,reason:f(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise((function(t){t(o(e.data,u))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,reason:f(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,m=this.streamControllers[t],g=this.streamSinks[t];switch(e.stream){case p:e.success?m.startCall.resolve():m.startCall.reject(f(e.reason));break;case h:e.success?m.pullCall.resolve():m.pullCall.reject(f(e.reason));break;case u:if(!g){a.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,success:!0});break}g.desiredSize<=0&&e.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=e.desiredSize,new Promise((function(e){e(g.onPull&&g.onPull())})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,reason:f(e)})}));break;case c:if((0,r.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(e.chunk);break;case l:if((0,r.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,t);break;case d:(0,r.assert)(m,"error should have stream controller"),m.controller.error(f(e.reason)),this._deleteStreamController(m,t);break;case o:e.success?m.cancelCall.resolve():m.cancelCall.reject(f(e.reason)),this._deleteStreamController(m,t);break;case s:if(!g)break;new Promise((function(t){t(g.onCancel&&g.onCancel(f(e.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:o,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:i,stream:o,streamId:t,reason:f(e)})})),g.sinkCapability.reject(f(e.reason)),g.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,t){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);t.Metadata=class{#de;#ue;constructor(e){let{parsedData:t,rawData:n}=e;this.#de=t,this.#ue=n}getRaw(){return this.#ue}get(e){return this.#de.get(e)??null}getAll(){return(0,r.objectFromMap)(this.#de)}has(e){return this.#de.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),i=n(8);const a=Symbol("INTERNAL");class s{#he=!0;constructor(e,t){this.name=e,this.intent=t}get visible(){return this.#he}_setVisible(e,t){e!==a&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#he=t}}t.OptionalContentConfig=class{#pe=null;#fe=(()=>new Map)();#me=null;#ge=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#ge=e.order;for(const t of e.groups)this.#fe.set(t.id,new s(t.name,t.intent));if("OFF"===e.baseState)for(const e of this.#fe.values())e._setVisible(a,!1);for(const t of e.on)this.#fe.get(t)._setVisible(a,!0);for(const t of e.off)this.#fe.get(t)._setVisible(a,!1);this.#me=this.getHash()}}#ve(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let a;if(Array.isArray(t))a=this.#ve(t);else{if(!this.#fe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;a=this.#fe.get(t).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}isVisible(e){if(0===this.#fe.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#fe.has(e.id)?this.#fe.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#ve(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#fe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#fe.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#fe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#fe.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#fe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#fe.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#fe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#fe.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.#fe.has(e)?(this.#fe.get(e)._setVisible(a,!!t),this.#pe=null):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){return this.getHash()===this.#me}getOrder(){return this.#fe.size?this.#ge?this.#ge.slice():[...this.#fe.keys()]:null}getGroups(){return this.#fe.size>0?(0,r.objectFromMap)(this.#fe):null}getGroup(e){return this.#fe.get(e)||null}getHash(){if(null!==this.#pe)return this.#pe;const e=new i.MurmurHash3_64;for(const[t,n]of this.#fe)e.update(`${t}:${n.visible}`);return this.#pe=e.hexdigest()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(6);t.PDFDataTransportStream=class{constructor(e,t){let{length:n,initialData:i,progressiveDone:a=!1,contentDispositionFilename:s=null,disableRange:o=!1,disableStream:l=!1}=e;if((0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,i?.length>0){const e=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)}));(0,r.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new a(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){if(!r)return;let i=null;const a=r.name;if("#text"===a)i=r.value;else{if(!n.shouldBuildText(a))return;r?.attributes?.textContent?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&t.push({str:i}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(7);const i=function(e){return new Promise(((t,n)=>{__webpack_require__(237).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class a extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(640).createCanvas(e,t)}}t.NodeCanvasFactory=a;class s extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=s;class o extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(22);const a=__webpack_require__(237),s=__webpack_require__(492),o=__webpack_require__(815),l=__webpack_require__(671),c=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new p(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new g(this,e,t):new f(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class d{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function h(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class p extends d{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:a,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=s.request(h(this._url,e.httpHeaders),t):this._request=o.request(h(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class f extends u{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];void 0!==t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=s.request(h(this._url,this._httpHeaders),i):this._request=o.request(h(this._url,this._httpHeaders),i),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class m extends d{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),a.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(a.createReadStream(t)),this._headersCapability.resolve()}))}}class g extends u{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);c.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(a.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if((0,a.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(a.suggestedLength=s,s<=2*r||i||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(23),a=n(6)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=l(e),e=c(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const a=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=o(n),e&&(n=unescape(n),0===i&&(n=l(n))),a.push(n)}return a.join("")}(e),n)return s(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function a(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),a=(0,r.stringToBytes)(n);n=i.decode(a),t=!1}catch(i){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=a("utf-8",e),t&&(e=a("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:a(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return a(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return a(t,r)}))}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(22);class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const a=i.status||200;if((200!==a||206!==n.expectedStatus)&&a!==n.expectedStatus)return void n.onError?.(i.status);const s=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===a){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new a(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class s{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(22);function a(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,a(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:a,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=o.url;fetch(l,a(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const t=new d(e);return t._render(),t},t.updateTextLayer=function(e){let{container:t,viewport:n,textDivs:r,textDivProperties:a,isOffscreenCanvasSupported:s,mustRotate:l=!0,mustRescale:d=!0}=e;if(l&&(0,i.setLayerDimensions)(t,{rotation:n.rotation}),d){const e=o(0,s),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of r)t.properties=a.get(n),t.div=n,c(t)}};var r=n(1),i=n(6);const a=30,s=new Map;function o(e,t){let n;if(t&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function l(e,t,n){const i=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);const c=r.Util.transform(e._transform,t.transform);let d=Math.atan2(c[1],c[0]);const u=n[t.fontName];u.vertical&&(d+=Math.PI/2);const h=Math.hypot(c[2],c[3]),p=h*function(e,t){const n=s.get(e);if(n)return n;const r=o(a,t);r.font=`30px ${e}`;const i=r.measureText("");let l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);if(l){const t=l/(l+c);return s.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,a,a),r.strokeText("g",0,0);let d=r.getImageData(0,0,a,a).data;c=0;for(let s=d.length-1-3;s>=0;s-=4)if(d[s]>0){c=Math.ceil(s/4/a);break}r.clearRect(0,0,a,a),r.strokeText("A",0,a),d=r.getImageData(0,0,a,a).data,l=0;for(let s=0,o=d.length;s<o;s+=4)if(d[s]>0){l=a-Math.floor(s/4/a);break}if(r.canvas.width=r.canvas.height=0,l){const t=l/(l+c);return s.set(e,t),t}return s.set(e,.8),.8}(u.fontFamily,e._isOffscreenCanvasSupported);let f,m;0===d?(f=c[4],m=c[5]-p):(f=c[4]+p*Math.sin(d),m=c[5]-p*Math.cos(d));const g="calc(var(--scale-factor)*",v=i.style;e._container===e._rootContainer?(v.left=`${(100*f/e._pageWidth).toFixed(2)}%`,v.top=`${(100*m/e._pageHeight).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${m.toFixed(2)}px)`),v.fontSize=`${g}${h.toFixed(2)}px)`,v.fontFamily=u.fontFamily,l.fontSize=h,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==d&&(l.angle=d*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(x=!0)}x&&(l.canvasWidth=u.vertical?t.height:t.width),e._textDivProperties.set(i,l),e._isReadableStream&&e._layoutText(i)}function c(e){const{div:t,scale:n,properties:r,ctx:i,prevFontSize:a,prevFontFamily:s}=e,{style:o}=t;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:u}=r;a===u&&s===c||(i.font=`${u*n}px ${c}`,e.prevFontSize=u,e.prevFontFamily=c);const{width:h}=i.measureText(t.textContent);h>0&&(l=`scaleX(${d*n/h})`)}0!==r.angle&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)}class d{constructor(e){let{textContentSource:t,container:n,viewport:a,textDivs:s,textDivProperties:l,textContentItemsStr:c,isOffscreenCanvasSupported:d}=e;this._textContentSource=t,this._isReadableStream=t instanceof ReadableStream,this._container=this._rootContainer=n,this._textDivs=s||[],this._textContentItemsStr=c||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=l||new WeakMap,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:a.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,d)};const{pageWidth:u,pageHeight:h,pageX:p,pageY:f}=a.rawDims;this._transform=[1,0,0,-1,-p,f+h],this._pageWidth=u,this._pageHeight=h,(0,i.setLayerDimensions)(n,a),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),l(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id",`${n.id}`),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,c(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=(0,r.createPromiseCapability)();let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((r=>{let{value:i,done:a}=r;a?e.resolve():(Object.assign(t,i.styles),this._processItems(i.items,t),n())}),e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then((()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}t.TextLayerRenderTask=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(1),i=n(5),a=n(28),s=n(29),o=n(6);class l{#xe;#be=!1;#ye=this.pointerup.bind(this);#we=this.pointerdown.bind(this);#ke=(()=>new Map)();#Se=!1;#_e=!1;#je;static _initialized=!1;constructor(e){l._initialized||(l._initialized=!0,a.FreeTextEditor.initialize(e.l10n),s.InkEditor.initialize(e.l10n)),e.uiManager.registerEditorTypes([a.FreeTextEditor,s.InkEditor]),this.#je=e.uiManager,this.pageIndex=e.pageIndex,this.div=e.div,this.#xe=e.accessibilityManager,this.#je.addLayer(this)}get isEmpty(){return 0===this.#ke.size}updateToolbar(e){this.#je.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#je.getMode();this.#Ce(),e===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#je.unselectAll(),e!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===r.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||this.#je.getMode()===r.AnnotationEditorType.INK){if(!e)for(const e of this.#ke.values())if(e.isEmpty())return void e.setInBackground();this.#Ne({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(e){this.#je.setEditingState(e)}addCommands(e){this.#je.addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of this.#ke.values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of this.#ke.values())e.disableEditing();this.#Ce(),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(e){this.#je.getActive()!==e&&this.#je.setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",this.#we),this.div.addEventListener("pointerup",this.#ye)}disableClick(){this.div.removeEventListener("pointerdown",this.#we),this.div.removeEventListener("pointerup",this.#ye)}attach(e){this.#ke.set(e.id,e)}detach(e){this.#ke.delete(e.id),this.#xe?.removePointerInTextLayer(e.contentDiv)}remove(e){this.#je.removeEditor(e),this.detach(e),e.div.style.display="none",setTimeout((()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&this.#je.focusMainContainer()}),0),this.#_e||this.addInkEditorIfNeeded(!1)}#Ee(e){e.parent!==this&&(this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.#Ee(e),this.#je.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),this.#je.addToAnnotationStorage(e)}moveEditorInDOM(e){this.#xe?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!0})}addUndoableEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#je.getId()}#Ae(e){switch(this.#je.getMode()){case r.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(e);case r.AnnotationEditorType.INK:return new s.InkEditor(e)}return null}deserialize(e){switch(e.annotationType){case r.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(e,this,this.#je);case r.AnnotationEditorType.INK:return s.InkEditor.deserialize(e,this,this.#je)}return null}#Ne(e){const t=this.getNextId(),n=this.#Ae({parent:this,id:t,x:e.offsetX,y:e.offsetY,uiManager:this.#je});return n&&this.add(n),n}setSelected(e){this.#je.setSelected(e)}toggleSelected(e){this.#je.toggleSelected(e)}isSelected(e){return this.#je.isSelected(e)}unselect(e){this.#je.unselect(e)}pointerup(e){const{isMac:t}=r.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Se&&(this.#Se=!1,this.#be?this.#Ne(e):this.#be=!0)}pointerdown(e){const{isMac:t}=r.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Se=!0;const n=this.#je.getActive();this.#be=!n||n.isEmpty()}drop(e){const t=e.dataTransfer.getData("text/plain"),n=this.#je.getEditor(t);if(!n)return;e.preventDefault(),e.dataTransfer.dropEffect="move",this.#Ee(n);const r=this.div.getBoundingClientRect(),i=e.clientX-r.x,a=e.clientY-r.y;n.translate(i-n.startX,a-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(e){e.preventDefault()}destroy(){this.#je.getActive()?.parent===this&&this.#je.setActiveEditor(null);for(const e of this.#ke.values())this.#xe?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#ke.clear(),this.#je.removeLayer(this)}#Ce(){this.#_e=!0;for(const e of this.#ke.values())e.isEmpty()&&e.remove();this.#_e=!1}render(e){let{viewport:t}=e;this.viewport=t,(0,o.setLayerDimensions)(this.div,t),(0,i.bindEvents)(this,this.div,["dragover","drop"]);for(const n of this.#je.getEditors(this.pageIndex))this.add(n);this.updateMode()}update(e){let{viewport:t}=e;this.#je.commitOrRemove(),this.viewport=t,(0,o.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}t.AnnotationEditorLayer=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(5),a=n(4);class s extends a.AnnotationEditor{#Te=this.editorDivBlur.bind(this);#Pe=this.editorDivFocus.bind(this);#Ie=this.editorDivInput.bind(this);#$e=this.editorDivKeydown.bind(this);#Re;#Oe="";#De=`${this.id}-editor`;#Fe=!1;#Me;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=(()=>new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]]))();static _type="freetext";constructor(e){super({...e,name:"freeTextEditor"}),this.#Re=e.color||s._defaultColor||a.AnnotationEditor._defaultLineColor,this.#Me=e.fontSize||s._defaultFontSize}static initialize(e){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map((t=>[t,e.get(t)])));const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:s._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:s._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#Le(t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Ve(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,s._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,s._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#Me],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#Re]]}#Le(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Me)*this.parentScale),this.#Me=e,this.#Be()},n=this.#Me;this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Ve(e){const t=this.#Re;this.addCommands({cmd:()=>{this.#Re=this.editorDiv.style.color=e},undo:()=>{this.#Re=this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){const e=this.parentScale;return[-s._internalPadding*e,-(s._internalPadding+this.#Me)*e]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#$e),this.editorDiv.addEventListener("focus",this.#Pe),this.editorDiv.addEventListener("blur",this.#Te),this.editorDiv.addEventListener("input",this.#Ie))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#De),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#$e),this.editorDiv.removeEventListener("focus",this.#Pe),this.editorDiv.removeEventListener("blur",this.#Te),this.editorDiv.removeEventListener("input",this.#Ie),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}#Ue(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}#Be(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r}this.width=n.width/e,this.height=n.height/t}commit(){this.isInEditMode()&&(super.commit(),this.#Fe||(this.#Fe=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#Oe=this.#Ue().trimEnd(),this.#Be())}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){s._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#De),this.enableEditing(),s._l10nPromise.get("editor_free_text2_aria_label").then((e=>this.editorDiv?.setAttribute("aria-label",e))),s._l10nPromise.get("free_text2_default_content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Me}px * var(--scale-factor))`,n.color=this.#Re,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r);for(const e of this.#Oe.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){const i=super.deserialize(e,t,n);return i.#Me=e.fontSize,i.#Re=r.Util.makeHexColor(...e.color),i.#Oe=e.value,i}serialize(){if(this.isEmpty())return null;const e=s._internalPadding*this.parentScale,t=this.getRect(e,e),n=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Re);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:this.#Me,value:this.#Oe,pageIndex:this.pageIndex,rect:t,rotation:this.rotation}}}t.FreeTextEditor=s},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return a.fitCurve}});var r=n(1),i=n(4),a=n(30),s=n(5);const o=16;class l extends i.AnnotationEditor{#ze=0;#He=0;#Ke=0;#qe=this.canvasPointermove.bind(this);#Ge=this.canvasPointerleave.bind(this);#We=this.canvasPointerup.bind(this);#Xe=this.canvasPointerdown.bind(this);#Ye=!1;#Ze=!1;#Qe=null;#Je=null;#et=0;#tt=0;#nt=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map((t=>[t,e.get(t)])))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:l._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:l._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:l._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#rt(t);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Ve(t);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#it(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*l._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??l._defaultOpacity))]]}#rt(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,this.#at()},undo:()=>{this.thickness=t,this.#at()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Ve(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,this.#st()},undo:()=>{this.color=t,this.#st()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#it(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,this.#st()},undo:()=>{this.opacity=t,this.#st()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#ot(),this.#lt()),this.isAttachedToDOM||(this.parent.add(this),this.#ct()),this.#at())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Je.disconnect(),this.#Je=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){this.#Ye||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#Xe),this.canvas.addEventListener("pointerup",this.#We))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Xe),this.canvas.removeEventListener("pointerup",this.#We))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#dt(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#ut(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:a}=this;e.lineWidth=r*i/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${(0,s.opacityToHex)(n)}`}#ht(e,t){this.isEditing=!0,this.#Ze||(this.#Ze=!0,this.#ct(),this.thickness||=l._defaultThickness,this.color||=l._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=l._defaultOpacity),this.currentPath.push([e,t]),this.#Qe=null,this.#ut(),this.ctx.beginPath(),this.ctx.moveTo(e,t),this.#nt=()=>{this.#nt&&(this.#Qe&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#st(),this.ctx.lineTo(...this.#Qe),this.#Qe=null,this.ctx.stroke()),window.requestAnimationFrame(this.#nt))},window.requestAnimationFrame(this.#nt)}#pt(e,t){const[n,r]=this.currentPath.at(-1);e===n&&t===r||(this.currentPath.push([e,t]),this.#Qe=[e,t])}#ft(e,t){this.ctx.closePath(),this.#nt=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let i;if(e===n&&t===r||this.currentPath.push([e,t]),1!==this.currentPath.length)i=(0,a.fitCurve)(this.currentPath,30,null);else{const n=[e,t];i=[[n,n.slice(),n.slice(),n]]}const s=l.#mt(i);this.currentPath.length=0,this.addCommands({cmd:()=>{this.paths.push(i),this.bezierPath2D.push(s),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#ot(),this.#lt()),this.#at())},mustExec:!0})}#st(){if(this.isEmpty())return void this.#gt();this.#ut();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#gt();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Ye||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Ye=!0,this.div.classList.add("disabled"),this.#at(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(e){super.focusin(e),this.enableEditMode()}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Ye&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#Ge),this.canvas.addEventListener("pointermove",this.#qe),this.#ht(e.offsetX,e.offsetY))}canvasPointermove(e){e.stopPropagation(),this.#pt(e.offsetX,e.offsetY)}canvasPointerup(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),this.#vt(e),this.setInBackground())}canvasPointerleave(e){this.#vt(e),this.setInBackground()}#vt(e){this.#ft(e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",this.#Ge),this.canvas.removeEventListener("pointermove",this.#qe),this.addToAnnotationStorage()}#ot(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>this.canvas?.setAttribute("aria-label",e))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#lt(){let e=null;this.#Je=new ResizeObserver((t=>{const n=t[0].contentRect;n.width&&n.height&&(null!==e&&clearTimeout(e),e=setTimeout((()=>{this.fixDims(),e=null}),100),this.setDimensions(n.width,n.height))})),this.#Je.observe(this.div)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),l._l10nPromise.get("editor_ink2_aria_label").then((e=>this.div?.setAttribute("aria-label",e)));const[n,r,i,a]=this.#dt();if(this.setAt(n,r,0,0),this.setDims(i,a),this.#ot(),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Ze=!0,this.#ct(),this.setDims(this.width*n,this.height*r),this.#st(),this.#xt(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#lt(),this.div}#ct(){if(!this.#Ze)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#gt()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#et===n&&this.#tt===r)return;this.#et=n,this.#tt=r,this.canvas.style.visibility="hidden",this.#ze&&Math.abs(this.#ze-e/t)>.01&&(t=Math.ceil(e/this.#ze),this.setDims(e,t));const[i,a]=this.parentDimensions;this.width=e/i,this.height=t/a,this.#Ye&&this.#bt(e,t),this.#ct(),this.#st(),this.canvas.style.visibility="visible"}#bt(e,t){const n=this.#yt(),r=(e-n)/this.#Ke,i=(t-n)/this.#He;this.scaleFactor=Math.min(r,i)}#gt(){const e=this.#yt()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#mt(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,a,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],a[0],a[1],s[0],s[1])}return t}#wt(e,t,n,r){const i=[],a=this.thickness/2;let s,o;for(const l of this.paths){s=[],o=[];for(let i=0,c=l.length;i<c;i++){const[c,d,u,h]=l[i],p=e*(c[0]+t)+a,f=r-e*(c[1]+n)-a,m=e*(d[0]+t)+a,g=r-e*(d[1]+n)-a,v=e*(u[0]+t)+a,x=r-e*(u[1]+n)-a,b=e*(h[0]+t)+a,y=r-e*(h[1]+n)-a;0===i&&(s.push(p,f),o.push(p,f)),s.push(m,g,v,x,b,y),this.#kt(p,f,m,g,v,x,b,y,4,o)}i.push({bezier:s,points:o})}return i}#kt(e,t,n,r,i,a,s,o,l,c){if(this.#St(e,t,n,r,i,a,s,o))c.push(s,o);else{for(let d=1;d<l-1;d++){const u=d/l,h=1-u;let p=u*e+h*n,f=u*t+h*r,m=u*n+h*i,g=u*r+h*a;p=u*p+h*m,f=u*f+h*g,m=u*m+h*(u*i+h*s),g=u*g+h*(u*a+h*o),p=u*p+h*m,f=u*f+h*g,c.push(p,f)}c.push(s,o)}}#St(e,t,n,r,i,a,s,o){const l=(3*n-2*e-s)**2,c=(3*r-2*t-o)**2,d=(3*i-e-2*s)**2,u=(3*a-t-2*o)**2;return Math.max(l,d)+Math.max(c,u)<=10}#_t(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const a of this.paths)for(const[s,o,l,c]of a){const a=r.Util.bezierBoundingBox(...s,...o,...l,...c);e=Math.min(e,a[0]),n=Math.min(n,a[1]),t=Math.max(t,a[2]),i=Math.max(i,a[3])}return[e,n,t,i]}#yt(){return this.#Ye?Math.ceil(this.thickness*this.parentScale):0}#at(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Ye)return void this.#st();const t=this.#_t(),n=this.#yt();this.#Ke=Math.max(o,t[2]-t[0]),this.#He=Math.max(o,t[3]-t[1]);const r=Math.ceil(n+this.#Ke*this.scaleFactor),i=Math.ceil(n+this.#He*this.scaleFactor),[a,s]=this.parentDimensions;this.width=r/a,this.height=i/s,this.#ze=r/i,this.#xt();const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#ct(),this.#st(),this.#et=r,this.#tt=i,this.setDims(r,i);const d=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-d,c-this.translationY-d)}#xt(){const{style:e}=this.div;this.#ze>=1?(e.minHeight="16px",e.minWidth=`${Math.round(this.#ze*o)}px`):(e.minWidth="16px",e.minHeight=`${Math.round(o/this.#ze)}px`)}static deserialize(e,t,n){const i=super.deserialize(e,t,n);i.thickness=e.thickness,i.color=r.Util.makeHexColor(...e.color),i.opacity=e.opacity;const[a,s]=i.pageDimensions,l=i.width*a,c=i.height*s,d=i.parentScale,u=e.thickness/2;i.#ze=l/c,i.#Ye=!0,i.#et=Math.round(l),i.#tt=Math.round(c);for(const{bezier:r}of e.paths){const e=[];i.paths.push(e);let t=d*(r[0]-u),n=d*(c-r[1]-u);for(let i=2,s=r.length;i<s;i+=6){const a=d*(r[i]-u),s=d*(c-r[i+1]-u),o=d*(r[i+2]-u),l=d*(c-r[i+3]-u),h=d*(r[i+4]-u),p=d*(c-r[i+5]-u);e.push([[t,n],[a,s],[o,l],[h,p]]),t=h,n=p}const a=this.#mt(e);i.bezierPath2D.push(a)}const h=i.#_t();return i.#Ke=Math.max(o,h[2]-h[0]),i.#He=Math.max(o,h[3]-h[1]),i.#bt(l,c),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=this.rotation%180===0?e[3]-e[1]:e[2]-e[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#wt(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:e,rotation:this.rotation}}}t.InkEditor=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const r=n(31);t.fitCurve=r},e=>{function t(e,i,a,s,o){var c,d,u,h,p,f,m,g,v,x,b,y,w;if(2===e.length)return y=l.vectorLen(l.subtract(e[0],e[1]))/3,[c=[e[0],l.addArrays(e[0],l.mulItems(i,y)),l.addArrays(e[1],l.mulItems(a,y)),e[1]]];if(d=function(e){var t,n,r,i=[];return e.forEach(((e,a)=>{t=a?n+l.vectorLen(l.subtract(e,r)):0,i.push(t),n=t,r=e})),i=i.map((e=>e/n))}(e),[c,h,f]=n(e,d,d,i,a,o),0===h||h<s)return[c];if(h<s*s)for(u=d,p=h,m=f,w=0;w<20;w++){if(u=r(c,e,u),[c,h,f]=n(e,d,u,i,a,o),h<s)return[c];if(f===m){let e=h/p;if(e>.9999&&e<1.0001)break}p=h,m=f}return b=[],(g=l.subtract(e[f-1],e[f+1])).every((e=>0===e))&&(g=l.subtract(e[f-1],e[f]),[g[0],g[1]]=[-g[1],g[0]]),v=l.normalize(g),x=l.mulItems(v,-1),b=(b=b.concat(t(e.slice(0,f+1),i,v,s,o))).concat(t(e.slice(f),x,a,s,o))}function n(e,t,n,r,i,o){var d,u,h;return d=function(e,t,n,r){var i,a,s,o,d,u,h,p,f,m,g,v,x,b,y,w,k,S=e[0],_=e[e.length-1];for(i=[S,null,null,_],a=l.zeros_Xx2x2(t.length),x=0,b=t.length;x<b;x++)k=1-(w=t[x]),(s=a[x])[0]=l.mulItems(n,3*w*(k*k)),s[1]=l.mulItems(r,3*k*(w*w));for(o=[[0,0],[0,0]],d=[0,0],x=0,b=e.length;x<b;x++)w=t[x],s=a[x],o[0][0]+=l.dot(s[0],s[0]),o[0][1]+=l.dot(s[0],s[1]),o[1][0]+=l.dot(s[0],s[1]),o[1][1]+=l.dot(s[1],s[1]),y=l.subtract(e[x],c.q([S,S,_,_],w)),d[0]+=l.dot(s[0],y),d[1]+=l.dot(s[1],y);return u=o[0][0]*o[1][1]-o[1][0]*o[0][1],h=o[0][0]*d[1]-o[1][0]*d[0],p=d[0]*o[1][1]-d[1]*o[0][1],f=0===u?0:p/u,m=0===u?0:h/u,v=l.vectorLen(l.subtract(S,_)),f<(g=1e-6*v)||m<g?(i[1]=l.addArrays(S,l.mulItems(n,v/3)),i[2]=l.addArrays(_,l.mulItems(r,v/3))):(i[1]=l.addArrays(S,l.mulItems(n,f)),i[2]=l.addArrays(_,l.mulItems(r,m))),i}(e,n,r,i),[u,h]=function(e,t,n){var r,i,o,d,u,h,p,f;i=0,o=Math.floor(e.length/2);const m=a(t,10);for(u=0,h=e.length;u<h;u++)p=e[u],f=s(0,n[u],m,10),(r=(d=l.subtract(c.q(t,f),p))[0]*d[0]+d[1]*d[1])>i&&(i=r,o=u);return[i,o]}(e,d,t),o&&o({bez:d,points:e,params:t,maxErr:u,maxPoint:h}),[d,u,h]}function r(e,t,n){return n.map(((n,r)=>i(e,t[r],n)))}function i(e,t,n){var r=l.subtract(c.q(e,n),t),i=c.qprime(e,n),a=l.mulMatrix(r,i),s=l.sum(l.squareItems(i))+2*l.mulMatrix(r,c.qprimeprime(e,n));return 0===s?n:n-a/s}var a=function(e,t){for(var n,r=[0],i=e[0],a=0,s=1;s<=t;s++)n=c.q(e,s/t),a+=l.vectorLen(l.subtract(n,i)),r.push(a),i=n;return r=r.map((e=>e/a))};function s(e,t,n,r){if(t<0)return 0;if(t>1)return 1;for(var i,a,s,o,l=1;l<=r;l++)if(t<=n[l]){s=(l-1)/r,a=l/r,o=(t-(i=n[l-1]))/(n[l]-i)*(a-s)+s;break}return o}function o(e,t){return l.normalize(l.subtract(e,t))}class l{static zeros_Xx2x2(e){for(var t=[];e--;)t.push([0,0]);return t}static mulItems(e,t){return e.map((e=>e*t))}static mulMatrix(e,t){return e.reduce(((e,n,r)=>e+n*t[r]),0)}static subtract(e,t){return e.map(((e,n)=>e-t[n]))}static addArrays(e,t){return e.map(((e,n)=>e+t[n]))}static addItems(e,t){return e.map((e=>e+t))}static sum(e){return e.reduce(((e,t)=>e+t))}static dot(e,t){return l.mulMatrix(e,t)}static vectorLen(e){return Math.hypot(...e)}static divItems(e,t){return e.map((e=>e/t))}static squareItems(e){return e.map((e=>e*e))}static normalize(e){return this.divItems(e,this.vectorLen(e))}}class c{static q(e,t){var n=1-t,r=l.mulItems(e[0],n*n*n),i=l.mulItems(e[1],3*n*n*t),a=l.mulItems(e[2],3*n*t*t),s=l.mulItems(e[3],t*t*t);return l.addArrays(l.addArrays(r,i),l.addArrays(a,s))}static qprime(e,t){var n=1-t,r=l.mulItems(l.subtract(e[1],e[0]),3*n*n),i=l.mulItems(l.subtract(e[2],e[1]),6*n*t),a=l.mulItems(l.subtract(e[3],e[2]),3*t*t);return l.addArrays(l.addArrays(r,i),a)}static qprimeprime(e,t){return l.addArrays(l.mulItems(l.addArrays(l.subtract(e[2],l.mulItems(e[1],2)),e[0]),6*(1-t)),l.mulItems(l.addArrays(l.subtract(e[3],l.mulItems(e[2],2)),e[1]),6*t))}}e.exports=function(e,n,r){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((t=>{if(!Array.isArray(t)||t.some((e=>"number"!==typeof e))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter(((t,n)=>0===n||!t.every(((t,r)=>t===e[n-1][r]))))).length<2)return[];const i=e.length,a=o(e[1],e[0]),s=o(e[i-2],e[i-1]);return t(e,a,s,n,r)},e.exports.fitCubic=t,e.exports.createTangent=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(6),a=n(3),s=n(33),o=n(34);const l=1e3,c=new WeakSet;function d(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class u{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new p(e);case r.AnnotationType.TEXT:return new f(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new g(e);case"Btn":return e.data.radioButton?new x(e):e.data.checkBox?new v(e):new b(e);case"Ch":return new y(e)}return new m(e);case r.AnnotationType.POPUP:return new w(e);case r.AnnotationType.FREETEXT:return new S(e);case r.AnnotationType.LINE:return new _(e);case r.AnnotationType.SQUARE:return new j(e);case r.AnnotationType.CIRCLE:return new C(e);case r.AnnotationType.POLYLINE:return new N(e);case r.AnnotationType.CARET:return new A(e);case r.AnnotationType.INK:return new T(e);case r.AnnotationType.POLYGON:return new E(e);case r.AnnotationType.HIGHLIGHT:return new P(e);case r.AnnotationType.UNDERLINE:return new I(e);case r.AnnotationType.SQUIGGLY:return new $(e);case r.AnnotationType.STRIKEOUT:return new R(e);case r.AnnotationType.STAMP:return new O(e);case r.AnnotationType.FILEATTACHMENT:return new D(e);default:return new h(e)}}}class h{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,t&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{data:t,page:n,viewport:i}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id);const{pageWidth:s,pageHeight:o,pageX:l,pageY:c}=i.rawDims,{width:u,height:h}=d(t.rect),p=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){a.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;a.style.borderRadius=t}else if(this instanceof x){const e=`calc(${u}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;a.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?a.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):a.style.borderWidth=0}a.style.left=100*(p[0]-l)/s+"%",a.style.top=100*(p[1]-c)/o+"%";const{rotation:f}=t;return t.hasOwnCanvas||0===f?(a.style.width=100*u/s+"%",a.style.height=100*h/o+"%"):this.setRotation(f,a),a}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;const{pageWidth:n,pageHeight:r}=this.viewport.rawDims,{width:i,height:a}=d(this.data.rect);let s,o;e%180===0?(s=100*i/n,o=100*a/r):(s=100*a/n,o=100*i/r),t.style.width=`${s}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e];n.target.style[t]=s.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:e=>{const t=e.detail.display%2===1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{this.container.style.visibility=e.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const a=n[r];a&&(a({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const r of this.data.quadPoints)this.data.rect=[r[2].x,r[2].y,r[1].x,r[1].y],t.push(this._createContainer(e));return this.data.rect=n,t}_createPopup(e,t){let n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).className="popupTriggerArea",n.append(e));const r=new k({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:a,exportValues:s}of i){if(-1===e)continue;if(a===t)continue;const i="string"===typeof s?s:null,o=document.querySelector(`[data-element-id="${a}"]`);!o||c.has(o)?n.push({id:a,exportValue:i,domElement:o}):(0,r.warn)(`_getElementsByName - element not allowed: ${a}`)}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&c.has(r)&&n.push({id:i,exportValue:e,domElement:r})}return n}}class p extends h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this._bindAttachment(n,e.attachment),r=!0):e.setOCGState?(this.#jt(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const r=0===t?n:n.cloneNode();return e.append(r),e})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}#Ct(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#Ct()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#Ct()}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,t.content,t.filename),!1),this.#Ct()}#jt(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#Ct()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#Ct()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#Ct(),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:a}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===a&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const o=this.annotationStorage,l=[];for(const t of s){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(c.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class f extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}class m extends h{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:n}=r.FeatureTest.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e)}})}))}_setEventListeners(e,t,n){for(const[r,i]of t)("Action"===i||this.data.actions?.[i])&&this._setEventListener(e,r,i,n)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,a=e.style;let s;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);s=Math.min(i,o(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,o(e/r.LINE_FACTOR))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class g extends m{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let i=r.formattedValue||r.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&i.length>a&&(i=i.slice(0,a));const s={userValue:i,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",i),this.data.doNotScroll&&(n.style.overflowX="hidden")),c.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=l,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=s.userValue=t,s.formattedValue=null}));let o=e=>{const{formattedValue:t}=s;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{const{target:t}=e;s.userValue&&(t.value=s.userValue),s.lastCommittedValue=t.value,s.commitKey=1})),n.addEventListener("updatefromsandbox",(n=>{const r={value(n){s.userValue=n.detail.value??"",e.setValue(t,{value:s.userValue.toString()}),n.target.value=s.userValue},formattedValue(n){const{formattedValue:r}=n.detail;s.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let a=s.userValue;!a||a.length<=r||(a=a.slice(0,r),i.value=s.userValue=a,e.setValue(t,{value:a}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{s.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(s.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;s.lastCommittedValue!==r&&(s.lastCommittedValue=r,s.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=o;o=null,n.addEventListener("blur",(e=>{if(!e.relatedTarget)return;const{value:n}=e.target;s.userValue=n,s.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:s.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{s.lastCommittedValue=null;const{data:n,target:r}=e,{value:i,selectionStart:a,selectionEnd:o}=r;let l=a,c=o;switch(e.inputType){case"deleteWordBackward":{const e=i.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=i.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(o&&n.addEventListener("blur",o),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class v extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return c.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=l,i.addEventListener("change",(r=>{const{name:i,checked:a}=r.target;for(const s of this._getElementsByName(i,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:a})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class x extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(c.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=l,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const a of this._getElementsByName(r,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b extends p{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class y extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");c.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=l;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,n.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),a=()=>{e.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const d=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){a?.();const i=n.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,a=n.detail.remove;i[a].selected=!1,r.remove(a),i.length>0&&-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0),e.setValue(t,{value:s(!0),items:d(n)}),o=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:i,displayValue:a,exportValue:l}=n.detail.insert,c=r.children[i],u=document.createElement("option");u.textContent=a,u.value=l,c?c.before(u):r.append(u),e.setValue(t,{value:s(!0),items:d(n)}),o=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:d(n)}),o=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=s(!0);e.setValue(t,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class w extends h{static IGNORE_TYPES=(()=>new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]))();constructor(e){const{data:t}=e;super(e,{isRenderable:!w.IGNORE_TYPES.has(t.parentType)&&!!(t.titleObj?.str||t.contentsObj?.str||t.richText?.str)})}render(){this.container.className="popupAnnotation";const e=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===e.length)return this.container;const t=new k({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),n=this.page,i=r.Util.normalizeRect([this.data.parentRect[0],n.view[3]-this.data.parentRect[1]+n.view[1],this.data.parentRect[2],n.view[3]-this.data.parentRect[3]+n.view[1]]),a=i[0]+this.data.parentRect[2]-this.data.parentRect[0],s=i[1],{pageWidth:o,pageHeight:l,pageX:c,pageY:d}=this.viewport.rawDims;return this.container.style.left=100*(a-c)/o+"%",this.container.style.top=100*(s-d)/l+"%",this.container.append(t.render()),this.container}}class k{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],a=.7*(255-n[2])+n[2];t.style.backgroundColor=r.Util.makeHexColor(0|e,0|i,0|a)}const a=document.createElement("h1");a.dir=this.titleObj.dir,a.textContent=this.titleObj.str,t.append(a);const s=i.PDFDateString.toDateObject(this.modificationDate);if(s){const e=document.createElement("span");e.className="popupDate",e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),t.append(e)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);t.append(e)}else o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t}),t.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const r of this.trigger)r.addEventListener("click",this._toggle.bind(this)),r.addEventListener("mouseover",this._show.bind(this,!1)),r.addEventListener("mouseout",this._hide.bind(this,!1));return t.addEventListener("click",this._hide.bind(this,!0)),e.append(t),e}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.className="popupContent",r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const e=i[a];r.append(document.createTextNode(e)),a<s-1&&r.append(document.createElement("br"))}return r}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class S extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.textContent=e.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const e=document.createElement("div");e.className="annotationTextContent",e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _ extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,e),this.container}}class j extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),this._createPopup(a,e),this.container}}class C extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),this._createPopup(a,e),this.container}}class N extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const s of e.vertices){const t=s.x-e.rect[0],n=e.rect[3]-s.y;i.push(t+","+n)}i=i.join(" ");const a=this.svgFactory.createElement(this.svgElementName);return a.setAttribute("points",i),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),this._createPopup(a,e),this.container}}class E extends N{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class A extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0);for(const i of e.inkLists){let t=[];for(const r of i){const n=r.x-e.rect[0],i=e.rect[3]-r.y;t.push(`${n},${i}`)}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),this._createPopup(n,e),r.append(n)}return this.container.append(r),this.container}}class P extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class I extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class $ extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class R extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class O extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends h{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(t,!0),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:n})}render(){let e;return this.container.className="fileAttachmentAnnotation",this.data.hasAppearance?e=document.createElement("div"):(e=document.createElement("img"),e.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),e.className="popupTriggerArea",e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.append(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class F{static#Nt(e,t,n,r){const a=e.firstChild||e;a.id=`${i.AnnotationPrefix}${t}`,n.append(e),r?.moveElementInDOM(n,e,a,!1)}static render(e){const{annotations:t,div:n,viewport:s,accessibilityManager:o}=e;(0,i.setLayerDimensions)(n,s);const l={data:null,layer:n,page:e.page,viewport:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new a.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects};let c=0;for(const i of t){if(i.annotationType!==r.AnnotationType.POPUP){const{width:e,height:t}=d(i.rect);if(e<=0||t<=0)continue}l.data=i;const e=u.create(l);if(!e.isRenderable)continue;const t=e.render();if(i.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const r of t)r.style.zIndex=c++,F.#Nt(r,i.id,n,o);else t.style.zIndex=c++,e instanceof w?n.prepend(t):F.#Nt(t,i.id,n,o)}this.#Et(n,e.annotationCanvasMap)}static update(e){const{annotationCanvasMap:t,div:n,viewport:r}=e;(0,i.setLayerDimensions)(n,{rotation:r.rotation}),this.#Et(n,t),n.hidden=!1}static#Et(e,t){if(t){for(const[n,r]of t){const t=e.querySelector(`[data-annotation-id="${n}"]`);if(!t)continue;const{firstChild:i}=t;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.before(r):t.append(r)}t.clear()}}}t.AnnotationLayer=F},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_HTML(e){let[t]=e;const r=n(t);return`#${r}${r}${r}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_HTML(e){let[t,r,i]=e;return`#${n(t)}${n(r)}${n(i)}`}static T_HTML(){return"#00000000"}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,a=1-n,s=1-r;return["CMYK",i,a,s,Math.min(i,a,s)]}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(19);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value)for(const e of n.children)e.attributes.value===a.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:a}=e;const{attributes:s}=n,o=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=`${s.name}-${i}`);for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const o=[[i,-1,s]],l=e.div;if(l.append(s),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){const[e,i,s]=o.at(-1);if(i+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:d}=l;if("#text"===d){const e=document.createTextNode(l.value);c.push(e),s.append(e);continue}let u;if(u=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,d):document.createElement(d),s.append(u),l.attributes&&this.setAttributes({html:u,element:l,storage:t,intent:a,linkService:n}),l.children&&l.children.length>0)o.push([l,-1,u]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(d)&&c.push(e),u.append(e)}}for(const r of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(6),i=n(1),a=n(10);let s=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=s;{const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",d=["butt","round","square"],u=["miter","round","bevel"],h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${t};base64,`;for(let a=0,s=e.length;a<s;a+=3){const t=255&e[a],n=255&e[a+1],o=255&e[a+2];i+=r[t>>2]+r[(3&t)<<4|n>>4]+r[a+1<s?(15&n)<<2|o>>6:64]+r[a+2<s?63&o:64]}return i},p=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[i]=e}function n(e,n,r,i){let a=i;const s=n.length;r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s,a+=4,r[a]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(n,a),a+=n.length;const o=function(e,n,r){let i=-1;for(let a=n;a<r;a++){const n=255&(i^e[a]);i=i>>>8^t[n]}return~i}(r,i+4,a);r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let a=0;i[a++]=120,i[a++]=156;let s=0;for(;t>n;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(s,s+n),a),a+=n,s+=n,t-=n;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(s),a),a+=e.length-s;const o=function(e,t,n){let r=1,i=0;for(let a=t;a<n;++a)r=(r+(255&e[a]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[a++]=o>>24&255,i[a++]=o>>16&255,i[a++]=o>>8&255,i[a++]=255&o,i}function s(t,s,o,l){const c=t.width,d=t.height;let u,p,f;const m=t.data;switch(s){case i.ImageKind.GRAYSCALE_1BPP:p=0,u=1,f=c+7>>3;break;case i.ImageKind.RGB_24BPP:p=2,u=8,f=3*c;break;case i.ImageKind.RGBA_32BPP:p=6,u=8,f=4*c;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+f)*d);let v=0,x=0;for(let e=0;e<d;++e)g[v++]=0,g.set(m.subarray(x,x+f),v),x+=f,v+=f;if(s===i.ImageKind.GRAYSCALE_1BPP&&l){v=0;for(let e=0;e<d;e++){v++;for(let e=0;e<f;e++)g[v++]^=255}}const b=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&d,u,p,0,0,0]),y=function(e){if(!a.isNodeJS)return r(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=__webpack_require__(787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(e)}(g),w=e.length+36+b.length+y.length,k=new Uint8Array(w);let S=0;return k.set(e,S),S+=e.length,n("IHDR",b,k,S),S+=12+b.length,n("IDATA",y,k,S),S+=12+y.length,n("IEND",new Uint8Array(0),k,S),h(k,"image/png",o)}return function(e,t,n){return s(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function m(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}function g(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function v(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${g(e[0])} ${g(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${g(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${g(e[4])} ${g(e[5])})`;return`matrix(${g(e[0])} ${g(e[1])} ${g(e[2])} ${g(e[3])} ${g(e[4])} ${g(e[5])})`}let x=0,b=0,y=0;t.SVGGraphics=s=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new f,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const r in i.OPS)this._operatorIdMapping[i.OPS[r]]=r}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let r=0,a=t.length;r<a;r++)if(t[r]===i.OPS.dependency)for(const e of n[r]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,a,s){const o=[e,t,n,r,a,s];this.transformMatrix=i.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let a=0,s=r.length;a<s;a++){const e=r[a];i.push({fnId:e,fn:t[e],args:n[a]})}return m(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,a){const s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,i,a],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${g(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",g(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.append(s.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${g(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",g(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const a=t.fontSizeScale,s=t.charSpacing,c=t.wordSpacing,d=t.fontDirection,u=t.textHScale*d,h=n.vertical,p=h?1:-1,f=n.defaultVMetrics,m=r*t.fontMatrix[0];let x=0;for(const i of e){if(null===i){x+=d*c;continue}if("number"===typeof i){x+=p*i*r/1e3;continue}const e=(i.isSpace?c:0)+s,o=i.fontChar;let l,u,g,v=i.width;if(h){let e;const t=i.vmetric||f;e=i.vmetric?t[1]:.5*v,e=-e*m;const n=t[2]*m;v=t?-t[0]:v,l=e/a,u=(x+n)/a}else l=x/a,u=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+l),h&&t.ycoords.push(-t.y+u),t.tspan.textContent+=o),g=h?v*m-e*d:v*m+e*d,x+=g}t.tspan.setAttributeNS(null,"x",t.xcoords.map(g).join(" ")),h?t.tspan.setAttributeNS(null,"y",t.ycoords.map(g).join(" ")):t.tspan.setAttributeNS(null,"y",g(-t.y)),h?t.y-=x:t.x+=x*u,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${g(t.fontSize)}px`),t.fontStyle!==o.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==o.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const b=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(b===i.TextRenderingMode.FILL||b===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==o.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),b===i.TextRenderingMode.STROKE||b===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let y=t.textMatrix;0!==t.textRise&&(y=y.slice(),y[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${v(y)} scale(${g(u)}, -1)`),t.txtElement.setAttributeNS(l,"xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=h(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let a="normal";n.black?a="900":n.bold&&(a="bold");const s=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",g(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=d[e]}setLineJoin(e){this.current.lineJoin=u[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),a=i.Util.applyTransform([0,0],r),s=i.Util.applyTransform([0,n],r),o=i.Util.applyTransform([t,0],r),l=i.Util.applyTransform([t,n],r),c=Math.min(a[0],s[0],o[0],l[0]),d=Math.min(a[1],s[1],o[1],l[1]),u=Math.max(a[0],s[0],o[0],l[0]),h=Math.max(a[1],s[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c),p.setAttributeNS(null,"y",d),p.setAttributeNS(null,"width",u-c),p.setAttributeNS(null,"height",h-d),p.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(p)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[a,s,o,l]=e[4],c=e[5],d=e[6],u=e[7],h="shading"+y++,[p,f,m,g]=i.Util.normalizeRect([...i.Util.applyTransform([a,s],r),...i.Util.applyTransform([o,l],r)]),[v,x]=i.Util.singularValueDecompose2dScale(r),b=c*v,w=d*x,k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",h),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",b),k.setAttributeNS(null,"height",w),k.setAttributeNS(null,"x",`${p}`),k.setAttributeNS(null,"y",`${f}`);const S=this.svg,_=this.transformMatrix,j=this.current.fillColor,C=this.current.strokeColor,N=this.svgFactory.create(m-p,g-f);if(this.svg=N,this.transformMatrix=r,2===u){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=S,this.transformMatrix=_,this.current.fillColor=j,this.current.strokeColor=C,k.append(N.childNodes[0]),this.defs.append(k),`url(#${h})`}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+y++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const a=e[4],s=e[5],o=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",s[0]),r.setAttributeNS(null,"cy",s[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",a[0]),r.setAttributeNS(null,"fy",a[1]),r.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,a=n.y,s=[],o=0;for(const l of e)switch(0|l){case i.OPS.rectangle:r=t[o++],a=t[o++];const e=r+t[o++],n=a+t[o++];s.push("M",g(r),g(a),"L",g(e),g(a),"L",g(e),g(n),"L",g(r),g(n),"Z");break;case i.OPS.moveTo:r=t[o++],a=t[o++],s.push("M",g(r),g(a));break;case i.OPS.lineTo:r=t[o++],a=t[o++],s.push("L",g(r),g(a));break;case i.OPS.curveTo:r=t[o+4],a=t[o+5],s.push("C",g(t[o]),g(t[o+1]),g(t[o+2]),g(t[o+3]),g(r),g(a)),o+=6;break;case i.OPS.curveTo2:s.push("C",g(r),g(a),g(t[o]),g(t[o+1]),g(t[o+2]),g(t[o+3])),r=t[o+2],a=t[o+3],o+=4;break;case i.OPS.curveTo3:r=t[o+2],a=t[o+3],s.push("C",g(t[o]),g(t[o+1]),g(r),g(a),g(r),g(a)),o+=4;break;case i.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,a)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+x++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",v(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",g(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",g(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(g).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",g(t*n.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=p(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",g(n)),a.setAttributeNS(null,"height",g(r)),this.current.element=a,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS(c,"xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",g(-r)),s.setAttributeNS(null,"width",g(n)+"px"),s.setAttributeNS(null,"height",g(r)+"px"),s.setAttributeNS(null,"transform",`scale(${g(1/n)} ${g(-1/r)})`),t?t.append(s):this._ensureTransformGroup().append(s)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const n=this.current,r=t.width,a=t.height,s=n.fillColor;n.maskId="mask"+b++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",n.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",g(r)),l.setAttributeNS(null,"height",g(a)),l.setAttributeNS(null,"fill",s),l.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",g(e)),r.setAttributeNS(null,"height",g(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",v(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),s=__w_pdfjs_require__(5),o=__w_pdfjs_require__(32),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(35),d=__w_pdfjs_require__(34)})(),__nested_webpack_exports__})(),module.exports=factory()},787:()=>{},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},815:()=>{},825:()=>{},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<i&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,y(e),!m)if(null!==r(c))m=!0,P();else{var t=r(d);null!==t&&I(w,t.startTime-e)}}var k,S=!1,_=-1,j=5,C=-1;function N(){return!(t.unstable_now()-C<j)}function E(){if(S){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(_),_=-1),f=!0;var a=p;try{t:{for(y(e),h=r(c);null!==h&&!(h.expirationTime>e&&N());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,y(e),n=!0;break t}h===r(c)&&i(c),y(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&I(w,l.startTime-e),n=!1}}break e}finally{h=null,p=a,f=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof b)k=function(){b(E)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=E,k=function(){T.postMessage(null)}}else k=function(){v(E,0)};function P(){S||(S=!0,k())}function I(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(g?(x(_),_=-1):g=!0,I(w,a-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,P())),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,__webpack_require__.d(i,a),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".315213a9.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="i-plot-admin:";__webpack_require__.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var s,o;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var u=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),o&&document.head.appendChild(s)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(a,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,a=n[0],s=n[1],o=n[2],l=0;if(a.some((t=>0!==e[t]))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(o)o(__webpack_require__)}for(t&&t(n);l<a.length;l++)i=a[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunki_plot_admin=self.webpackChunki_plot_admin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__.t(e,2),n=__webpack_require__(391);const r=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)}))};var i="undefined"===typeof window||"Deno"in globalThis;function a(){}function s(e,t){return"function"===typeof e?e(t):e}function o(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s)if(r){if(t.queryHash!==c(s,t.options))return!1}else if(!u(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!i||i===t.state.fetchStatus)&&!(a&&!a(t)))}function l(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(d(t.options.mutationKey)!==d(a))return!1}else if(!u(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function c(e,t){return(t?.queryKeyHashFn||d)(e)}function d(e){return JSON.stringify(e,((e,t)=>f(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function u(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((n=>!u(e[n],t[n]))))}function h(e,t){if(e===t)return e;const n=p(e)&&p(t);if(n||f(e)&&f(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const i=n?c:a[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(o[i]=void 0,l++):(o[i]=h(e[i],t[i]),o[i]===e[i]&&void 0!==e[i]&&l++)}return i===s&&l===i?e:o}return t}function p(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function f(e){if(!m(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!m(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?h(e,t):t}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var b=Symbol();function y(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==b?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var w=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const a=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a((()=>{e(...n)}))},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),k=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S=new class extends k{#At;#Ce;#Tt;constructor(){super(),this.#Tt=e=>{if(!i&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#Ce||this.setEventListener(this.#Tt)}onUnsubscribe(){this.hasListeners()||(this.#Ce?.(),this.#Ce=void 0)}setEventListener(e){this.#Tt=e,this.#Ce?.(),this.#Ce=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#At!==e&&(this.#At=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#At?this.#At:"hidden"!==globalThis.document?.visibilityState}},_=new class extends k{#Pt=!0;#Ce;#Tt;constructor(){super(),this.#Tt=e=>{if(!i&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#Ce||this.setEventListener(this.#Tt)}onUnsubscribe(){this.hasListeners()||(this.#Ce?.(),this.#Ce=void 0)}setEventListener(e){this.#Tt=e,this.#Ce?.(),this.#Ce=e(this.setOnline.bind(this))}setOnline(e){this.#Pt!==e&&(this.#Pt=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#Pt}};function j(e){return Math.min(1e3*2**e,3e4)}function C(e){return"online"!==(e??"online")||_.isOnline()}var N=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function E(e){return e instanceof N}function A(e){let t,n=!1,r=0,a=!1;const s=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>S.isFocused()&&("always"===e.networkMode||_.isOnline())&&e.canRun(),l=()=>C(e.networkMode)&&e.canRun(),c=n=>{a||(a=!0,e.onSuccess?.(n),t?.(),s.resolve(n))},d=n=>{a||(a=!0,e.onError?.(n),t?.(),s.reject(n))},u=()=>new Promise((n=>{t=e=>{(a||o())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,a||e.onContinue?.()})),h=()=>{if(a)return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(l){t=Promise.reject(l)}Promise.resolve(t).then(c).catch((t=>{if(a)return;const s=e.retry??(i?0:3),l=e.retryDelay??j,c="function"===typeof l?l(r,t):l,p=!0===s||"number"===typeof s&&r<s||"function"===typeof s&&s(r,t);var f;!n&&p?(r++,e.onFail?.(r,t),(f=c,new Promise((e=>{setTimeout(e,f)}))).then((()=>o()?void 0:u())).then((()=>{n?d(t):h()}))):d(t)}))};return{promise:s,cancel:t=>{a||(d(new N(t)),e.abort?.())},continue:()=>(t?.(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:l,start:()=>(l()?h():u().then(h),s)}}var T=class{#It;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#It=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i?1/0:3e5))}clearGcTimeout(){this.#It&&(clearTimeout(this.#It),this.#It=void 0)}},P=class extends T{#$t;#Rt;#Ot;#Dt;#Ft;#Mt;#Lt;constructor(e){super(),this.#Lt=!1,this.#Mt=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#Dt=e.client,this.#Ot=this.#Dt.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#$t=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#$t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#Ft?.promise}setOptions(e){this.options={...this.#Mt,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#Ot.remove(this)}setData(e,t){const n=g(this.state.data,e,this.options);return this.#Vt({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#Vt({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#Ft?.promise;return this.#Ft?.cancel(e),t?t.then(a).catch(a):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#$t)}isActive(){return this.observers.some((e=>!1!==function(e,t){return"function"===typeof e?e(t):e}(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===b||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#Ft?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#Ft?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#Ot.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#Ft&&(this.#Lt?this.#Ft.cancel({revert:!0}):this.#Ft.cancelRetry()),this.scheduleGc()),this.#Ot.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#Vt({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#Ft)return this.#Ft.continueRetry(),this.#Ft.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#Lt=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#Dt,state:this.state,fetchFn:()=>{const e=y(this.options,t),n={client:this.#Dt,queryKey:this.queryKey,meta:this.meta};return r(n),this.#Lt=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#Rt=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#Vt({type:"fetch",meta:i.fetchOptions?.meta});const a=e=>{E(e)&&e.silent||this.#Vt({type:"error",error:e}),E(e)||(this.#Ot.config.onError?.(e,this),this.#Ot.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#Ft=A({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void a(t)}this.#Ot.config.onSuccess?.(e,this),this.#Ot.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else a(new Error(`${this.queryHash} data is undefined`))},onError:a,onFail:(e,t)=>{this.#Vt({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#Vt({type:"pause"})},onContinue:()=>{this.#Vt({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#Ft.start()}#Vt(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...I(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return E(n)&&n.revert&&this.#Rt?{...this.#Rt,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),w.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#Ot.notify({query:this,type:"updated",action:e})}))}};function I(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var $=class extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#Bt=new Map}#Bt;build(e,t,n){const r=t.queryKey,i=t.queryHash??c(r,t);let a=this.get(i);return a||(a=new P({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#Bt.has(e.queryHash)||(this.#Bt.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#Bt.get(e.queryHash);t&&(e.destroy(),t===e&&this.#Bt.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){w.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#Bt.get(e)}getAll(){return[...this.#Bt.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>o(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>o(e,t))):t}notify(e){w.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){w.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){w.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},R=class extends T{#Ut;#zt;#Ft;constructor(e){super(),this.mutationId=e.mutationId,this.#zt=e.mutationCache,this.#Ut=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#Ut.includes(e)||(this.#Ut.push(e),this.clearGcTimeout(),this.#zt.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#Ut=this.#Ut.filter((t=>t!==e)),this.scheduleGc(),this.#zt.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#Ut.length||("pending"===this.state.status?this.scheduleGc():this.#zt.remove(this))}continue(){return this.#Ft?.continue()??this.execute(this.state.variables)}async execute(e){this.#Ft=A({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#Vt({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#Vt({type:"pause"})},onContinue:()=>{this.#Vt({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#zt.canRun(this)});const t="pending"===this.state.status,n=!this.#Ft.canStart();try{if(!t){this.#Vt({type:"pending",variables:e,isPaused:n}),await(this.#zt.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#Vt({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#Ft.start();return await(this.#zt.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#zt.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#Vt({type:"success",data:r}),r}catch(r){try{throw await(this.#zt.config.onError?.(r,e,this.state.context,this)),await(this.options.onError?.(r,e,this.state.context)),await(this.#zt.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,e,this.state.context)),r}finally{this.#Vt({type:"error",error:r})}}finally{this.#zt.runNext(this)}}#Vt(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),w.batch((()=>{this.#Ut.forEach((t=>{t.onMutationUpdate(e)})),this.#zt.notify({mutation:this,type:"updated",action:e})}))}};var O=class extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#Ht=new Set,this.#Kt=new Map,this.#qt=0}#Ht;#Kt;#qt;build(e,t,n){const r=new R({mutationCache:this,mutationId:++this.#qt,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#Ht.add(e);const t=D(e);if("string"===typeof t){const n=this.#Kt.get(t);n?n.push(e):this.#Kt.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#Ht.delete(e)){const t=D(e);if("string"===typeof t){const n=this.#Kt.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#Kt.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=D(e);if("string"===typeof t){const n=this.#Kt.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=D(e);if("string"===typeof t){const n=this.#Kt.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){w.batch((()=>{this.#Ht.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#Ht.clear(),this.#Kt.clear()}))}getAll(){return Array.from(this.#Ht)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>l(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>l(e,t)))}notify(e){w.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return w.batch((()=>Promise.all(e.map((e=>e.continue().catch(a))))))}};function D(e){return e.options.scope?.id}function F(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=y(t.options,t.fetchOptions),d=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const a={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var s;s=a,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const o=await c(a),{maxPages:l}=t.options,d=i?x:v;return{pages:d(e.pages,o,l),pageParams:d(e.pageParams,r,l)}};if(i&&a.length){const e="backward"===i,t={pages:a,pageParams:s},n=(e?L:M)(r,t);o=await d(t,n,e)}else{const t=e??a.length;do{const e=0===l?s[0]??r.initialPageParam:M(r,o);if(l>0&&null==e)break;o=await d(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function M(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function L(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var V=__webpack_require__(579),B=e.createContext(void 0),U=t=>{let{client:n,children:r}=t;return e.useEffect((()=>(n.mount(),()=>{n.unmount()})),[n]),(0,V.jsx)(B.Provider,{value:n,children:r})};let z={data:""},H=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||z,K=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,q=/\/\*[^]*?\*\/|  +/g,G=/\n+/g,W=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?W(s,a):a+"{"+W(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=W(s,t?t.replace(/([^,])+/g,(e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=W.p?W.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},X={},Y=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Y(e[n]);return t}return e},Z=(e,t,n,r,i)=>{let a=Y(e),s=X[a]||(X[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!X[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=K.exec(e.replace(q,""));)t[4]?r.shift():t[3]?(n=t[3].replace(G," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(G," ").trim();return r[0]})(e);X[s]=W(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&X.g?X.g:null;return n&&(X.g=X[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(X[s],t,r,o),s};function Q(e){let t=this||{},n=e.call?e(t.p):e;return Z(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":W(e,""):!1===e?"":e}return e+r+(null==a?"":a)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,H(t.target),t.g,t.o,t.k)}Q.bind({g:1});let J,ee,te,ne=Q.bind({k:1});function re(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:ee&&ee()},o),n.o=/ *go\d+/.test(l),o.className=Q.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),te&&c[0]&&te(o),J(c,o)}return t?t(i):i}}var ie=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,ae=(()=>{let e=0;return()=>(++e).toString()})(),se=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),oe=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return oe(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},le=[],ce={toasts:[],pausedAt:void 0},de=e=>{ce=oe(ce,e),le.forEach((e=>{e(ce)}))},ue={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},he=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||ae()}}(t,e,n);return de({type:2,toast:r}),r.id},pe=(e,t)=>he("blank")(e,t);pe.error=he("error"),pe.success=he("success"),pe.loading=he("loading"),pe.custom=he("custom"),pe.dismiss=e=>{de({type:3,toastId:e})},pe.remove=e=>de({type:4,toastId:e}),pe.promise=(e,t,n)=>{let r=pe.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let i=t.success?ie(t.success,e):void 0;return i?pe.success(i,{id:r,...n,...null==n?void 0:n.success}):pe.dismiss(r),e})).catch((e=>{let i=t.error?ie(t.error,e):void 0;i?pe.error(i,{id:r,...n,...null==n?void 0:n.error}):pe.dismiss(r)})),e};var fe=(e,t)=>{de({type:1,toast:{id:e,height:t}})},me=()=>{de({type:5,time:Date.now()})},ge=new Map,ve=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(ce),i=(0,e.useRef)(ce);(0,e.useEffect)((()=>(i.current!==ce&&r(ce),le.push(r),()=>{let e=le.indexOf(r);e>-1&&le.splice(e,1)})),[]);let a=n.toasts.map((e=>{var n,r,i;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||ue[e.type],style:{...t.style,...null==(i=t[e.type])?void 0:i.style,...e.style}}}));return{...n,toasts:a}}(t);(0,e.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>pe.dismiss(t.id)),n);t.visible&&pe.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let i=(0,e.useCallback)((()=>{r&&de({type:6,time:Date.now()})}),[r]),a=(0,e.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},s=n.filter((t=>(t.position||a)===(e.position||a)&&t.height)),o=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<o&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[n]);return(0,e.useEffect)((()=>{n.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(ge.has(e))return;let n=setTimeout((()=>{ge.delete(e),de({type:4,toastId:e})}),t);ge.set(e,n)}(e.id,e.removeDelay);else{let t=ge.get(e.id);t&&(clearTimeout(t),ge.delete(e.id))}}))}),[n]),{toasts:n,handlers:{updateHeight:fe,startPause:me,endPause:i,calculateOffset:a}}},xe=ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,be=ne`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ye=ne`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,we=re("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${be} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ye} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ke=ne`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Se=re("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ke} 1s linear infinite;
`,_e=ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,je=ne`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ce=re("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${je} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ne=re("div")`
  position: absolute;
`,Ee=re("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=ne`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Te=re("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Pe=t=>{let{toast:n}=t,{icon:r,type:i,iconTheme:a}=n;return void 0!==r?"string"==typeof r?e.createElement(Te,null,r):r:"blank"===i?null:e.createElement(Ee,null,e.createElement(Se,{...a}),"loading"!==i&&e.createElement(Ne,null,"error"===i?e.createElement(we,{...a}):e.createElement(Ce,{...a})))},Ie=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,$e=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Re=re("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Oe=re("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,De=e.memo((t=>{let{toast:n,position:r,style:i,children:a}=t,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=se()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Ie(n),$e(n)];return{animation:t?`${ne(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ne(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(n.position||r||"top-center",n.visible):{opacity:0},o=e.createElement(Pe,{toast:n}),l=e.createElement(Oe,{...n.ariaProps},ie(n.message,n));return e.createElement(Re,{className:n.className,style:{...s,...i,...n.style}},"function"==typeof a?a({icon:o,message:l}):e.createElement(e.Fragment,null,o,l))}));!function(e,t,n,r){W.p=t,J=e,ee=n,te=r}(e.createElement);var Fe,Me=t=>{let{id:n,className:r,style:i,onHeightUpdate:a,children:s}=t,o=e.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,a]);return e.createElement("div",{ref:o,className:r,style:i},s)},Le=Q`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ve=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:a,children:s,containerStyle:o,containerClassName:l}=t,{toasts:c,handlers:d}=ve(i);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map((t=>{let i=t.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:se()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(i,d.calculateOffset(t,{reverseOrder:n,gutter:a,defaultPosition:r}));return e.createElement(Me,{id:t.id,key:t.id,onHeightUpdate:d.updateHeight,className:t.visible?Le:"",style:o},"custom"===t.type?ie(t.message,t):s?s(t):e.createElement(De,{toast:t,position:i}))})))},Be=pe,Ue=(__webpack_require__(175),e=>{throw TypeError(e)}),ze=(e,t,n)=>(((e,t,n)=>{t.has(e)||Ue("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e)),He="popstate";function Ke(){return Qe((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Xe("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Ye(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function qe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ge(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(z){}}}function We(e,t){return{usr:e.state,key:e.key,idx:t}}function Xe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?Ze(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function Ye(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ze(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Qe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Ye(e);return n=n.replace(/ $/,"%20"),qe(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==c&&(c=0,s.replaceState({...s.state,idx:c},""));let p={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(He,u),l=e,()=>{i.removeEventListener(He,u),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=Xe(p.location,e,t);n&&n(r,e),c=d()+1;let u=We(r,c),h=p.createHref(r);try{s.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=Xe(p.location,e,t);n&&n(r,e),c=d();let i=We(r,c),u=p.createHref(r);s.replaceState(i,"",u),a&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}var Je=class{constructor(e){var t,n,r;if(t=this,n=Fe,r=new Map,n.has(t)?Ue("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),e)for(let[i,a]of e)this.set(i,a)}get(e){if(ze(this,Fe).has(e))return ze(this,Fe).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){ze(this,Fe).set(e,t)}};Fe=new WeakMap;var et=new Set(["lazy","caseSensitive","path","id","index","children"]);function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map(((e,i)=>{let a=[...n,String(i)],s="string"===typeof e.id?e.id:a.join("-");if(qe(!0!==e.index||!e.children,"Cannot specify children on an index route"),qe(!r[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),function(e){return!0===e.index}(e)){let n={...e,...t(e),id:s};return r[s]=n,n}{let n={...e,...t(e),id:s,children:void 0};return r[s]=n,e.children&&(n.children=tt(e.children,t,a,r)),n}}))}function nt(e,t){return rt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function rt(e,t,n,r){let i=xt(("string"===typeof t?Ze(t):t).pathname||"/",n);if(null==i)return null;let a=at(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=vt(i);s=mt(a[o],e,r)}return s}function it(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function at(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(qe(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let o=St([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(qe(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),at(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:ft(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of st(e.path))i(e,t,n);else i(e,t)})),t}function st(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=st(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var ot=/^:[\w-]+$/,lt=3,ct=2,dt=1,ut=10,ht=-2,pt=e=>"*"===e;function ft(e,t){let n=e.split("/"),r=n.length;return n.some(pt)&&(r+=ht),t&&(r+=ct),n.filter((e=>!pt(e))).reduce(((e,t)=>e+(ot.test(t)?lt:""===t?dt:ut)),r)}function mt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=gt({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=gt({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:St([a,d.pathname]),pathnameBase:_t(St([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=St([a,d.pathnameBase]))}return s}function gt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ge("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function vt(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ge(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function bt(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yt(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function wt(e){let t=yt(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function kt(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=Ze(e):(r={...e},qe(!r.pathname||!r.pathname.includes("?"),bt("?","pathname","search",r)),qe(!r.pathname||!r.pathname.includes("#"),bt("#","pathname","hash",r)),qe(!r.search||!r.search.includes("#"),bt("#","search","hash",r)));let a,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)a=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?Ze(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:jt(r),hash:Ct(i)}}(r,a),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var St=e=>e.join("/").replace(/\/\/+/g,"/"),_t=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jt=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ct=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Nt=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Et(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var At=["POST","PUT","PATCH","DELETE"],Tt=new Set(At),Pt=["GET",...At],It=new Set(Pt),$t=new Set([301,302,303,307,308]),Rt=new Set([307,308]),Ot={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dt={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ft={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),Vt="remix-router-transitions",Bt=Symbol("ResetLoaderData");function Ut(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;qe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r,i,a,s=e.mapRouteProperties||Lt,o={},l=tt(e.routes,s,void 0,o),c=e.basename||"/",d=e.dataStrategy||Jt,u={unstable_middleware:!1,...e.future},h=null,p=new Set,f=null,m=null,g=null,v=null!=e.hydrationData,x=nt(l,e.history.location,c),b=!1,y=null;if(null==x&&!e.patchRoutesOnNavigation){let t=vn(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=gn(l);x=n,y={[r.id]:t}}if(x&&!e.hydrationData){ue(x,l,e.history.location.pathname).active&&(x=null)}if(x)if(x.some((e=>e.route.lazy)))i=!1;else if(x.some((e=>e.route.loader))){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=x.findIndex((e=>void 0!==n[e.route.id]));i=x.slice(0,e+1).every((e=>!Gt(e.route,t,n)))}else i=x.every((e=>!Gt(e.route,t,n)))}else i=!0;else{i=!1,x=[];let t=ue(null,l,e.history.location.pathname);t.active&&t.matches&&(b=!0,x=t.matches)}let w,k,S={historyAction:e.history.action,location:e.history.location,matches:x,initialized:i,navigation:Ot,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},_="POP",j=!1,C=!1,N=new Map,E=null,A=!1,T=!1,P=new Set,I=new Map,$=0,R=-1,O=new Map,D=new Set,F=new Map,M=new Map,L=new Set,V=new Map,B=null;function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S={...S,...e};let n=[],r=[];S.fetchers.forEach(((e,t)=>{"idle"===e.state&&(L.has(t)?n.push(t):r.push(t))})),L.forEach((e=>{S.fetchers.has(e)||I.has(e)||n.push(e)})),[...p].forEach((e=>e(S,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),n.forEach((e=>ee(e))),r.forEach((e=>S.fetchers.delete(e)))}function H(t,n){let i,{flushSync:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null!=S.actionData&&null!=S.navigation.formMethod&&Cn(S.navigation.formMethod)&&"loading"===S.navigation.state&&!0!==t.state?._isRedirect;i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?S.actionData:null;let o=n.loaderData?pn(S.loaderData,n.loaderData,n.matches||[],n.errors):S.loaderData,c=S.blockers;c.size>0&&(c=new Map(c),c.forEach(((e,t)=>c.set(t,Ft))));let d,u=!0===j||null!=S.navigation.formMethod&&Cn(S.navigation.formMethod)&&!0!==t.state?._isRedirect;if(r&&(l=r,r=void 0),A||"POP"===_||("PUSH"===_?e.history.push(t,t.state):"REPLACE"===_&&e.history.replace(t,t.state)),"POP"===_){let e=N.get(S.location.pathname);e&&e.has(t.pathname)?d={currentLocation:S.location,nextLocation:t}:N.has(t.pathname)&&(d={currentLocation:t,nextLocation:S.location})}else if(C){let e=N.get(S.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),N.set(S.location.pathname,e)),d={currentLocation:S.location,nextLocation:t}}U({...n,actionData:i,loaderData:o,historyAction:_,location:t,initialized:!0,navigation:Ot,revalidation:"idle",restoreScrollPosition:de(t,n.matches||S.matches),preventScrollReset:u,blockers:c},{viewTransitionOpts:d,flushSync:!0===a}),_="POP",j=!1,C=!1,A=!1,T=!1,B?.resolve(),B=null}async function K(t,n,i){w&&w.abort(),w=null,_=t,A=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(f&&g){let n=ce(e,t);f[n]=g()}}(S.location,S.matches),j=!0===(i&&i.preventScrollReset),C=!0===(i&&i.enableViewTransition);let a=r||l,s=i&&i.overrideNavigation,o=i?.initialHydration&&S.matches&&S.matches.length>0&&!b?S.matches:nt(a,n,c),d=!0===(i&&i.flushSync);if(o&&S.initialized&&!T&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(S.location,n)&&!(i&&i.submission&&Cn(i.submission.formMethod)))return void H(n,{matches:o},{flushSync:d});let u=ue(o,a,n.pathname);if(u.active&&u.matches&&(o=u.matches),!o){let{error:e,notFoundMatches:t,route:r}=le(n.pathname);return void H(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:d})}w=new AbortController;let h,p=ln(e.history,n,w.signal,i&&i.submission),m=new Je(e.unstable_getContext?await e.unstable_getContext():void 0);if(i&&i.pendingError)h=[mn(o).route.id,{type:"error",error:i.pendingError}];else if(i&&i.submission&&Cn(i.submission.formMethod)){let t=await async function(e,t,n,r,i,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};Y();let o,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(U({navigation:l},{flushSync:!0===s.flushSync}),a){let n=await he(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=mn(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=le(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:"error",error:n}]}}r=n.matches}let d=En(r,t);if(d.route.action||d.route.lazy){let t=await W("action",e,[d],r,i,null);if(o=t[d.route.id],!o)for(let e of r)if(t[e.route.id]){o=t[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else o={type:"error",error:vn(405,{method:e.method,pathname:t.pathname,routeId:d.route.id})};if(kn(o)){let t;if(s&&null!=s.replace)t=s.replace;else{t=on(o.response.headers.get("Location"),new URL(e.url),c)===S.location.pathname+S.location.search}return await G(e,o,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(wn(o)){let e=mn(r,d.route.id);return!0!==(s&&s.replace)&&(_="PUSH"),{matches:r,pendingActionResult:[e.route.id,o]}}return{matches:r,pendingActionResult:[d.route.id,o]}}(p,n,i.submission,o,m,u.active,{replace:i.replace,flushSync:d});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(wn(r)&&Et(r.error)&&404===r.error.status)return w=null,void H(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}o=t.matches||o,h=t.pendingActionResult,s=Tn(n,i.submission),d=!1,u.active=!1,p=ln(e.history,p.url,p.signal)}let{shortCircuited:v,matches:x,loaderData:y,errors:k}=await async function(t,n,i,a,s,o,d,u,h,p,f,m){let g=o||Tn(n,d),v=d||u||An(g),x=!A&&!p;if(s){if(x){let e=q(m);U({navigation:g,...void 0!==e?{actionData:e}:{}},{flushSync:f})}let e=await he(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=mn(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=le(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}i=e.matches}let b=r||l,[y,k]=qt(e.history,S,i,v,n,!0===p,T,P,L,F,D,b,c,m);if(R=++$,0===y.length&&0===k.length){let e=re();return H(n,{matches:i,loaderData:{},errors:m&&wn(m[1])?{[m[0]]:m[1].error}:null,...fn(m),...e?{fetchers:new Map(S.fetchers)}:{}},{flushSync:f}),{shortCircuited:!0}}if(x){let e={};if(!s){e.navigation=g;let t=q(m);void 0!==t&&(e.actionData=t)}k.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=S.fetchers.get(e.key),n=Pn(void 0,t?t.data:void 0);S.fetchers.set(e.key,n)})),new Map(S.fetchers)}(k)),U(e,{flushSync:f})}k.forEach((e=>{te(e.key),e.controller&&I.set(e.key,e.controller)}));let _=()=>k.forEach((e=>te(e.key)));w&&w.signal.addEventListener("abort",_);let{loaderResults:j,fetcherResults:C}=await X(i,y,k,t,a);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",_);k.forEach((e=>I.delete(e.key)));let N=xn(j);if(N)return await G(t,N.result,!0,{replace:h}),{shortCircuited:!0};if(N=xn(C),N)return D.add(N.key),await G(t,N.result,!0,{replace:h}),{shortCircuited:!0};let{loaderData:E,errors:O}=hn(S,i,j,m,k,C);p&&S.errors&&(O={...S.errors,...O});let M=re(),V=ie(R),B=M||V||k.length>0;return{matches:i,loaderData:E,errors:O,...B?{fetchers:new Map(S.fetchers)}:{}}}(p,n,o,m,u.active,s,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,d,h);v||(w=null,H(n,{matches:x||o,...fn(h),loaderData:y,errors:k}))}function q(e){return e&&!wn(e[1])?{[e[0]]:e[1].data}:S.actionData?0===Object.keys(S.actionData).length?null:S.actionData:void 0}async function G(r,i,a){let{submission:s,fetcherSubmission:o,preventScrollReset:l,replace:d}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.response.headers.has("X-Remix-Revalidate")&&(T=!0);let u=i.response.headers.get("Location");qe(u,"Expected a Location header on the redirect Response"),u=on(u,new URL(r.url),c);let h=Xe(S.location,u,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(Mt.test(u)){const r=e.history.createURL(u);n=r.origin!==t.location.origin||null==xt(r.pathname,c)}if(n)return void(d?t.location.replace(u):t.location.assign(u))}w=null;let p=!0===d||i.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:f,formAction:m,formEncType:g}=S.navigation;!s&&!o&&f&&m&&g&&(s=An(S.navigation));let v=s||o;if(Rt.has(i.response.status)&&v&&Cn(v.formMethod))await K(p,h,{submission:{...v,formAction:u},preventScrollReset:l||j,enableViewTransition:a?C:void 0});else{let e=Tn(h,s);await K(p,h,{overrideNavigation:e,fetcherSubmission:o,preventScrollReset:l||j,enableViewTransition:a?C:void 0})}}async function W(e,t,n,r,i,a){let l,h={};try{l=await rn(d,e,t,n,r,a,o,s,i,u.unstable_middleware)}catch(z){return n.forEach((t=>{h[t.route.id]={type:"error",error:z}})),h}for(let[s,o]of Object.entries(l))if(yn(o)){let e=o.result;h[s]={type:"redirect",response:sn(e,t,s,r,c)}}else h[s]=await an(o);return h}async function X(t,n,r,i,a){let s=W("loader",i,n,t,a,null),o=Promise.all(r.map((async t=>{if(t.matches&&t.match&&t.controller){let n=(await W("loader",ln(e.history,t.path,t.controller.signal),[t.match],t.matches,a,t.key))[t.match.route.id];return{[t.key]:n}}return Promise.resolve({[t.key]:{type:"error",error:vn(404,{pathname:t.path})}})}))),l=await s,c=(await o).reduce(((e,t)=>Object.assign(e,t)),{});return{loaderResults:l,fetcherResults:c}}function Y(){T=!0,F.forEach(((e,t)=>{I.has(t)&&P.add(t),te(t)}))}function Z(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};S.fetchers.set(e,t),U({fetchers:new Map(S.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Q(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=mn(S.matches,t);ee(e),U({errors:{[i.route.id]:n},fetchers:new Map(S.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function J(e){return M.set(e,(M.get(e)||0)+1),L.has(e)&&L.delete(e),S.fetchers.get(e)||Dt}function ee(e){let t=S.fetchers.get(e);!I.has(e)||t&&"loading"===t.state&&O.has(e)||te(e),F.delete(e),O.delete(e),D.delete(e),L.delete(e),P.delete(e),S.fetchers.delete(e)}function te(e){let t=I.get(e);t&&(t.abort(),I.delete(e))}function ne(e){for(let t of e){let e=In(J(t).data);S.fetchers.set(t,e)}}function re(){let e=[],t=!1;for(let n of D){let r=S.fetchers.get(n);qe(r,`Expected fetcher: ${n}`),"loading"===r.state&&(D.delete(n),e.push(n),t=!0)}return ne(e),t}function ie(e){let t=[];for(let[n,r]of O)if(r<e){let e=S.fetchers.get(n);qe(e,`Expected fetcher: ${n}`),"loading"===e.state&&(te(n),O.delete(n),t.push(n))}return ne(t),t.length>0}function ae(e){S.blockers.delete(e),V.delete(e)}function se(e,t){let n=S.blockers.get(e)||Ft;qe("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,`Invalid blocker state transition: ${n.state} -> ${t.state}`);let r=new Map(S.blockers);r.set(e,t),U({blockers:r})}function oe(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===V.size)return;V.size>1&&Ge(!1,"A router only supports one blocker at a time");let i=Array.from(V.entries()),[a,s]=i[i.length-1],o=S.blockers.get(a);return o&&"proceeding"===o.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?a:void 0}function le(e){let t=vn(404,{pathname:e}),n=r||l,{matches:i,route:a}=gn(n);return{notFoundMatches:i,route:a,error:t}}function ce(e,t){if(m){let n=m(e,t.map((e=>it(e,S.loaderData))));return n||e.key}return e.key}function de(e,t){if(f){let n=ce(e,t),r=f[n];if("number"===typeof r)return r}return null}function ue(t,n,r){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:rt(n,r,c,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:rt(n,r,c,!0)}}}return{active:!1,matches:null}}async function he(t,n,i,a){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let d=t;for(;;){let t=null==r,u=r||l,h=o;try{await e.patchRoutesOnNavigation({signal:i,path:n,matches:d,fetcherKey:a,patch:(e,t)=>{i.aborted||Yt(e,t,u,h,s)}})}catch(z){return{type:"error",error:z,partialMatches:d}}finally{t&&!i.aborted&&(l=[...l])}if(i.aborted)return{type:"aborted"};let p=nt(u,n,c);if(p)return{type:"success",matches:p};let f=rt(u,n,c,!0);if(!f||d.length===f.length&&d.every(((e,t)=>e.route.id===f[t].route.id)))return{type:"success",matches:null};d=f}}return a={get basename(){return c},get future(){return u},get state(){return S},get routes(){return l},get window(){return t},initialize:function(){if(h=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(k)return k(),void(k=void 0);Ge(0===V.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=oe({currentLocation:S.location,nextLocation:r,historyAction:n});if(a&&null!=i){let t=new Promise((e=>{k=e}));return e.history.go(-1*i),void se(a,{state:"blocked",location:r,proceed(){se(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(i)))},reset(){let e=new Map(S.blockers);e.set(a,Ft),U({blockers:e})}})}return K(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(Vt);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(z){}}(t,N);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(Vt,JSON.stringify(r))}catch(n){Ge(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}(t,N);t.addEventListener("pagehide",e),E=()=>t.removeEventListener("pagehide",e)}return S.initialized||K("POP",S.location,{initialHydration:!0}),a},subscribe:function(e){return p.add(e),()=>p.delete(e)},enableScrollRestoration:function(e,t,n){if(f=e,g=t,m=n||null,!v&&S.navigation===Ot){v=!0;let e=de(S.location,S.matches);null!=e&&U({restoreScrollPosition:e})}return()=>{f=null,g=null,m=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=zt(S.location,S.matches,c,n,r?.fromRouteId,r?.relative),{path:a,submission:s,error:o}=Ht(!1,i,r),l=S.location,d=Xe(S.location,a,r&&r.state);d={...d,...e.history.encodeLocation(d)};let u=r&&null!=r.replace?r.replace:void 0,h="PUSH";!0===u?h="REPLACE":!1===u||null!=s&&Cn(s.formMethod)&&s.formAction===S.location.pathname+S.location.search&&(h="REPLACE");let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,f=!0===(r&&r.flushSync),m=oe({currentLocation:l,nextLocation:d,historyAction:h});m?se(m,{state:"blocked",location:d,proceed(){se(m,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(S.blockers);e.set(m,Ft),U({blockers:e})}}):await K(h,d,{submission:s,pendingError:o,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:f})},fetch:async function(t,n,i,a){te(t);let s=!0===(a&&a.flushSync),o=r||l,d=zt(S.location,S.matches,c,i,n,a?.relative),u=nt(o,d,c),h=ue(u,o,d);if(h.active&&h.matches&&(u=h.matches),!u)return void Q(t,n,vn(404,{pathname:d}),{flushSync:s});let{path:p,submission:f,error:m}=Ht(!0,d,a);if(m)return void Q(t,n,m,{flushSync:s});let g=En(u,p),v=new Je(e.unstable_getContext?await e.unstable_getContext():void 0),x=!0===(a&&a.preventScrollReset);f&&Cn(f.formMethod)?await async function(t,n,i,a,s,o,d,u,h,p){function f(e){if(!e.route.action&&!e.route.lazy){let e=vn(405,{method:p.formMethod,pathname:i,routeId:n});return Q(t,n,e,{flushSync:u}),!0}return!1}if(Y(),F.delete(t),!d&&f(a))return;let m=S.fetchers.get(t);Z(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(p,m),{flushSync:u});let g=new AbortController,v=ln(e.history,i,g.signal,p);if(d){let e=await he(s,i,v.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Q(t,n,e.error,{flushSync:u});if(!e.matches)return void Q(t,n,vn(404,{pathname:i}),{flushSync:u});if(f(a=En(s=e.matches,i)))return}I.set(t,g);let x=$,b=await W("action",v,[a],s,o,t),y=b[a.route.id];if(v.signal.aborted)return void(I.get(t)===g&&I.delete(t));if(L.has(t)){if(kn(y)||wn(y))return void Z(t,In(void 0))}else{if(kn(y))return I.delete(t),R>x?void Z(t,In(void 0)):(D.add(t),Z(t,Pn(p)),G(v,y,!1,{fetcherSubmission:p,preventScrollReset:h}));if(wn(y))return void Q(t,n,y.error)}let k=S.navigation.location||S.location,j=ln(e.history,k,g.signal),C=r||l,N="idle"!==S.navigation.state?nt(C,S.navigation.location,c):S.matches;qe(N,"Didn't find any matches after fetcher action");let E=++$;O.set(t,E);let A=Pn(p,y.data);S.fetchers.set(t,A);let[M,V]=qt(e.history,S,N,p,k,!1,T,P,L,F,D,C,c,[a.route.id,y]);V.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=S.fetchers.get(t),r=Pn(void 0,n?n.data:void 0);S.fetchers.set(t,r),te(t),e.controller&&I.set(t,e.controller)})),U({fetchers:new Map(S.fetchers)});let B=()=>V.forEach((e=>te(e.key)));g.signal.addEventListener("abort",B);let{loaderResults:z,fetcherResults:K}=await X(N,M,V,j,o);if(g.signal.aborted)return;g.signal.removeEventListener("abort",B),O.delete(t),I.delete(t),V.forEach((e=>I.delete(e.key)));let q=xn(z);if(q)return G(j,q.result,!1,{preventScrollReset:h});if(q=xn(K),q)return D.add(q.key),G(j,q.result,!1,{preventScrollReset:h});let{loaderData:J,errors:ee}=hn(S,N,z,void 0,V,K);if(S.fetchers.has(t)){let e=In(y.data);S.fetchers.set(t,e)}ie(E),"loading"===S.navigation.state&&E>R?(qe(_,"Expected pending action"),w&&w.abort(),H(S.navigation.location,{matches:N,loaderData:J,errors:ee,fetchers:new Map(S.fetchers)})):(U({errors:ee,loaderData:pn(S.loaderData,J,N,ee),fetchers:new Map(S.fetchers)}),T=!1)}(t,n,p,g,u,v,h.active,s,x,f):(F.set(t,{routeId:n,path:p}),await async function(t,n,r,i,a,s,o,l,c,d){let u=S.fetchers.get(t);Z(t,Pn(d,u?u.data:void 0),{flushSync:l});let h=new AbortController,p=ln(e.history,r,h.signal);if(o){let e=await he(a,r,p.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Q(t,n,e.error,{flushSync:l});if(!e.matches)return void Q(t,n,vn(404,{pathname:r}),{flushSync:l});i=En(a=e.matches,r)}I.set(t,h);let f=$,m=await W("loader",p,[i],a,s,t),g=m[i.route.id];I.get(t)===h&&I.delete(t);if(p.signal.aborted)return;if(L.has(t))return void Z(t,In(void 0));if(kn(g))return R>f?void Z(t,In(void 0)):(D.add(t),void await G(p,g,!1,{preventScrollReset:c}));if(wn(g))return void Q(t,n,g.error);Z(t,In(g.data))}(t,n,p,g,u,v,h.active,s,x,f))},revalidate:function(){B||(B=function(){let e,t,n=new Promise(((r,i)=>{e=async e=>{r(e);try{await n}catch(z){}},t=async e=>{i(e);try{await n}catch(z){}}}));return{promise:n,resolve:e,reject:t}}()),Y(),U({revalidation:"loading"});let e=B.promise;return"submitting"===S.navigation.state?e:"idle"===S.navigation.state?(K(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),e):(K(_||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:!0===C}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:J,deleteFetcher:function(e){let t=(M.get(e)||0)-1;t<=0?(M.delete(e),L.add(e)):M.set(e,t),U({fetchers:new Map(S.fetchers)})},dispose:function(){h&&h(),E&&E(),p.clear(),w&&w.abort(),S.fetchers.forEach(((e,t)=>ee(t))),S.blockers.forEach(((e,t)=>ae(t)))},getBlocker:function(e,t){let n=S.blockers.get(e)||Ft;return V.get(e)!==t&&V.set(e,t),n},deleteBlocker:ae,patchRoutes:function(e,t){let n=null==r;Yt(e,t,r||l,o,s),n&&(l=[...l],U({}))},_internalFetchControllers:I,_internalSetRoutes:function(e){o={},r=tt(e,s,void 0,o)}},a}function zt(e,t,n,r,i,a){let s,o;if(i){s=[];for(let e of t)if(s.push(e),e.route.id===i){o=e;break}}else s=t,o=t[t.length-1];let l=kt(r||".",wt(s),xt(e.pathname,n)||e.pathname,"path"===a);if(null==r&&(l.search=e.search,l.hash=e.hash),(null==r||""===r||"."===r)&&o){let e=Nn(l.search);if(o.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();l.search=n?`?${n}`:""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:St([n,l.pathname])),Ye(l)}function Ht(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!jn(n.formMethod))return{path:t,error:vn(405,{method:n.formMethod})};let r,i,a=()=>({path:t,error:vn(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=bn(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Cn(s))return a();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r}\n`}),""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Cn(s))return a();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(z){return a()}}}if(qe("function"===typeof FormData,"FormData is not available in this environment"),n.formData)r=cn(n.formData),i=n.formData;else if(n.body instanceof FormData)r=cn(n.body),i=n.body;else if(n.body instanceof URLSearchParams)r=n.body,i=dn(r);else if(null==n.body)r=new URLSearchParams,i=new FormData;else try{r=new URLSearchParams(n.body),i=dn(r)}catch(z){return a()}let l={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(Cn(l.formMethod))return{path:t,submission:l};let c=Ze(t);return e&&c.search&&Nn(c.search)&&r.append("index",""),c.search=`?${r}`,{path:Ye(c),submission:l}}function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.findIndex((e=>e.route.id===t));return r>=0?e.slice(0,n?r+1:r):e}function qt(e,t,n,r,i,a,s,o,l,c,d,u,h,p){let f=p?wn(p[1])?p[1].error:p[1].data:void 0,m=e.createURL(t.location),g=e.createURL(i),v=n;a&&t.errors?v=Kt(n,Object.keys(t.errors)[0],!0):p&&wn(p[1])&&(v=Kt(n,p[0]));let x=p?p[1].statusCode:void 0,b=x&&x>=400,y=v.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(a)return Gt(i,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}(t.loaderData,t.matches[n],e))return!0;let o=t.matches[n],l=e;return Xt(e,{currentUrl:m,currentParams:o.params,nextUrl:g,nextParams:l.params,...r,actionResult:f,actionStatus:x,defaultShouldRevalidate:!b&&(s||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||Wt(o,l))})})),w=[];return c.forEach(((e,i)=>{if(a||!n.some((t=>t.route.id===e.routeId))||l.has(i))return;let c=nt(u,e.path,h);if(!c)return void w.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let p=t.fetchers.get(i),v=En(c,e.path),y=!1;d.has(i)?y=!1:o.has(i)?(o.delete(i),y=!0):y=p&&"idle"!==p.state&&void 0===p.data?s:Xt(v,{currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params,...r,actionResult:f,actionStatus:x,defaultShouldRevalidate:!b&&s}),y&&w.push({key:i,routeId:e.routeId,path:e.path,matches:c,match:v,controller:new AbortController})})),[y,w]}function Gt(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function Wt(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xt(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Yt(e,t,n,r,i){let a;if(e){let t=r[e];qe(t,`No route found to patch children into: routeId = ${e}`),t.children||(t.children=[]),a=t.children}else a=n;let s=tt(t.filter((e=>!a.some((t=>Zt(e,t))))),i,[e||"_","patch",String(a?.length||"0")],r);a.push(...s)}function Zt(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,n)=>t.children?.some((t=>Zt(e,t))))))}async function Qt(e){let t=e.matches.filter((e=>e.shouldLoad)),n={},r=await Promise.all(t.map((e=>e.resolve())));return r.forEach(((e,r)=>{n[t[r].route.id]=e})),n}async function Jt(e){return e.matches.some((e=>e.route.unstable_middleware))?en(e,!1,(()=>Qt(e)),(e=>({[e.routeId]:{type:"error",result:e.error}}))):Qt(e)}async function en(e,t,n,r){let{matches:i,request:a,params:s,context:o}=e,l={handlerResult:void 0,propagateResult:t};try{let e=i.flatMap((e=>e.route.unstable_middleware?e.route.unstable_middleware.map((t=>[e.route.id,t])):[])),t=await nn({request:a,params:s,context:o},e,l,n);return l.propagateResult?t:l.handlerResult}catch(z){if(!(z instanceof tn))throw z;let n=await r(z);return t||!l.handlerResult?n:Object.assign(l.handlerResult,n)}}var tn=class{constructor(e,t){this.routeId=e,this.error=t}};async function nn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,{request:a}=e;if(a.signal.aborted){if(a.signal.reason)throw a.signal.reason;throw new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`)}let s=t[i];if(!s)return n.handlerResult=await r(),n.handlerResult;let o,[l,c]=s,d=!1,u=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0;let a=await nn(e,t,n,r,i+1);if(n.propagateResult)return o=a,o};try{let t=await c({request:e.request,params:e.params,context:e.context},u);return d?void 0===t?o:t:u()}catch(z){if(z instanceof tn)throw z;throw new tn(l,z)}}async function rn(e,t,n,r,i,a,s,o,l,c){let d=i.map((e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];qe(i,"No route found in manifest");let a={};for(let s in r){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;Ge(!e,`Route "${i.id}" has a static property "${s}" defined but its lazy function is also returning a value for this property. The lazy route property "${s}" will be ignored.`),e||et.has(s)||(a[s]=r[s])}Object.assign(i,a),Object.assign(i,{...t(i),lazy:void 0})}(e.route,o,s):void 0));c&&await Promise.all(d);let u=i.map(((e,i)=>{let a=d[i],s=r.some((t=>t.route.id===e.route.id));return{...e,shouldLoad:s,resolve:async r=>(r&&"GET"===n.method&&(e.route.lazy||e.route.loader)&&(s=!0),s?async function(e,t,n,r,i,a){let s,o,l=r=>{let s,l=new Promise(((e,t)=>s=t));o=()=>s(),t.signal.addEventListener("abort",o);let c=i=>"function"!==typeof r?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${n.route.id}]`)):r({request:t,params:n.params,context:a},...void 0!==i?[i]:[]),d=(async()=>{try{return{type:"data",result:await(i?i((e=>c(e))):c())}}catch(z){return{type:"error",result:z}}})();return Promise.race([d,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch((t=>{e=t})),r]);if(void 0!==e)throw e;s=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw vn(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:"data",result:void 0}}s=await l(i)}else{if(!i){let e=new URL(t.url);throw vn(404,{pathname:e.pathname+e.search})}s=await l(i)}}catch(z){return{type:"error",result:z}}finally{o&&t.signal.removeEventListener("abort",o)}return s}(t,n,e,a,r,l):Promise.resolve({type:"data",result:void 0}))}})),h=await e({matches:u,request:n,params:i[0].params,fetcherKey:a,context:l});try{await Promise.all(d)}catch(z){}return h}async function an(e){let{result:t,type:n}=e;if(_n(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(z){return{type:"error",error:z}}return"error"===n?{type:"error",error:new Nt(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}return"error"===n?Sn(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Nt(t.init?.status||500,void 0,t.data),statusCode:Et(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Et(t)?t.status:void 0}:Sn(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function sn(e,t,n,r,i){let a=e.headers.get("Location");if(qe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mt.test(a)){let s=r.slice(0,r.findIndex((e=>e.route.id===n))+1);a=zt(new URL(t.url),s,i,a),e.headers.set("Location",a)}return e}function on(e,t,n){if(Mt.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=null!=xt(i.pathname,n);if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function ln(e,t,n,r){let i=e.createURL(bn(t)).toString(),a={signal:n};if(r&&Cn(r.formMethod)){let{formMethod:e,formEncType:t}=r;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(r.json)):"text/plain"===t?a.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?a.body=cn(r.formData):a.body=r.formData}return new Request(i,a)}function cn(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function dn(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function un(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={},o=null,l=!1,c={},d=n&&wn(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let u=n.route.id,h=t[u];if(qe(!kn(h),"Cannot handle redirect results in processLoaderData"),wn(h)){let t=h.error;if(void 0!==d&&(t=d,d=void 0),o=o||{},a)o[u]=t;else{let n=mn(e,u);null==o[n.route.id]&&(o[n.route.id]=t)}i||(s[u]=Bt),l||(l=!0,r=Et(h.error)?h.error.status:500),h.headers&&(c[u]=h.headers)}else s[u]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(r=h.statusCode),h.headers&&(c[u]=h.headers)})),void 0!==d&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:r||200,loaderHeaders:c}}function hn(e,t,n,r,i,a){let{loaderData:s,errors:o}=un(t,n,r);return i.forEach((t=>{let{key:n,match:r,controller:i}=t,s=a[n];if(qe(s,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(wn(s)){let t=mn(e.matches,r?.route.id);o&&o[t.route.id]||(o={...o,[t.route.id]:s.error}),e.fetchers.delete(n)}else if(kn(s))qe(!1,"Unhandled fetcher revalidation redirect");else{let t=In(s.data);e.fetchers.set(n,t)}})),{loaderData:s,errors:o}}function pn(e,t,n,r){let i=Object.entries(t).filter((e=>{let[,t]=e;return t!==Bt})).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{});for(let a of n){let n=a.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&a.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function fn(e){return e?wn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function mn(e,t){let n=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return n.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function gn(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vn(e){let{pathname:t,routeId:n,method:r,type:i,message:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(s="Bad Request",r&&t&&n?o=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:"invalid-body"===i&&(o="Unable to encode submission body")):403===e?(s="Forbidden",o=`Route "${n}" does not match URL "${t}"`):404===e?(s="Not Found",o=`No route matches URL "${t}"`):405===e&&(s="Method Not Allowed",r&&t&&n?o=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new Nt(e||500,s,new Error(o),!0)}function xn(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(kn(r))return{key:e,result:r}}}function bn(e){return Ye({..."string"===typeof e?Ze(e):e,hash:""})}function yn(e){return _n(e.result)&&$t.has(e.result.status)}function wn(e){return"error"===e.type}function kn(e){return"redirect"===(e&&e.type)}function Sn(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function _n(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function jn(e){return It.has(e.toUpperCase())}function Cn(e){return Tt.has(e.toUpperCase())}function Nn(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function En(e,t){let n="string"===typeof t?Ze(t).search:t.search;if(e[e.length-1].route.index&&Nn(n||""))return e[e.length-1];let r=yt(e);return r[r.length-1]}function An(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Tn(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Pn(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function In(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var $n=e.createContext(null);$n.displayName="DataRouter";var Rn=e.createContext(null);Rn.displayName="DataRouterState";var On=e.createContext({isTransitioning:!1});On.displayName="ViewTransition";var Dn=e.createContext(new Map);Dn.displayName="Fetchers";var Fn=e.createContext(null);Fn.displayName="Await";var Mn=e.createContext(null);Mn.displayName="Navigation";var Ln=e.createContext(null);Ln.displayName="Location";var Vn=e.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Bn=e.createContext(null);Bn.displayName="RouteError";function Un(){return null!=e.useContext(Ln)}function zn(){return qe(Un(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(Ln).location}var Hn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kn(t){e.useContext(Mn).static||e.useLayoutEffect(t)}function qn(){let{isDataRoute:t}=e.useContext(Vn);return t?function(){let{router:t}=nr("useNavigate"),n=ir("useNavigate"),r=e.useRef(!1);Kn((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ge(r.current,Hn),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){qe(Un(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext($n),{basename:n,navigator:r}=e.useContext(Mn),{matches:i}=e.useContext(Vn),{pathname:a}=zn(),s=JSON.stringify(wt(i)),o=e.useRef(!1);Kn((()=>{o.current=!0}));let l=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ge(o.current,Hn),!o.current)return;if("number"===typeof e)return void r.go(e);let l=kt(e,JSON.parse(s),a,"path"===i.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:St([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,s,a,t]);return l}()}var Gn=e.createContext(null);function Wn(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(Vn),{pathname:i}=zn(),a=JSON.stringify(wt(r));return e.useMemo((()=>kt(t,JSON.parse(a),i,"path"===n)),[t,a,i,n])}function Xn(t,n,r,i){qe(Un(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=e.useContext(Mn),{matches:o}=e.useContext(Vn),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";or(d,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,f=zn();if(n){let e="string"===typeof n?Ze(n):n;qe("/"===u||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!s&&r&&r.matches&&r.matches.length>0?r.matches:nt(t,{pathname:g});Ge(h||null!=v,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ge(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=er(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:St([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:St([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&x?e.createElement(Ln.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function Yn(){let t=ar(),n=Et(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,o)}var Zn=e.createElement(Yn,null),Qn=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Vn.Provider,{value:this.props.routeContext},e.createElement(Bn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jn(t){let{routeContext:n,match:r,children:i}=t,a=e.useContext($n);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Vn.Provider,{value:n},i)}function er(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=r?.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));qe(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,o=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:n}=r,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight(((t,l,c)=>{let d,u=!1,h=null,p=null;r&&(d=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||Zn,s&&(o<0&&0===c?(or("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=d?h:u?p:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(Jn,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(Qn,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function tr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nr(t){let n=e.useContext($n);return qe(n,tr(t)),n}function rr(t){let n=e.useContext(Rn);return qe(n,tr(t)),n}function ir(t){let n=function(t){let n=e.useContext(Vn);return qe(n,tr(t)),n}(t),r=n.matches[n.matches.length-1];return qe(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ar(){let t=e.useContext(Bn),n=rr("useRouteError"),r=ir("useRouteError");return void 0!==t?t:n.errors?.[r]}var sr={};function or(e,t,n){t||sr[e]||(sr[e]=!0,Ge(!1,n))}var lr={};function cr(e,t){e||lr[t]||(lr[t]=!0,console.warn(t))}function dr(t){let n={hasErrorBoundary:t.hasErrorBoundary||null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&(t.element&&Ge(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(n,{element:e.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Ge(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(n,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Ge(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),n}var ur=class{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}};function hr(t){let{router:n,flushSync:r}=t,[i,a]=e.useState(n.state),[s,o]=e.useState(),[l,c]=e.useState({isTransitioning:!1}),[d,u]=e.useState(),[h,p]=e.useState(),[f,m]=e.useState(),g=e.useRef(new Map),v=e.useCallback(((t,i)=>{let{deletedFetchers:s,flushSync:l,viewTransitionOpts:f}=i;t.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),s.forEach((e=>g.current.delete(e))),cr(!1===l||null!=r,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let v=null!=n.window&&null!=n.window.document&&"function"===typeof n.window.document.startViewTransition;if(cr(null==f||v,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),f&&v){if(r&&l){r((()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:f.currentLocation,nextLocation:f.nextLocation})}));let e=n.window.document.startViewTransition((()=>{r((()=>a(t)))}));return e.finished.finally((()=>{r((()=>{u(void 0),p(void 0),o(void 0),c({isTransitioning:!1})}))})),void r((()=>p(e)))}h?(d&&d.resolve(),h.skipTransition(),m({state:t,currentLocation:f.currentLocation,nextLocation:f.nextLocation})):(o(t),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}))}else r&&l?r((()=>a(t))):e.startTransition((()=>a(t)))}),[n.window,r,h,d]);e.useLayoutEffect((()=>n.subscribe(v)),[n,v]),e.useEffect((()=>{l.isTransitioning&&!l.flushSync&&u(new ur)}),[l]),e.useEffect((()=>{if(d&&s&&n.window){let t=s,r=d.promise,i=n.window.document.startViewTransition((async()=>{e.startTransition((()=>a(t))),await r}));i.finished.finally((()=>{u(void 0),p(void 0),o(void 0),c({isTransitioning:!1})})),p(i)}}),[s,d,n.window]),e.useEffect((()=>{d&&s&&i.location.key===s.location.key&&d.resolve()}),[d,h,i.location,s]),e.useEffect((()=>{!l.isTransitioning&&f&&(o(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))}),[l.isTransitioning,f]);let x=e.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:r?.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:r?.preventScrollReset})})),[n]),b=n.basename||"/",y=e.useMemo((()=>({router:n,navigator:x,static:!1,basename:b})),[n,x,b]);return e.createElement(e.Fragment,null,e.createElement($n.Provider,{value:y},e.createElement(Rn.Provider,{value:i},e.createElement(Dn.Provider,{value:g.current},e.createElement(On.Provider,{value:l},e.createElement(gr,{basename:b,location:i.location,navigationType:i.historyAction,navigator:x},e.createElement(pr,{routes:n.routes,future:n.future,state:i})))))),null)}var pr=e.memo((function(e){let{routes:t,future:n,state:r}=e;return Xn(t,void 0,r,n)}));function fr(t){let{to:n,replace:r,state:i,relative:a}=t;qe(Un(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=e.useContext(Mn);Ge(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=e.useContext(Vn),{pathname:l}=zn(),c=qn(),d=kt(n,wt(o),l,"path"===a),u=JSON.stringify(d);return e.useEffect((()=>{c(JSON.parse(u),{replace:r,state:i,relative:a})}),[c,u,a,r,i]),null}function mr(t){return function(t){let n=e.useContext(Vn).outlet;return n?e.createElement(Gn.Provider,{value:t},n):n}(t.context)}function gr(t){let{basename:n="/",children:r=null,location:i,navigationType:a="POP",navigator:s,static:o=!1}=t;qe(!Un(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof i&&(i=Ze(i));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:f="default"}=i,m=e.useMemo((()=>{let e=xt(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:f},navigationType:a}}),[l,d,u,h,p,f,a]);return Ge(null!=m,`<Router basename="${l}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:e.createElement(Mn.Provider,{value:c},e.createElement(Ln.Provider,{children:r,value:m}))}e.Component;var vr="get",xr="application/x-www-form-urlencoded";function br(e){return null!=e&&"string"===typeof e.tagName}var yr=null;var wr=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kr(e){return null==e||wr.has(e)?e:(Ge(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xr}"`),null)}function Sr(e,t){let n,r,i,a,s;if(br(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?xt(s,t):null,n=e.getAttribute("method")||vr,i=kr(e.getAttribute("enctype"))||xr,a=new FormData(e)}else if(function(e){return br(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return br(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?xt(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||vr,i=kr(e.getAttribute("formenctype"))||kr(s.getAttribute("enctype"))||xr,a=new FormData(s,e),!function(){if(null===yr)try{new FormData(document.createElement("form"),0),yr=!1}catch(z){yr=!0}return yr}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(br(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vr,r=null,i=xr,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function _r(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function jr(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Cr(e){return null!=e&&"string"===typeof e.page}function Nr(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Er(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ar(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Tr(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Cr(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function Pr(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ir(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===xt(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function $r(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,a=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Et(n))return e.createElement(Rr,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)i=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);i=new Error(e)}return e.createElement(Rr,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Rr(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:a}=t,{routeModules:s}=Lr();return s.root?.Layout&&!i?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?e.createElement(qr,null):null)))}function Or(e){return!0===e}function Dr(){let t=e.useContext($n);return _r(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fr(){let t=e.useContext(Rn);return _r(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mr=e.createContext(void 0);function Lr(){let t=e.useContext(Mr);return _r(t,"You must render this element inside a <HydratedRouter> element"),t}function Vr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Br(e,t,n){if(n&&!Kr)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Ur(t){let{page:n,...r}=t,{router:i}=Dr(),a=e.useMemo((()=>nt(i.routes,n,i.basename)),[i.routes,n,i.basename]);return a?e.createElement(Hr,{page:n,matches:a,...r}):null}function zr(t){let{manifest:n,routeModules:r}=Lr(),[i,a]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Tr((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await jr(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Nr).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||a(t)})),()=>{e=!0}}),[t,n,r]),i}function Hr(t){let{page:n,matches:r,...i}=t,a=zn(),{manifest:s,routeModules:o}=Lr(),{basename:l}=Dr(),{loaderData:c,matches:d}=Fr(),u=e.useMemo((()=>Er(n,r,d,s,a,"data")),[n,r,d,s,a]),h=e.useMemo((()=>Er(n,r,d,s,a,"assets")),[n,r,d,s,a]),p=e.useMemo((()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===n.route.id))&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Ir(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,a,s,u,r,n,o]),f=e.useMemo((()=>Ar(h,s)),[h,s]),m=zr(h);return e.createElement(e.Fragment,null,p.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),f.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),m.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Mr.displayName="FrameworkContext";var Kr=!1;function qr(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:a,renderMeta:s}=Lr(),{router:o,static:l,staticContext:c}=Dr(),{matches:d}=Fr(),u=Or(a);s&&(s.didRenderScripts=!0);let h=Br(d,null,i);e.useEffect((()=>{Kr=!0}),[]);let p=e.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];_r(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:s,hydrateFallbackModule:o,module:l}=i,c=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=nt(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let a=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:a}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pr(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pr(a),type:"module",async:!0}))}),[]),f=Kr?[]:n.entry.imports.concat(Ar(h,n,{includeHydrateFallback:!0}));return Kr?null:e.createElement(e.Fragment,null,u?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin}),(m=f,[...new Set(m)]).map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin}))),p);var m}function Gr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Wr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Wr&&(window.__reactRouterVersion="7.3.0")}catch(z){}function Xr(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Yr(e.errors)}),e}function Yr(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new Nt(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(z){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}var Zr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=e.forwardRef((function(t,n){let r,{onClick:i,discover:a="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:u,to:h,preventScrollReset:p,viewTransition:f,...m}=t,{basename:g}=e.useContext(Mn),v="string"===typeof h&&Zr.test(h),x=!1;if("string"===typeof h&&v&&(r=h,Wr))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=xt(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:x=!0}catch(z){Ge(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};qe(Un(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(Mn),{hash:a,pathname:s,search:o}=Wn(t,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:St([r,s])),i.createHref({pathname:l,search:o,hash:a})}(h,{relative:o}),[y,w,k]=function(t,n){let r=e.useContext(Mr),[i,a]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=n,p=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let f=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?"intent"!==t?[s,p,{}]:[s,p,{onFocus:Vr(l,f),onBlur:Vr(c,m),onMouseEnter:Vr(d,f),onMouseLeave:Vr(u,m),onTouchStart:Vr(h,f)}]:[!1,p,{}]}(s,m),S=function(t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=qn(),c=zn(),d=Wn(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:Ye(c)===Ye(d);l(t,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o})}}),[c,l,d,r,i,n,t,a,s,o])}(h,{replace:c,state:d,target:u,preventScrollReset:p,relative:o,viewTransition:f});let _=e.createElement("a",{...m,...k,href:r||b,onClick:x||l?i:function(e){i&&i(e),e.defaultPrevented||S(e)},ref:Gr(n,w),target:u,"data-discover":v||"render"!==a?void 0:"true"});return y&&!v?e.createElement(e.Fragment,null,_,e.createElement(Ur,{page:b})):_}));Qr.displayName="Link";var Jr=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:d,...u}=t,h=Wn(l,{relative:u.relative}),p=zn(),f=e.useContext(Rn),{navigator:m,basename:g}=e.useContext(Mn),v=null!=f&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(On);qe(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ni("useViewTransitionState"),a=Wn(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=xt(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=xt(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=gt(a.pathname,o)||null!=gt(a.pathname,s)}(h)&&!0===c,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(b=b.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&g&&(y=xt(y,g)||y);const w="/"!==x&&x.endsWith("/")?x.length-1:x.length;let k,S=b===x||!s&&b.startsWith(x)&&"/"===b.charAt(w),_=null!=y&&(y===x||!s&&y.startsWith(x)&&"/"===y.charAt(x.length)),j={isActive:S,isPending:_,isTransitioning:v},C=S?r:void 0;k="function"===typeof a?a(j):[a,S?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof o?o(j):o;return e.createElement(Qr,{...u,"aria-current":C,className:k,ref:n,style:N,to:l,viewTransition:c},"function"===typeof d?d(j):d)}));Jr.displayName="NavLink";var ei=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:o,state:l,method:c=vr,action:d,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:f,...m}=t,g=ai(),v=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(Mn),i=e.useContext(Vn);qe(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...Wn(t||".",{relative:n})},o=zn();if(null==t){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}t&&"."!==t||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:St([r,s.pathname]));return Ye(s)}(d,{relative:h}),x="get"===c.toLowerCase()?"get":"post",b="string"===typeof d&&Zr.test(d);return e.createElement("form",{ref:n,method:x,action:v,onSubmit:s?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;g(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:o,state:l,relative:h,preventScrollReset:p,viewTransition:f})},...m,"data-discover":b||"render"!==r?void 0:"true"})}));function ti(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ni(t){let n=e.useContext($n);return qe(n,ti(t)),n}ei.displayName="Form";var ri=0,ii=()=>`__${String(++ri)}__`;function ai(){let{router:t}=ni("useSubmit"),{basename:n}=e.useContext(Mn),r=ir("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Sr(e,n);if(!1===i.navigate){let e=i.fetcherKey||ii();await t.fetch(e,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;var si=__webpack_require__(950);function oi(t){return e.createElement(hr,{flushSync:si.flushSync,...t})}const li=()=>(0,V.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,V.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-0 h-0",style:{top:"50%"},children:(0,V.jsx)("div",{className:"animate-spin rounded-full h-10 w-10"})})});const ci=__webpack_require__.p+"static/media/Ic_logo.d6ab07314160fa1a25f70dbdd5c85a2d.svg";const di=__webpack_require__.p+"static/media/Ic_chevron_up.70a7dde1eded3ff447c7485f89ecdbc4.svg";function ui(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ui(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hi(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ui(e))&&(r&&(r+=" "),r+=t);return r}const pi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,d=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new mi;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gi=function(e){return function(e){const t=pi(e);return fi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},vi=function(e){try{return fi.decodeString(e,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};const xi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,bi=()=>{try{return xi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(z){return}const t=e&&vi(e[1]);return t&&JSON.parse(t)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},yi=e=>{var t,n;return null===(n=null===(t=bi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},wi=e=>{const t=yi(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ki=()=>{var e;return null===(e=bi())||void 0===e?void 0:e.config},Si=e=>{var t;return null===(t=bi())||void 0===t?void 0:t[`_${e}`]};class _i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ji(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gi(JSON.stringify({alg:"none",type:"JWT"})),gi(JSON.stringify(a)),""].join(".")}function Ci(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ni(){return!function(){var e;const t=null===(e=bi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(z){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ei(){try{return"object"===typeof indexedDB}catch(z){return!1}}class Ai extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ti.prototype.create)}}class Ti{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Pi,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new Ai(n,a,t)}}const Pi=/\{\$([^}]+)}/g;function Ii(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if($i(n)&&$i(a)){if(!Ii(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $i(e){return null!==e&&"object"===typeof e}function Ri(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Oi(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Di(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Fi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Mi),void 0===r.error&&(r.error=Mi),void 0===r.complete&&(r.complete=Mi);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(z){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(z){"undefined"!==typeof console&&console.error&&console.error(z)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Mi(){}function Li(e){return e&&e._delegate?e._delegate:e}class Vi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bi="[DEFAULT]";class Ui{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _i;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(z){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(z){if(r)return null;throw z}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch(z){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(z){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Bi?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zi{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ui(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Hi=[];var Ki;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ki||(Ki={}));const qi={debug:Ki.DEBUG,verbose:Ki.VERBOSE,info:Ki.INFO,warn:Ki.WARN,error:Ki.ERROR,silent:Ki.SILENT},Gi=Ki.INFO,Wi={[Ki.DEBUG]:"log",[Ki.VERBOSE]:"log",[Ki.INFO]:"info",[Ki.WARN]:"warn",[Ki.ERROR]:"error"},Xi=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Wi[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...a)};class Yi{constructor(e){this.name=e,this._logLevel=Gi,this._logHandler=Xi,this._userLogHandler=null,Hi.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ki))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ki.DEBUG,...t),this._logHandler(this,Ki.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ki.VERBOSE,...t),this._logHandler(this,Ki.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ki.INFO,...t),this._logHandler(this,Ki.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ki.WARN,...t),this._logHandler(this,Ki.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ki.ERROR,...t),this._logHandler(this,Ki.ERROR,...t)}}let Zi,Qi;const Ji=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap;let ia={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ea.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ta.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function aa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qi||(Qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(la(this),n),oa(Ji.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oa(e.apply(la(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(la(this),t,...r);return ta.set(a,t.sort?t.sort():[t]),oa(a)}}function sa(e){return"function"===typeof e?aa(e):(e instanceof IDBTransaction&&function(e){if(ea.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ea.set(e,t)}(e),t=e,(Zi||(Zi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ia):e);var t}function oa(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(oa(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Ji.set(t,e)})).catch((()=>{})),ra.set(t,e),t}(e);if(na.has(e))return na.get(e);const t=sa(e);return t!==e&&(na.set(e,t),ra.set(t,e)),t}const la=e=>ra.get(e);const ca=["get","getKey","getAll","getAllKeys","count"],da=["put","add","delete","clear"],ua=new Map;function ha(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ua.get(t))return ua.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=da.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ca.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return ua.set(t,a),a}ia=(e=>({...e,get:(t,n,r)=>ha(t,n)||e.get(t,n,r),has:(t,n)=>!!ha(t,n)||e.has(t,n)}))(ia);class pa{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const fa="@firebase/app",ma="0.11.2",ga=new Yi("@firebase/app"),va="@firebase/app-compat",xa="@firebase/analytics-compat",ba="@firebase/analytics",ya="@firebase/app-check-compat",wa="@firebase/app-check",ka="@firebase/auth",Sa="@firebase/auth-compat",_a="@firebase/database",ja="@firebase/data-connect",Ca="@firebase/database-compat",Na="@firebase/functions",Ea="@firebase/functions-compat",Aa="@firebase/installations",Ta="@firebase/installations-compat",Pa="@firebase/messaging",Ia="@firebase/messaging-compat",$a="@firebase/performance",Ra="@firebase/performance-compat",Oa="@firebase/remote-config",Da="@firebase/remote-config-compat",Fa="@firebase/storage",Ma="@firebase/storage-compat",La="@firebase/firestore",Va="@firebase/vertexai",Ba="@firebase/firestore-compat",Ua="firebase",za="[DEFAULT]",Ha={[fa]:"fire-core",[va]:"fire-core-compat",[ba]:"fire-analytics",[xa]:"fire-analytics-compat",[wa]:"fire-app-check",[ya]:"fire-app-check-compat",[ka]:"fire-auth",[Sa]:"fire-auth-compat",[_a]:"fire-rtdb",[ja]:"fire-data-connect",[Ca]:"fire-rtdb-compat",[Na]:"fire-fn",[Ea]:"fire-fn-compat",[Aa]:"fire-iid",[Ta]:"fire-iid-compat",[Pa]:"fire-fcm",[Ia]:"fire-fcm-compat",[$a]:"fire-perf",[Ra]:"fire-perf-compat",[Oa]:"fire-rc",[Da]:"fire-rc-compat",[Fa]:"fire-gcs",[Ma]:"fire-gcs-compat",[La]:"fire-fst",[Ba]:"fire-fst-compat",[Va]:"fire-vertex","fire-js":"fire-js",[Ua]:"fire-js-all"},Ka=new Map,qa=new Map,Ga=new Map;function Wa(e,t){try{e.container.addComponent(t)}catch(z){ga.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,z)}}function Xa(e){const t=e.name;if(Ga.has(t))return ga.debug(`There were multiple attempts to register component ${t}.`),!1;Ga.set(t,e);for(const n of Ka.values())Wa(n,e);for(const n of qa.values())Wa(n,e);return!0}function Ya(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Za(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Qa=new Ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ja{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vi("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}const es="11.4.0";function ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:za,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=ki()),!n)throw Qa.create("no-options");const a=Ka.get(i);if(a){if(Ii(n,a.options)&&Ii(r,a.config))return a;throw Qa.create("duplicate-app",{appName:i})}const s=new zi(i);for(const l of Ga.values())s.addComponent(l);const o=new Ja(n,r,s);return Ka.set(i,o),o}function ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za;const t=Ka.get(e);if(!t&&e===za&&ki())return ts();if(!t)throw Qa.create("no-app",{appName:e});return t}function rs(e,t,n){var r;let i=null!==(r=Ha[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ga.warn(e.join(" "))}Xa(new Vi(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const is="firebase-heartbeat-store";let as=null;function ss(){return as||(as=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=oa(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(oa(s.result),e.oldVersion,e.newVersion,oa(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(is)}catch(z){console.warn(z)}}}).catch((e=>{throw Qa.create("idb-open",{originalErrorMessage:e.message})}))),as}async function os(e,t){try{const n=(await ss()).transaction(is,"readwrite"),r=n.objectStore(is);await r.put(t,ls(e)),await n.done}catch(z){if(z instanceof Ai)ga.warn(z.message);else{const t=Qa.create("idb-set",{originalErrorMessage:null===z||void 0===z?void 0:z.message});ga.warn(t.message)}}}function ls(e){return`${e.name}!${e.options.appId}`}class cs{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new us(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ds();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(z){ga.warn(z)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ds(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),hs(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hs(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=gi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(z){return ga.warn(z),""}}}function ds(){return(new Date).toISOString().substring(0,10)}class us{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ei()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ss()).transaction(is),n=await t.objectStore(is).get(ls(e));return await t.done,n}catch(z){if(z instanceof Ai)ga.warn(z.message);else{const t=Qa.create("idb-get",{originalErrorMessage:null===z||void 0===z?void 0:z.message});ga.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return os(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return os(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function hs(e){return gi(JSON.stringify({version:2,heartbeats:e})).length}var ps;ps="",Xa(new Vi("platform-logger",(e=>new pa(e)),"PRIVATE")),Xa(new Vi("heartbeat",(e=>new cs(e)),"PRIVATE")),rs(fa,ma,ps),rs(fa,ma,"esm2017"),rs("fire-js","");var fs,ms,gs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vs={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(d(t))throw Error("division by zero");if(d(e))return new m(o,o);if(u(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(u(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=x(n,1),a=x(r,1);for(r=x(r,2),n=x(n,2);!d(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=x(r,1),n=x(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);u(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);d(a)&&(a=l),i=i.add(a),e=p(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(u(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=p(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return o;if(u(this))return u(e)?h(this).j(h(e)):h(h(this).j(e));if(u(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,p=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=p*g,f(n,2*i+2*a),n[2*i+2*a+1]+=l*g,f(n,2*i+2*a+1),n[2*i+2*a+1]+=p*m,f(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,f(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ms=vs.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},fs=vs.Integer=r}).apply("undefined"!==typeof gs?gs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var xs,bs,ys,ws,ks,Ss,_s,js,Cs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ns={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Cs&&Cs];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function x(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<y.length;t++)n=y[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function _(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,E=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(P)}};var P=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(X){S(X)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function I(){this.s=this.s,this.C=this.C}function $(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(X){}return e}();function O(e,t){if($.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(ee){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}u(O,$);var D={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),M=0;function L(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=H(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new L(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var G="closure_lm_"+(1e6*Math.random()|0),W={};function Y(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);return null}return n=oe(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=ae(e);if(l||(e[G]=l=new B(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ie;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(re(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);return null}return n=oe(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function te(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)te(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=oe(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(a=e.g[t],n,r,i))&&(V(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ae(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&ne(n))}function ne(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(re(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ae(t))?(U(n,e),0==n.h&&(n.src=null,t[G]=null)):V(e)}}}function re(e){return e in W?W[e]:W[e]="on"+e}function ie(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ne(e),e=n.call(r,t)}return e}function ae(e){return(e=e[G])instanceof B?e:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(e){return"function"===typeof e?e:(e[se]||(e[se]=function(t){return e.handleEvent(t)}),e[se])}function le(){I.call(this),this.i=new B(this),this.M=this,this.F=null}function ce(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new $(t,e);else if(t instanceof $)t.target=t.target||e;else{var i=t;w(t=new $(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=de(s,r,!0,t)&&i}if(i=de(s=t.g=e,r,!0,t)&&i,i=de(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=de(s=t.g=n[a],r,!1,t)&&i}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&U(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ue(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function he(e){e.g=ue((()=>{e.g=null,e.i&&(e.i=!1,he(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(le,I),le.prototype[F]=!0,le.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},le.prototype.N=function(){if(le.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},le.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},le.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(e){I.call(this),this.h=e,this.g={}}u(fe,I);var me=[];function ge(e){x(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ne(e)}),e),e.g={}}fe.prototype.N=function(){fe.aa.N.call(this),ge(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=i.JSON.stringify,xe=i.JSON.parse,be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function ye(){}function we(e){return e.h||(e.h=e.i())}function ke(){}ye.prototype.h=null;var Se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _e(){$.call(this,"d")}function je(){$.call(this,"c")}u(_e,$),u(je,$);var Ce={},Ne=null;function Ee(){return Ne=Ne||new le}function Ae(e){$.call(this,Ce.La,e)}function Te(e){const t=Ee();ce(t,new Ae(t))}function Pe(e,t){$.call(this,Ce.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Ee();ce(t,new Pe(t,e))}function $e(e,t){$.call(this,Ce.Ma,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Oe(){this.g=!0}function De(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return ve(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Ce.La="serverreachability",u(Ae,$),Ce.STAT_EVENT="statevent",u(Pe,$),Ce.Ma="timingevent",u($e,$),Oe.prototype.xa=function(){this.g=!1},Oe.prototype.info=function(){};var Fe,Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ve(){}function Be(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new fe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}u(Ve,ye),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Fe=new Ve;var ze={},He={};function Ke(e,t,n){e.L=1,e.v=vt(ht(t)),e.m=n,e.P=!0,qe(e,null)}function qe(e,t){e.F=Date.now(),Xe(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ue,e.g=xn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new pe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(me[0]=i.toString()),i=me);for(var a=0;a<i.length;a++){var s=Y(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Te(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+c+"&":s+(d+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ge(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function We(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?ze:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Xe(e){e.S=Date.now()+e.I,Ye(e,e.I)}function Ye(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Re(c(e.ba,e),t)}function Ze(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Qe(e){0==e.j.G||e.J||pn(e.j,e)}function Je(e){Ze(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ge(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||at(n.h,e)))if(!e.K&&at(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(K){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Re(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(K){}n.ca=void 0}}else mn(n,11)}else if((e.K||n.g==e)&&hn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const d=c[5];null!=d&&"number"===typeof d&&0<d&&(r=1.5*d,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(st(a,a.h),a.h=null))}if(r.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),s.K){ot(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(Ze(o),Xe(o)),r.g=s}else ln(r);0<n.i.length&&rn(n)}else"stop"!=c[0]&&"close"!=c[0]||mn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mn(n,7):en(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Te()}catch(K){}}Be.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Yt(e)?t.j():this.Y(e)},Be.prototype.Y=function(e){try{if(e==this.g)e:{const h=Yt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Zt(this.g)))){this.J||4!=h||7==t||Te(),Ze(this);var n=this.g.Z();this.X=n;t:if(Ge(this)){var r=Zt(this.g);e="";var a=r.length,s=4==Yt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Je(this),Qe(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var d=l;break t}}d=null}if(!(n=d)){this.o=!1,this.s=3,Ie(12),Je(this),Qe(this);break e}De(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=We(this,o),e==He){4==h&&(this.s=4,Ie(14),n=!1),De(this.i,this.l,null,"[Incomplete Response]");break}if(e==ze){this.s=4,Ie(15),De(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}De(this.i,this.l,e,null),et(this,e)}if(Ge(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(u),u.M=!0,Ie(11))}}else De(this.i,this.l,o,"[Invalid Chunked Response]"),Je(this),Qe(this)}else De(this.i,this.l,o,null),et(this,o);4==h&&Je(this),this.o&&!this.J&&(4==h?pn(this.j,this):(this.o=!1,Xe(this)))}else(function(e){const t={};e=(e.g&&2<=Yt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Je(this),Qe(this)}}}catch(h){}},Be.prototype.cancel=function(){this.J=!0,Je(this)},Be.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Te(),Ie(17)),Je(this),this.s=2,Qe(this)):Ye(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function st(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ut){this.h=e.h,pt(this,e.j),this.o=e.o,this.g=e.g,ft(this,e.s),this.l=e.l;var t=e.i,n=new Ct;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(dt))?(this.h=!1,pt(this,t[1]||"",!0),this.o=xt(t[2]||""),this.g=xt(t[3]||"",!0),ft(this,t[4]),this.l=xt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=xt(t[7]||"")):(this.h=!1,this.i=new Ct(null,this.h))}function ht(e){return new ut(e)}function pt(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ft(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof Ct?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,_t)),e.i=new Ct(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ut.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?St:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,jt)),e.join("")};var wt=/[#\/\?@]/g,kt=/[#\?:]/g,St=/[#\?]/g,_t=/[#\?@]/g,jt=/#/g;function Ct(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){Nt(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function At(e,t){return Nt(e),t=Pt(e,t),e.g.has(t)}function Tt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Pt(e,t),h(n)),e.h+=n.length)}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(ee){}}function $t(){this.g=new be}function Rt(e,t,n){const r=n||"";try{ct(e,(function(e,n){let i=e;s(e)&&(i=ve(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(z){throw t.push(r+"type="+encodeURIComponent("_badmap")),z}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){le.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return x(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function Ut(e){le.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Ct.prototype).add=function(e,t){Nt(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)At(this,e)&&(t=t.concat(this.g.get(Pt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,At(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},u(Ot,ye),Ot.prototype.g=function(){return new Dt(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),u(Dt,le),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Lt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},e.Qa=function(e){this.g&&(this.response=e,Mt(this))},e.ga=function(){this.g&&Mt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ut,le);var zt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,qt(e),Wt(e)}function qt(e){e.A||(e.A=!0,ce(e,"complete"),ce(e,"error"))}function Gt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Yt(e)||2!=e.Z()))if(e.u&&4==Yt(e))ue(e.Ea,0,e);else if(ce(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(dt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!zt.test(s?s.toLowerCase():"")}n=a}if(n)ce(e,"complete"),ce(e,"success");else{e.m=6;try{var o=2<Yt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",qt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){Xt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ce(e,"ready");try{n.onreadystatechange=r}catch(z){}}}function Xt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Yt(e){return e.g?e.g.readyState:0}function Zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new $t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function en(e){if(nn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Be(e,e.j,t)).L=2,t.v=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(J){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=xn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Xe(t)}gn(e)}function tn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.u&&(i.clearTimeout(e.u),e.u=null),hn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function rn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||T(),E||(N(),E=!0),A.add(t,e),e.B=0}}function an(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),sn(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new Be(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=on(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),st(e.h,n),Ke(n,r,t)}function sn(e,t){e.H&&x(e.H,(function(e,n){gt(t,n,e)})),e.l&&ct({},(function(e,n){gt(t,n,e)}))}function on(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Rt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function ln(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||T(),E||(N(),E=!0),A.add(t,e),e.v=0}}function cn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Re(c(e.Fa,e),fn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function un(e){e.g=new Be(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),sn(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ht(t)),n.m=null,n.P=!0,qe(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){hn(e),dn(e),e.g=null;var r=2}else{if(!at(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ce(r=Ee(),new $e(r,n)),rn(e)}else ln(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Re(c(e.Ga,e,t),fn(e,e.B)),e.B++,!0))}(e,t)||2==r&&cn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function fn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ut(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new Oe;if(i.Image){const r=new Image;r.onload=d(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=d(It,n,"TestLoadImage: error",!1,t,r),r.onabort=d(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=d(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),gn(e),nn(e)}function gn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof ut?ht(n):new ut(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ft(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new ut(null);r&&pt(s,r),t&&(s.g=t),a&&ft(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),sn(e,r),r}function xn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ut(new Ot({eb:n})):new Ut(e.pa)).Ha(e.J),t}function bn(){}function yn(){}function wn(e,t){le.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function kn(e){_e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){je.call(this),this.status=1}function _n(e){this.g=e}(e=Ut.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?we(this.o):we(Fe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(ee){return void Kt(this,ee)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ht,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xt(this),this.u=!0,this.g.send(e),this.u=!1}catch(ee){Kt(this,ee)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ce(this,"complete"),ce(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},e.bb=function(){Gt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch(q){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(q){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Jt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),rn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Be(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),sn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Vt(a)))+"&"+t:this.m&&Bt(n,this.m,a)),st(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,Ke(i,n,null)):Ke(i,n,t),this.G=2}}else 3==this.G&&(e?an(this,e):0==this.i.length||rt(this.h)||an(this))},e.Fa=function(){if(this.u=null,un(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Re(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),tn(this),un(this))},e.Za=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},yn.prototype.g=function(e,t){return new wn(e,t)},u(wn,le),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ve(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.aa.N.call(this)},u(kn,_e),u(Sn,je),u(_n,bn),_n.prototype.ua=function(){ce(this.g,"a")},_n.prototype.ta=function(e){ce(this.g,new kn(e))},_n.prototype.sa=function(e){ce(this.g,new Sn)},_n.prototype.ra=function(){ce(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,js=Ns.createWebChannelTransport=function(){return new yn},_s=Ns.getStatEventTarget=function(){return Ee()},Ss=Ns.Event=Ce,ks=Ns.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,ws=Ns.ErrorCode=Me,Le.COMPLETE="complete",ys=Ns.EventType=Le,ke.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",le.prototype.listen=le.prototype.K,bs=Ns.WebChannel=ke,Ns.FetchXmlHttpFactory=Ot,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,xs=Ns.XhrIo=Ut}).apply("undefined"!==typeof Cs?Cs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Es="@firebase/firestore",As="4.7.9";class Ts{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");let Ps="11.4.0";const Is=new Yi("@firebase/firestore");function $s(){return Is.logLevel}function Rs(e){if(Is.logLevel<=Ki.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fs);Is.debug(`Firestore (${Ps}): ${e}`,...i)}}function Os(e){if(Is.logLevel<=Ki.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fs);Is.error(`Firestore (${Ps}): ${e}`,...i)}}function Ds(e){if(Is.logLevel<=Ki.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fs);Is.warn(`Firestore (${Ps}): ${e}`,...i)}}function Fs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(H){return e}}function Ms(){const e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Os(e),new Error(e)}function Ls(e,t){e||Ms()}function Vs(e,t){return e}const Bs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Us extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Hs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ks{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ts.UNAUTHENTICATED)))}shutdown(){}}class qs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Gs{constructor(e){this.t=e,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ls(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zs,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Rs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Rs("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zs)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Rs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ls("string"==typeof t.accessToken),new Hs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ls(null===e||"string"==typeof e),new Ts(e)}}class Ws{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Xs{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ws(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ys{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zs{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Za(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ls(void 0===this.o);const n=e=>{null!=e.error&&Rs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Rs("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Rs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Rs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Ys(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ls("string"==typeof e.token),this.R=e.token,new Ys(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Js{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Qs(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function eo(e,t){return e<t?-1:e>t?1:0}function to(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const no=-62135596800,ro=1e6;class io{static now(){return io.fromMillis(Date.now())}static fromDate(e){return io.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ro);return new io(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Us(Bs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Us(Bs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<no)throw new Us(Bs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Us(Bs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ro}_compareTo(e){return this.seconds===e.seconds?eo(this.nanoseconds,e.nanoseconds):eo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-no;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ao{static fromTimestamp(e){return new ao(e)}static min(){return new ao(new io(0,0))}static max(){return new ao(new io(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const so="__name__";class oo{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ms(),void 0===n?n=e.length-t:n>e.length-t&&Ms(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===oo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oo?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=oo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=oo.isNumericId(e),r=oo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?oo.extractNumericId(e).compare(oo.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class lo extends oo{construct(e,t,n){return new lo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Us(Bs.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new lo(e)}static emptyPath(){return new lo([])}}const co=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class uo extends oo{construct(e,t,n){return new uo(e,t,n)}static isValidIdentifier(e){return co.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===so}static keyField(){return new uo([so])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Us(Bs.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Us(Bs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Us(Bs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Us(Bs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new uo(t)}static emptyPath(){return new uo([])}}class ho{constructor(e){this.path=e}static fromPath(e){return new ho(lo.fromString(e))}static fromName(e){return new ho(lo.fromString(e).popFirst(5))}static empty(){return new ho(lo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ho(new lo(e.slice()))}}const po=-1;class fo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}fo.UNKNOWN_ID=-1;function mo(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ao.fromTimestamp(1e9===r?new io(n+1,0):new io(n,r));return new vo(i,ho.empty(),t)}function go(e){return new vo(e.readTime,e.key,po)}class vo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new vo(ao.min(),ho.empty(),po)}static max(){return new vo(ao.max(),ho.empty(),po)}}function xo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ho.comparator(e.documentKey,t.documentKey),0!==n?n:eo(e.largestBatchId,t.largestBatchId))}const bo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(e){if(e.code!==Bs.FAILED_PRECONDITION||e.message!==bo)throw e;Rs("LocalStore","Unexpectedly lost primary lease")}class ko{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ms(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ko(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ko?t:ko.resolve(t)}catch(e){return ko.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ko.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ko.reject(t)}static resolve(e){return new ko(((t,n)=>{t(e)}))}static reject(e){return new ko(((t,n)=>{n(e)}))}static waitFor(e){return new ko(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=ko.resolve(!1);for(const n of e)t=t.next((e=>e?ko.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ko(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new ko(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function So(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(e){return"IndexedDbTransactionError"===e.name}class jo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}jo.ae=-1;const Co=-1;function No(e){return null==e}function Eo(e){return 0===e&&1/e==-1/0}function Ao(e){return"number"==typeof e&&Number.isInteger(e)&&!Eo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const To="\x01";function Po(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$o(t)),t=Io(e.get(n),t);return $o(t)}function Io(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case To:n+="\x01\x11";break;default:n+=t}}return n}function $o(e){return e+To+"\x01"}const Ro="remoteDocuments",Oo="owner",Do="mutationQueues",Fo="mutations";const Mo="documentMutations",Lo="remoteDocumentsV14",Vo="remoteDocumentGlobal",Bo="targets",Uo="targetDocuments",zo="targetGlobal",Ho="collectionParents",Ko="clientMetadata",qo="bundles",Go="namedQueries",Wo="indexConfiguration",Xo="indexState",Yo="indexEntries",Zo="documentOverlays",Qo="globals",Jo=[Do,Fo,Mo,Ro,Bo,Oo,zo,Uo,Ko,Vo,Ho,qo,Go],el=[Do,Fo,Mo,Lo,Bo,Oo,zo,Uo,Ko,Vo,Ho,qo,Go,Zo],tl=el,nl=[...tl,Wo,Xo,Yo];function rl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function il(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function al(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sl{constructor(e,t){this.comparator=e,this.root=t||ll.EMPTY}insert(e,t){return new sl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ll.BLACK,null,null))}remove(e){return new sl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ll.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}}class ol{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ll{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ll.RED,this.left=null!=r?r:ll.EMPTY,this.right=null!=i?i:ll.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ll(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ll.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ll.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ll.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ll.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ms();if(this.right.isRed())throw Ms();const e=this.left.check();if(e!==this.right.check())throw Ms();return e+(this.isRed()?0:1)}}ll.EMPTY=null,ll.RED=!0,ll.BLACK=!1,ll.EMPTY=new class{constructor(){this.size=0}get key(){throw Ms()}get value(){throw Ms()}get color(){throw Ms()}get left(){throw Ms()}get right(){throw Ms()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ll(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cl{constructor(e){this.comparator=e,this.data=new sl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dl(this.data.getIterator())}getIteratorFrom(e){return new dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof cl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cl(this.comparator);return t.data=e,t}}class dl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ul{constructor(e){this.fields=e,e.sort(uo.comparator)}static empty(){return new ul([])}unionWith(e){let t=new cl(uo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ul(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hl("Invalid base64 string: "+e):e}}(e);return new pl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pl.EMPTY_BYTE_STRING=new pl("");const fl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(e){if(Ls(!!e),"string"==typeof e){let t=0;const n=fl.exec(e);if(Ls(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gl(e.seconds),nanos:gl(e.nanos)}}function gl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vl(e){return"string"==typeof e?pl.fromBase64String(e):pl.fromUint8Array(e)}const xl="server_timestamp",bl="__type__",yl="__previous_value__",wl="__local_write_time__";function kl(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[bl])||void 0===n?void 0:n.stringValue)===xl}function Sl(e){const t=e.mapValue.fields[yl];return kl(t)?Sl(t):t}function _l(e){const t=ml(e.mapValue.fields[wl].timestampValue);return new io(t.seconds,t.nanos)}class jl{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}const Cl="(default)";class Nl{constructor(e,t){this.projectId=e,this.database=t||Cl}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Cl}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}const El="__type__",Al="__max__",Tl={mapValue:{fields:{__type__:{stringValue:Al}}}},Pl="__vector__",Il="value";function $l(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kl(e)?4:Yl(e)?9007199254740991:Wl(e)?10:11:Ms()}function Rl(e,t){if(e===t)return!0;const n=$l(e);if(n!==$l(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _l(e).isEqual(_l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ml(e.timestampValue),r=ml(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vl(e.bytesValue).isEqual(vl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gl(e.geoPointValue.latitude)===gl(t.geoPointValue.latitude)&&gl(e.geoPointValue.longitude)===gl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gl(e.integerValue)===gl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gl(e.doubleValue),r=gl(t.doubleValue);return n===r?Eo(n)===Eo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return to(e.arrayValue.values||[],t.arrayValue.values||[],Rl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rl(n)!==rl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rl(n[i],r[i])))return!1;return!0}(e,t);default:return Ms()}}function Ol(e,t){return void 0!==(e.values||[]).find((e=>Rl(e,t)))}function Dl(e,t){if(e===t)return 0;const n=$l(e),r=$l(t);if(n!==r)return eo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return eo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gl(e.integerValue||e.doubleValue),r=gl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fl(e.timestampValue,t.timestampValue);case 4:return Fl(_l(e),_l(t));case 5:return eo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vl(e),r=vl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=eo(n[i],r[i]);if(0!==e)return e}return eo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=eo(gl(e.latitude),gl(t.latitude));return 0!==n?n:eo(gl(e.longitude),gl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ml(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Il])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Il])||void 0===r?void 0:r.arrayValue,d=eo((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==d?d:Ml(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Tl.mapValue&&t===Tl.mapValue)return 0;if(e===Tl.mapValue)return 1;if(t===Tl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=eo(r[s],a[s]);if(0!==e)return e;const t=Dl(n[r[s]],i[a[s]]);if(0!==t)return t}return eo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ms()}}function Fl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return eo(e,t);const n=ml(e),r=ml(t),i=eo(n.seconds,r.seconds);return 0!==i?i:eo(n.nanos,r.nanos)}function Ml(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Dl(n[i],r[i]);if(e)return e}return eo(n.length,r.length)}function Ll(e){return Vl(e)}function Vl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ml(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ho.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Vl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Vl(e.fields[i])}`;return n+"}"}(e.mapValue):Ms()}function Bl(e){switch($l(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sl(e);return t?16+Bl(t):16;case 5:return 2*e.stringValue.length;case 6:return vl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Bl(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return il(e.fields,((e,n)=>{t+=e.length+Bl(n)})),t}(e.mapValue);default:throw Ms()}}function Ul(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zl(e){return!!e&&"integerValue"in e}function Hl(e){return!!e&&"arrayValue"in e}function Kl(e){return!!e&&"nullValue"in e}function ql(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gl(e){return!!e&&"mapValue"in e}function Wl(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[El])||void 0===n?void 0:n.stringValue)===Pl}function Xl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return il(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Xl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Yl(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Al}class Zl{constructor(e){this.value=e}static empty(){return new Zl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(t)}setAll(e){let t=uo.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Gl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){il(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Zl(Xl(this.value))}}function Ql(e){const t=[];return il(e.fields,((e,n)=>{const r=new uo([e]);if(Gl(n)){const e=Ql(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ul(t)}class Jl{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Jl(e,0,ao.min(),ao.min(),ao.min(),Zl.empty(),0)}static newFoundDocument(e,t,n,r){return new Jl(e,1,t,ao.min(),n,r,0)}static newNoDocument(e,t){return new Jl(e,2,t,ao.min(),ao.min(),Zl.empty(),0)}static newUnknownDocument(e,t){return new Jl(e,3,t,ao.min(),ao.min(),Zl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ao.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ao.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function tc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ho.comparator(ho.fromName(s.referenceValue),n.key):Dl(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Rl(e.position[n],t.position[n]))return!1;return!0}class rc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ic(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ac{}class sc extends ac{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new fc(e,t,n):"array-contains"===t?new xc(e,n):"in"===t?new bc(e,n):"not-in"===t?new yc(e,n):"array-contains-any"===t?new wc(e,n):new sc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new mc(e,n):new gc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dl(t,this.value)):null!==t&&$l(this.value)===$l(t)&&this.matchesComparison(Dl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ms()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oc extends ac{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new oc(e,t)}matches(e){return lc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lc(e){return"and"===e.op}function cc(e){return dc(e)&&lc(e)}function dc(e){for(const t of e.filters)if(t instanceof oc)return!1;return!0}function uc(e){if(e instanceof sc)return e.field.canonicalString()+e.op.toString()+Ll(e.value);if(cc(e))return e.filters.map((e=>uc(e))).join(",");{const t=e.filters.map((e=>uc(e))).join(",");return`${e.op}(${t})`}}function hc(e,t){return e instanceof sc?function(e,t){return t instanceof sc&&e.op===t.op&&e.field.isEqual(t.field)&&Rl(e.value,t.value)}(e,t):e instanceof oc?function(e,t){return t instanceof oc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&hc(n,t.filters[r])),!0)}(e,t):void Ms()}function pc(e){return e instanceof sc?function(e){return`${e.field.canonicalString()} ${e.op} ${Ll(e.value)}`}(e):e instanceof oc?function(e){return e.op.toString()+" {"+e.getFilters().map(pc).join(" ,")+"}"}(e):"Filter"}class fc extends sc{constructor(e,t,n){super(e,t,n),this.key=ho.fromName(n.referenceValue)}matches(e){const t=ho.comparator(e.key,this.key);return this.matchesComparison(t)}}class mc extends sc{constructor(e,t){super(e,"in",t),this.keys=vc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gc extends sc{constructor(e,t){super(e,"not-in",t),this.keys=vc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ho.fromName(e.referenceValue)))}class xc extends sc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hl(t)&&Ol(t.arrayValue,this.value)}}class bc extends sc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ol(this.value.arrayValue,t)}}class yc extends sc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ol(this.value.arrayValue,t)}}class wc extends sc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ol(this.value.arrayValue,e)))}}class kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.le=null}}function Sc(e){return new kc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function _c(e){const t=Vs(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>uc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),No(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ll(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ll(e))).join(",")),t.le=e}return t.le}function jc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ic(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nc(e.startAt,t.startAt)&&nc(e.endAt,t.endAt)}function Cc(e){return ho.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ec(e,t,n,r,i,a,s,o){return new Nc(e,t,n,r,i,a,s,o)}function Ac(e){return new Nc(e)}function Tc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pc(e){return null!==e.collectionGroup}function Ic(e){const t=Vs(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cl(uo.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new rc(r,n))})),e.has(uo.keyField().canonicalString())||t.he.push(new rc(uo.keyField(),n))}return t.he}function $c(e){const t=Vs(e);return t.Pe||(t.Pe=Rc(t,Ic(e))),t.Pe}function Rc(e,t){if("F"===e.limitType)return Sc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new rc(e.field,t)}));const n=e.endAt?new ec(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ec(e.startAt.position,e.startAt.inclusive):null;return Sc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Oc(e,t){const n=e.filters.concat([t]);return new Nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dc(e,t,n){return new Nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fc(e,t){return jc($c(e),$c(t))&&e.limitType===t.limitType}function Mc(e){return`${_c($c(e))}|lt:${e.limitType}`}function Lc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>pc(e))).join(", ")}]`),No(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ll(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ll(e))).join(",")),`Target(${t})`}($c(e))}; limitType=${e.limitType})`}function Vc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ho.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ic(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=tc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ic(e),t))&&!(e.endAt&&!function(e,t,n){const r=tc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ic(e),t))}(e,t)}function Bc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uc(e){return(t,n)=>{let r=!1;for(const i of Ic(e)){const e=zc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function zc(e,t,n){const r=e.field.isKeyField()?ho.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Dl(r,i):Ms()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ms()}}class Hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return al(this.inner)}size(){return this.innerSize}}const Kc=new sl(ho.comparator);function qc(){return Kc}const Gc=new sl(ho.comparator);function Wc(){let e=Gc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Xc(e){let t=Gc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Yc(){return Qc()}function Zc(){return Qc()}function Qc(){return new Hc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jc=new sl(ho.comparator),ed=new cl(ho.comparator);function td(){let e=ed;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const nd=new cl(eo);function rd(){return nd}function id(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eo(t)?"-0":t}}function ad(e){return{integerValue:""+e}}function sd(e,t){return Ao(t)?ad(t):id(e,t)}class od{constructor(){this._=void 0}}function ld(e,t,n){return e instanceof ud?function(e,t){const n={fields:{[bl]:{stringValue:xl},[wl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&kl(t)&&(t=Sl(t)),t&&(n.fields[yl]=t),{mapValue:n}}(n,t):e instanceof hd?pd(e,t):e instanceof fd?md(e,t):function(e,t){const n=dd(e,t),r=vd(n)+vd(e.Ie);return zl(n)&&zl(e.Ie)?ad(r):id(e.serializer,r)}(e,t)}function cd(e,t,n){return e instanceof hd?pd(e,t):e instanceof fd?md(e,t):n}function dd(e,t){return e instanceof gd?function(e){return zl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ud extends od{}class hd extends od{constructor(e){super(),this.elements=e}}function pd(e,t){const n=xd(t);for(const r of e.elements)n.some((e=>Rl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class fd extends od{constructor(e){super(),this.elements=e}}function md(e,t){let n=xd(t);for(const r of e.elements)n=n.filter((e=>!Rl(e,r)));return{arrayValue:{values:n}}}class gd extends od{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function vd(e){return gl(e.integerValue||e.doubleValue)}function xd(e){return Hl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bd{constructor(e,t){this.version=e,this.transformResults=t}}class yd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yd}static exists(e){return new yd(void 0,e)}static updateTime(e){return new yd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class kd{}function Sd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $d(e.key,yd.none()):new Ed(e.key,e.data,yd.none());{const n=e.data,r=Zl.empty();let i=new cl(uo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ad(e.key,r,new ul(i.toArray()),yd.none())}}function _d(e,t,n){e instanceof Ed?function(e,t,n){const r=e.value.clone(),i=Pd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ad?function(e,t,n){if(!wd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Pd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Td(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jd(e,t,n,r){return e instanceof Ed?function(e,t,n,r){if(!wd(e.precondition,t))return n;const i=e.value.clone(),a=Id(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ad?function(e,t,n,r){if(!wd(e.precondition,t))return n;const i=Id(e.fieldTransforms,r,t),a=t.data;return a.setAll(Td(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dd(r.transform,e||null);null!=i&&(null===n&&(n=Zl.empty()),n.set(r.field,i))}return n||null}function Nd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&to(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hd&&t instanceof hd||e instanceof fd&&t instanceof fd?to(e.elements,t.elements,Rl):e instanceof gd&&t instanceof gd?Rl(e.Ie,t.Ie):e instanceof ud&&t instanceof ud}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ed extends kd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ad extends kd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Td(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Pd(e,t,n){const r=new Map;Ls(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,cd(s,o,n[i]))}return r}function Id(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,ld(e,a,t))}return r}class $d extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rd extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Od{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&_d(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zc();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Sd(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ao.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),td())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,((e,t)=>Nd(e,t)))&&to(this.baseMutations,e.baseMutations,((e,t)=>Nd(e,t)))}}class Dd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ls(e.mutations.length===n.length);let r=Jc;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Dd(e,t,n,r)}}class Fd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Md{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ld,Vd;function Bd(e){switch(e){case Bs.OK:return Ms();case Bs.CANCELLED:case Bs.UNKNOWN:case Bs.DEADLINE_EXCEEDED:case Bs.RESOURCE_EXHAUSTED:case Bs.INTERNAL:case Bs.UNAVAILABLE:case Bs.UNAUTHENTICATED:return!1;case Bs.INVALID_ARGUMENT:case Bs.NOT_FOUND:case Bs.ALREADY_EXISTS:case Bs.PERMISSION_DENIED:case Bs.FAILED_PRECONDITION:case Bs.ABORTED:case Bs.OUT_OF_RANGE:case Bs.UNIMPLEMENTED:case Bs.DATA_LOSS:return!0;default:return Ms()}}function Ud(e){if(void 0===e)return Os("GRPC error has no .code"),Bs.UNKNOWN;switch(e){case Ld.OK:return Bs.OK;case Ld.CANCELLED:return Bs.CANCELLED;case Ld.UNKNOWN:return Bs.UNKNOWN;case Ld.DEADLINE_EXCEEDED:return Bs.DEADLINE_EXCEEDED;case Ld.RESOURCE_EXHAUSTED:return Bs.RESOURCE_EXHAUSTED;case Ld.INTERNAL:return Bs.INTERNAL;case Ld.UNAVAILABLE:return Bs.UNAVAILABLE;case Ld.UNAUTHENTICATED:return Bs.UNAUTHENTICATED;case Ld.INVALID_ARGUMENT:return Bs.INVALID_ARGUMENT;case Ld.NOT_FOUND:return Bs.NOT_FOUND;case Ld.ALREADY_EXISTS:return Bs.ALREADY_EXISTS;case Ld.PERMISSION_DENIED:return Bs.PERMISSION_DENIED;case Ld.FAILED_PRECONDITION:return Bs.FAILED_PRECONDITION;case Ld.ABORTED:return Bs.ABORTED;case Ld.OUT_OF_RANGE:return Bs.OUT_OF_RANGE;case Ld.UNIMPLEMENTED:return Bs.UNIMPLEMENTED;case Ld.DATA_LOSS:return Bs.DATA_LOSS;default:return Ms()}}(Vd=Ld||(Ld={}))[Vd.OK=0]="OK",Vd[Vd.CANCELLED=1]="CANCELLED",Vd[Vd.UNKNOWN=2]="UNKNOWN",Vd[Vd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vd[Vd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vd[Vd.NOT_FOUND=5]="NOT_FOUND",Vd[Vd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vd[Vd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vd[Vd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vd[Vd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vd[Vd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vd[Vd.ABORTED=10]="ABORTED",Vd[Vd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vd[Vd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vd[Vd.INTERNAL=13]="INTERNAL",Vd[Vd.UNAVAILABLE=14]="UNAVAILABLE",Vd[Vd.DATA_LOSS=15]="DATA_LOSS";let zd=null;function Hd(){return new TextEncoder}const Kd=new fs([4294967295,4294967295],0);function qd(e){const t=Hd().encode(e),n=new ms;return n.update(t),new Uint8Array(n.digest())}function Gd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new fs([n,r],0),new fs([i,a],0)]}class Wd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xd(`Invalid padding: ${t}`);if(n<0)throw new Xd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Xd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Xd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=fs.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(fs.fromNumber(n)));return 1===r.compare(Kd)&&(r=new fs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=qd(e),[n,r]=Gd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Wd(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=qd(e),[n,r]=Gd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Yd(ao.min(),r,new sl(eo),qc(),td())}}class Zd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zd(n,t,td(),td(),td())}}class Qd{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Jd{constructor(e,t){this.targetId=e,this.ge=t}}class eu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class tu{constructor(){this.pe=0,this.ye=iu(),this.we=pl.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=td(),t=td(),n=td();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ms()}})),new Zd(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=iu()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ls(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class nu{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qc(),this.$e=ru(),this.Ke=ru(),this.Ue=new sl(eo)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ms()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Cc(i))if(0===n){const e=new ho(i.path);this.ze(t,e,Jl.newNoDocument(e,ao.min()))}else Ls(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==zd||zd.rt(function(e,t,n,r,i){var a,s,o,l,c,d;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(d=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==d?d:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=vl(n).toUint8Array()}catch(e){if(e instanceof hl)return Ds("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Wd(a,r,i)}catch(e){return Ds(e instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Cc(i.target)){const t=new ho(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Jl.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=td();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Yd(e,t,this.Ue,this.Qe,n);return this.Qe=qc(),this.$e=ru(),this.Ke=ru(),this.Ue=new sl(eo),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new tu,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new cl(eo),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new cl(eo),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Rs("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new tu),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ru(){return new sl(ho.comparator)}function iu(){return new sl(ho.comparator)}const au={asc:"ASCENDING",desc:"DESCENDING"},su={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ou={and:"AND",or:"OR"};class lu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cu(e,t){return e.useProto3Json||No(t)?t:{value:t}}function du(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hu(e,t){return du(e,t.toTimestamp())}function pu(e){return Ls(!!e),ao.fromTimestamp(function(e){const t=ml(e);return new io(t.seconds,t.nanos)}(e))}function fu(e,t){return mu(e,t).canonicalString()}function mu(e,t){const n=function(e){return new lo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gu(e){const t=lo.fromString(e);return Ls(Du(t)),t}function vu(e,t){return fu(e.databaseId,t.path)}function xu(e,t){const n=gu(t);if(n.get(1)!==e.databaseId.projectId)throw new Us(Bs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Us(Bs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ho(ku(n))}function bu(e,t){return fu(e.databaseId,t)}function yu(e){const t=gu(e);return 4===t.length?lo.emptyPath():ku(t)}function wu(e){return new lo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ku(e){return Ls(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Su(e,t,n){return{name:vu(e,t),fields:n.value.mapValue.fields}}function _u(e,t){let n;if(t instanceof Ed)n={update:Su(e,t.key,t.value)};else if(t instanceof $d)n={delete:vu(e,t.key)};else if(t instanceof Ad)n={update:Su(e,t.key,t.data),updateMask:Ou(t.fieldMask)};else{if(!(t instanceof Rd))return Ms();n={verify:vu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ud)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gd)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ms()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ms()}(e,t.precondition)),n}function ju(e,t){return{documents:[bu(e,t.path)]}}function Cu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bu(e,i);const a=function(e){if(0!==e.length)return Ru(oc.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Iu(e.field),direction:Au(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Nu(e){let t=yu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ls(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Eu(e);return t instanceof oc&&cc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new rc($u(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,No(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ec(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ec(n,t)}(n.endAt)),Ec(t,i,s,a,o,"F",l,c)}function Eu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$u(e.unaryFilter.field);return sc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=$u(e.unaryFilter.field);return sc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$u(e.unaryFilter.field);return sc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=$u(e.unaryFilter.field);return sc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ms()}}(e):void 0!==e.fieldFilter?function(e){return sc.create($u(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ms()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return oc.create(e.compositeFilter.filters.map((e=>Eu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ms()}}(e.compositeFilter.op))}(e):Ms()}function Au(e){return au[e]}function Tu(e){return su[e]}function Pu(e){return ou[e]}function Iu(e){return{fieldPath:e.canonicalString()}}function $u(e){return uo.fromServerFormat(e.fieldPath)}function Ru(e){return e instanceof sc?function(e){if("=="===e.op){if(ql(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NAN"}};if(Kl(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ql(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NAN"}};if(Kl(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(e.field),op:Tu(e.op),value:e.value}}}(e):e instanceof oc?function(e){const t=e.getFilters().map((e=>Ru(e)));return 1===t.length?t[0]:{compositeFilter:{op:Pu(e.op),filters:t}}}(e):Ms()}function Ou(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Du(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ao.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ao.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mu{constructor(e){this.Tt=e}}function Lu(e){const t=Nu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dc(t,t.limit,"L"):t}class Vu{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(gl(e.integerValue));else if("doubleValue"in e){const n=gl(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Eo(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=ml(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(vl(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Yl(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Wl(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ms()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const a=Il,s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(gl(s)),this.wt(a,t),this.Rt(i[a],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),ho.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Vu.xt=new Vu;class Bu{constructor(){this.Tn=new Uu}addToCollectionParentIndex(e,t){return this.Tn.add(t),ko.resolve()}getCollectionParents(e,t){return ko.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ko.resolve()}deleteFieldIndex(e,t){return ko.resolve()}deleteAllFieldIndexes(e){return ko.resolve()}createTargetIndexes(e,t){return ko.resolve()}getDocumentsMatchingTarget(e,t){return ko.resolve(null)}getIndexType(e,t){return ko.resolve(0)}getFieldIndexes(e,t){return ko.resolve([])}getNextCollectionGroupToUpdate(e){return ko.resolve(null)}getMinOffset(e,t){return ko.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return ko.resolve(vo.min())}updateCollectionGroup(e,t,n){return ko.resolve()}updateIndexEntries(e,t){return ko.resolve()}}class Uu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cl(lo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cl(lo.comparator)).toArray()}}new Uint8Array(0);const zu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hu=41943040;class Ku{static withCacheSize(e){return new Ku(e,Ku.DEFAULT_COLLECTION_PERCENTILE,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ku.DEFAULT_COLLECTION_PERCENTILE=10,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ku.DEFAULT=new Ku(Hu,Ku.DEFAULT_COLLECTION_PERCENTILE,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ku.DISABLED=new Ku(-1,0,0);class qu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new qu(0)}static Un(){return new qu(-1)}}const Gu="LruGarbageCollector",Wu=1048576;function Xu(e,t){let[n,r]=e,[i,a]=t;const s=eo(n,i);return 0===s?eo(r,a):s}class Yu{constructor(e){this.Hn=e,this.buffer=new cl(Xu),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Xu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Rs(Gu,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_o(e)?Rs(Gu,"Ignoring IndexedDB error during garbage collection: ",e):await wo(e)}await this.er(3e5)}))}}class Qu{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ko.resolve(jo.ae);const n=new Yu(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Rs("LruGarbageCollector","Garbage collection skipped; disabled"),ko.resolve(zu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Rs("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zu):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Rs("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),$s()<=Ki.DEBUG&&Rs("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(s-a)+"ms\n"+`\tRemoved ${i} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),ko.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ju(e,t){return new Qu(e,t)}class eh{constructor(){this.changes=new Hc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ko.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class th{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&jd(n.mutation,e,ul.empty(),io.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,td()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:td();const r=Yc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Wc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Yc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,td())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=qc();const a=Qc(),s=Qc();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ad)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),jd(s.mutation,t,s.mutation.getFieldMask(),io.now())):a.set(t.key,ul.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new th(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Qc();let r=new sl(((e,t)=>e-t)),i=td();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||ul.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||td()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=Zc();l.forEach((e=>{if(!i.has(e)){const r=Sd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ko.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ho.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ko.resolve(Yc());let s=po,o=i;return a.next((t=>ko.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ko.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,td()))).next((e=>({batchId:s,changes:Xc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ho(t)).next((e=>{let t=Wc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Wc();return this.indexManager.getCollectionParents(e,i).next((s=>ko.forEach(s,(s=>{const o=function(e,t){return new Nc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Jl.newInvalidDocument(r)))}));let n=Wc();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&jd(a.mutation,r,ul.empty(),io.now()),Vc(t,r)&&(n=n.insert(e,r))})),n}))}}class rh{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ko.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:pu(e.createTime)}}(t)),ko.resolve()}getNamedQuery(e,t){return ko.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Lu(e.bundledQuery),readTime:pu(e.readTime)}}(t)),ko.resolve()}}class ih{constructor(){this.overlays=new sl(ho.comparator),this.Rr=new Map}getOverlay(e,t){return ko.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yc();return ko.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),ko.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),ko.resolve()}getOverlaysForCollection(e,t,n){const r=Yc(),i=t.length+1,a=new ho(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ko.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new sl(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Yc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Yc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return ko.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fd(t,n));let i=this.Rr.get(t);void 0===i&&(i=td(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class ah{constructor(){this.sessionToken=pl.EMPTY_BYTE_STRING}getSessionToken(e){return ko.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ko.resolve()}}class sh{constructor(){this.Vr=new cl(oh.mr),this.gr=new cl(oh.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new oh(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new oh(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new ho(new lo([])),n=new oh(t,e),r=new oh(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ho(new lo([])),n=new oh(t,e),r=new oh(t,e+1);let i=td();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new oh(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class oh{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ho.comparator(e.key,t.key)||eo(e.Cr,t.Cr)}static pr(e,t){return eo(e.Cr,t.Cr)||ho.comparator(e.key,t.key)}}class lh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new cl(oh.mr)}checkEmpty(e){return ko.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Od(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Mr=this.Mr.add(new oh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ko.resolve(a)}lookupMutationBatch(e,t){return ko.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return ko.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ko.resolve(0===this.mutationQueue.length?Co:this.Fr-1)}getAllMutationBatches(e){return ko.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new oh(t,0),r=new oh(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),ko.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cl(eo);return t.forEach((e=>{const t=new oh(e,0),r=new oh(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),ko.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ho.isDocumentKey(i)||(i=i.child(""));const a=new oh(new ho(i),0);let s=new cl(eo);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),a),ko.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ls(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return ko.forEach(t.mutations,(r=>{const i=new oh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new oh(t,0),r=this.Mr.firstAfterOrEqual(n);return ko.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ko.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ch{constructor(e){this.kr=e,this.docs=new sl(ho.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ko.resolve(n?n.document.mutableCopy():Jl.newInvalidDocument(t))}getEntries(e,t){let n=qc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Jl.newInvalidDocument(e))})),ko.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=qc();const a=t.path,s=new ho(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||xo(go(s),n)<=0||(r.has(s.key)||Vc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ko.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ms()}qr(e,t){return ko.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new dh(this)}getSize(e){return ko.resolve(this.size)}}class dh extends eh{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),ko.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class uh{constructor(e){this.persistence=e,this.Qr=new Hc((e=>_c(e)),jc),this.lastRemoteSnapshotVersion=ao.min(),this.highestTargetId=0,this.$r=0,this.Kr=new sh,this.targetCount=0,this.Ur=qu.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),ko.resolve()}getLastRemoteSnapshotVersion(e){return ko.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ko.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ko.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),ko.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ko.resolve()}updateTargetData(e,t){return this.zn(t),ko.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ko.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ko.waitFor(i).next((()=>r))}getTargetCount(e){return ko.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return ko.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),ko.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ko.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ko.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return ko.resolve(n)}containsKey(e,t){return ko.resolve(this.Kr.containsKey(t))}}class hh{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new jo(0),this.zr=!1,this.zr=!0,this.jr=new ah,this.referenceDelegate=e(this),this.Hr=new uh(this),this.indexManager=new Bu,this.remoteDocumentCache=function(e){return new ch(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Mu(t),this.Yr=new rh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ih,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new lh(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Rs("MemoryPersistence","Starting transaction:",e);const r=new ph(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return ko.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class ph extends yo{constructor(e){super(),this.currentSequenceNumber=e}}class fh{constructor(e){this.persistence=e,this.ti=new sh,this.ni=null}static ri(e){return new fh(e)}get ii(){if(this.ni)return this.ni;throw Ms()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),ko.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),ko.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ko.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ko.forEach(this.ii,(n=>{const r=ho.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,ao.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return ko.or([()=>ko.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mh{constructor(e,t){this.persistence=e,this.oi=new Hc((e=>Po(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ju(this,t)}static ri(e,t){return new mh(e,t)}Zr(){}Xr(e){return ko.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return ko.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?ko.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ao.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ko.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ko.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ko.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ko.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bl(e.data.value)),t}ar(e,t,n){return ko.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return ko.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=td(),r=td();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gh(e,t.fromCache,n,r)}}class vh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xh{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Ni()?8:So(Ci())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new vh;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?($s()<=Ki.DEBUG&&Rs("QueryEngine","SDK will not create cache indexes for query:",Lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ko.resolve()):($s()<=Ki.DEBUG&&Rs("QueryEngine","Query:",Lc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?($s()<=Ki.DEBUG&&Rs("QueryEngine","The SDK decides to create cache indexes for query:",Lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$c(t))):ko.resolve())}rs(e,t){if(Tc(t))return ko.resolve(null);let n=$c(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Dc(t,null,"F"),n=$c(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=td(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.cs(t,r);return this.ls(t,a,i,n.readTime)?this.rs(e,Dc(t,null,"F")):this.hs(e,a,t,n)}))))})))))}ss(e,t,n,r){return Tc(t)||r.isEqual(ao.min())?ko.resolve(null):this.ns.getDocuments(e,n).next((i=>{const a=this.cs(t,i);return this.ls(t,a,n,r)?ko.resolve(null):($s()<=Ki.DEBUG&&Rs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lc(t)),this.hs(e,a,t,mo(r,po)).next((e=>e)))}))}cs(e,t){let n=new cl(Uc(e));return t.forEach(((t,r)=>{Vc(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return $s()<=Ki.DEBUG&&Rs("QueryEngine","Using full collection scan to execute query:",Lc(t)),this.ns.getDocumentsMatchingQuery(e,t,vo.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const bh="LocalStore";class yh{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new sl(eo),this.Is=new Hc((e=>_c(e)),jc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nh(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function wh(e,t,n,r){return new yh(e,t,n,r)}async function kh(e,t){const n=Vs(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=td();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Sh(e){const t=Vs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function _h(e,t,n){let r=td(),i=td();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=qc();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ao.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Rs(bh,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{Vs:r,fs:i}}))}function jh(e,t){const n=Vs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Co),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ch(e,t){const n=Vs(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,ko.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Fu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Nh(e,t,n){const r=Vs(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!_o(e))throw e;Rs(bh,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Eh(e,t,n){const r=Vs(e);let i=ao.min(),a=td();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Vs(e),i=r.Is.get(n);return void 0!==i?ko.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,$c(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:ao.min(),n?a:td()))).next((e=>(Ah(r,Bc(t),e),{documents:e,gs:a})))))}function Ah(e,t,n){let r=e.Es.get(t)||ao.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Th{constructor(){this.activeTargetIds=rd()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ph{constructor(){this.ho=new Th,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Th,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ih{To(e){}shutdown(){}}const $h="ConnectivityMonitor";class Rh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Rs($h,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Rs($h,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Oh=null;function Dh(){return null===Oh?Oh=268435456+Math.round(2147483648*Math.random()):Oh++,"0x"+Oh.toString(16)}const Fh="RestConnection",Mh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lh{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Cl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const a=Dh(),s=this.So(e,t.toUriEncodedString());Rs(Fh,`Sending RPC '${e}' ${a}:`,s,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,s,o,n).then((t=>(Rs(Fh,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Ds(Fh,`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ps,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Mh[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Vh{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const Bh="WebChannelConnection";class Uh extends Lh{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Dh();return new Promise(((a,s)=>{const o=new xs;o.setWithCredentials(!0),o.listenOnce(ys.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case ws.NO_ERROR:const t=o.getResponseJson();Rs(Bh,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case ws.TIMEOUT:Rs(Bh,`RPC '${e}' ${i} timed out`),s(new Us(Bs.DEADLINE_EXCEEDED,"Request time out"));break;case ws.HTTP_ERROR:const n=o.getStatus();if(Rs(Bh,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bs).indexOf(t)>=0?t:Bs.UNKNOWN}(t.status);s(new Us(e,t.message))}else s(new Us(Bs.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Us(Bs.UNAVAILABLE,"Connection failed."));break;default:Ms()}}finally{Rs(Bh,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Rs(Bh,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Dh(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=js(),s=_s(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Rs(Bh,`Creating RPC '${e}' stream ${r}: ${c}`,o);const d=a.createWebChannel(c,o);let u=!1,h=!1;const p=new Vh({Fo:t=>{h?Rs(Bh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(u||(Rs(Bh,`Opening RPC '${e}' stream ${r} transport.`),d.open(),u=!0),Rs(Bh,`RPC '${e}' stream ${r} sending:`,t),d.send(t))},Mo:()=>d.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(d,bs.EventType.OPEN,(()=>{h||(Rs(Bh,`RPC '${e}' stream ${r} transport opened.`),p.Qo())})),f(d,bs.EventType.CLOSE,(()=>{h||(h=!0,Rs(Bh,`RPC '${e}' stream ${r} transport closed`),p.Ko())})),f(d,bs.EventType.ERROR,(t=>{h||(h=!0,Ds(Bh,`RPC '${e}' stream ${r} transport errored:`,t),p.Ko(new Us(Bs.UNAVAILABLE,"The operation could not be completed")))})),f(d,bs.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Ls(!!i);const a=i,s=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Rs(Bh,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Ld[e];if(void 0!==t)return Ud(t)}(t),i=s.message;void 0===n&&(n=Bs.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.Ko(new Us(n,i)),d.close()}else Rs(Bh,`RPC '${e}' stream ${r} received:`,i),p.Uo(i)}})),f(s,Ss.STAT_EVENT,(t=>{t.stat===ks.PROXY?Rs(Bh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ks.NOPROXY&&Rs(Bh,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.$o()}),0),p}}function zh(){return"undefined"!=typeof document?document:null}function Hh(e){return new lu(e,!0)}class Kh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Rs("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const qh="PersistentStream";class Gh{constructor(e,t,n,r,i,a,s,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Kh(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Bs.RESOURCE_EXHAUSTED?(Os(t.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Bs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Us(Bs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Rs(qh,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Rs(qh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wh extends Gh{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ms()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ls(void 0===t||"string"==typeof t),pl.fromBase64String(t||"")):(Ls(void 0===t||t instanceof Buffer||t instanceof Uint8Array),pl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Bs.UNKNOWN:Ud(e.code);return new Us(t,e.message||"")}(s);n=new eu(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xu(e,r.document.name),a=pu(r.document.updateTime),s=r.document.createTime?pu(r.document.createTime):ao.min(),o=new Zl({mapValue:{fields:r.document.fields}}),l=Jl.newFoundDocument(i,a,s,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Qd(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xu(e,r.document),a=r.readTime?pu(r.readTime):ao.min(),s=Jl.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Qd([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xu(e,r.document),a=r.removedTargetIds||[];n=new Qd([],a,i,null)}else{if(!("filter"in t))return Ms();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Md(r,i),s=e.targetId;n=new Jd(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ao.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ao.min():t.readTime?pu(t.readTime):ao.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=wu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Cc(r)?{documents:ju(e,r)}:{query:Cu(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uu(e,t.resumeToken);const r=cu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ao.min())>0){n.readTime=du(e,t.snapshotVersion.toTimestamp());const r=cu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ms()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=wu(this.serializer),t.removeTarget=e,this.I_(t)}}class Xh extends Gh{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ls(!!e.streamToken),this.lastStreamToken=e.streamToken,Ls(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Ls(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Ls(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?pu(e.updateTime):pu(t);return n.isEqual(ao.min())&&(n=pu(t)),new bd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=pu(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=wu(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>_u(this.serializer,e)))};this.I_(t)}}class Yh{}class Zh extends Yh{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Us(Bs.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.bo(e,mu(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Bs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Us(Bs.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.Co(e,mu(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Bs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Us(Bs.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Qh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Os(t),this.N_=!1):Rs("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Jh="RemoteStore";class ep{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{cp(this)&&(Rs(Jh,"Restarting streams for network reachability change."),await async function(e){const t=Vs(e);t.W_.add(4),await np(t),t.j_.set("Unknown"),t.W_.delete(4),await tp(t)}(this))}))})),this.j_=new Qh(n,r)}}async function tp(e){if(cp(e))for(const t of e.G_)await t(!0)}async function np(e){for(const t of e.G_)await t(!1)}function rp(e,t){const n=Vs(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),lp(n)?op(n):Ep(n).c_()&&ap(n,t))}function ip(e,t){const n=Vs(e),r=Ep(n);n.U_.delete(t),r.c_()&&sp(n,t),0===n.U_.size&&(r.c_()?r.P_():cp(n)&&n.j_.set("Unknown"))}function ap(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ao.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ep(e).y_(t)}function sp(e,t){e.H_.Ne(t),Ep(e).w_(t)}function op(e){e.H_=new nu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Ep(e).start(),e.j_.B_()}function lp(e){return cp(e)&&!Ep(e).u_()&&e.U_.size>0}function cp(e){return 0===Vs(e).W_.size}function dp(e){e.H_=void 0}async function up(e){e.j_.set("Online")}async function hp(e){e.U_.forEach(((t,n)=>{ap(e,t)}))}async function pp(e,t){dp(e),lp(e)?(e.j_.q_(t),op(e)):e.j_.set("Unknown")}async function fp(e,t,n){if(e.j_.set("Online"),t instanceof eu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Rs(Jh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await mp(e,n)}else if(t instanceof Qd?e.H_.We(t):t instanceof Jd?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ao.min()))try{const t=await Sh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(pl.EMPTY_BYTE_STRING,r.snapshotVersion)),sp(e,t);const i=new Fu(r.target,t,n,r.sequenceNumber);ap(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Rs(Jh,"Failed to raise snapshot:",t),await mp(e,t)}}async function mp(e,t,n){if(!_o(t))throw t;e.W_.add(1),await np(e),e.j_.set("Offline"),n||(n=()=>Sh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Rs(Jh,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await tp(e)}))}function gp(e,t){return t().catch((n=>mp(e,n,t)))}async function vp(e){const t=Vs(e),n=Ap(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Co;for(;xp(t);)try{const e=await jh(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,bp(t,e)}catch(e){await mp(t,e)}yp(t)&&wp(t)}function xp(e){return cp(e)&&e.K_.length<10}function bp(e,t){e.K_.push(t);const n=Ap(e);n.c_()&&n.b_&&n.S_(t.mutations)}function yp(e){return cp(e)&&!Ap(e).u_()&&e.K_.length>0}function wp(e){Ap(e).start()}async function kp(e){Ap(e).C_()}async function Sp(e){const t=Ap(e);for(const n of e.K_)t.S_(n.mutations)}async function _p(e,t,n){const r=e.K_.shift(),i=Dd.from(r,t,n);await gp(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vp(e)}async function jp(e,t){t&&Ap(e).b_&&await async function(e,t){if(function(e){return Bd(e)&&e!==Bs.ABORTED}(t.code)){const n=e.K_.shift();Ap(e).h_(),await gp(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await vp(e)}}(e,t),yp(e)&&wp(e)}async function Cp(e,t){const n=Vs(e);n.asyncQueue.verifyOperationInProgress(),Rs(Jh,"RemoteStore received new credentials");const r=cp(n);n.W_.add(3),await np(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await tp(n)}async function Np(e,t){const n=Vs(e);t?(n.W_.delete(2),await tp(n)):t||(n.W_.add(2),await np(n),n.j_.set("Unknown"))}function Ep(e){return e.J_||(e.J_=function(e,t,n){const r=Vs(e);return r.M_(),new Wh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:up.bind(null,e),No:hp.bind(null,e),Lo:pp.bind(null,e),p_:fp.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),lp(e)?op(e):e.j_.set("Unknown")):(await e.J_.stop(),dp(e))}))),e.J_}function Ap(e){return e.Y_||(e.Y_=function(e,t,n){const r=Vs(e);return r.M_(),new Xh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:kp.bind(null,e),Lo:jp.bind(null,e),D_:Sp.bind(null,e),v_:_p.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await vp(e)):(await e.Y_.stop(),e.K_.length>0&&(Rs(Jh,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class Tp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Tp(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Us(Bs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(e,t){if(Os("AsyncQueue",`${t}: ${e}`),_o(e))return new Us(Bs.UNAVAILABLE,`${t}: ${e}`);throw e}class Ip{static emptySet(e){return new Ip(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ho.comparator(t.key,n.key):(e,t)=>ho.comparator(e.key,t.key),this.keyedMap=Wc(),this.sortedSet=new sl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ip))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ip;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class $p{constructor(){this.Z_=new sl(ho.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ms():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Rp{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Rp(e,t,Ip.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Op{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Dp{constructor(){this.queries=Fp(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Vs(e),r=n.queries;n.queries=Fp(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Us(Bs.ABORTED,"Firestore shutting down"))}}function Fp(){return new Hc((e=>Mc(e)),Fc)}async function Mp(e,t){const n=Vs(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new Op,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Pp(e,`Initialization of query '${Lc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&Up(n)}async function Lp(e,t){const n=Vs(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Vp(e,t){const n=Vs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Up(n)}function Bp(e,t,n){const r=Vs(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function Up(e){e.ia.forEach((e=>{e.next()}))}var zp,Hp;(Hp=zp||(zp={}))._a="default",Hp.Cache="cache";class Kp{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Rp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==zp.Cache}}class qp{constructor(e){this.key=e}}class Gp{constructor(e){this.key=e}}class Wp{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=td(),this.mutatedKeys=td(),this.ya=Uc(e),this.wa=new Ip(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new $p,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),d=Vc(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),p=!0):this.va(c,d)||(n.track({type:2,doc:d}),p=!0,(o&&this.ya(d,o)>0||l&&this.ya(d,l)<0)&&(s=!0)):!c&&d?(n.track({type:0,doc:d}),p=!0):c&&!d&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(s=!0)),p&&(d?(a=a.add(d),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:a,Da:n,ls:s,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ms()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==a.length||l?{snapshot:new Rp(this.query,e.wa,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $p,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=td(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Gp(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new qp(n))})),t}Oa(e){this.fa=e.gs,this.pa=td();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Rp.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Xp="SyncEngine";class Yp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zp{constructor(e){this.key=e,this.Ba=!1}}class Qp{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new Hc((e=>Mc(e)),Fc),this.qa=new Map,this.Qa=new Set,this.$a=new sl(ho.comparator),this.Ka=new Map,this.Ua=new sh,this.Wa={},this.Ga=new Map,this.za=qu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Jp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=wf(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await tf(r,t,n,!0),i}async function ef(e,t){const n=wf(e);await tf(n,t,!0,!1)}async function tf(e,t,n,r){const i=await Ch(e.localStore,$c(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await nf(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&rp(e.remoteStore,i),o}async function nf(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await Eh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return mf(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const a=await Eh(e.localStore,t,!0),s=new Wp(t,a.gs),o=s.Sa(a.documents),l=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);mf(e,n,c.Ma);const d=new Yp(t,n,s);return e.ka.set(t,d),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function rf(e,t,n){const r=Vs(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter((e=>!Fc(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ip(r.remoteStore,i.targetId),pf(r,i.targetId)})).catch(wo)):(pf(r,i.targetId),await Nh(r.localStore,i.targetId,!0))}async function af(e,t){const n=Vs(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ip(n.remoteStore,r.targetId))}async function sf(e,t){const n=Vs(e);try{const e=await function(e,t){const n=Vs(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(pl.EMPTY_BYTE_STRING,ao.min()).withLastLimboFreeSnapshotVersion(ao.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Hr.updateTargetData(e,c))}));let o=qc(),l=td();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(_h(e,a,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(ao.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ko.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(Ls(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Ls(r.Ba):e.removedDocuments.size>0&&(Ls(r.Ba),r.Ba=!1))})),await xf(n,e,t)}catch(e){await wo(e)}}function of(e,t,n){const r=Vs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Vs(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Up(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lf(e,t,n){const r=Vs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),a=i&&i.key;if(a){let e=new sl(ho.comparator);e=e.insert(a,Jl.newNoDocument(a,ao.min()));const n=td().add(a),i=new Yd(ao.min(),new Map,new sl(eo),e,n);await sf(r,i),r.$a=r.$a.remove(a),r.Ka.delete(t),vf(r)}else await Nh(r.localStore,t,!1).then((()=>pf(r,t,n))).catch(wo)}async function cf(e,t){const n=Vs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=ko.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);Ls(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=td();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);hf(n,r,null),uf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,e)}catch(e){await wo(e)}}async function df(e,t,n){const r=Vs(e);try{const e=await function(e,t){const n=Vs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ls(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);hf(r,t,n),uf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await xf(r,e)}catch(n){await wo(n)}}function uf(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function hf(e,t,n){const r=Vs(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function pf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||ff(e,t)}))}function ff(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(ip(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),vf(e))}function mf(e,t,n){for(const r of n)r instanceof qp?(e.Ua.addReference(r.key,t),gf(e,r)):r instanceof Gp?(Rs(Xp,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||ff(e,r.key)):Ms()}function gf(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Rs(Xp,"New document in limbo: "+n),e.Qa.add(r),vf(e))}function vf(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new ho(lo.fromString(t)),r=e.za.next();e.Ka.set(r,new Zp(n)),e.$a=e.$a.insert(n,r),rp(e.remoteStore,new Fu($c(Ac(n.path)),r,"TargetPurposeLimboResolution",jo.ae))}}async function xf(e,t,n){const r=Vs(e),i=[],a=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{s.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=gh.Yi(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.La.p_(i),await async function(e,t){const n=Vs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ko.forEach(t,(t=>ko.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ko.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!_o(e))throw e;Rs(bh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,a))}async function bf(e,t){const n=Vs(e);if(!n.currentUser.isEqual(t)){Rs(Xp,"User change. New user:",t.toKey());const e=await kh(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Us(Bs.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xf(n,e.Rs)}}function yf(e,t){const n=Vs(e),r=n.Ka.get(t);if(r&&r.Ba)return td().add(r.key);{let e=td();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function wf(e){const t=Vs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lf.bind(null,t),t.La.p_=Vp.bind(null,t.eventManager),t.La.Ja=Bp.bind(null,t.eventManager),t}function kf(e){const t=Vs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=df.bind(null,t),t}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wh(this.persistence,new xh,e.initialUser,this.serializer)}Xa(e){return new hh(fh.ri,this.serializer)}Za(e){return new Ph}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class _f extends Sf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ls(this.persistence.referenceDelegate instanceof mh);const n=this.persistence.referenceDelegate.garbageCollector;return new Zu(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Ku.withCacheSize(this.cacheSizeBytes):Ku.DEFAULT;return new hh((e=>mh.ri(e,t)),this.serializer)}}class jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>of(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bf.bind(null,this.syncEngine),await Np(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Dp}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),n=function(e){return new Uh(e)}(e.databaseInfo);return function(e,t,n,r){return new Zh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ep(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>of(this.syncEngine,e,0)),Rh.D()?new Rh:new Ih)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Qp(e,t,n,r,i,a);return s&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Vs(e);Rs(Jh,"RemoteStore shutting down."),t.W_.add(5),await np(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}jf.provider={build:()=>new jf};class Cf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Nf="FirestoreClient";class Ef{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ts.UNAUTHENTICATED,this.clientId=Js.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Rs(Nf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Rs(Nf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(H){const n=Pp(H,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Af(e,t){e.asyncQueue.verifyOperationInProgress(),Rs(Nf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await kh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Tf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Pf(e);Rs(Nf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Cp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Cp(t.remoteStore,n))),e._onlineComponents=t}async function Pf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rs(Nf,"Using user provided OfflineComponentProvider");try{await Af(e,e._uninitializedComponentsProvider._offline)}catch(H){const n=H;if(!function(e){return"FirebaseError"===e.name?e.code===Bs.FAILED_PRECONDITION||e.code===Bs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Af(e,new Sf)}}else Rs(Nf,"Using default OfflineComponentProvider"),await Af(e,new _f(void 0));return e._offlineComponents}async function If(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rs(Nf,"Using user provided OnlineComponentProvider"),await Tf(e,e._uninitializedComponentsProvider._online)):(Rs(Nf,"Using default OnlineComponentProvider"),await Tf(e,new jf))),e._onlineComponents}function $f(e){return If(e).then((e=>e.syncEngine))}async function Rf(e){const t=await If(e),n=t.eventManager;return n.onListen=Jp.bind(null,t.syncEngine),n.onUnlisten=rf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ef.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=af.bind(null,t.syncEngine),n}function Of(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Cf({next:o=>{a.su(),t.enqueueAndForget((()=>Lp(e,s)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Us(Bs.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Us(Bs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Kp(Ac(n.path),a,{includeMetadataChanges:!0,Ta:!0});return Mp(e,s)}(await Rf(e),e.asyncQueue,t,n,r))),r.promise}function Df(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Cf({next:n=>{a.su(),t.enqueueAndForget((()=>Lp(e,s))),n.fromCache&&"server"===r.source?i.reject(new Us(Bs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Kp(n,a,{includeMetadataChanges:!0,Ta:!0});return Mp(e,s)}(await Rf(e),e.asyncQueue,t,n,r))),r.promise}function Ff(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mf=new Map;function Lf(e,t,n){if(!n)throw new Us(Bs.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Vf(e){if(!ho.isDocumentKey(e))throw new Us(Bs.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Bf(e){if(ho.isDocumentKey(e))throw new Us(Bs.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Uf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ms()}function zf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Us(Bs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uf(e);throw new Us(Bs.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Hf="firestore.googleapis.com",Kf=!0;class qf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Us(Bs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hf,this.ssl=Kf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Kf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Hu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Wu)throw new Us(Bs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Us(Bs.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ff(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Us(Bs.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Us(Bs.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Us(Bs.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Us(Bs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Us(Bs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ks;switch(e.type){case"firstParty":return new Xs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Us(Bs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mf.get(e);t&&(Rs("ComponentProvider","Removing Datastore"),Mf.delete(e),t.terminate())}(this),Promise.resolve()}}class Wf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wf(this.firestore,e,this._query)}}class Xf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xf(this.firestore,e,this._key)}}class Yf extends Wf{constructor(e,t,n){super(e,t,Ac(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xf(this.firestore,null,new ho(e))}withConverter(e){return new Yf(this.firestore,e,this._path)}}function Zf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),Lf("collection","path",t),e instanceof Gf){const n=lo.fromString(t,...r);return Bf(n),new Yf(e,null,n)}{if(!(e instanceof Xf||e instanceof Yf))throw new Us(Bs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(lo.fromString(t,...r));return Bf(n),new Yf(e.firestore,null,n)}}function Qf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=Js.newId()),Lf("doc","path",t),e instanceof Gf){const n=lo.fromString(t,...r);return Vf(n),new Xf(e,null,new ho(n))}{if(!(e instanceof Xf||e instanceof Yf))throw new Us(Bs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(lo.fromString(t,...r));return Vf(n),new Xf(e.firestore,e instanceof Yf?e.converter:null,new ho(n))}}const Jf="AsyncQueue";class em{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Kh(this,"async_queue_retry"),this.bu=()=>{const e=zh();e&&Rs(Jf,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=zh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new zs;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(z){if(!_o(z))throw z;Rs(Jf,"Operation failed with retryable error: "+z)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Os("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Tp.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Ms()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class tm extends Gf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new em,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new em(e),this._firestoreClient=void 0,await e}}}function nm(e){if(e._terminated)throw new Us(Bs.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||rm(e),e._firestoreClient}function rm(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new jl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ff(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ef(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class im{constructor(e){this._byteString=e}static fromBase64String(e){try{return new im(pl.fromBase64String(e))}catch(e){throw new Us(Bs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new im(pl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class am{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Us(Bs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sm{constructor(e){this._methodName=e}}class om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Us(Bs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Us(Bs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return eo(this._lat,e._lat)||eo(this._long,e._long)}}class lm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const cm=/^__.*__$/;class dm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}class um{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ms()}}class pm{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Em(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(hm(this.Lu)&&cm.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class fm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hh(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pm({Lu:e,methodName:t,zu:n,path:uo.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(e){const t=e._freezeSettings(),n=Hh(e._databaseId);return new fm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gm(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(a.merge||a.mergeFields?2:0,t,n,i);_m("Data must be an object, but it was:",s,r);const o=km(r,s);let l,c;if(a.merge)l=new ul(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=jm(t,r,n);if(!s.contains(i))throw new Us(Bs.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Am(e,i)||e.push(i)}l=new ul(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new dm(new Zl(o),l,c)}class vm extends sm{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}function xm(e,t,n,r){const i=e.ju(1,t,n);_m("Data must be an object, but it was:",i,r);const a=[],s=Zl.empty();il(r,((e,r)=>{const o=Nm(t,e,n);r=Li(r);const l=i.Ku(o);if(r instanceof vm)a.push(o);else{const e=wm(r,l);null!=e&&(a.push(o),s.set(o,e))}}));const o=new ul(a);return new um(s,o,i.fieldTransforms)}function bm(e,t,n,r,i,a){const s=e.ju(1,t,n),o=[jm(t,r,n)],l=[i];if(a.length%2!=0)throw new Us(Bs.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(jm(t,a[h])),l.push(a[h+1]);const c=[],d=Zl.empty();for(let h=o.length-1;h>=0;--h)if(!Am(c,o[h])){const e=o[h];let t=l[h];t=Li(t);const n=s.Ku(e);if(t instanceof vm)c.push(e);else{const r=wm(t,n);null!=r&&(c.push(e),d.set(e,r))}}const u=new ul(c);return new um(d,u,s.fieldTransforms)}function ym(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wm(n,e.ju(r?4:3,t))}function wm(e,t){if(Sm(e=Li(e)))return _m("Unsupported field value:",t,e),km(e,t);if(e instanceof sm)return function(e,t){if(!hm(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wm(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=io.fromDate(e);return{timestampValue:du(t.serializer,n)}}if(e instanceof io){const n=new io(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:du(t.serializer,n)}}if(e instanceof om)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof im)return{bytesValue:uu(t.serializer,e._byteString)};if(e instanceof Xf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof lm)return function(e,t){return{mapValue:{fields:{[El]:{stringValue:Pl},[Il]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return id(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Uf(e)}`)}(e,t)}function km(e,t){const n={};return al(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):il(e,((e,r)=>{const i=wm(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Sm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof io||e instanceof om||e instanceof im||e instanceof Xf||e instanceof sm||e instanceof lm)}function _m(e,t,n){if(!Sm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Uf(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function jm(e,t,n){if((t=Li(t))instanceof am)return t._internalPath;if("string"==typeof t)return Nm(e,t);throw Em("Field path arguments must be of type string or ",e,!1,void 0,n)}const Cm=new RegExp("[~\\*/\\[\\]]");function Nm(e,t,n){if(t.search(Cm)>=0)throw Em(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new am(...t.split("."))._internalPath}catch(r){throw Em(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Em(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Us(Bs.INVALID_ARGUMENT,o+e+l)}function Am(e,t){return e.some((e=>e.isEqual(t)))}class Tm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Im("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pm extends Tm{data(){return super.data()}}function Im(e,t){return"string"==typeof t?Nm(e,t):t instanceof am?t._internalPath:t._delegate._internalPath}function $m(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Us(Bs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}class Om extends Rm{}function Dm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Rm&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Mm)).length,n=e.filter((e=>e instanceof Fm)).length;if(t>1||t>0&&n>0)throw new Us(Bs.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Fm extends Om{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Fm(e,t,n)}_apply(e){const t=this._parse(e);return zm(e._query,t),new Wf(e.firestore,e.converter,Oc(e._query,t))}_parse(e){const t=mm(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Us(Bs.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){Um(s,a);const t=[];for(const n of s)t.push(Bm(r,e,n));o={arrayValue:{values:t}}}else o=Bm(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Um(s,a),o=ym(n,t,s,"in"===a||"not-in"===a);return sc.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Mm extends Rm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:oc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)zm(n,i),n=Oc(n,i)}(e._query,t),new Wf(e.firestore,e.converter,Oc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lm extends Om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Us(Bs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Us(Bs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(t,n)}(e._query,this._field,this._direction);return new Wf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Nc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Vm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Im("orderBy",e);return Lm._create(n,t)}function Bm(e,t,n){if("string"==typeof(n=Li(n))){if(""===n)throw new Us(Bs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pc(t)&&-1!==n.indexOf("/"))throw new Us(Bs.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(lo.fromString(n));if(!ho.isDocumentKey(r))throw new Us(Bs.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ul(e,new ho(r))}if(n instanceof Xf)return Ul(e,n._key);throw new Us(Bs.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(n)}.`)}function Um(e,t){if(!Array.isArray(e)||0===e.length)throw new Us(Bs.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Us(Bs.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Us(Bs.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Hm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ms()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return il(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Il].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>gl(e.doubleValue)));return new lm(i)}convertGeoPoint(e){return new om(gl(e.latitude),gl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Sl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=ml(e);return new io(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=lo.fromString(e);Ls(Du(n));const r=new Nl(n.get(1),n.get(3)),i=new ho(n.popFirst(5));return r.isEqual(t)||Os(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Km(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class qm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gm extends Tm{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Im("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wm extends Gm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Xm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wm(this._firestore,this._userDataWriter,n.key,n,new qm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Us(Bs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Wm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Wm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Ym(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ym(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ms()}}function Zm(e){e=zf(e,Xf);const t=zf(e.firestore,tm);return Of(nm(t),e._key).then((n=>ig(t,e,n)))}class Qm extends Hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new im(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xf(this.firestore,null,t)}}function Jm(e){e=zf(e,Wf);const t=zf(e.firestore,tm),n=nm(t),r=new Qm(t);return $m(e._query),Df(n,e._query).then((n=>new Xm(t,r,e,n)))}function eg(e,t,n){e=zf(e,Xf);const r=zf(e.firestore,tm),i=Km(e.converter,t,n);return rg(r,[gm(mm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yd.none())])}function tg(e,t,n){e=zf(e,Xf);const r=zf(e.firestore,tm),i=mm(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=Li(t))||t instanceof am?bm(i,"updateDoc",e._key,t,n,o):xm(i,"updateDoc",e._key,t),rg(r,[a.toMutation(e._key,yd.exists(!0))])}function ng(e){return rg(zf(e.firestore,tm),[new $d(e._key,yd.none())])}function rg(e,t){return function(e,t){const n=new zs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=kf(e);try{const e=await function(e,t){const n=Vs(e),r=io.now(),i=t.reduce(((e,t)=>e.add(t.key)),td());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=qc(),l=td();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=Cd(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Ad(e.key,t,Ql(t.value.mapValue),yd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Xc(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new sl(eo)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await xf(r,e.changes),await vp(r.remoteStore)}catch(e){const t=Pp(e,"Failed to persist write");n.reject(t)}}(await $f(e),t,n))),n.promise}(nm(e),t)}function ig(e,t,n){const r=n.docs.get(t._key),i=new Qm(e);return new Gm(e,i,t._key,r,new qm(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ps=e}(es),Xa(new Vi("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new tm(new Gs(e.getProvider("auth-internal")),new Zs(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Us(Bs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),rs(Es,As,e),rs(Es,As,"esm2017")}();const ag=e=>{const t=cg(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),sg(n,t)||lg(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},sg=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?sg(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const a=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(a)}))?.classGroupId},og=/^\[(.+)\]$/,lg=e=>{if(og.test(e)){const t=og.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cg=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)dg(n[i],r,i,t);return r},dg=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return hg(e)?void dg(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,a]=e;dg(a,ug(t,i),n,r)}))}else{(""===e?t:ug(t,e)).classGroupId=n}}))},ug=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},hg=e=>e.isThemeGetter,pg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},fg=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){n=l;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=mg(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},mg=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,gg=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map((e=>[e,!0])));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach((e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)})),n.push(...r.sort()),n}},vg=/\s+/;function xg(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=bg(e))&&(r&&(r+=" "),r+=t);return r}const bg=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=bg(e[r]))&&(n&&(n+=" "),n+=t);return n};function yg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,a,s,o=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=(e=>({cache:pg(e.cacheSize),parseClassName:fg(e),sortModifiers:gg(e),...ag(e)}))(r),a=i.cache.get,s=i.cache.set,o=l,l(t)};function l(e){const t=a(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(vg);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=r(f?h.substring(0,p):h);if(!m){if(!f){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}f=!1}const g=a(d).join(":"),v=u?g+"!":g,x=v+m;if(s.includes(x))continue;s.push(x);const b=i(m,f);for(let n=0;n<b.length;++n){const e=b[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return s(e,n),n}return function(){return o(xg.apply(null,arguments))}}const wg=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},kg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Sg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_g=/^\d+\/\d+$/,jg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ng=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Eg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ag=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tg=e=>_g.test(e),Pg=e=>!!e&&!Number.isNaN(Number(e)),Ig=e=>!!e&&Number.isInteger(Number(e)),$g=e=>e.endsWith("%")&&Pg(e.slice(0,-1)),Rg=e=>jg.test(e),Og=()=>!0,Dg=e=>Cg.test(e)&&!Ng.test(e),Fg=()=>!1,Mg=e=>Eg.test(e),Lg=e=>Ag.test(e),Vg=e=>!Ug(e)&&!Wg(e),Bg=e=>tv(e,av,Fg),Ug=e=>kg.test(e),zg=e=>tv(e,sv,Dg),Hg=e=>tv(e,ov,Pg),Kg=e=>tv(e,rv,Fg),qg=e=>tv(e,iv,Lg),Gg=e=>tv(e,cv,Mg),Wg=e=>Sg.test(e),Xg=e=>nv(e,sv),Yg=e=>nv(e,lv),Zg=e=>nv(e,rv),Qg=e=>nv(e,av),Jg=e=>nv(e,iv),ev=e=>nv(e,cv,!0),tv=(e,t,n)=>{const r=kg.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},nv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Sg.exec(e);return!!r&&(r[1]?t(r[1]):n)},rv=e=>"position"===e||"percentage"===e,iv=e=>"image"===e||"url"===e,av=e=>"length"===e||"size"===e||"bg-size"===e,sv=e=>"length"===e,ov=e=>"number"===e,lv=e=>"family-name"===e,cv=e=>"shadow"===e,dv=(Symbol.toStringTag,()=>{const e=wg("color"),t=wg("font"),n=wg("text"),r=wg("font-weight"),i=wg("tracking"),a=wg("leading"),s=wg("breakpoint"),o=wg("container"),l=wg("spacing"),c=wg("radius"),d=wg("shadow"),u=wg("inset-shadow"),h=wg("text-shadow"),p=wg("drop-shadow"),f=wg("blur"),m=wg("perspective"),g=wg("aspect"),v=wg("ease"),x=wg("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Wg,Ug],y=()=>[Wg,Ug,l],w=()=>[Tg,"full","auto",...y()],k=()=>[Ig,"none","subgrid",Wg,Ug],S=()=>["auto",{span:["full",Ig,Wg,Ug]},Ig,Wg,Ug],_=()=>[Ig,"auto",Wg,Ug],j=()=>["auto","min","max","fr",Wg,Ug],C=()=>["auto",...y()],N=()=>[Tg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],E=()=>[e,Wg,Ug],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Zg,Kg,{position:[Wg,Ug]}],T=()=>["auto","cover","contain",Qg,Bg,{size:[Wg,Ug]}],P=()=>[$g,Xg,zg],I=()=>["","none","full",c,Wg,Ug],$=()=>["",Pg,Xg,zg],R=()=>[Pg,$g,Zg,Kg],O=()=>["","none",f,Wg,Ug],D=()=>["none",Pg,Wg,Ug],F=()=>["none",Pg,Wg,Ug],M=()=>[Pg,Wg,Ug],L=()=>[Tg,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rg],breakpoint:[Rg],color:[Og],container:[Rg],"drop-shadow":[Rg],ease:["in","out","in-out"],font:[Vg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rg],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rg],shadow:[Rg],spacing:["px",Pg],text:[Rg],"text-shadow":[Rg],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Tg,Ug,Wg,g]}],container:["container"],columns:[{columns:[Pg,Ug,Wg,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Ig,"auto",Wg,Ug]}],basis:[{basis:[Tg,"full","auto",o,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pg,Tg,"auto","initial","none",Ug]}],grow:[{grow:["",Pg,Wg,Ug]}],shrink:[{shrink:["",Pg,Wg,Ug]}],order:[{order:[Ig,"first","last","none",Wg,Ug]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],w:[{w:[o,"screen",...N()]}],"min-w":[{"min-w":[o,"screen","none",...N()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...N()]}],h:[{h:["screen",...N()]}],"min-h":[{"min-h":["screen","none",...N()]}],"max-h":[{"max-h":["screen",...N()]}],"font-size":[{text:["base",n,Xg,zg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Wg,Hg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$g,Ug]}],"font-family":[{font:[Yg,Ug,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Wg,Ug]}],"line-clamp":[{"line-clamp":[Pg,"none",Wg,Hg]}],leading:[{leading:[a,...y()]}],"list-image":[{"list-image":["none",Wg,Ug]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Wg,Ug]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Pg,"from-font","auto",Wg,zg]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Pg,"auto",Wg,Ug]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wg,Ug]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wg,Ug]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ig,Wg,Ug],radial:["",Wg,Ug],conic:[Ig,Wg,Ug]},Jg,qg]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Pg,Wg,Ug]}],"outline-w":[{outline:["",Pg,Xg,zg]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,ev,Gg]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,ev,Gg]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Pg,zg]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,ev,Gg]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Pg,Wg,Ug]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pg]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[Wg,Ug]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Pg]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Wg,Ug]}],filter:[{filter:["","none",Wg,Ug]}],blur:[{blur:O()}],brightness:[{brightness:[Pg,Wg,Ug]}],contrast:[{contrast:[Pg,Wg,Ug]}],"drop-shadow":[{"drop-shadow":["","none",p,ev,Gg]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Pg,Wg,Ug]}],"hue-rotate":[{"hue-rotate":[Pg,Wg,Ug]}],invert:[{invert:["",Pg,Wg,Ug]}],saturate:[{saturate:[Pg,Wg,Ug]}],sepia:[{sepia:["",Pg,Wg,Ug]}],"backdrop-filter":[{"backdrop-filter":["","none",Wg,Ug]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[Pg,Wg,Ug]}],"backdrop-contrast":[{"backdrop-contrast":[Pg,Wg,Ug]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pg,Wg,Ug]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pg,Wg,Ug]}],"backdrop-invert":[{"backdrop-invert":["",Pg,Wg,Ug]}],"backdrop-opacity":[{"backdrop-opacity":[Pg,Wg,Ug]}],"backdrop-saturate":[{"backdrop-saturate":[Pg,Wg,Ug]}],"backdrop-sepia":[{"backdrop-sepia":["",Pg,Wg,Ug]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Wg,Ug]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pg,"initial",Wg,Ug]}],ease:[{ease:["linear","initial",v,Wg,Ug]}],delay:[{delay:[Pg,Wg,Ug]}],animate:[{animate:["none",x,Wg,Ug]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Wg,Ug]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:M()}],"skew-x":[{"skew-x":M()}],"skew-y":[{"skew-y":M()}],transform:[{transform:[Wg,Ug,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wg,Ug]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wg,Ug]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Pg,Xg,zg,Hg]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),uv=yg(dv);rs("firebase","11.4.0","app");var hv=function(){return hv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hv.apply(this,arguments)};function pv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function fv(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function mv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gv=mv,vv=new Ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xv=new Yi("@firebase/auth");function bv(e){if(xv.logLevel<=Ki.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xv.error(`Auth (${es}): ${e}`,...n)}}function yv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _v(e,...n)}function wv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _v(e,...n)}function kv(e,t,n){const r=Object.assign(Object.assign({},gv()),{[t]:n});return new Ti("auth","Firebase",r).create(t,{appName:e.name})}function Sv(e){return kv(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vv.create(e,...n)}function jv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _v(t,...r)}}function Cv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bv(t),new Error(t)}function Nv(e,t){e||Cv(t)}function Ev(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Av(){return"http:"===Tv()||"https:"===Tv()}function Tv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pv(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Av()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Iv{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nv(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ci())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Pv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $v(e,t){Nv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Rv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Cv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Cv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Cv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ov={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dv=new Iv(3e4,6e4);function Fv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Mv(e,t,n,r){return Lv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=Ri(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Rv.fetch()(Bv(e,e.config.apiHost,n,s),l)}))}async function Lv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ov),t);try{const t=new zv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Hv(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Hv(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Hv(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Hv(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw kv(e,o,s);yv(e,o)}}catch(z){if(z instanceof Ai)throw z;yv(e,"network-request-failed",{message:String(z)})}}async function Vv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Mv(e,t,n,r,i);return"mfaPendingCredential"in a&&yv(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Bv(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$v(e.config,i):`${e.config.apiScheme}://${i}`}function Uv(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zv{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(wv(this.auth,"network-request-failed"))),Dv.get())}))}}function Hv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wv(e,t,r);return i.customData._tokenResponse=n,i}function Kv(e){return void 0!==e&&void 0!==e.enterprise}class qv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uv(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gv(e,t){return Mv(e,"GET","/v2/recaptchaConfig",Fv(e,t))}async function Wv(e,t){return Mv(e,"POST","/v1/accounts:lookup",t)}function Xv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(z){}}function Yv(e){return 1e3*Number(e)}function Zv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bv("JWT malformed, contained fewer than 3 sections"),null;try{const e=vi(n);return e?JSON.parse(e):(bv("Failed to decode base64 JWT payload"),null)}catch(z){return bv("Caught error parsing JWT payload as JSON",null===z||void 0===z?void 0:z.toString()),null}}function Qv(e){const t=Zv(e);return jv(t,"internal-error"),jv("undefined"!==typeof t.exp,"internal-error"),jv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Jv(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(z){throw z instanceof Ai&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(z)&&e.auth.currentUser===e&&await e.auth.signOut(),z}}class ex{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(z){return void("auth/network-request-failed"===(null===z||void 0===z?void 0:z.code)&&this.schedule(!0))}this.schedule()}}class tx{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xv(this.lastLoginAt),this.creationTime=Xv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nx(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Jv(e,Wv(n,{idToken:r}));jv(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?rx(a.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!l&&c,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new tx(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,u)}function rx(e){return e.map((e=>{var{providerId:t}=e,n=pv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ix{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jv(e.idToken,"internal-error"),jv("undefined"!==typeof e.idToken,"internal-error"),jv("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){jv(0!==e.length,"internal-error");const t=Qv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(jv(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Lv(e,{},(async()=>{const n=Ri({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Bv(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Rv.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new ix;return n&&(jv("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(jv("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(jv("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ix,this.toJSON())}_performRefresh(){return Cv("not implemented")}}function ax(e,t){jv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class sx{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ex(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Jv(this,this.stsTokenManager.getToken(this.auth,e));return jv(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Li(e),r=await n.getIdToken(t),i=Zv(r);jv(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xv(Yv(i.auth_time)),issuedAtTime:Xv(Yv(i.iat)),expirationTime:Xv(Yv(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Li(e);await nx(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(jv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sx(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Za(this.auth.app))return Promise.reject(Sv(this.auth));const e=await this.getIdToken();return await Jv(this,async function(e,t){return Mv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:x,emailVerified:b,isAnonymous:y,providerData:w,stsTokenManager:k}=t;jv(x&&k,e,"internal-error");const S=ix.fromJSON(this.name,k);jv("string"===typeof x,e,"internal-error"),ax(d,e.name),ax(u,e.name),jv("boolean"===typeof b,e,"internal-error"),jv("boolean"===typeof y,e,"internal-error"),ax(h,e.name),ax(p,e.name),ax(f,e.name),ax(m,e.name),ax(g,e.name),ax(v,e.name);const _=new sx({uid:x,auth:e,email:u,emailVerified:b,displayName:d,isAnonymous:y,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(_.providerData=w.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ix;r.updateFromServerResponse(t);const i=new sx({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nx(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];jv(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?rx(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new ix;s.updateFromIdToken(n);const o=new sx({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new tx(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const ox=new Map;function lx(e){Nv(e instanceof Function,"Expected a class definition");let t=ox.get(e);return t?(Nv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ox.set(e,t),t)}class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cx.type="NONE";const dx=cx;function ux(e,t,n){return`firebase:${e}:${t}:${n}`}class hx{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ux(this.userKey,r.apiKey,i),this.fullPersistenceKey=ux("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sx._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new hx(lx(dx),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||lx(dx);const a=ux(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){const n=sx._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new hx(i,e,n)):new hx(i,e,n)}}function px(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bx(t))return"Blackberry";if(yx(t))return"Webos";if(mx(t))return"Safari";if((t.includes("chrome/")||gx(t))&&!t.includes("edge/"))return"Chrome";if(xx(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/firefox\//i.test(e)}function mx(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/crios\//i.test(e)}function vx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/iemobile/i.test(e)}function xx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/android/i.test(e)}function bx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/blackberry/i.test(e)}function yx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/webos/i.test(e)}function wx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kx(){return function(){const e=Ci();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Sx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return wx(e)||xx(e)||yx(e)||bx(e)||/windows phone/i.test(e)||vx(e)}function _x(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=px(Ci());break;case"Worker":t=`${px(Ci())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${es}/${r}`}class jx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(z){r(z)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(z){t.reverse();for(const n of t)try{n()}catch(Ce){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===z||void 0===z?void 0:z.message})}}}class Cx{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Nx{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ax(this),this.idTokenSubscription=new Ax(this),this.beforeStateQueue=new jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lx(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await hx.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(z){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wv(this,{idToken:e}),n=await sx._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Za(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(z){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(z)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jv(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(z){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nx(e)}catch(z){if("auth/network-request-failed"!==(null===z||void 0===z?void 0:z.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Za(this.app))return Promise.reject(Sv(this));const t=e?Li(e):null;return t&&jv(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&jv(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Za(this.app)?Promise.reject(Sv(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Za(this.app)?Promise.reject(Sv(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(lx(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Mv(e,"GET","/v2/passwordPolicy",Fv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Cx(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ti("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Mv(e,"POST","/v2/accounts:revokeToken",Fv(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lx(e)||this._popupRedirectResolver;jv(t,this,"argument-error"),this.redirectPersistenceManager=await hx.create(this,[lx(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(jv(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jv(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Za(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(xv.logLevel<=Ki.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xv.warn(`Auth (${es}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ex(e){return Li(e)}class Ax{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Fi(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return jv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Px(e){return Tx.loadJS(e)}function Ix(e){return`__${e}${Math.floor(1e6*Math.random())}`}class $x{constructor(){this.enterprise=new Rx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Rx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ox="NO_RECAPTCHA";class Dx{constructor(e){this.type="recaptcha-enterprise",this.auth=Ex(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Kv(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ox)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new $x).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Kv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Tx.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Px(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Fx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Dx(e);let s;if(i)s=Ox;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mx(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Fx(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Fx(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Fx(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Fx(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Fx(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Lx(e){const t=Ex(e),n=await Gv(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qv(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Dx(t).verify()}}function Vx(e,t,n){const r=Ex(e);jv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Bx(t),{host:s,port:o}=function(e){const t=Bx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ux(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ux(t)}}}(t),l={url:`${a}//${s}${null===o?"":`:${o}`}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return jv(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void jv(Ii(l,r.config.emulator)&&Ii(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ux(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class zx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cv("not implemented")}_getIdTokenResponse(e){return Cv("not implemented")}_linkToIdToken(e,t){return Cv("not implemented")}_getReauthenticationResolver(e){return Cv("not implemented")}}async function Hx(e,t){return Mv(e,"POST","/v1/accounts:signUp",t)}async function Kx(e,t){return Vv(e,"POST","/v1/accounts:signInWithPassword",Fv(e,t))}class qx extends zx{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qx(e,t,"password")}static _fromEmailAndCode(e,t){return new qx(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Mx(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Kx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Vv(e,"POST","/v1/accounts:signInWithEmailLink",Fv(e,t))}(e,{email:this._email,oobCode:this._password});default:yv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Mx(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Vv(e,"POST","/v1/accounts:signInWithEmailLink",Fv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:yv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gx(e,t){return Vv(e,"POST","/v1/accounts:signInWithIdp",Fv(e,t))}class Wx extends zx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wx(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=pv(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Wx(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Gx(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gx(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gx(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ri(t)}return e}}async function Xx(e,t){return Mv(e,"POST","/v1/accounts:sendVerificationCode",Fv(e,t))}const Yx={USER_NOT_FOUND:"user-not-found"};class Zx extends zx{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zx({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zx({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Vv(e,"POST","/v1/accounts:signInWithPhoneNumber",Fv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Vv(e,"POST","/v1/accounts:signInWithPhoneNumber",Fv(e,t));if(n.temporaryProof)throw Hv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Vv(e,"POST","/v1/accounts:signInWithPhoneNumber",Fv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Yx)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Zx({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Qx{constructor(e){var t,n,r,i,a,s;const o=Oi(Di(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);jv(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Oi(Di(e)).link,n=t?Oi(Di(t)).deep_link_id:null,r=Oi(Di(e)).deep_link_id;return(r?Oi(Di(r)).link:null)||r||n||t||e}(e);try{return new Qx(t)}catch(n){return null}}}class Jx{constructor(){this.providerId=Jx.PROVIDER_ID}static credential(e,t){return qx._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Qx.parseLink(t);return jv(n,"argument-error"),qx._fromEmailAndCode(e,n.code,n.tenantId)}}Jx.PROVIDER_ID="password",Jx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Jx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tb extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nb extends tb{constructor(){super("facebook.com")}static credential(e){return Wx._fromParams({providerId:nb.PROVIDER_ID,signInMethod:nb.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nb.credentialFromTaggedObject(e)}static credentialFromError(e){return nb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nb.credential(t.oauthAccessToken)}catch(n){return null}}}nb.FACEBOOK_SIGN_IN_METHOD="facebook.com",nb.PROVIDER_ID="facebook.com";class rb extends tb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wx._fromParams({providerId:rb.PROVIDER_ID,signInMethod:rb.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rb.credentialFromTaggedObject(e)}static credentialFromError(e){return rb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rb.credential(n,r)}catch(i){return null}}}rb.GOOGLE_SIGN_IN_METHOD="google.com",rb.PROVIDER_ID="google.com";class ib extends tb{constructor(){super("github.com")}static credential(e){return Wx._fromParams({providerId:ib.PROVIDER_ID,signInMethod:ib.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ib.credentialFromTaggedObject(e)}static credentialFromError(e){return ib.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ib.credential(t.oauthAccessToken)}catch(n){return null}}}ib.GITHUB_SIGN_IN_METHOD="github.com",ib.PROVIDER_ID="github.com";class ab extends tb{constructor(){super("twitter.com")}static credential(e,t){return Wx._fromParams({providerId:ab.PROVIDER_ID,signInMethod:ab.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ab.credentialFromTaggedObject(e)}static credentialFromError(e){return ab.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ab.credential(n,r)}catch(i){return null}}}ab.TWITTER_SIGN_IN_METHOD="twitter.com",ab.PROVIDER_ID="twitter.com";class sb{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await sx._fromIdTokenResponse(e,n,r),a=ob(n);return new sb({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ob(n);return new sb({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ob(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lb extends Ai{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lb.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lb(e,t,n,r)}}function cb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw lb._fromErrorAndOperation(e,n,t,r);throw n}))}async function db(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Jv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sb._forOperation(e,"link",r)}async function ub(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Za(r.app))return Promise.reject(Sv(r));const i="reauthenticate";try{const a=await Jv(e,cb(r,i,t,e),n);jv(a.idToken,r,"internal-error");const s=Zv(a.idToken);jv(s,r,"internal-error");const{sub:o}=s;return jv(e.uid===o,r,"user-mismatch"),sb._forOperation(e,i,a)}catch(z){throw"auth/user-not-found"===(null===z||void 0===z?void 0:z.code)&&yv(r,"user-mismatch"),z}}async function hb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Za(e.app))return Promise.reject(Sv(e));const r="signIn",i=await cb(e,r,t),a=await sb._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function pb(e,t){return Mv(e,"POST","/v2/accounts/mfaEnrollment:start",Fv(e,t))}new WeakMap;const fb="__sak";class mb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fb,"1"),this.storage.removeItem(fb),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gb extends mb{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);kx()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gb.type="LOCAL";const vb=gb;class xb extends mb{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xb.type="SESSION";const bb=xb;class yb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new yb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function wb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yb.receivers=[];class kb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=wb("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Sb(){return window}function _b(){return"undefined"!==typeof Sb().WorkerGlobalScope&&"function"===typeof Sb().importScripts}const jb="firebaseLocalStorageDb",Cb="firebaseLocalStorage",Nb="fbase_key";class Eb{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ab(e,t){return e.transaction([Cb],t?"readwrite":"readonly").objectStore(Cb)}function Tb(){const e=indexedDB.open(jb,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Cb,{keyPath:Nb})}catch(z){n(z)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Cb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jb);return new Eb(e).toPromise()}(),t(await Tb()))}))}))}async function Pb(e,t,n){const r=Ab(e,!0).put({[Nb]:t,value:n});return new Eb(r).toPromise()}function Ib(e,t){const n=Ab(e,!0).delete(t);return new Eb(n).toPromise()}class $b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Tb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(z){if(t++>3)throw z;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yb._getInstance(_b()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new kb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tb();return await Pb(e,fb,"1"),await Ib(e,fb),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Pb(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ab(e,!1).get(t),r=await new Eb(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ib(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ab(e,!1).getAll();return new Eb(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$b.type="LOCAL";const Rb=$b;function Ob(e,t){return Mv(e,"POST","/v2/accounts/mfaSignIn:start",Fv(e,t))}Ix("rcb"),new Iv(3e4,6e4);const Db="recaptcha";async function Fb(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Lx(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){jv("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Mx(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ox){jv((null===n||void 0===n?void 0:n.type)===Db,e,"argument-error");return pb(e,await Mb(e,t,n))}return pb(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{jv("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;jv(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Mx(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ox){jv((null===n||void 0===n?void 0:n.type)===Db,e,"argument-error");return Ob(e,await Mb(e,t,n))}return Ob(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Mx(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ox){jv((null===n||void 0===n?void 0:n.type)===Db,e,"argument-error");return Xx(e,await Mb(e,t,n))}return Xx(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Mb(e,t,n){jv(n.type===Db,e,"argument-error");const r=await n.verify();jv("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Lb{constructor(e){this.providerId=Lb.PROVIDER_ID,this.auth=Ex(e)}verifyPhoneNumber(e,t){return Fb(this.auth,e,Li(t))}static credential(e,t){return Zx._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lb.credentialFromTaggedObject(t)}static credentialFromError(e){return Lb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Zx._fromTokenResponse(n,r):null}}function Vb(e,t){return t?lx(t):(jv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lb.PROVIDER_ID="phone",Lb.PHONE_SIGN_IN_METHOD="phone";class Bb extends zx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gx(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gx(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gx(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ub(e){return hb(e.auth,new Bb(e),e.bypassAuthState)}function zb(e){const{auth:t,user:n}=e;return jv(n,t,"internal-error"),ub(n,new Bb(e),e.bypassAuthState)}async function Hb(e){const{auth:t,user:n}=e;return jv(n,t,"internal-error"),db(n,new Bb(e),e.bypassAuthState)}class Kb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(z){this.reject(z)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(z){this.reject(z)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ub;case"linkViaPopup":case"linkViaRedirect":return Hb;case"reauthViaPopup":case"reauthViaRedirect":return zb;default:yv(this.auth,"internal-error")}}resolve(e){Nv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qb=new Iv(2e3,1e4);class Gb extends Kb{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Gb.currentPopupAction&&Gb.currentPopupAction.cancel(),Gb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jv(e,this.auth,"internal-error"),e}async onExecution(){Nv(1===this.filter.length,"Popup operations only handle one event");const e=wb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(wv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(wv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(wv(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,qb.get())};e()}}Gb.currentPopupAction=null;const Wb=new Map;class Xb extends Kb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wb.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qb(t),r=Zb(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(z){e=()=>Promise.reject(z)}Wb.set(this.auth._key(),e)}return this.bypassAuthState||Wb.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yb(e,t){Wb.set(e._key(),t)}function Zb(e){return lx(e._redirectPersistence)}function Qb(e){return ux("pendingRedirect",e.config.apiKey,e.name)}async function Jb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Za(e.app))return Promise.reject(Sv(e));const r=Ex(e),i=Vb(r,t),a=new Xb(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ey{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ny(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ny(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ty(e))}saveEventToCache(e){this.cachedEventUids.add(ty(e)),this.lastProcessedEventTime=Date.now()}}function ty(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ny(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ry=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iy=/^https?/;async function ay(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Mv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(sy(r))return}catch(n){}yv(e,"unauthorized-domain")}function sy(e){const t=Ev(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!iy.test(n))return!1;if(ry.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const oy=new Iv(3e4,6e4);function ly(){const e=Sb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function cy(e){return new Promise(((t,n)=>{var r,i,a;function s(){ly(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ly(),n(wv(e,"network-request-failed"))},timeout:oy.get()})}if(null===(i=null===(r=Sb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Sb().gapi)||void 0===a?void 0:a.load)){const t=Ix("iframefcb");return Sb()[t]=()=>{gapi.load?s():n(wv(e,"network-request-failed"))},Px(`${Tx.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw dy=null,e}))}let dy=null;const uy=new Iv(5e3,15e3),hy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},py=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fy(e){const t=e.config;jv(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$v(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:es},i=py.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ri(r).slice(1)}`}async function my(e){const t=await function(e){return dy=dy||cy(e),dy}(e),n=Sb().gapi;return jv(n,e,"internal-error"),t.open({where:document.body,url:fy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hy,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=wv(e,"network-request-failed"),a=Sb().setTimeout((()=>{r(i)}),uy.get());function s(){Sb().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const gy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(z){}}}function xy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},gy),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Ci().toLowerCase();n&&(o=gx(c)?"_blank":n),fx(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return wx(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new vy(null);const u=window.open(t||"",o,d);jv(u,e,"popup-blocked");try{u.focus()}catch(z){}return new vy(u)}const by="__/auth/handler",yy="emulator/auth/handler",wy=encodeURIComponent("fac");async function ky(e,t,n,r,i,a){jv(e.config.authDomain,e,"auth-domain-config-required"),jv(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:es,eventId:i};if(t instanceof eb){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof tb){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?`#${wy}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${by}`;return $v(t,yy)}(e)}?${Ri(o).slice(1)}${c}`}const Sy="webStorageSupport";const _y=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bb,this._completeRedirectFn=Jb,this._overrideRedirectResult=Yb}async _openPopup(e,t,n,r){var i;Nv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return xy(e,await ky(e,t,n,Ev(),r),wb())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Sb().location.href=e}(await ky(e,t,n,Ev(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Nv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await my(e),n=new ey(e);return t.register("authEvent",(t=>{jv(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sy,{type:Sy},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Sy];void 0!==i&&t(!!i),yv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ay(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Sx()||mx()||wx()}};var jy="@firebase/auth",Cy="1.9.1";class Ny{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ey=Si("authIdTokenMaxAge")||300;let Ay=null;var Ty;!function(e){Tx=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=wv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ty="Browser",Xa(new Vi("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;jv(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Ty,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_x(Ty)},c=new Nx(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Xa(new Vi("auth-internal",(e=>(e=>new Ny(e))(Ex(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),rs(jy,Cy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ty)),rs(jy,Cy,"esm2017");const Py="firebasestorage.googleapis.com",Iy="storageBucket";class $y extends Ai{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Dy(e),`Firebase Storage: ${t} (${Dy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$y.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ry,Oy;function Dy(e){return"storage/"+e}function Fy(){return new $y(Ry.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function My(){return new $y(Ry.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ly(){return new $y(Ry.CANCELED,"User canceled the upload/download.")}function Vy(){return new $y(Ry.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function By(e){return new $y(Ry.INVALID_ARGUMENT,e)}function Uy(){return new $y(Ry.APP_DELETED,"The Firebase app was deleted.")}function zy(e,t){return new $y(Ry.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Hy(e){throw new $y(Ry.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ry||(Ry={}));class Ky{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ky.makeFromUrl(e,t)}catch(z){return new Ky(e,"")}if(""===n.path)return n;throw r=e,new $y(Ry.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp(`^https?://${t===Py?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ky(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new $y(Ry.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class qy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Gy(e){return"string"===typeof e||e instanceof String}function Wy(e){return Xy()&&e instanceof Blob}function Xy(){return"undefined"!==typeof Blob}function Yy(e,t,n,r){if(r<t)throw By(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw By(`Invalid value for '${e}'. Expected ${n} or less.`)}function Zy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Qy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Jy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Oy||(Oy={}));class ew{constructor(e,t,n,r,i,a,s,o,l,c,d){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new tw(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Oy.NO_ERROR,i=n.getStatus();if(!t||Jy(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Oy.ABORT;return void e(!1,new tw(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new tw(a,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(z){r(z)}else if(null!==i){const e=Fy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Uy():Ly())}else{r(My())}};this.canceled_?t(0,new tw(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let c=!1;function d(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function u(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function h(){a&&clearTimeout(a)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void d.call(null,e,...n);if(l()||s)return h(),void d.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),u(a)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),u(0)):e||(o=1)))}return u(0),a=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tw{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function nw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function rw(){const e=nw();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Xy())return new Blob(n);throw new $y(Ry.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function iw(e){if("undefined"===typeof atob)throw t="base-64",new $y(Ry.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const aw="raw",sw="base64",ow="base64url",lw="data_url";class cw{constructor(e,t){this.data=e,this.contentType=t||null}}function dw(e,t){switch(e){case aw:return new cw(uw(t));case sw:case ow:return new cw(hw(e,t));case lw:return new cw(function(e){const t=new pw(e);return t.base64?hw(sw,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(z){throw zy(lw,"Malformed data URL.")}return uw(t)}(t.rest)}(t),new pw(t).contentType)}throw Fy()}function uw(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function hw(e,t){switch(e){case sw:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw zy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ow:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw zy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iw(t)}catch(z){if(z.message.includes("polyfill"))throw z;throw zy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zy(lw,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class fw{constructor(e,t){let n=0,r="";Wy(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wy(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new fw(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new fw(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Xy()){const e=t.map((e=>e instanceof fw?e.data_:e));return new fw(rw.apply(null,e))}{const e=t.map((e=>Gy(e)?dw(aw,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new fw(r,!0)}}uploadData(){return this.data_}}function mw(e){let t;try{t=JSON.parse(e)}catch(z){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function gw(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function vw(e,t){return t}class xw{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||vw}}let bw=null;function yw(){if(bw)return bw;const e=[];e.push(new xw("bucket")),e.push(new xw("generation")),e.push(new xw("metageneration")),e.push(new xw("name","fullPath",!0));const t=new xw("name");t.xform=function(e,t){return function(e){return!Gy(e)||e.length<2?e:gw(e)}(t)},e.push(t);const n=new xw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new xw("timeCreated")),e.push(new xw("updated")),e.push(new xw("md5Hash",null,!0)),e.push(new xw("cacheControl",null,!0)),e.push(new xw("contentDisposition",null,!0)),e.push(new xw("contentEncoding",null,!0)),e.push(new xw("contentLanguage",null,!0)),e.push(new xw("contentType",null,!0)),e.push(new xw("metadata","customMetadata",!0)),bw=e,bw}function ww(e,t,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Ky(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kw(e,t,n){const r=mw(t);if(null===r)return null;return ww(e,r,n)}function Sw(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class _w{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function jw(e){if(!e)throw Fy()}function Cw(e,t){return function(n,r){const i=kw(e,r,t);return jw(null!==i),i}}function Nw(e,t){return function(n,r){const i=kw(e,r,t);return jw(null!==i),function(e,t,n,r){const i=mw(t);if(null===i)return null;if(!Gy(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const s=encodeURIComponent;return a.split(",").map((t=>{const i=e.bucket,a=e.fullPath;return Zy("/b/"+s(i)+"/o/"+s(a),n,r)+Qy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Ew(e){return function(t,n){let r;var i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new $y(Ry.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new $y(Ry.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new $y(Ry.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new $y(Ry.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Aw(e){const t=Ew(e);return function(n,r){let i=t(n,r);var a;return 404===n.getStatus()&&(a=e.path,i=new $y(Ry.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Tw(e,t,n){const r=Zy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _w(r,"GET",Cw(e,n),i);return a.errorHandler=Aw(t),a}function Pw(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Iw(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;const l=Pw(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Sw(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+o+"--",u=fw.getBlob(c,r,d);if(null===u)throw Vy();const h={name:l.fullPath},p=Zy(a,e.host,e._protocol),f=e.maxUploadRetryTime,m=new _w(p,"POST",Cw(e,n),f);return m.urlParams=h,m.headers=s,m.body=u.uploadData(),m.errorHandler=Ew(t),m}class $w{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oy.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Oy.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Oy.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Hy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(z){return-1}}getResponse(){if(!this.sent_)throw Hy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Rw extends $w{initXhr(){this.xhr_.responseType="text"}}function Ow(){return new Rw}class Dw{constructor(e,t){this._service=e,this._location=t instanceof Ky?t:Ky.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dw(e,t)}get root(){const e=new Ky(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gw(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ky(this._location.bucket,e);return new Dw(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new $y(Ry.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Fw(e,t,n){e._throwIfRoot("uploadBytes");const r=Iw(e.storage,e._location,yw(),new fw(t,!0),n);return e.storage.makeRequestWithTokens(r,Ow).then((t=>({metadata:t,ref:e})))}function Mw(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Zy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _w(r,"GET",Nw(e,n),i);return a.errorHandler=Aw(t),a}(e.storage,e._location,yw());return e.storage.makeRequestWithTokens(t,Ow).then((e=>{if(null===e)throw new $y(Ry.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Lw(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ky(e._location.bucket,n);return new Dw(e.storage,r)}function Vw(e,t){if(e instanceof zw){const n=e;if(null==n._bucket)throw new $y(Ry.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Iy+"' property when initializing the app?");const r=new Dw(n,n._bucket);return null!=t?Vw(r,t):r}return void 0!==t?Lw(e,t):e}function Bw(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof zw)return new Dw(e,t);throw By("To use ref(service, url), the first argument must be a Storage instance.")}return Vw(e,t)}function Uw(e,t){const n=null===t||void 0===t?void 0:t[Iy];return null==n?null:Ky.makeFromBucketSpec(n,e)}class zw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Py,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ky.makeFromBucketSpec(r,this._host):Uw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ky.makeFromBucketSpec(this._url,e):this._bucket=Uw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Za(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dw(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new qy(Uy());{const a=function(e,t,n,r,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Qy(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ew(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then((()=>this._requests.delete(a)),(()=>this._requests.delete(a))),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Hw="@firebase/storage",Kw="0.13.7",qw="storage";function Gw(e,t,n){return Fw(e=Li(e),t,n)}function Ww(e,t,n,r){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aw,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");const i=dw(n,t),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),Fw(e,i.data,a)}(e=Li(e),t,n,r)}function Xw(e){return function(e){e._throwIfRoot("getMetadata");const t=Tw(e.storage,e._location,yw());return e.storage.makeRequestWithTokens(t,Ow)}(e=Li(e))}function Yw(e){return Mw(e=Li(e))}function Zw(e,t){return Bw(e=Li(e),t)}function Qw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns(),t=arguments.length>1?arguments[1]:void 0;e=Li(e);const n=Ya(e,qw).getImmediate({identifier:t}),r=wi("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:ji(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Jw(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new zw(r,i,a,n,es)}Xa(new Vi(qw,Jw,"PUBLIC").setMultipleInstances(!0)),rs(Hw,Kw,""),rs(Hw,Kw,"esm2017");const ek=ts({apiKey:"AIzaSyBYBlPd_oLkYrare86yTzsIqhUJO1ZlIrw",authDomain:"l-plot.firebaseapp.com",projectId:"l-plot",storageBucket:"l-plot.firebasestorage.app",messagingSenderId:"629346971068",appId:"1:629346971068:web:8d0b8033278bdb329b4fb9",measurementId:"G-17B0ZFTZZ4"}),tk=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns();const t=Ya(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ya(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ii(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;yv(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:_y,persistence:[Rb,vb,bb]}),r=Si("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ey)return;const r=null===t||void 0===t?void 0:t.token;Ay!==r&&(Ay=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Li(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Li(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=yi("auth");a&&Vx(n,`http://${a}`)}(ek),function(e,t){const n="object"==typeof e?e:ns(),r="string"==typeof e?e:t||Cl,i=Ya(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=wi("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=zf(e,Gf))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;a.host!==Hf&&a.host!==o&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:o,ssl:!1,emulatorOptions:r});if(!Ii(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ts.MOCK_USER;else{t=ji(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Us(Bs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ts(a)}e._authCredentials=new qs(new Hs(t,n))}}(i,...e)}return i}(ek)),nk=Qw();function rk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uv(hi(t))}const ik=async e=>{try{if(e){const t=Qf(tk,"housemodell_configure_broker",e),n=await Zm(t);if(n.exists())return n.data()}}catch(t){console.error("Error fetching husmodell data:",t)}},ak=async e=>{try{if(e){const t=Qf(tk,"room_configurator",e),n=await Zm(t);if(n.exists())return n.data()}}catch(t){console.error("Error fetching husmodell data:",t)}};function sk(e){const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}.${String(t.getMonth()+1).padStart(2,"0")}.${t.getFullYear()} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`}function ok(e){const t="string"===typeof e?Number(e.replace(/\s/g,"").replace(/kr/i,"")):e;if(isNaN(Number(t)))return e;return`kr ${new Intl.NumberFormat("no-NO",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(t)}`}const lk={"+47":e=>8===e.length};const ck=async()=>{const e=localStorage.getItem("Iplot_admin_bolig");if(e)try{const t=Dm(Zf(tk,"admin"),function(e,t,n){const r=t,i=Im("where",e);return Fm._create(i,r,n)}("email","==",e)),n=await Jm(t);if(n.empty)return console.error("No document found for Email:",e),null;return n.docs[0].data()}catch(t){console.error("Error fetching admin data:",t)}};const dk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hk=(0,e.forwardRef)(((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d}=t;return(0,e.createElement)("svg",{ref:n,...uk,width:i,height:i,stroke:r,strokeWidth:s?24*Number(a)/Number(i):a,className:dk("lucide",o),...d},[...c.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),pk=(t,n)=>{const r=(0,e.forwardRef)(((r,i)=>{let{className:a,...s}=r;return(0,e.createElement)(hk,{ref:i,iconNode:n,className:dk(`lucide-${o=t,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,a),...s});var o}));return r.displayName=`${t}`,r},fk=pk("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),mk=pk("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gk=()=>{const t=zn().pathname,[n,r]=(0,e.useState)(!1),i=(0,e.useRef)(null),a=qn(),[s,o]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=localStorage.getItem("Iplot_admin_bolig");o(e)}),[s]),(0,e.useEffect)((()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{const e=await ck();e&&(c(null===e||void 0===e?void 0:e.photo),u((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.f_name)))})()}),[]);const[h,p]=(0,e.useState)(!1),f=()=>{p(!h)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"px-4 md:px-6 py-4 flex items-center border-b border-gray2 justify-between sticky top-0 bg-white",style:{zIndex:999},children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)(fk,{onClick:f,className:"md:hidden text-primary"}),(0,V.jsx)(Qr,{to:"/",children:(0,V.jsx)("img",{src:ci,alt:"logo",className:"w-[200px] lg:w-auto"})})]}),(0,V.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-base font-medium py-2 px-3 rounded-[6px] "+("/Husmodell"===t||t.startsWith("/se-husmodell/")||"/add-husmodell"===t||t.startsWith("/se-series/")||t.startsWith("/edit-husmodell/")?"bg-lightPurple text-primary":"text-black"),children:"Boligkonfigurator"}),(0,V.jsx)(Qr,{to:"/Bolig-configurator",className:"text-base font-medium py-2 px-3 rounded-[6px] "+("/Room-Configurator"===t||"/Bolig-configurator"===t||t.startsWith("/Room-Configurator/")?"bg-lightPurple text-primary":"text-black"),onClick:()=>{localStorage.setItem("currIndexBolig",(0).toString()),localStorage.setItem("currVerticalIndex",1..toString())},children:"Mine tiltak"})]}),(0,V.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 relative",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{r((e=>!e))},children:[l?(0,V.jsx)("div",{className:"w-8 h-8 md:h-[40px] md:w-[40px]",children:(0,V.jsx)("img",{src:l,alt:"profile",className:"rounded-full"})}):(0,V.jsx)("div",{className:"w-8 h-8 md:h-[40px] md:w-[40px] flex items-center justify-center border border-primary bg-lightPurple rounded-full",children:null===d||void 0===d?void 0:d[0]}),(0,V.jsx)("img",{src:di,alt:"arrow",className:"rotate-180"})]}),n&&(0,V.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white shadow-shadow1 rounded-md shadow-lg p-2 top-10 border border-gray2",ref:i,children:(0,V.jsx)(Qr,{to:"/login",className:"block px-4 py-2 text-sm hover:bg-lightPurple text-black w-full text-left cursor-pointer",onClick:async()=>{try{localStorage.removeItem("Iplot_admin_bolig"),r(!1),a("/login"),pe.success("Logout successfully",{position:"top-right"})}catch(e){console.error("Error logging out:",e)}},children:"Logout"})})]})]}),(0,V.jsx)("div",{style:{transition:"transform 1s, box-shadow 1s",transform:h?"translateX(0)":"translateX(-100%)",background:h?"rgba(0, 0, 0, 0.6)":"",zIndex:999999},className:"fixed top-0 left-0 w-full h-screen z-50",children:(0,V.jsxs)("div",{className:"bg-white h-full px-4 sm:px-5 md:px-8 lg:px-10 big:px-[120px] w-[85%]",children:[(0,V.jsxs)("div",{className:"flex items-center justify-between py-4 mb-4",children:[(0,V.jsx)("div",{className:"gap-[12px] flex items-center",children:(0,V.jsx)("img",{src:ci,alt:"logo",className:"w-[200px] lg:w-auto"})}),(0,V.jsx)("button",{onClick:f,className:"text-3xl",children:(0,V.jsx)(mk,{className:"text-primary"})})]}),(0,V.jsxs)("div",{className:"flex flex-col items-start font-medium gap-3",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-base font-medium py-2 px-3 rounded-[6px] "+("/Husmodell"===t||t.startsWith("/se-husmodell/")||t.startsWith("/se-series/")||"/add-husmodell"===t||t.startsWith("/edit-husmodell/")?"bg-lightPurple text-primary":"text-black"),children:"Boligkonfigurator"}),(0,V.jsx)(Qr,{to:"/Bolig-configurator",className:"text-base font-medium py-2 px-3 rounded-[6px] "+("/Room-Configurator"===t||"/Bolig-configurator"===t||t.startsWith("/Room-Configurator/")?"bg-lightPurple text-primary":"text-black"),onClick:()=>{localStorage.setItem("currIndexBolig",(0).toString()),localStorage.setItem("currVerticalIndex",1..toString())},children:"Mine tiltak"})]})]})})]})},vk=()=>{const{pathname:t}=zn();return(0,e.useEffect)((()=>{window.scrollTo(0,0)}),[t]),null},xk=()=>!!localStorage.getItem("Iplot_admin_bolig"),bk=()=>xk()?(0,V.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,V.jsx)(vk,{}),(0,V.jsx)(gk,{}),(0,V.jsx)("main",{className:"",children:(0,V.jsx)(e.Suspense,{fallback:(0,V.jsx)(li,{}),children:(0,V.jsx)(mr,{})})})]}):(0,V.jsx)(fr,{to:"/login",replace:!0}),yk=t=>{let{onClose:n,children:r,isOpen:i,outSideClick:a}=t;const s=(0,e.useRef)(null);return(0,e.useEffect)((()=>{var e,t;i&&!a?(null===(e=document.body)||void 0===e||e.classList.add("h-screen"),document.body.style.overflow="hidden"):(null===(t=document.body)||void 0===t||t.classList.remove("h-screen"),document.body.style.overflow="");return()=>{var e;null===(e=document.body)||void 0===e||e.classList.remove("h-screen"),document.body.style.overflow=""}}),[i]),(0,e.useEffect)((()=>{const e=e=>{!s.current||s.current.contains(e.target)||a||n()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n]),(0,V.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:99999},children:(0,V.jsx)("div",{className:"bg-white rounded-[12px] relative mx-[16px]",ref:s,children:(0,V.jsx)("div",{children:r})})})};const wk=__webpack_require__.p+"static/media/Ic_trash.470840ab3fb61eb8b0c47fe0899784ba.svg",kk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAABqCAYAAACSyJJrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkVSURBVHgB7Z19bBPnHce/z9lJ7CQwu+SFCDYMTJo0rSX0rwJTOV5CtwpGyjoJbaOko5UWaVrSaZumMS2O1v2xaRNEnVZpHUo8NrE/KpFIqOsEK+YPqnabVMNQpVWlOVArO29gyBvEvnv6PBecOC8UOzmbO9/vI50uz/lJ4vi++T2/t7sDCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCGLJ7N4bD4utAy7HC8Lka83xUFpHWzqFzXA5CggTXUcHN9AbfbNBg8shSzGLKoSxAwRZConwI1TOoc23Ek374i2q2h+Ay3ClKNTmBSd6OziPzZ/HgWPw+UgUbsCb9p9vevrjxjkHGUtmD6XjKXyMpBt9DFeKgnEe0H3KzZmxwpKcIQTCxJ0+hYKoZ0ppzgxTSkVECKU52394s3faQkh/Ay7DlaIQTmVEmIv2jAiivcEk56zXW+1rmzevU+xcl8xypSjOnWmIymijrNp/OHNMhKOdYgmZE2289UZDj9y7zVq4NiTlMLrEpmbG0qFkWGgtBK6zFq4VBYMiog02N9zkvA+cNWcf8nqhCasSgotws6VYkH9Ie30xMCOUfUyHHhAWJAkX4VpRKEzZLyxAT/axMoyHhMM5VwC6p1EIRYOLcKUoZGLKMMxax4U5LwgBMDY3symEc1hGJnARDCXOUJyriiLS2Fkc/fVIy/Ytldqenf5o9vGDLyRaXjy0Mrpre6Umx6+dvB26dOVuyx9+UxuGDeFpXKpZY71gS1oUQwN6WPgDOUUOkVOjItMNPHdwxcyxV0/cwtf3VCL0+TLYFcbY8VV17CVYSMmKYjjOW6Dw7lzmXrg4iX+cncQvfxpEZaXzPhIh/PCqetYJiyhZUdwY4KcN8OZc5k5McHPvREGYcERrViuW9YJQkw0cLIZ7iEyspeX9ko0+uIIYXAIDt/RvLVlRKF50iZ2G0kdLGYpl/oTEdstHPM5DsIBvHUqE1q7xahtD3hAKjIxOtm/z338ZYkgyDsuzoobIn6Q5uhoamAYLsY0oBhN6u0dhHZzzZa+P2vUUVtd7cPDZKhSDt9+9g/+8d9eMXhaFIyASYDEPx/NBi09gIbCFh5VP+JgLr/eNwV/F8Ny3q1EMxsYNfPd7wzjxSu1nzhMftqZMsM3B9faupdjCp2Ae3oYCoRu5bQbP/WeOjXNc/Sg9M66uUjA+YTzw+8SvCBl+HIbNsYUoRH2hEQUgj/OcF1c/SuHVP9/GkrA4fCwE9og+GGxtTq1E5BQ02BxbiMIwuKUhlY3RUvMrszbEFqKoW+05zhQWRmmjGYw90+CA6MM2IemqWtYpchQRnxfrsBTEWq3rELUOEcnYj6RYNzSF49hw4sGeDhPZWEVH12Lhq2wFEK9LZzXgYegN1rEILMZWyat7/0Ualk7f8ADvE/vTsBcBMK7mOlk43qquoH34E/5Mdr/E8KB+XLw4E6npHM0jA0bY6jC3JApiu/Z+0sygtAlr0XjwSML07n/S/jk4Hi/vvtnPo/KESwuRLYgMZphbCXncMr/M0aJoah5s5Ol096ZHKxqbdvrx1S0+VFXN5uMKFZIWkUCqzOwkjykeyJ7SRbnXIkCikNahys+7W48EAnt2+VGqlFWg6CbPkaKQjbc+v9L9u5eDgY0bZlvlLv1vCokB3fx602PlqK/zwOFowVpmhrCGjj7hYLYvNklhLAoLcaQoRJRxvvXIihlBfCgzjK+N4vKVVGzTo+WBW0kjNDCo41CBah8bN3jR+sIKFBo9Pdt7WdvAoiNDPMwNHs6eI1aU2Og4nFs6F05TIO1bXkr7V7+9oZb5EMosGdIydLycxJNb/dGjP3pEE1XWFlkQKySy1lG9YRkpnukM7n0bY7jBYlxBpH4NmzNHhu2DcX5NUfh+88cICyEEEVlvcYGtaKKQndU6eMeyy7Ii2D/wjVkL8OOf38A391XJfgaV8+K4llKIl65M4al8fRlTDKy9Zhm5hboG1iN2PSggRclojiT09lxb7T8LWYm8/rGOrU9UmON/npvEqqDHbHApJnJpOvuvSeRLSmebawqQbLKa4qS5GbOkNH7tetpczzO8/c4dIQgfnAHvcUKKW1IUUcgECyxgfNIw1/MMsq+htqb4EYbMhWRHPbkgkmsaHEJRRMGYNZ3VE0IE2cmph8UXhSDyjT6Ev6PCIRRFFLrOumAB677gxdX+2Y4n2Yc5NKzDETCow4Pc9l1XkqKIQnrMhsGexzJb7uVSMTAwK4LHvlKOCxfvwDFw3jMU18OwOUULSTOh1M2bfGmlccHKco9sku0RmUtVJKmwbUsF/npqDO//fwpf/lI5nABTWMfIoNEmcxEeBT1BG0YjRc9oBoPsGpbBzqfjkZOnxoQoHjGdzvDRgJm8OjCdq4ATEOkUs5QuSt+qsBzraxs8YdgIx10hJu9YF7s8pV185645llFA5y8COH1mHD8Lj+Avp0bx3/em4BSk5ZCZXtgIR142uOtJ30t//NNtJAan/QspjJMnavGD1pVYF/Lg2QOVeGq3cyqnehX2w0Y4siDW+p2A9ta/J9D6wxF8/8UVM+lm6WfILYNT+ik8NuvwdqQogmtZbHjA0ESIGvr9K7dwWZTMtz7hMwVRbYM8Rp7MlMftgmNvzCAvRC5T+HnxZUjeiUaGpjIKyfRQyLK5rKQaD75wy0Te2khZxqfRtC+Bv5+oz+t7ZIHMANtRV8dsddsEx3ZeyTqCEMYOIQFV3Va5Tmzm8fc/mMLrveOqyGeoKDLyNkN5TE7eLkDZ2woc3aN5r8DUM//47r1xPP54mYoiY+V9px4m9LgoYgEkCmIBJApiASQKYgG2cjR370u0c/BNmTHj0M6daehc7LX7oeh618NOWuXyXuX7TJVXaR79zrHM+Owba20Rmtor+uBc3hdq5oFvBjeyw7V+jzH72v2YMjxJ78O3fw98r/J9ysdUCQH1KgYPyDGIwiEfYh/52yg3OOdpPbdNl5OXgfidJXCV4jQlfcddmaCUWcpczlbJP84gD0pWFFf7U+YlAET+lKQo0mlELr57NyQ2FAsF9qpfEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEATheD4F9UevNS1KL0gAAAAASUVORK5CYII=",Sk=e=>{let{text:t,className:n,type:r,onClick:i,path:a,icon:s}=e;const o=qn();return(0,V.jsxs)("button",{className:`${n} text-base whitespace-nowrap px-4 py-[10px] h-[40px] flex items-center justify-center`,type:r||"button",onClick:()=>{a?o(a):null===i||void 0===i||i()},children:[s&&s,t]})},_k=pk("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),jk=pk("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var Ck=e=>"checkbox"===e.type,Nk=e=>e instanceof Date,Ek=e=>null==e;const Ak=e=>"object"===typeof e;var Tk=e=>!Ek(e)&&!Array.isArray(e)&&Ak(e)&&!Nk(e),Pk=e=>Tk(e)&&e.target?Ck(e.target)?e.target.checked:e.target.value:e,Ik=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),$k="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Rk(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if($k&&(e instanceof Blob||r)||!n&&!Tk(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return Tk(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Rk(e[n]));else t=e}return t}var Ok=e=>Array.isArray(e)?e.filter(Boolean):[],Dk=e=>void 0===e,Fk=(e,t,n)=>{if(!t||!Tk(e))return n;const r=Ok(t.split(/[,[\].]+?/)).reduce(((e,t)=>Ek(e)?e:e[t]),e);return Dk(r)||r===e?Dk(e[t])?n:e[t]:r},Mk=e=>"boolean"===typeof e,Lk=e=>/^\w*$/.test(e),Vk=e=>Ok(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Bk=(e,t,n)=>{let r=-1;const i=Lk(t)?[t]:Vk(t),a=i.length,s=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==s){const n=e[t];a=Tk(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}return e};const Uk="blur",zk="focusout",Hk="change",Kk="onBlur",qk="onChange",Gk="onSubmit",Wk="onTouched",Xk="all",Yk="max",Zk="min",Qk="maxLength",Jk="minLength",eS="pattern",tS="required",nS="validate",rS=e.createContext(null),iS=()=>e.useContext(rS);var aS=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Xk&&(t._proxyFormState[i]=!r||Xk),n&&(n[i]=!0),e[i]}});return i},sS=e=>Tk(e)&&!Object.keys(e).length,oS=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return sS(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||Xk)))},lS=e=>Array.isArray(e)?e:[e],cS=(e,t,n)=>!e||!t||e===t||lS(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function dS(t){const n=e.useRef(t);n.current=t,e.useEffect((()=>{const e=!t.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{e&&e.unsubscribe()}}),[t.disabled])}var uS=e=>"string"===typeof e,hS=(e,t,n,r,i)=>uS(e)?(r&&t.watch.add(e),Fk(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Fk(n,e)))):(r&&(t.watchAll=!0),n);function pS(t){const n=iS(),{name:r,disabled:i,control:a=n.control,shouldUnregister:s}=t,o=Ik(a._names.array,r),l=function(t){const n=iS(),{control:r=n.control,name:i,defaultValue:a,disabled:s,exact:o}=t||{},l=e.useRef(i);l.current=i,dS({disabled:s,subject:r._subjects.values,next:e=>{cS(l.current,e.name,o)&&d(Rk(hS(l.current,r._names,e.values||r._formValues,!1,a)))}});const[c,d]=e.useState(r._getWatch(i,a));return e.useEffect((()=>r._removeUnmounted())),c}({control:a,name:r,defaultValue:Fk(a._formValues,r,Fk(a._defaultValues,r,t.defaultValue)),exact:!0}),c=function(t){const n=iS(),{control:r=n.control,disabled:i,name:a,exact:s}=t||{},[o,l]=e.useState(r._formState),c=e.useRef(!0),d=e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=e.useRef(a);return u.current=a,dS({disabled:i,next:e=>c.current&&cS(u.current,e.name,s)&&oS(e,d.current,r._updateFormState)&&l({...r._formState,...e}),subject:r._subjects.state}),e.useEffect((()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1})),[r]),e.useMemo((()=>aS(o,r,d.current,!1)),[o,r])}({control:a,name:r,exact:!0}),d=e.useRef(a.register(r,{...t.rules,value:l,...Mk(t.disabled)?{disabled:t.disabled}:{}})),u=e.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fk(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Fk(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Fk(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Fk(c.validatingFields,r)},error:{enumerable:!0,get:()=>Fk(c.errors,r)}})),[c,r]),h=e.useMemo((()=>({name:r,value:l,...Mk(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:e=>d.current.onChange({target:{value:Pk(e),name:r},type:Hk}),onBlur:()=>d.current.onBlur({target:{value:Fk(a._formValues,r),name:r},type:Uk}),ref:e=>{const t=Fk(a._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[r,a._formValues,i,c.disabled,l,a._fields]);return e.useEffect((()=>{const e=a._options.shouldUnregister||s,t=(e,t)=>{const n=Fk(a._fields,e);n&&n._f&&(n._f.mount=t)};if(t(r,!0),e){const e=Rk(Fk(a._options.defaultValues,r));Bk(a._defaultValues,r,e),Dk(Fk(a._formValues,r))&&Bk(a._formValues,r,e)}return!o&&a.register(r),()=>{(o?e&&!a._state.action:e)?a.unregister(r):t(r,!1)}}),[r,a,o,s]),e.useEffect((()=>{a._updateDisabledField({disabled:i,fields:a._fields,name:r})}),[i,r,a]),e.useMemo((()=>({field:h,formState:c,fieldState:u})),[h,c,u])}const fS=e=>e.render(pS(e));var mS=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},gS=()=>{const e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},vS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.shouldFocus||Dk(n.shouldFocus)?n.focusName||`${e}.${Dk(n.focusIndex)?t:n.focusIndex}.`:""},xS=e=>({isOnSubmit:!e||e===Gk,isOnBlur:e===Kk,isOnChange:e===qk,isOnAll:e===Xk,isOnTouch:e===Wk}),bS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const yS=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Fk(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(yS(a,t))break}else if(Tk(a)&&yS(a,t))break}}};var wS=(e,t,n)=>{const r=lS(Fk(e,n));return Bk(r,"root",t[n]),Bk(e,n,r),e},kS=e=>"file"===e.type,SS=e=>"function"===typeof e,_S=e=>{if(!$k)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},jS=e=>uS(e),CS=e=>"radio"===e.type,NS=e=>e instanceof RegExp;const ES={value:!1,isValid:!1},AS={value:!0,isValid:!0};var TS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Dk(e[0].attributes.value)?Dk(e[0].value)||""===e[0].value?AS:{value:e[0].value,isValid:!0}:AS:ES}return ES};const PS={isValid:!1,value:null};var IS=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),PS):PS;function $S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(jS(e)||Array.isArray(e)&&e.every(jS)||Mk(e)&&!e)return{type:n,message:jS(e)?e:"",ref:t}}var RS=e=>Tk(e)&&!NS(e)?e:{value:e,message:""},OS=async(e,t,n,r,i,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:d,min:u,max:h,pattern:p,validate:f,name:m,valueAsNumber:g,mount:v}=e._f,x=Fk(n,m);if(!v||t.has(m))return{};const b=o?o[0]:s,y=e=>{i&&b.reportValidity&&(b.setCustomValidity(Mk(e)?"":e||""),b.reportValidity())},w={},k=CS(s),S=Ck(s),_=k||S,j=(g||kS(s))&&Dk(s.value)&&Dk(x)||_S(s)&&""===s.value||""===x||Array.isArray(x)&&!x.length,C=mS.bind(null,m,r,w),N=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qk,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jk;const a=e?t:n;w[m]={type:e?r:i,message:a,ref:s,...C(e?r:i,a)}};if(a?!Array.isArray(x)||!x.length:l&&(!_&&(j||Ek(x))||Mk(x)&&!x||S&&!TS(o).isValid||k&&!IS(o).isValid)){const{value:e,message:t}=jS(l)?{value:!!l,message:l}:RS(l);if(e&&(w[m]={type:tS,message:t,ref:b,...C(tS,t)},!r))return y(t),w}if(!j&&(!Ek(u)||!Ek(h))){let e,t;const n=RS(h),i=RS(u);if(Ek(x)||isNaN(x)){const r=s.valueAsDate||new Date(x),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,l="week"==s.type;uS(n.value)&&x&&(e=o?a(x)>a(n.value):l?x>n.value:r>new Date(n.value)),uS(i.value)&&x&&(t=o?a(x)<a(i.value):l?x<i.value:r<new Date(i.value))}else{const r=s.valueAsNumber||(x?+x:x);Ek(n.value)||(e=r>n.value),Ek(i.value)||(t=r<i.value)}if((e||t)&&(N(!!e,n.message,i.message,Yk,Zk),!r))return y(w[m].message),w}if((c||d)&&!j&&(uS(x)||a&&Array.isArray(x))){const e=RS(c),t=RS(d),n=!Ek(e.value)&&x.length>+e.value,i=!Ek(t.value)&&x.length<+t.value;if((n||i)&&(N(n,e.message,t.message),!r))return y(w[m].message),w}if(p&&!j&&uS(x)){const{value:e,message:t}=RS(p);if(NS(e)&&!x.match(e)&&(w[m]={type:eS,message:t,ref:s,...C(eS,t)},!r))return y(t),w}if(f)if(SS(f)){const e=$S(await f(x,n),b);if(e&&(w[m]={...e,...C(nS,e.message)},!r))return y(e.message),w}else if(Tk(f)){let e={};for(const t in f){if(!sS(e)&&!r)break;const i=$S(await f[t](x,n),b,t);i&&(e={...i,...C(t,i.message)},y(i.message),r&&(w[m]=e))}if(!sS(e)&&(w[m]={ref:b,...e},!r))return w}return y(!0),w},DS=(e,t)=>[...e,...lS(t)],FS=e=>Array.isArray(e)?e.map((()=>{})):void 0;function MS(e,t,n){return[...e.slice(0,t),...lS(n),...e.slice(t)]}var LS=(e,t,n)=>Array.isArray(e)?(Dk(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],VS=(e,t)=>[...lS(t),...lS(e)];var BS=(e,t)=>Dk(t)?[]:function(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return Ok(r).length?r:[]}(e,lS(t).sort(((e,t)=>e-t))),US=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function zS(e,t){const n=Array.isArray(t)?t:Lk(t)?[t]:Vk(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Dk(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Tk(r)&&sS(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Dk(e[t]))return!1;return!0}(r))&&zS(e,n.slice(0,-1)),e}var HS=(e,t,n)=>(e[t]=n,e);function KS(t){const n=iS(),{control:r=n.control,name:i,keyName:a="id",shouldUnregister:s,rules:o}=t,[l,c]=e.useState(r._getFieldArray(i)),d=e.useRef(r._getFieldArray(i).map(gS)),u=e.useRef(l),h=e.useRef(i),p=e.useRef(!1);h.current=i,u.current=l,r._names.array.add(i),o&&r.register(i,o),dS({next:e=>{let{values:t,name:n}=e;if(n===h.current||!n){const e=Fk(t,h.current);Array.isArray(e)&&(c(e),d.current=e.map(gS))}},subject:r._subjects.array});const f=e.useCallback((e=>{p.current=!0,r._updateFieldArray(i,e)}),[r,i]);return e.useEffect((()=>{if(r._state.action=!1,bS(i,r._names)&&r._subjects.state.next({...r._formState}),p.current&&(!xS(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([i]).then((e=>{const t=Fk(e.errors,i),n=Fk(r._formState.errors,i);(n?!t&&n.type||t&&(n.type!==t.type||n.message!==t.message):t&&t.type)&&(t?Bk(r._formState.errors,i,t):zS(r._formState.errors,i),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=Fk(r._fields,i);!e||!e._f||xS(r._options.reValidateMode).isOnSubmit&&xS(r._options.mode).isOnSubmit||OS(e,r._names.disabled,r._formValues,r._options.criteriaMode===Xk,r._options.shouldUseNativeValidation,!0).then((e=>!sS(e)&&r._subjects.state.next({errors:wS(r._formState.errors,e,i)})))}r._subjects.values.next({name:i,values:{...r._formValues}}),r._names.focus&&yS(r._fields,((e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1})),r._names.focus="",r._updateValid(),p.current=!1}),[l,i,r]),e.useEffect((()=>(!Fk(r._formValues,i)&&r._updateFieldArray(i),()=>{(r._options.shouldUnregister||s)&&r.unregister(i)})),[i,r,a,s]),{swap:e.useCallback(((e,t)=>{const n=r._getFieldArray(i);US(n,e,t),US(d.current,e,t),f(n),c(n),r._updateFieldArray(i,n,US,{argA:e,argB:t},!1)}),[f,i,r]),move:e.useCallback(((e,t)=>{const n=r._getFieldArray(i);LS(n,e,t),LS(d.current,e,t),f(n),c(n),r._updateFieldArray(i,n,LS,{argA:e,argB:t},!1)}),[f,i,r]),prepend:e.useCallback(((e,t)=>{const n=lS(Rk(e)),a=VS(r._getFieldArray(i),n);r._names.focus=vS(i,0,t),d.current=VS(d.current,n.map(gS)),f(a),c(a),r._updateFieldArray(i,a,VS,{argA:FS(e)})}),[f,i,r]),append:e.useCallback(((e,t)=>{const n=lS(Rk(e)),a=DS(r._getFieldArray(i),n);r._names.focus=vS(i,a.length-1,t),d.current=DS(d.current,n.map(gS)),f(a),c(a),r._updateFieldArray(i,a,DS,{argA:FS(e)})}),[f,i,r]),remove:e.useCallback((e=>{const t=BS(r._getFieldArray(i),e);d.current=BS(d.current,e),f(t),c(t),!Array.isArray(Fk(r._fields,i))&&Bk(r._fields,i,void 0),r._updateFieldArray(i,t,BS,{argA:e})}),[f,i,r]),insert:e.useCallback(((e,t,n)=>{const a=lS(Rk(t)),s=MS(r._getFieldArray(i),e,a);r._names.focus=vS(i,e,n),d.current=MS(d.current,e,a.map(gS)),f(s),c(s),r._updateFieldArray(i,s,MS,{argA:e,argB:FS(t)})}),[f,i,r]),update:e.useCallback(((e,t)=>{const n=Rk(t),a=HS(r._getFieldArray(i),e,n);d.current=[...a].map(((t,n)=>t&&n!==e?d.current[n]:gS())),f(a),c([...a]),r._updateFieldArray(i,a,HS,{argA:e,argB:n},!0,!1)}),[f,i,r]),replace:e.useCallback((e=>{const t=lS(Rk(e));d.current=t.map(gS),f([...t]),c([...t]),r._updateFieldArray(i,[...t],(e=>e),{},!0,!1)}),[f,i,r]),fields:e.useMemo((()=>l.map(((e,t)=>({...e,[a]:d.current[t]||gS()})))),[l,a])}}var qS=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},GS=e=>Ek(e)||!Ak(e);function WS(e,t){if(GS(e)||GS(t))return e===t;if(Nk(e)&&Nk(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(Nk(n)&&Nk(e)||Tk(n)&&Tk(e)||Array.isArray(n)&&Array.isArray(e)?!WS(n,e):n!==e)return!1}}return!0}var XS=e=>"select-multiple"===e.type,YS=e=>_S(e)&&e.isConnected,ZS=e=>{for(const t in e)if(SS(e[t]))return!0;return!1};function QS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Tk(e)||n)for(const r in e)Array.isArray(e[r])||Tk(e[r])&&!ZS(e[r])?(t[r]=Array.isArray(e[r])?[]:{},QS(e[r],t[r])):Ek(e[r])||(t[r]=!0);return t}function JS(e,t,n){const r=Array.isArray(e);if(Tk(e)||r)for(const i in e)Array.isArray(e[i])||Tk(e[i])&&!ZS(e[i])?Dk(t)||GS(n[i])?n[i]=Array.isArray(e[i])?QS(e[i],[]):{...QS(e[i])}:JS(e[i],Ek(t)?{}:t[i],n[i]):n[i]=!WS(e[i],t[i]);return n}var e_=(e,t)=>JS(e,t,QS(t)),t_=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Dk(e)?e:n?""===e?NaN:e?+e:e:r&&uS(e)?new Date(e):i?i(e):e};function n_(e){const t=e.ref;return kS(t)?t.files:CS(t)?IS(e.refs).value:XS(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):Ck(t)?TS(e.refs).value:t_(Dk(t.value)?e.ref.value:t.value,e)}var r_=e=>Dk(e)?e:NS(e)?e.source:Tk(e)?NS(e.value)?e.value.source:e.value:e;const i_="AsyncFunction";function a_(e,t,n){const r=Fk(e,n);if(r||Lk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=Fk(t,r),s=Fk(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(s&&s.type)return{name:r,error:s};i.pop()}return{name:n}}const s_={mode:Gk,reValidateMode:qk,shouldFocusError:!0};function o_(){let e,t={...s_,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isLoading:SS(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(Tk(t.defaultValues)||Tk(t.values))&&Rk(t.defaultValues||t.values)||{},a=t.shouldUnregister?{}:Rk(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:qS(),array:qS(),state:qS()},u=xS(t.mode),h=xS(t.reValidateMode),p=t.criteriaMode===Xk,f=async e=>{if(!t.disabled&&(c.isValid||e)){const e=t.resolver?sS((await b()).errors):await y(r,!0);e!==n.isValid&&d.state.next({isValid:e})}},m=(e,r)=>{t.disabled||!c.isValidating&&!c.validatingFields||((e||Array.from(o.mount)).forEach((e=>{e&&(r?Bk(n.validatingFields,e,r):zS(n.validatingFields,e))})),d.state.next({validatingFields:n.validatingFields,isValidating:!sS(n.validatingFields)}))},g=(e,t,n,o)=>{const l=Fk(r,e);if(l){const r=Fk(a,e,Dk(n)?Fk(i,e):n);Dk(r)||o&&o.defaultChecked||t?Bk(a,e,t?r:n_(l._f)):S(e,r),s.mount&&f()}},v=(e,a,s,o,l)=>{let u=!1,h=!1;const p={name:e};if(!t.disabled){const t=!!(Fk(r,e)&&Fk(r,e)._f&&Fk(r,e)._f.disabled);if(!s||o){c.isDirty&&(h=n.isDirty,n.isDirty=p.isDirty=w(),u=h!==p.isDirty);const r=t||WS(Fk(i,e),a);h=!(t||!Fk(n.dirtyFields,e)),r||t?zS(n.dirtyFields,e):Bk(n.dirtyFields,e,!0),p.dirtyFields=n.dirtyFields,u=u||c.dirtyFields&&h!==!r}if(s){const t=Fk(n.touchedFields,e);t||(Bk(n.touchedFields,e,s),p.touchedFields=n.touchedFields,u=u||c.touchedFields&&t!==s)}u&&l&&d.state.next(p)}return u?p:{}},x=(r,i,a,s)=>{const o=Fk(n.errors,r),u=c.isValid&&Mk(i)&&n.isValid!==i;if(t.delayError&&a?(e=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})((()=>((e,t)=>{Bk(n.errors,e,t),d.state.next({errors:n.errors})})(r,a))),e(t.delayError)):(clearTimeout(l),e=null,a?Bk(n.errors,r,a):zS(n.errors,r)),(a?!WS(o,a):o)||!sS(s)||u){const e={...s,...u&&Mk(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},d.state.next(e)}},b=async e=>{m(e,!0);const n=await t.resolver(a,t.context,((e,t,n,r)=>{const i={};for(const a of e){const e=Fk(t,a);e&&Bk(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return m(e),n},y=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const l in e){const d=e[l];if(d){const{_f:e,...u}=d;if(e){const u=o.array.has(e.name),h=d._f&&(!!(s=d._f)&&!!s.validate&&!!(SS(s.validate)&&s.validate.constructor.name===i_||Tk(s.validate)&&Object.values(s.validate).find((e=>e.constructor.name===i_))));h&&c.validatingFields&&m([l],!0);const f=await OS(d,o.disabled,a,p,t.shouldUseNativeValidation&&!r,u);if(h&&c.validatingFields&&m([l]),f[e.name]&&(i.valid=!1,r))break;!r&&(Fk(f,e.name)?u?wS(n.errors,f,e.name):Bk(n.errors,e.name,f[e.name]):zS(n.errors,e.name))}!sS(u)&&await y(u,r,i)}}var s;return i.valid},w=(e,n)=>!t.disabled&&(e&&n&&Bk(a,e,n),!WS(A(),i)),k=(e,t,n)=>hS(e,o,{...s.mount?a:Dk(t)?i:uS(e)?{[e]:t}:t},n,t),S=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Fk(r,e);let s=t;if(i){const n=i._f;n&&(!n.disabled&&Bk(a,e,t_(t,n)),s=_S(n.ref)&&Ek(t)?"":t,XS(n.ref)?[...n.ref.options].forEach((e=>e.selected=s.includes(e.value))):n.refs?Ck(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find((t=>t===e.value)):s===e.value))):n.refs[0]&&(n.refs[0].checked=!!s):n.refs.forEach((e=>e.checked=e.value===s)):kS(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||d.values.next({name:e,values:{...a}})))}(n.shouldDirty||n.shouldTouch)&&v(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&E(e)},_=(e,t,n)=>{for(const i in t){const a=t[i],s=`${e}.${i}`,l=Fk(r,s);(o.array.has(e)||Tk(a)||l&&!l._f)&&!Nk(a)?_(s,a,n):S(s,a,n)}},j=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=Fk(r,e),h=o.array.has(e),p=Rk(t);Bk(a,e,p),h?(d.array.next({name:e,values:{...a}}),(c.isDirty||c.dirtyFields)&&l.shouldDirty&&d.state.next({name:e,dirtyFields:e_(i,a),isDirty:w(e,p)})):!u||u._f||Ek(p)?S(e,p,l):_(e,p,l),bS(e,o)&&d.state.next({...n}),d.values.next({name:s.mount?e:void 0,values:{...a}})},C=async i=>{s.mount=!0;const l=i.target;let g=l.name,w=!0;const k=Fk(r,g),S=e=>{w=Number.isNaN(e)||Nk(e)&&isNaN(e.getTime())||WS(e,Fk(a,g,e))};if(k){let s,_;const j=l.type?n_(k._f):Pk(i),C=i.type===Uk||i.type===zk,N=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(k._f)&&!t.resolver&&!Fk(n.errors,g)&&!k._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(C,Fk(n.touchedFields,g),n.isSubmitted,h,u),A=bS(g,o,C);Bk(a,g,j),C?(k._f.onBlur&&k._f.onBlur(i),e&&e(0)):k._f.onChange&&k._f.onChange(i);const T=v(g,j,C,!1),P=!sS(T)||A;if(!C&&d.values.next({name:g,type:i.type,values:{...a}}),N)return c.isValid&&("onBlur"===t.mode&&C?f():C||f()),P&&d.state.next({name:g,...A?{}:T});if(!C&&A&&d.state.next({...n}),t.resolver){const{errors:e}=await b([g]);if(S(j),w){const t=a_(n.errors,r,g),i=a_(e,r,t.name||g);s=i.error,g=i.name,_=sS(e)}}else m([g],!0),s=(await OS(k,o.disabled,a,p,t.shouldUseNativeValidation))[g],m([g]),S(j),w&&(s?_=!1:c.isValid&&(_=await y(r,!0)));w&&(k._f.deps&&E(k._f.deps),x(g,_,s,T))}},N=(e,t)=>{if(Fk(n.errors,t)&&e.focus)return e.focus(),1},E=async function(e){let i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=lS(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const r of e){const e=Fk(t,r);e?Bk(n.errors,r,e):zS(n.errors,r)}else n.errors=t;return t})(Dk(e)?e:l);i=sS(t),a=e?!l.some((e=>Fk(t,e))):i}else e?(a=(await Promise.all(l.map((async e=>{const t=Fk(r,e);return await y(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||n.isValid)&&f()):a=i=await y(r);return d.state.next({...!uS(e)||c.isValid&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),s.shouldFocus&&!a&&yS(r,N,e?l:o.mount),a},A=e=>{const t={...s.mount?a:i};return Dk(e)?t:uS(e)?Fk(t,e):e.map((e=>Fk(t,e)))},T=(e,t)=>({invalid:!!Fk((t||n).errors,e),isDirty:!!Fk((t||n).dirtyFields,e),error:Fk((t||n).errors,e),isValidating:!!Fk(n.validatingFields,e),isTouched:!!Fk((t||n).touchedFields,e)}),P=(e,t,i)=>{const a=(Fk(r,e,{_f:{}})._f||{}).ref,s=Fk(n.errors,e)||{},{ref:o,message:l,type:c,...u}=s;Bk(n.errors,e,{...u,...t,ref:a}),d.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&a&&a.focus&&a.focus()},I=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?lS(e):o.mount)o.mount.delete(l),o.array.delete(l),s.keepValue||(zS(r,l),zS(a,l)),!s.keepError&&zS(n.errors,l),!s.keepDirty&&zS(n.dirtyFields,l),!s.keepTouched&&zS(n.touchedFields,l),!s.keepIsValidating&&zS(n.validatingFields,l),!t.shouldUnregister&&!s.keepDefaultValue&&zS(i,l);d.values.next({values:{...a}}),d.state.next({...n,...s.keepDirty?{isDirty:w()}:{}}),!s.keepIsValid&&f()},$=e=>{let{disabled:t,name:n,field:r,fields:i}=e;(Mk(t)&&s.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n),v(n,n_(r?r._f:Fk(i,n)._f),!1,!1,!0))},R=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Fk(r,e);const l=Mk(n.disabled)||Mk(t.disabled);return Bk(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...n}}),o.mount.add(e),a?$({field:a,disabled:Mk(n.disabled)?n.disabled:t.disabled,name:e}):g(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:r_(n.min),max:r_(n.max),minLength:r_(n.minLength),maxLength:r_(n.maxLength),pattern:r_(n.pattern)}:{},name:e,onChange:C,onBlur:C,ref:l=>{if(l){R(e,n),a=Fk(r,e);const t=Dk(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,s=(e=>CS(e)||Ck(e))(t),o=a._f.refs||[];if(s?o.find((e=>e===t)):t===a._f.ref)return;Bk(r,e,{_f:{...a._f,...s?{refs:[...o.filter(YS),t,...Array.isArray(Fk(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),g(e,!1,void 0,t)}else a=Fk(r,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!Ik(o.array,e)||!s.action)&&o.unMount.add(e)}}},O=()=>t.shouldFocusError&&yS(r,N,o.mount),D=(e,i)=>async s=>{let l;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Rk(a);if(o.disabled.size)for(const e of o.disabled)Bk(c,e,void 0);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await b();n.errors=e,c=t}else await y(r);if(zS(n.errors,"root"),sS(n.errors)){d.state.next({errors:{}});try{await e(c,s)}catch(u){l=u}}else i&&await i({...n.errors},s),O(),setTimeout(O);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sS(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},F=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=e?Rk(e):i,h=Rk(u),p=sS(e),f=p?i:h;if(l.keepDefaultValues||(i=u),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(e_(i,a))]);for(const t of Array.from(e))Fk(n.dirtyFields,t)?Bk(f,t,Fk(a,t)):j(t,Fk(f,t))}else{if($k&&Dk(e))for(const e of o.mount){const t=Fk(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(_S(e)){const t=e.closest("form");if(t){t.reset();break}}}}r={}}a=t.shouldUnregister?l.keepDefaultValues?Rk(i):{}:Rk(f),d.array.next({values:{...f}}),d.values.next({values:{...f}})}o={mount:l.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,s.watch=!!t.shouldUnregister,d.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!p&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||WS(e,i))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:p?{}:l.keepDirtyValues?l.keepDefaultValues&&a?e_(i,a):n.dirtyFields:l.keepDefaultValues&&e?e_(i,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},M=(e,t)=>F(SS(e)?e(a):e,t);return{control:{register:R,unregister:I,getFieldState:T,handleSubmit:D,setError:P,_executeSchema:b,_getWatch:k,_getDirty:w,_updateValid:f,_removeUnmounted:()=>{for(const e of o.unMount){const t=Fk(r,e);t&&(t._f.refs?t._f.refs.every((e=>!YS(e))):!YS(t._f.ref))&&I(e)}o.unMount=new Set},_updateFieldArray:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&l&&!t.disabled){if(s.action=!0,p&&Array.isArray(Fk(r,e))){const t=l(Fk(r,e),u.argA,u.argB);h&&Bk(r,e,t)}if(p&&Array.isArray(Fk(n.errors,e))){const t=l(Fk(n.errors,e),u.argA,u.argB);h&&Bk(n.errors,e,t),((e,t)=>{!Ok(Fk(e,t)).length&&zS(e,t)})(n.errors,e)}if(c.touchedFields&&p&&Array.isArray(Fk(n.touchedFields,e))){const t=l(Fk(n.touchedFields,e),u.argA,u.argB);h&&Bk(n.touchedFields,e,t)}c.dirtyFields&&(n.dirtyFields=e_(i,a)),d.state.next({name:e,isDirty:w(e,o),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Bk(a,e,o)},_updateDisabledField:$,_getFieldArray:e=>Ok(Fk(s.mount?a:i,e,t.shouldUnregister?Fk(i,e,[]):[])),_reset:F,_resetDefaultValues:()=>SS(t.defaultValues)&&t.defaultValues().then((e=>{M(e,t.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{Mk(e)&&(d.state.next({disabled:e}),yS(r,((t,n)=>{const i=Fk(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach((t=>{t.disabled=i._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:c,_setErrors:e=>{n.errors=e,d.state.next({errors:n.errors,isValid:!1})},get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(e){s=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return n},set _formState(e){n=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:E,register:R,handleSubmit:D,watch:(e,t)=>SS(e)?d.values.subscribe({next:n=>e(k(void 0,t),n)}):k(e,t,!0),setValue:j,getValues:A,reset:M,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Fk(r,e)&&(Dk(t.defaultValue)?j(e,Rk(Fk(i,e))):(j(e,t.defaultValue),Bk(i,e,Rk(t.defaultValue))),t.keepTouched||zS(n.touchedFields,e),t.keepDirty||(zS(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,Rk(Fk(i,e))):w()),t.keepError||(zS(n.errors,e),c.isValid&&f()),d.state.next({...n}))},clearErrors:e=>{e&&lS(e).forEach((e=>zS(n.errors,e))),d.state.next({errors:e?n.errors:{}})},unregister:I,setError:P,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Fk(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&SS(e.select)&&e.select())}},getFieldState:T}}function l_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.useRef(void 0),r=e.useRef(void 0),[i,a]=e.useState({isDirty:!1,isValidating:!1,isLoading:SS(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:SS(t.defaultValues)?void 0:t.defaultValues});n.current||(n.current={...o_(t),formState:i});const s=n.current.control;return s._options=t,dS({subject:s._subjects.state,next:e=>{oS(e,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),e.useEffect((()=>s._disableForm(t.disabled)),[s,t.disabled]),e.useEffect((()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==i.isDirty&&s._subjects.state.next({isDirty:e})}}),[s,i.isDirty]),e.useEffect((()=>{t.values&&!WS(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,a((e=>({...e})))):s._resetDefaultValues()}),[t.values,s]),e.useEffect((()=>{t.errors&&s._setErrors(t.errors)}),[t.errors,s]),e.useEffect((()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()})),e.useEffect((()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})}),[t.shouldUnregister,s]),n.current.formState=aS(i,s),n.current}const c_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Fk(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},d_=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?c_(r.ref,n,e):r&&r.refs&&r.refs.forEach((t=>c_(t,n,e)))}},u_=(e,t)=>{t.shouldUseNativeValidation&&d_(e,t);const n={};for(const r in e){const i=Fk(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(h_(t.names||Object.keys(e),r)){const e=Object.assign({},Fk(n,r));Bk(e,"root",a),Bk(n,r,e)}else Bk(n,r,a)}return n},h_=(e,t)=>{const n=p_(t);return e.some((e=>p_(e).match(`^${n}\\.\\d+`)))};function p_(e){return e.replace(/\]|\[/g,"")}function f_(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[s]={message:o.message,type:o.code}}else n[s]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=n[s].types,c=l&&l[r.code];n[s]=mS(s,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function m_(e,t,n){return void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(i,s){try{var o=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then((function(e){return a.shouldUseNativeValidation&&d_({},a),{errors:{},values:n.raw?Object.assign({},r):e}}))}catch(l){return s(l)}return o&&o.then?o.then(void 0,s):o}(0,(function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:u_(f_(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e})))}catch(s){return Promise.reject(s)}}}var g_,v_;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(g_||(g_={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(v_||(v_={}));const x_=g_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),b_=e=>{switch(typeof e){case"undefined":return x_.undefined;case"string":return x_.string;case"number":return isNaN(e)?x_.nan:x_.number;case"boolean":return x_.boolean;case"function":return x_.function;case"bigint":return x_.bigint;case"symbol":return x_.symbol;case"object":return Array.isArray(e)?x_.array:null===e?x_.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?x_.promise:"undefined"!==typeof Map&&e instanceof Map?x_.map:"undefined"!==typeof Set&&e instanceof Set?x_.set:"undefined"!==typeof Date&&e instanceof Date?x_.date:x_.object;default:return x_.unknown}},y_=g_.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class w_ extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof w_))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,g_.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}w_.create=e=>new w_(e);const k_=(e,t)=>{let n;switch(e.code){case y_.invalid_type:n=e.received===x_.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case y_.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,g_.jsonStringifyReplacer)}`;break;case y_.unrecognized_keys:n=`Unrecognized key(s) in object: ${g_.joinValues(e.keys,", ")}`;break;case y_.invalid_union:n="Invalid input";break;case y_.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${g_.joinValues(e.options)}`;break;case y_.invalid_enum_value:n=`Invalid enum value. Expected ${g_.joinValues(e.options)}, received '${e.received}'`;break;case y_.invalid_arguments:n="Invalid function arguments";break;case y_.invalid_return_type:n="Invalid function return type";break;case y_.invalid_date:n="Invalid date";break;case y_.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:g_.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case y_.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case y_.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case y_.custom:n="Invalid input";break;case y_.invalid_intersection_types:n="Intersection results could not be merged";break;case y_.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case y_.not_finite:n="Number must be finite";break;default:n=t.defaultError,g_.assertNever(e)}return{message:n}};let S_=k_;function __(){return S_}const j_=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function C_(e,t){const n=__(),r=j_({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===k_?void 0:k_].filter((e=>!!e))});e.common.issues.push(r)}class N_{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return E_;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return N_.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return E_;if("aborted"===i.status)return E_;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const E_=Object.freeze({status:"aborted"}),A_=e=>({status:"dirty",value:e}),T_=e=>({status:"valid",value:e}),P_=e=>"aborted"===e.status,I_=e=>"dirty"===e.status,$_=e=>"valid"===e.status,R_=e=>"undefined"!==typeof Promise&&e instanceof Promise;function O_(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function D_(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var F_,M_,L_;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(F_||(F_={}));class V_{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const B_=(e,t)=>{if($_(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new w_(e.common.issues);return this._error=t,this._error}}};function U_(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var a,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:i.defaultError}:"undefined"===typeof i.data?{message:null!==(a=null!==o&&void 0!==o?o:r)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!==o&&void 0!==o?o:n)&&void 0!==s?s:i.defaultError}},description:i}}class z_{get description(){return this._def.description}_getType(e){return b_(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:b_(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new N_,ctx:{common:e.parent.common,data:e.data,parsedType:b_(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(R_(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b_(e)},i=this._parseSync({data:e,path:r.path,parent:r});return B_(r,i)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b_(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return $_(t)?{value:t.value}:{issues:r.common.issues}}catch(i){(null===(n=null===(t=null===i||void 0===i?void 0:i.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>$_(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b_(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(R_(r)?r:Promise.resolve(r));return B_(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:y_.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Hj({schema:this,typeName:rC.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Kj.create(this,this._def)}nullable(){return qj.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jj.create(this)}promise(){return zj.create(this,this._def)}or(e){return Ej.create([this,e],this._def)}and(e){return Ij.create(this,e,this._def)}transform(e){return new Hj({...U_(this._def),schema:this,typeName:rC.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Gj({...U_(this._def),innerType:this,defaultValue:t,typeName:rC.ZodDefault})}brand(){return new Zj({typeName:rC.ZodBranded,type:this,...U_(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Wj({...U_(this._def),innerType:this,catchValue:t,typeName:rC.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Qj.create(this,e)}readonly(){return Jj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const H_=/^c[^\s-]{8,}$/i,K_=/^[0-9a-z]+$/,q_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,G_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,W_=/^[a-z0-9_-]{21}$/i,X_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Y_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Q_;const J_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ej=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ij=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sj=new RegExp(`^${aj}$`);function oj(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function lj(e){let t=`${aj}T${oj(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function cj(e,t){return!("v4"!==t&&t||!J_.test(e))||!("v6"!==t&&t||!tj.test(e))}function dj(e,t){if(!X_.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&(!(!i.typ||!i.alg)&&(!t||i.alg===t))}catch(n){return!1}}function uj(e,t){return!("v4"!==t&&t||!ej.test(e))||!("v6"!==t&&t||!nj.test(e))}class hj extends z_{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==x_.string){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.string,received:t.parsedType}),E_}const t=new N_;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?C_(n,{code:y_.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&C_(n,{code:y_.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)Z_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"email",code:y_.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)Q_||(Q_=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Q_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"emoji",code:y_.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)G_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"uuid",code:y_.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)W_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"nanoid",code:y_.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)H_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"cuid",code:y_.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)K_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"cuid2",code:y_.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)q_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"ulid",code:y_.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),C_(n,{validation:"url",code:y_.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"regex",code:y_.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){lj(i).test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){sj.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${oj(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?Y_.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"duration",code:y_.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?cj(e.data,i.version)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"ip",code:y_.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?dj(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"jwt",code:y_.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?uj(e.data,i.version)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"cidr",code:y_.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?rj.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"base64",code:y_.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?ij.test(e.data)||(n=this._getOrReturnCtx(e,n),C_(n,{validation:"base64url",code:y_.invalid_string,message:i.message}),t.dirty()):g_.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:y_.invalid_string,...F_.errToObj(n)})}_addCheck(e){return new hj({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F_.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F_.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F_.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F_.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F_.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F_.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F_.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F_.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F_.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...F_.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...F_.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F_.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...F_.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...F_.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...F_.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...F_.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...F_.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...F_.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...F_.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...F_.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...F_.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...F_.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...F_.errToObj(t)})}nonempty(e){return this.min(1,F_.errToObj(e))}trim(){return new hj({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hj({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hj({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function pj(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}hj.create=e=>{var t;return new hj({checks:[],typeName:rC.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...U_(e)})};class fj extends z_{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==x_.number){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.number,received:t.parsedType}),E_}let t;const n=new N_;for(const r of this._def.checks)if("int"===r.kind)g_.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==pj(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.not_finite,message:r.message}),n.dirty()):g_.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,F_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,F_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,F_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,F_.toString(t))}setLimit(e,t,n,r){return new fj({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:F_.toString(r)}]})}_addCheck(e){return new fj({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:F_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:F_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F_.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&g_.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}fj.create=e=>new fj({checks:[],typeName:rC.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...U_(e)});class mj extends z_{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==x_.bigint)return this._getInvalidInput(e);let t;const n=new N_;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),C_(t,{code:y_.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):g_.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.bigint,received:t.parsedType}),E_}gte(e,t){return this.setLimit("min",e,!0,F_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,F_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,F_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,F_.toString(t))}setLimit(e,t,n,r){return new mj({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:F_.toString(r)}]})}_addCheck(e){return new mj({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:F_.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}mj.create=e=>{var t;return new mj({checks:[],typeName:rC.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...U_(e)})};class gj extends z_{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==x_.boolean){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.boolean,received:t.parsedType}),E_}return T_(e.data)}}gj.create=e=>new gj({typeName:rC.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...U_(e)});class vj extends z_{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==x_.date){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.date,received:t.parsedType}),E_}if(isNaN(e.data.getTime())){return C_(this._getOrReturnCtx(e),{code:y_.invalid_date}),E_}const t=new N_;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),C_(n,{code:y_.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):g_.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vj({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:F_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:F_.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}vj.create=e=>new vj({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:rC.ZodDate,...U_(e)});class xj extends z_{_parse(e){if(this._getType(e)!==x_.symbol){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.symbol,received:t.parsedType}),E_}return T_(e.data)}}xj.create=e=>new xj({typeName:rC.ZodSymbol,...U_(e)});class bj extends z_{_parse(e){if(this._getType(e)!==x_.undefined){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.undefined,received:t.parsedType}),E_}return T_(e.data)}}bj.create=e=>new bj({typeName:rC.ZodUndefined,...U_(e)});class yj extends z_{_parse(e){if(this._getType(e)!==x_.null){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.null,received:t.parsedType}),E_}return T_(e.data)}}yj.create=e=>new yj({typeName:rC.ZodNull,...U_(e)});class wj extends z_{constructor(){super(...arguments),this._any=!0}_parse(e){return T_(e.data)}}wj.create=e=>new wj({typeName:rC.ZodAny,...U_(e)});class kj extends z_{constructor(){super(...arguments),this._unknown=!0}_parse(e){return T_(e.data)}}kj.create=e=>new kj({typeName:rC.ZodUnknown,...U_(e)});class Sj extends z_{_parse(e){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.never,received:t.parsedType}),E_}}Sj.create=e=>new Sj({typeName:rC.ZodNever,...U_(e)});class _j extends z_{_parse(e){if(this._getType(e)!==x_.undefined){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.void,received:t.parsedType}),E_}return T_(e.data)}}_j.create=e=>new _j({typeName:rC.ZodVoid,...U_(e)});class jj extends z_{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==x_.array)return C_(t,{code:y_.invalid_type,expected:x_.array,received:t.parsedType}),E_;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(C_(t,{code:e?y_.too_big:y_.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(C_(t,{code:y_.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(C_(t,{code:y_.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new V_(t,e,t.path,n))))).then((e=>N_.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new V_(t,e,t.path,n))));return N_.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new jj({...this._def,minLength:{value:e,message:F_.toString(t)}})}max(e,t){return new jj({...this._def,maxLength:{value:e,message:F_.toString(t)}})}length(e,t){return new jj({...this._def,exactLength:{value:e,message:F_.toString(t)}})}nonempty(e){return this.min(1,e)}}function Cj(e){if(e instanceof Nj){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Kj.create(Cj(r))}return new Nj({...e._def,shape:()=>t})}return e instanceof jj?new jj({...e._def,type:Cj(e.element)}):e instanceof Kj?Kj.create(Cj(e.unwrap())):e instanceof qj?qj.create(Cj(e.unwrap())):e instanceof $j?$j.create(e.items.map((e=>Cj(e)))):e}jj.create=(e,t)=>new jj({type:e,minLength:null,maxLength:null,exactLength:null,typeName:rC.ZodArray,...U_(t)});class Nj extends z_{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=g_.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==x_.object){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.object,received:t.parsedType}),E_}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Sj&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||a.push(o);const s=[];for(const o of i){const e=r[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new V_(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Sj){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(C_(n,{code:y_.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new V_(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>N_.mergeObjectSync(t,e))):N_.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return F_.errToObj,new Nj({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,s;const o=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=F_.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new Nj({...this._def,unknownKeys:"strip"})}passthrough(){return new Nj({...this._def,unknownKeys:"passthrough"})}extend(e){return new Nj({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Nj({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rC.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Nj({...this._def,catchall:e})}pick(e){const t={};return g_.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Nj({...this._def,shape:()=>t})}omit(e){const t={};return g_.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Nj({...this._def,shape:()=>t})}deepPartial(){return Cj(this)}partial(e){const t={};return g_.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Nj({...this._def,shape:()=>t})}required(e){const t={};return g_.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Kj;)e=e._def.innerType;t[n]=e}})),new Nj({...this._def,shape:()=>t})}keyof(){return Vj(g_.objectKeys(this.shape))}}Nj.create=(e,t)=>new Nj({shape:()=>e,unknownKeys:"strip",catchall:Sj.create(),typeName:rC.ZodObject,...U_(t)}),Nj.strictCreate=(e,t)=>new Nj({shape:()=>e,unknownKeys:"strict",catchall:Sj.create(),typeName:rC.ZodObject,...U_(t)}),Nj.lazycreate=(e,t)=>new Nj({shape:e,unknownKeys:"strip",catchall:Sj.create(),typeName:rC.ZodObject,...U_(t)});class Ej extends z_{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new w_(e.ctx.common.issues)));return C_(t,{code:y_.invalid_union,unionErrors:n}),E_}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new w_(e)));return C_(t,{code:y_.invalid_union,unionErrors:i}),E_}}get options(){return this._def.options}}Ej.create=(e,t)=>new Ej({options:e,typeName:rC.ZodUnion,...U_(t)});const Aj=e=>e instanceof Mj?Aj(e.schema):e instanceof Hj?Aj(e.innerType()):e instanceof Lj?[e.value]:e instanceof Bj?e.options:e instanceof Uj?g_.objectValues(e.enum):e instanceof Gj?Aj(e._def.innerType):e instanceof bj?[void 0]:e instanceof yj?[null]:e instanceof Kj?[void 0,...Aj(e.unwrap())]:e instanceof qj?[null,...Aj(e.unwrap())]:e instanceof Zj||e instanceof Jj?Aj(e.unwrap()):e instanceof Wj?Aj(e._def.innerType):[];class Tj extends z_{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==x_.object)return C_(t,{code:y_.invalid_type,expected:x_.object,received:t.parsedType}),E_;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(C_(t,{code:y_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),E_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=Aj(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new Tj({typeName:rC.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...U_(n)})}}function Pj(e,t){const n=b_(e),r=b_(t);if(e===t)return{valid:!0,data:e};if(n===x_.object&&r===x_.object){const n=g_.objectKeys(t),r=g_.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const a of r){const n=Pj(e[a],t[a]);if(!n.valid)return{valid:!1};i[a]=n.data}return{valid:!0,data:i}}if(n===x_.array&&r===x_.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Pj(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===x_.date&&r===x_.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Ij extends z_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(P_(e)||P_(r))return E_;const i=Pj(e.value,r.value);return i.valid?((I_(e)||I_(r))&&t.dirty(),{status:t.value,value:i.data}):(C_(n,{code:y_.invalid_intersection_types}),E_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ij.create=(e,t,n)=>new Ij({left:e,right:t,typeName:rC.ZodIntersection,...U_(n)});class $j extends z_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==x_.array)return C_(n,{code:y_.invalid_type,expected:x_.array,received:n.parsedType}),E_;if(n.data.length<this._def.items.length)return C_(n,{code:y_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),E_;!this._def.rest&&n.data.length>this._def.items.length&&(C_(n,{code:y_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new V_(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>N_.mergeArray(t,e))):N_.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new $j({...this._def,rest:e})}}$j.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $j({items:e,typeName:rC.ZodTuple,rest:null,...U_(t)})};class Rj extends z_{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==x_.object)return C_(n,{code:y_.invalid_type,expected:x_.object,received:n.parsedType}),E_;const r=[],i=this._def.keyType,a=this._def.valueType;for(const s in n.data)r.push({key:i._parse(new V_(n,s,n.path,s)),value:a._parse(new V_(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?N_.mergeObjectAsync(t,r):N_.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Rj(t instanceof z_?{keyType:e,valueType:t,typeName:rC.ZodRecord,...U_(n)}:{keyType:hj.create(),valueType:e,typeName:rC.ZodRecord,...U_(t)})}}class Oj extends z_{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==x_.map)return C_(n,{code:y_.invalid_type,expected:x_.map,received:n.parsedType}),E_;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(((e,t)=>{let[a,s]=e;return{key:r._parse(new V_(n,a,n.path,[t,"key"])),value:i._parse(new V_(n,s,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return E_;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return E_;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Oj.create=(e,t,n)=>new Oj({valueType:t,keyType:e,typeName:rC.ZodMap,...U_(n)});class Dj extends z_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==x_.set)return C_(n,{code:y_.invalid_type,expected:x_.set,received:n.parsedType}),E_;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(C_(n,{code:y_.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(C_(n,{code:y_.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return E_;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>i._parse(new V_(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>a(e))):a(s)}min(e,t){return new Dj({...this._def,minSize:{value:e,message:F_.toString(t)}})}max(e,t){return new Dj({...this._def,maxSize:{value:e,message:F_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Dj.create=(e,t)=>new Dj({valueType:e,minSize:null,maxSize:null,typeName:rC.ZodSet,...U_(t)});class Fj extends z_{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==x_.function)return C_(t,{code:y_.invalid_type,expected:x_.function,received:t.parsedType}),E_;function n(e,n){return j_({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,__(),k_].filter((e=>!!e)),issueData:{code:y_.invalid_arguments,argumentsError:n}})}function r(e,n){return j_({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,__(),k_].filter((e=>!!e)),issueData:{code:y_.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof zj){const e=this;return T_((async function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=new w_([]),c=await e._def.args.parseAsync(s,i).catch((e=>{throw l.addIssue(n(s,e)),l})),d=await Reflect.apply(a,this,c),u=await e._def.returns._def.type.parseAsync(d,i).catch((e=>{throw l.addIssue(r(d,e)),l}));return u}))}{const e=this;return T_((function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e._def.args.safeParse(s,i);if(!l.success)throw new w_([n(s,l.error)]);const c=Reflect.apply(a,this,l.data),d=e._def.returns.safeParse(c,i);if(!d.success)throw new w_([r(c,d.error)]);return d.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fj({...this._def,args:$j.create(t).rest(kj.create())})}returns(e){return new Fj({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Fj({args:e||$j.create([]).rest(kj.create()),returns:t||kj.create(),typeName:rC.ZodFunction,...U_(n)})}}class Mj extends z_{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Mj.create=(e,t)=>new Mj({getter:e,typeName:rC.ZodLazy,...U_(t)});class Lj extends z_{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return C_(t,{received:t.data,code:y_.invalid_literal,expected:this._def.value}),E_}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Vj(e,t){return new Bj({values:e,typeName:rC.ZodEnum,...U_(t)})}Lj.create=(e,t)=>new Lj({value:e,typeName:rC.ZodLiteral,...U_(t)});class Bj extends z_{constructor(){super(...arguments),M_.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return C_(t,{expected:g_.joinValues(n),received:t.parsedType,code:y_.invalid_type}),E_}if(O_(this,M_,"f")||D_(this,M_,new Set(this._def.values),"f"),!O_(this,M_,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return C_(t,{received:t.data,code:y_.invalid_enum_value,options:n}),E_}return T_(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Bj.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Bj.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}M_=new WeakMap,Bj.create=Vj;class Uj extends z_{constructor(){super(...arguments),L_.set(this,void 0)}_parse(e){const t=g_.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==x_.string&&n.parsedType!==x_.number){const e=g_.objectValues(t);return C_(n,{expected:g_.joinValues(e),received:n.parsedType,code:y_.invalid_type}),E_}if(O_(this,L_,"f")||D_(this,L_,new Set(g_.getValidEnumValues(this._def.values)),"f"),!O_(this,L_,"f").has(e.data)){const e=g_.objectValues(t);return C_(n,{received:n.data,code:y_.invalid_enum_value,options:e}),E_}return T_(e.data)}get enum(){return this._def.values}}L_=new WeakMap,Uj.create=(e,t)=>new Uj({values:e,typeName:rC.ZodNativeEnum,...U_(t)});class zj extends z_{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==x_.promise&&!1===t.common.async)return C_(t,{code:y_.invalid_type,expected:x_.promise,received:t.parsedType}),E_;const n=t.parsedType===x_.promise?t.data:Promise.resolve(t.data);return T_(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}zj.create=(e,t)=>new zj({type:e,typeName:rC.ZodPromise,...U_(t)});class Hj extends z_{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rC.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{C_(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return E_;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?E_:"dirty"===r.status||"dirty"===t.value?A_(r.value):r}));{if("aborted"===t.value)return E_;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?E_:"dirty"===r.status||"dirty"===t.value?A_(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?E_:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?E_:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!$_(e))return e;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>$_(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}g_.assertNever(r)}}Hj.create=(e,t,n)=>new Hj({schema:e,typeName:rC.ZodEffects,effect:t,...U_(n)}),Hj.createWithPreprocess=(e,t,n)=>new Hj({schema:t,effect:{type:"preprocess",transform:e},typeName:rC.ZodEffects,...U_(n)});class Kj extends z_{_parse(e){return this._getType(e)===x_.undefined?T_(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kj.create=(e,t)=>new Kj({innerType:e,typeName:rC.ZodOptional,...U_(t)});class qj extends z_{_parse(e){return this._getType(e)===x_.null?T_(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qj.create=(e,t)=>new qj({innerType:e,typeName:rC.ZodNullable,...U_(t)});class Gj extends z_{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===x_.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Gj.create=(e,t)=>new Gj({innerType:e,typeName:rC.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...U_(t)});class Wj extends z_{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return R_(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new w_(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new w_(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Wj.create=(e,t)=>new Wj({innerType:e,typeName:rC.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...U_(t)});class Xj extends z_{_parse(e){if(this._getType(e)!==x_.nan){const t=this._getOrReturnCtx(e);return C_(t,{code:y_.invalid_type,expected:x_.nan,received:t.parsedType}),E_}return{status:"valid",value:e.data}}}Xj.create=e=>new Xj({typeName:rC.ZodNaN,...U_(e)});const Yj=Symbol("zod_brand");class Zj extends z_{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Qj extends z_{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?E_:"dirty"===e.status?(t.dirty(),A_(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?E_:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Qj({in:e,out:t,typeName:rC.ZodPipeline})}}class Jj extends z_{_parse(e){const t=this._def.innerType._parse(e),n=e=>($_(e)&&(e.value=Object.freeze(e.value)),e);return R_(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function eC(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function tC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?wj.create().superRefine(((r,i)=>{var a,s;const o=e(r);if(o instanceof Promise)return o.then((e=>{var a,s;if(!e){const e=eC(t,r),o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=eC(t,r),o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:o})}})):wj.create()}Jj.create=(e,t)=>new Jj({innerType:e,typeName:rC.ZodReadonly,...U_(t)});const nC={object:Nj.lazycreate};var rC;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(rC||(rC={}));const iC=hj.create,aC=fj.create,sC=Xj.create,oC=mj.create,lC=gj.create,cC=vj.create,dC=xj.create,uC=bj.create,hC=yj.create,pC=wj.create,fC=kj.create,mC=Sj.create,gC=_j.create,vC=jj.create,xC=Nj.create,bC=Nj.strictCreate,yC=Ej.create,wC=Tj.create,kC=Ij.create,SC=$j.create,_C=Rj.create,jC=Oj.create,CC=Dj.create,NC=Fj.create,EC=Mj.create,AC=Lj.create,TC=Bj.create,PC=Uj.create,IC=zj.create,$C=Hj.create,RC=Kj.create,OC=qj.create,DC=Hj.createWithPreprocess,FC=Qj.create,MC={string:e=>hj.create({...e,coerce:!0}),number:e=>fj.create({...e,coerce:!0}),boolean:e=>gj.create({...e,coerce:!0}),bigint:e=>mj.create({...e,coerce:!0}),date:e=>vj.create({...e,coerce:!0})},LC=E_;var VC=Object.freeze({__proto__:null,defaultErrorMap:k_,setErrorMap:function(e){S_=e},getErrorMap:__,makeIssue:j_,EMPTY_PATH:[],addIssueToContext:C_,ParseStatus:N_,INVALID:E_,DIRTY:A_,OK:T_,isAborted:P_,isDirty:I_,isValid:$_,isAsync:R_,get util(){return g_},get objectUtil(){return v_},ZodParsedType:x_,getParsedType:b_,ZodType:z_,datetimeRegex:lj,ZodString:hj,ZodNumber:fj,ZodBigInt:mj,ZodBoolean:gj,ZodDate:vj,ZodSymbol:xj,ZodUndefined:bj,ZodNull:yj,ZodAny:wj,ZodUnknown:kj,ZodNever:Sj,ZodVoid:_j,ZodArray:jj,ZodObject:Nj,ZodUnion:Ej,ZodDiscriminatedUnion:Tj,ZodIntersection:Ij,ZodTuple:$j,ZodRecord:Rj,ZodMap:Oj,ZodSet:Dj,ZodFunction:Fj,ZodLazy:Mj,ZodLiteral:Lj,ZodEnum:Bj,ZodNativeEnum:Uj,ZodPromise:zj,ZodEffects:Hj,ZodTransformer:Hj,ZodOptional:Kj,ZodNullable:qj,ZodDefault:Gj,ZodCatch:Wj,ZodNaN:Xj,BRAND:Yj,ZodBranded:Zj,ZodPipeline:Qj,ZodReadonly:Jj,custom:tC,Schema:z_,ZodSchema:z_,late:nC,get ZodFirstPartyTypeKind(){return rC},coerce:MC,any:pC,array:vC,bigint:oC,boolean:lC,date:cC,discriminatedUnion:wC,effect:$C,enum:TC,function:NC,instanceof:function(e){return tC((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:kC,lazy:EC,literal:AC,map:jC,nan:sC,nativeEnum:PC,never:mC,null:hC,nullable:OC,number:aC,object:xC,oboolean:()=>lC().optional(),onumber:()=>aC().optional(),optional:RC,ostring:()=>iC().optional(),pipeline:FC,preprocess:DC,promise:IC,record:_C,set:CC,strictObject:bC,string:iC,symbol:dC,transformer:$C,tuple:SC,undefined:uC,union:yC,unknown:fC,void:gC,NEVER:LC,ZodIssueCode:y_,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:w_});function BC(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function UC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=BC(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():BC(t[e],null)}}}}function zC(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(UC(...n),n)}var HC=e.forwardRef(((t,n)=>{const{children:r,...i}=t,a=e.Children.toArray(r),s=a.find(GC);if(s){const t=s.props.children,r=a.map((n=>n===s?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n));return(0,V.jsx)(KC,{...i,ref:n,children:e.isValidElement(t)?e.cloneElement(t,void 0,r):null})}return(0,V.jsx)(KC,{...i,ref:n,children:r})}));HC.displayName="Slot";var KC=e.forwardRef(((t,n)=>{const{children:r,...i}=t;if(e.isValidElement(r)){const t=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){a(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}(i,r.props);return r.type!==e.Fragment&&(a.ref=n?UC(n,t):t),e.cloneElement(r,a)}return e.Children.count(r)>1?e.Children.only(null):null}));KC.displayName="SlotClone";var qC=e=>{let{children:t}=e;return(0,V.jsx)(V.Fragment,{children:t})};function GC(t){return e.isValidElement(t)&&t.type===qC}var WC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=e.forwardRef(((e,t)=>{const{asChild:r,...i}=e,a=r?HC:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,V.jsx)(a,{...i,ref:t})}));return r.displayName=`Primitive.${n}`,{...t,[n]:r}}),{});var XC=e.forwardRef(((e,t)=>(0,V.jsx)(WC.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));XC.displayName="Label";var YC=XC;const ZC=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,QC=hi,JC=(eN="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e=>{var t;if(null==(null===tN||void 0===tN?void 0:tN.variants))return QC(eN,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:n,defaultVariants:r}=tN,i=Object.keys(n).map((t=>{const i=null===e||void 0===e?void 0:e[t],a=null===r||void 0===r?void 0:r[t];if(null===i)return null;const s=ZC(i)||ZC(a);return n[t][s]})),a=e&&Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),s=null===tN||void 0===tN||null===(t=tN.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:n,className:i,...s}=t;return Object.entries(s).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...r,...a}[t]):{...r,...a}[t]===n}))?[...e,n,i]:e}),[]);return QC(eN,i,s,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var eN,tN;const nN=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(YC,{ref:t,className:rk(JC(),n),...r})}));nN.displayName=YC.displayName;const rN=t=>{const{children:n,...r}=t;return e.createElement(rS.Provider,{value:r},n)},iN=e.createContext({}),aN=e=>{let{...t}=e;return(0,V.jsx)(iN.Provider,{value:{name:t.name},children:(0,V.jsx)(fS,{...t})})},sN=()=>{const t=e.useContext(iN),n=e.useContext(oN),{getFieldState:r,formState:i}=iS(),a=r(t.name,i);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=n;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},oN=e.createContext({}),lN=e.forwardRef(((t,n)=>{let{className:r,...i}=t;const a=e.useId();return(0,V.jsx)(oN.Provider,{value:{id:a},children:(0,V.jsx)("div",{ref:n,className:rk("",r),...i})})}));lN.displayName="FormItem";const cN=e.forwardRef(((e,t)=>{let{className:n,...r}=e;const{error:i,formItemId:a}=sN();return(0,V.jsx)(nN,{ref:t,className:rk(i&&"text-destructive",n),htmlFor:a,...r})}));cN.displayName="FormLabel";const dN=e.forwardRef(((e,t)=>{let{...n}=e;const{error:r,formItemId:i,formDescriptionId:a,formMessageId:s}=sN();return(0,V.jsx)(HC,{ref:t,id:i,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,"data-error":!!r,...n})}));dN.displayName="FormControl";const uN=e.forwardRef(((e,t)=>{let{className:n,...r}=e;const{formDescriptionId:i}=sN();return(0,V.jsx)("p",{ref:t,id:i,className:rk("text-sm text-muted-foreground",n),...r})}));uN.displayName="FormDescription";const hN=e.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;const{error:a,formMessageId:s}=sN(),o=a?String(null===a||void 0===a?void 0:a.message):r;return o?(0,V.jsx)("p",{ref:t,id:s,className:rk("text-sm text-destructive text-red mt-1",n),...i,children:o}):null}));hN.displayName="FormMessage";const pN=e.forwardRef(((e,t)=>{let{className:n,type:r,value:i,defaultValue:a,...s}=e;return(0,V.jsx)("input",{type:r,value:null!==i&&void 0!==i?i:"",defaultValue:a,className:rk("flex h-11 w-full rounded-[8px] border border-input bg-white text-black px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1",n),ref:t,...s,disabled:s.disable})}));pN.displayName="Input";const fN=VC.object({Hovedkategoriname:VC.string().min(1,{message:"Hovedkategoriname m\xe5 best\xe5 av minst 2 tegn."}),isSelected:VC.boolean().optional()}),mN=t=>{var n,r;let{onClose:i,setCategory:a,editData:s,Category:o}=t;const l=l_({resolver:m_(fN)});(0,e.useEffect)((()=>{var e,t,n,r;null!==s&&void 0!==s&&null!==(e=s.data)&&void 0!==e&&e.name&&l.setValue("Hovedkategoriname",null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.name);null!==s&&void 0!==s&&null!==(t=s.data)&&void 0!==t&&t.isSelected&&l.setValue("isSelected",null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.isSelected)}),[l,null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.name,null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.isSelected]);return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...l,children:(0,V.jsxs)("form",{onSubmit:l.handleSubmit((async e=>{o.some(((t,n)=>s?n!==s.index&&t.name.toLowerCase()===e.Hovedkategoriname.toLowerCase():t.name.toLowerCase()===e.Hovedkategoriname.toLowerCase()))?l.setError("Hovedkategoriname",{type:"manual",message:"Kategorinavnet finnes allerede."}):(i(),a(s?t=>t.map(((t,n)=>{var r;return n===s.index?{...t,name:e.Hovedkategoriname,isSelected:null!==(r=e.isSelected)&&void 0!==r&&r}:t})):t=>{var n;return[...t,{name:e.Hovedkategoriname,isSelected:null!==(n=e.isSelected)&&void 0!==n&&n}]}))})),className:"relative w-full",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:l.control,name:"Hovedkategoriname",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Hovedkategoriname"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Hovedkategoriname",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:l.control,name:"isSelected",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsxs)("div",{className:"relative flex items-center gap-2 mt-3",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] accent-primary border text-black\n                                  ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4`,type:"radio",onChange:e=>{const t=e.target.checked;t&&l.setValue("isSelected",t)},checked:t.value}),(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" text-sm font-medium",children:"Is mandatory"})]})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center left-0 mt-8",children:[(0,V.jsx)("div",{onClick:()=>{l.reset(),i()},children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})};const gN=__webpack_require__.p+"static/media/Ic_x_circle.d0042930fd1caed79d02556d7abbfece.svg",vN=pk("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xN=VC.object({Kategorinavn:VC.string().min(1,{message:"Kategorinavn m\xe5 best\xe5 av minst 2 tegn."})}),bN=t=>{let{onClose:n,formData:r,activeTabData:i,setCategory:a,editIndex:s,defaultValue:o}=t;const l=l_({resolver:m_(xN),defaultValues:{Kategorinavn:o||""}});(0,e.useEffect)((()=>{null!=s&&o?l.setValue("Kategorinavn",o):l.setValue("Kategorinavn","")}),[o,s]);return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...l,children:(0,V.jsxs)("form",{onSubmit:l.handleSubmit((async e=>{const t=e.Kategorinavn,o=r.getValues(`hovedkategorinavn.${i}.Kategorinavn`)||[];if(o.some((e=>e.navn===t)))l.setError("Kategorinavn",{type:"manual",message:"Kategorinavnet finnes allerede."});else{if(null!==s&&o[s]){const e=[...o];e[s].navn=t,a((t=>{const n=[...t];return n[i]={...n[i],Kategorinavn:e},n})),r.setValue(`hovedkategorinavn.${i}.Kategorinavn`,e,{shouldValidate:!0})}else{const e={navn:t,produkter:[]};a((t=>{const n=[...t];return n[i]={...n[i],Kategorinavn:[...o,e]},n})),r.setValue(`hovedkategorinavn.${i}.Kategorinavn`,[...o,e],{shouldValidate:!0})}n(),l.reset()}})),className:"relative w-full",children:[(0,V.jsx)("div",{className:"p-6",children:(0,V.jsx)(aN,{control:l.control,name:"Kategorinavn",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Kategorinavn"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kategorinavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",value:t.value||""})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>l.reset(),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},yN=e=>{let{isOpen:t,onClose:n,children:r}=e;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"overlay "+(t?"show":""),style:{zIndex:t?99999999:1},onClick:n}),(0,V.jsx)("div",{className:"drawer relative "+(t?"open":""),style:{zIndex:t?99999999:1},children:r})]})},wN=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("textarea",{className:rk("flex w-full rounded-[8px] border border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1",n),ref:t,...r})}));wN.displayName="TextArea";const kN=VC.union([VC.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),VC.string()]),SN=VC.object({Produktnavn:VC.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:VC.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:VC.array(kN).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:VC.string().nullable(),IncludingOffer:VC.boolean().optional(),Produktbeskrivelse:VC.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:VC.string().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:VC.string().optional()}),_N=VC.object({produkter:VC.array(SN).min(1,"Minst ett produkt er p\xe5krevd.")}),jN=t=>{let{onClose:n,onSubmit:r}=t;const i=l_({resolver:m_(_N),defaultValues:{produkter:[{Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",Labour:"",LabourPris:""}]}}),a=e.useRef(null),s=(0,e.useCallback)((()=>{var e;null===(e=a.current)||void 0===e||e.click()}),[]),o=(0,e.useCallback)((e=>e.preventDefault()),[]),[l,c]=(0,e.useState)(null),d=["Boligpartner","Salgskontor"],u=["Per m2","Per time","Per dag","Per stykk","Per ansatt"],{fields:h,append:p,remove:f}=KS({control:i.control,name:"produkter"}),m=i.watch("produkter");return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...i,children:(0,V.jsxs)("form",{onSubmit:i.handleSubmit((async e=>{"function"===typeof r&&r(e),n(),i.reset()})),className:"relative w-full h-screen",children:[(0,V.jsxs)("div",{className:"overflow-y-auto h-full pb-[160px]",children:[h.map(((e,t)=>{const n=i.watch(`produkter.${t}.Hovedbilde`);return(0,V.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,V.jsxs)("button",{type:"button",className:"flex gap-2 items-end ml-auto "+(1===m.length?"text-gray cursor-not-allowed":"text-primary"),onClick:()=>{m.length>1&&f(t)},children:[(0,V.jsx)(mk,{})," Fjern produkt"]}),(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.Produktnavn`,render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues(`produkter.${t}.Produktnavn`)||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktnavn"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Produktnavn",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,type:"text",value:null!==a&&void 0!==a?a:""})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.pris`,render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues(`produkter.${t}.pris`);return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" text-sm font-medium",children:"Pris fra"}),(0,V.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,V.jsxs)("div",{className:"toggle-container",children:[(0,V.jsx)("input",{type:"checkbox",id:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-input",checked:i.watch(`produkter.${t}.IncludingOffer`)||!1,name:"IncludingOffer",onChange:e=>{const n=e.target.checked;i.setValue(`produkter.${t}.IncludingOffer`,n),n?i.setValue(`produkter.${t}.pris`,null):i.setValue(`produkter.${t}.pris`,"")}}),(0,V.jsx)("label",{htmlFor:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-label"})]})]})]}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Pris fra",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,inputMode:"numeric",disable:i.watch(`produkter.${t}.IncludingOffer`),type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const a=i.startsWith("-"),s=i.replace(/-/g,"");let o="";s?(o=new Intl.NumberFormat("no-NO").format(Number(s)),a&&(o="-"+o)):o=a?"-":"",n.onChange({target:{name:`produkter.${t}.pris`,value:o}})},value:null===a?"-":a})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.delieverBy`,render:e=>{let{field:n,fieldState:r}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${r.error?"text-red":"text-black"} text-sm font-medium`,children:"Lever innen"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-5",children:d.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{i.setValue(`produkter.${t}.delieverBy`,e.target.value)},checked:n.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.Labour`,render:e=>{let{field:n,fieldState:r}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${r.error?"text-red":"text-black"} text-sm font-medium`,children:"Pris er oppgitt per"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{i.setValue(`produkter.${t}.Labour`,e.target.value)},checked:n.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.LabourPris`,render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues(`produkter.${t}.LabourPris`);return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" text-sm font-medium mb-2",children:"Arbeidspris"}),(0,V.jsx)(dN,{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(pN,{placeholder:"Skriv inn Arbeidspris",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const a=i.startsWith("-"),s=i.replace(/-/g,"");let o="";s?(o=new Intl.NumberFormat("no-NO").format(Number(s)),a&&(o="-"+o)):o=a?"-":"",n.onChange({target:{name:`produkter.${t}.LabourPris`,value:o}})},value:a||""}),(0,V.jsx)("div",{className:"bg-white absolute top-[1px] right-[1px] rounded-lg h-[calc(100%-2px)] flex items-center p-2 justify-center",children:(0,V.jsx)("div",{className:"text-darkBlack font-semibold",children:"NOK"})})]})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.Produktbeskrivelse`,render:e=>{let{field:n,fieldState:r}=e;const a=i.getValues(`produkter.${t}.Produktbeskrivelse`)||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktbeskrivelse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(wN,{placeholder:"Skriv inn Produktbeskrivelse",...n,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,value:a})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"row-span-2",children:(0,V.jsx)(aN,{control:i.control,name:`produkter.${t}.Hovedbilde`,render:e=>{let{fieldState:n}=e;const r=`produkter.${t}.Hovedbilde`,l=i.watch(r)||[],c=async e=>{if(e){let t=[...l||[]];for(let n=0;n<e.length;n++){const a=e[n];if(a.size>2097152){pe.error("Image size must be less than 2MB.",{position:"top-right"});continue}const s="images",o=`${(new Date).getTime()}_${null===a||void 0===a?void 0:a.name}`,l=Zw(nk,`${s}/${o}`),c=await Gw(l,a),d=await Yw(c.ref);t.push(d),i.setValue(r,t),i.clearErrors(r)}}};return(0,V.jsxs)(lN,{className:"w-full",children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Last opp bilde"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:o,onClick:s,onDrop:e=>{e.preventDefault(),c(e.dataTransfer.files)},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:a,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>c(e.target.files)})]})})})}),(0,V.jsx)(hN,{})]})}})})]}),(0,V.jsx)("div",{children:n&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===n||void 0===n?void 0:n.map(((e,r)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>c(r),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===l||l===r)return;const e=[...n],a=e[l];e.splice(l,1),e.splice(r,0,a),i.setValue(`produkter.${t}.Hovedbilde`,e),c(null)},children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute bottom-2 right-2 bg-[#FFFFFFCC] rounded-full p-[6px] cursor-pointer",onClick:()=>{const e=n.filter(((e,t)=>t!==r));i.setValue(`produkter.${t}.Hovedbilde`,e)},children:(0,V.jsx)(vN,{className:"text-red w-4 h-4"})})]},r)))})})]},t)})),(0,V.jsxs)("div",{className:"p-6 flex items-center gap-2 text-primary text-sm font-medium cursor-pointer",onClick:()=>p({Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",Labour:"",LabourPris:""}),children:[(0,V.jsx)(jk,{}),"Legg til et annet produkt"]})]}),(0,V.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>i.reset(),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})};var CN,NN=new Uint8Array(16);function EN(){if(!CN&&!(CN="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return CN(NN)}const AN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const TN=function(e){return"string"===typeof e&&AN.test(e)};for(var PN=[],IN=0;IN<256;++IN)PN.push((IN+256).toString(16).substr(1));const $N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(PN[e[t+0]]+PN[e[t+1]]+PN[e[t+2]]+PN[e[t+3]]+"-"+PN[e[t+4]]+PN[e[t+5]]+"-"+PN[e[t+6]]+PN[e[t+7]]+"-"+PN[e[t+8]]+PN[e[t+9]]+"-"+PN[e[t+10]]+PN[e[t+11]]+PN[e[t+12]]+PN[e[t+13]]+PN[e[t+14]]+PN[e[t+15]]).toLowerCase();if(!TN(n))throw TypeError("Stringified UUID is invalid");return n};const RN=function(e,t,n){var r=(e=e||{}).random||(e.rng||EN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return $N(r)},ON=VC.union([VC.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),VC.string()]),DN=VC.object({Produktnavn:VC.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:VC.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:VC.array(ON).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:VC.string().nullable(),IncludingOffer:VC.boolean().optional(),Produktbeskrivelse:VC.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:VC.string().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:VC.string().optional(),produktId:VC.string().optional()}),FN=t=>{let{onClose:n,onSubmit:r,defaultValues:i}=t;const a=l_({resolver:m_(DN)});(0,e.useEffect)((()=>{i&&(a.setValue("Hovedbilde",null===i||void 0===i?void 0:i.Hovedbilde),a.setValue("IncludingOffer",null===i||void 0===i?void 0:i.IncludingOffer),a.setValue("Labour",null===i||void 0===i?void 0:i.Labour),a.setValue("LabourPris",null===i||void 0===i?void 0:i.LabourPris),a.setValue("Produktbeskrivelse",null===i||void 0===i?void 0:i.Produktbeskrivelse),a.setValue("Produktnavn",null===i||void 0===i?void 0:i.Produktnavn),a.setValue("delieverBy",null===i||void 0===i?void 0:i.delieverBy),a.setValue("pris",null===i||void 0===i?void 0:i.pris),a.setValue("produktId",null===i||void 0===i?void 0:i.produktId))}),[i]);const s=e.useRef(null),o=()=>{var e;null===(e=s.current)||void 0===e||e.click()},l=(0,e.useCallback)((e=>e.preventDefault()),[]),[c,d]=(0,e.useState)(null),u=["Boligpartner","Salgskontor"],h=["Per m2","Per time","Per dag","Per stykk","Per ansatt"],p=a.watch("Hovedbilde");return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...a,children:(0,V.jsxs)("form",{onSubmit:a.handleSubmit((async e=>{"function"===typeof r&&r(e),n()})),className:"relative w-full h-screen",children:[(0,V.jsx)("div",{className:"overflow-y-auto h-full pb-[160px]",children:(0,V.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:a.control,name:"Produktnavn",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("Produktnavn")||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktnavn"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Produktnavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",value:null!==r&&void 0!==r?r:""})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:a.control,name:"pris",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("pris");return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" text-sm font-medium",children:"Pris fra"}),(0,V.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,V.jsxs)("div",{className:"toggle-container",children:[(0,V.jsx)("input",{type:"checkbox",id:"IncludingOffer",className:"toggle-input",checked:a.watch("IncludingOffer")||!1,name:"IncludingOffer",onChange:e=>{const t=e.target.checked;a.setValue("IncludingOffer",t),t?a.setValue("pris",null):a.setValue("pris","")}}),(0,V.jsx)("label",{htmlFor:"IncludingOffer",className:"toggle-label"})]})]})]}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Pris fra",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,inputMode:"numeric",disable:a.watch("IncludingOffer"),type:"text",onChange:e=>{let{target:{value:n}}=e,r=n.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const i=r.startsWith("-"),a=r.replace(/-/g,"");let s="";a?(s=new Intl.NumberFormat("no-NO").format(Number(a)),i&&(s="-"+s)):s=i?"-":"",t.onChange({target:{name:"pris",value:s}})},value:null===r?"-":r})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:a.control,name:"delieverBy",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm font-medium`,children:"Lever innen"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-5",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{a.setValue("delieverBy",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:a.control,name:"Labour",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm font-medium`,children:"Pris er oppgitt per"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:h.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{a.setValue("Labour",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:a.control,name:"LabourPris",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("LabourPris");return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" text-sm font-medium mb-2",children:"Arbeidspris"}),(0,V.jsx)(dN,{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(pN,{placeholder:"Skriv inn Arbeidspris",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:n}}=e,r=n.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const i=r.startsWith("-"),a=r.replace(/-/g,"");let s="";a?(s=new Intl.NumberFormat("no-NO").format(Number(a)),i&&(s="-"+s)):s=i?"-":"",t.onChange({target:{name:"LabourPris",value:s}})},value:r||""}),(0,V.jsx)("div",{className:"bg-white absolute top-[1px] right-[1px] rounded-lg h-[calc(100%-2px)] flex items-center p-2 justify-center",children:(0,V.jsx)("div",{className:"text-darkBlack font-semibold",children:"NOK"})})]})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:a.control,name:"Produktbeskrivelse",render:e=>{let{field:t,fieldState:n}=e;const r=a.getValues("Produktbeskrivelse")||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktbeskrivelse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(wN,{placeholder:"Skriv inn Produktbeskrivelse",...t,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,value:r})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"row-span-2",children:(0,V.jsx)(aN,{control:a.control,name:"Hovedbilde",render:e=>{let{fieldState:t}=e;const n="Hovedbilde",r=a.watch(n)||[],i=async e=>{if(e){let t=[...r||[]];for(let r=0;r<e.length;r++){const i=e[r];if(i.size>2097152){pe.error("Image size must be less than 2MB.",{position:"top-right"});continue}const s="images",o=`${(new Date).getTime()}_${null===i||void 0===i?void 0:i.name}`,l=Zw(nk,`${s}/${o}`),c=await Gw(l,i),d=await Yw(c.ref);t.push(d),a.setValue(n,t),a.clearErrors(n)}}};return(0,V.jsxs)(lN,{className:"w-full",children:[(0,V.jsx)("p",{className:(t.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Last opp bilde"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:l,onClick:o,onDrop:e=>{e.preventDefault(),i(e.dataTransfer.files)},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:s,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>i(e.target.files)})]})})})}),(0,V.jsx)(hN,{})]})}})})]}),(0,V.jsx)("div",{children:p&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===p||void 0===p?void 0:p.map(((e,t)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>d(t),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===c||c===t)return;const e=[...p],n=e[c];e.splice(c,1),e.splice(t,0,n),a.setValue("Hovedbilde",e),d(null)},children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute bottom-2 right-2 bg-[#FFFFFFCC] rounded-full p-[6px] cursor-pointer",onClick:()=>{const e=p.filter(((e,n)=>n!==t));a.setValue("Hovedbilde",e)},children:(0,V.jsx)(vN,{className:"text-red w-4 h-4"})})]},t)))})})]})}),(0,V.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>a.reset(),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},MN=VC.union([VC.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),VC.string()]),LN=VC.object({Produktnavn:VC.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:VC.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:VC.array(MN).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:VC.string().nullable(),IncludingOffer:VC.boolean().optional(),Produktbeskrivelse:VC.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:VC.string().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:VC.string().optional(),produktId:VC.string().optional()}),VN=VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),id:VC.string().optional(),produkter:VC.array(LN).min(1,"Minst ett produkt er p\xe5krevd.")}),BN=VC.object({name:VC.string().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:VC.array(VN).min(1,"Minst \xe9n kategori er p\xe5krevd."),isSelected:VC.boolean().optional(),id:VC.string().optional()}),UN=VC.object({hovedkategorinavn:VC.array(BN)}),zN=t=>{var n;let{Category:r,activeTabData:i,setCategory:a}=t;const[s,o]=(0,e.useState)(0);(0,e.useEffect)((()=>{o(0)}),[i]);const l=l_({resolver:m_(UN),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:[{navn:"",produkter:[{Produktnavn:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",delieverBy:"",Labour:"",LabourPris:"",produktId:""}]}]}]}}),c=l.watch(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`),{remove:d}=KS({control:l.control,name:`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`}),[u,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{Array.isArray(r)&&r.length>0&&l.setValue("hovedkategorinavn",r)}),[l,r]);const p=(0,e.useRef)([]);(0,e.useEffect)((()=>{const e=l.watch(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`);e&&JSON.stringify(p.current)!==JSON.stringify(e)&&(a((t=>{var n,r;const a=[...t];return null!==(n=a[i])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[s]&&(a[i].Kategorinavn[s].produkter=null===e||void 0===e?void 0:e.map(((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||"",Labour:e.Labour||"",LabourPris:e.LabourPris||"",produktId:e.produktId||""})))),a})),p.current=e)}),[JSON.stringify(l.watch(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`))]);const[f,m]=(0,e.useState)(null),g=((e,t)=>{const n=((null===(e=l.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[i])||void 0===t?void 0:t.Kategorinavn)||[]).filter((e=>{var t,n;if(null===e||void 0===e||!e.navn)return!1;const r=""!==e.navn.trim(),i=""!==(null===e||void 0===e||null===(t=e[s])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim());return r||i}));return n.length>0?n:[]})(),[v,x]=(0,e.useState)(null),[b,y]=(0,e.useState)(null),[w,k]=(0,e.useState)(!1),S=l.watch(`hovedkategorinavn.${i}.Kategorinavn.${s}.navn`),_=()=>{m(null),h(!1)},[j,C]=(0,e.useState)(!1),[N,E]=(0,e.useState)(null),[A,T]=(0,e.useState)(null),P=()=>{j?(C(!1),T(null),E(null)):C(!0)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(rN,{...l,children:(0,V.jsx)("form",{onSubmit:l.handleSubmit((async e=>{try{var t,n;const r=null===e||void 0===e?void 0:e.hovedkategorinavn;if(!Array.isArray(r)||0===r.length||!r[i])return void pe.error("Ingen gyldig kategori funnet.");const a=r[i],{name:s,isSelected:o,Kategorinavn:c=[]}=a;if(!s)return;const d=(null===(t=l.getValues("hovedkategorinavn"))||void 0===t||null===(n=t[i])||void 0===n?void 0:n.id)||RN(),u=Qf(tk,"inventory",d),h=await Zm(u);await eg(u,{id:d,name:s,isSelected:o,[h.exists()?"updatedAt":"createdAt"]:(new Date).toISOString()},{merge:!0});const p=c.filter((e=>"string"===typeof e.navn&&""!==e.navn.trim()&&Array.isArray(e.produkter)&&e.produkter.length>0)),f=Zf(u,"Kategorinavn");for(const e of p){const t=e.id||RN(),n=Qf(f,t),r={id:t,navn:e.navn,timestamp:(new Date).toISOString(),produkter:e.produkter.map((e=>{const t=!!e.produktId;return{...e,produktId:t?e.produktId:RN(),timestamp:(new Date).toISOString()}}))};e.id?await eg(n,r,{merge:!0}):await eg(n,r)}pe.success("Kategori oppdatert!",{position:"top-right"})}catch(r){console.error("Firestore update failed:",r),pe.error("Noe gikk galt. Pr\xf8v igjen.",{position:"top-right"})}})),children:(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{className:"p-4",children:(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsx)("h4",{className:"text-darkBlack font-semibold text-lg",children:"Customisation"})})}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===g||void 0===g?void 0:g.length)>0?(0,V.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===g||void 0===g?void 0:g.map(((e,t)=>(0,V.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap "+(s===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>o(t),children:[(0,V.jsx)("span",{className:"text-sm",children:e.navn}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),m(t),h(!0)},children:(0,V.jsx)(_k,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("img",{src:gN,alt:"close",onClick:async n=>{n.preventDefault(),n.stopPropagation();const r=g.filter(((e,n)=>n!==t));a((e=>{const t=[...e];return t[i]={...t[i],Kategorinavn:r},t})),l.setValue(`hovedkategorinavn.${i}.Kategorinavn`,r,{shouldValidate:!0});try{var s,o;const t=null===(s=l.getValues("hovedkategorinavn"))||void 0===s||null===(o=s[i])||void 0===o?void 0:o.id;if(t){const n=Zf(Qf(tk,"inventory",t),"Kategorinavn");if(null!==e&&void 0!==e&&e.id){const t=Qf(n,e.id);await ng(t)}}}catch(c){console.error("Failed to delete category from Firestore:",c)}}})]},t)))}):(0,V.jsx)("p",{className:"text-secondary text-sm",children:"Ingen tilpasningskategori lagt til"}),(0,V.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>h(!0),children:[(0,V.jsx)(jk,{}),"Legg til produkt"]})]}),g.length>0?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,V.jsxs)("h4",{className:"text-darkBlack text-base font-semibold",children:[S," options"]}),(0,V.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{k(!0)},children:[(0,V.jsx)(jk,{}),"Legge til ",S]})]}),(0,V.jsxs)("div",{className:"",children:[(0,V.jsx)("div",{className:"grid grid-cols-2 gap-6",children:null===c||void 0===c?void 0:c.map(((e,t)=>(0,V.jsx)("div",{className:"cursor-move border-[#EFF1F5] border rounded-lg",draggable:!0,onDragStart:()=>x(t),onDragOver:e=>{e.preventDefault(),y(t)},onDrop:()=>(()=>{if(null===v||null===b||v===b)return;const e=[...c],t=e[v];e.splice(v,1),e.splice(b,0,t),l.setValue(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`,e),x(null),y(null)})(),children:(0,V.jsxs)("div",{className:"flex gap-4 p-3",children:[(0,V.jsx)("div",{className:"w-[20%]",children:(0,V.jsx)("img",{src:`${null===e||void 0===e?void 0:e.Hovedbilde[0]}`,alt:"floor",className:"w-full h-full border border-[#EFF1F5] rounded-[4px]"})}),(0,V.jsxs)("div",{className:"w-[80%]",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1 justify-between mb-2",children:[(0,V.jsx)("h4",{className:"text-darkBlack text-sm truncate",children:null===e||void 0===e?void 0:e.Produktnavn}),(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)(_k,{className:"text-purple w-5 h-5 cursor-pointer",onClick:()=>{E(t),T(e),C(!0)}}),(0,V.jsx)(vN,{className:"text-red w-5 h-5 cursor-pointer",onClick:async()=>{const n=null===e||void 0===e?void 0:e.produktId;(e=>{c.length>1&&d(e)})(t);try{if(n){var r,a;const e=null===(r=l.getValues("hovedkategorinavn"))||void 0===r||null===(a=r[i])||void 0===a?void 0:a.id,t=l.getValues(`hovedkategorinavn.${i}.Kategorinavn.${s}`),o=null===t||void 0===t?void 0:t.id;if(!e||!o||!n)return void console.warn("Missing inventoryId, categoryId, or productId");const c=Qf(tk,"inventory",e),d=Qf(c,"Kategorinavn",o),u=await Zm(d);if(!u.exists())return void console.error("Category doc not found");const h=u.data(),p=(h.produkter||[]).filter((e=>e.produktId!==n));await eg(d,{produkter:p,updatedAt:(new Date).toISOString()},{merge:!0})}}catch(o){console.error("Failed to delete product from Firestore:",o)}}})]})]}),(0,V.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,V.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,V.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,V.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:!1===(null===e||void 0===e?void 0:e.IncludingOffer)?null===e||void 0===e?void 0:e.pris:"Standard"}),(0,V.jsx)("span",{className:"text-purple font-medium text-sm cursor-pointer",children:"View Details"})]})]})]})},t)))}),(0,V.jsxs)("div",{className:"flex justify-end gap-5 items-center bg-white border-t border-gray2 p-4 left-0 mt-6 pb-0",style:{zIndex:99999},children:[(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2"}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"})]})]})]}):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{className:"h-full flex items-center justify-center px-6 py-[54px]",children:(0,V.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,V.jsx)("img",{src:kk,alt:"no_data"}),(0,V.jsx)("h3",{className:"text-black font-semibold text-center mb-1.5",children:"No Customisation Category added"}),(0,V.jsxs)("p",{className:"text-sm text-center text-secondary",children:["N\xe5r du har lagt til tilpasningskategorien, kan du legge"," ",(0,V.jsx)("br",{})," til forskjellige produktalternativer."]})]})})})]})]})})}),(0,V.jsxs)(yN,{isOpen:u,onClose:_,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==f?"Rediger underkategori":"Legg til ny underkategori",(0,V.jsx)(mk,{onClick:_,className:"text-primary cursor-pointer"})]}),u&&(0,V.jsx)(bN,{onClose:()=>{m(null),h(!1)},formData:l,activeTabData:i,setCategory:a,editIndex:f,defaultValue:null!==f&&(null===(n=g[f])||void 0===n?void 0:n.navn)||""})]}),(0,V.jsxs)(yN,{isOpen:w,onClose:()=>{k(!w)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(mk,{onClick:()=>{h(!u)},className:"text-primary cursor-pointer"})]}),w&&(0,V.jsx)(jN,{onClose:()=>k(!1),onSubmit:e=>{const t=l.getValues(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`)||[];l.setValue(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`,[...t,...e.produkter])}})]}),(0,V.jsxs)(yN,{isOpen:j,onClose:P,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(mk,{onClick:P,className:"text-primary cursor-pointer"})]}),j&&(0,V.jsx)(FN,{onClose:()=>C(!1),defaultValues:A,onSubmit:e=>{const t=l.getValues(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`).map(((t,n)=>n===N?e:t));l.setValue(`hovedkategorinavn.${i}.Kategorinavn.${s}.produkter`,t),P()}})]})]})},HN=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(!1),[a,s]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)(!0),p=()=>{r?(i(!1),d(null)):i(!0)},f=e=>{e.preventDefault()};return(0,e.useEffect)((()=>{(async()=>{const e=Zf(tk,"inventory"),t=await Jm(e),r=[];for(const n of t.docs){const e=n.data(),t=n.id,i=Zf(tk,"inventory",t,"Kategorinavn"),a=(await Jm(i)).docs.map((e=>({id:e.id,...e.data()})));r.push({id:t,...e,Kategorinavn:a})}s(r),n(0),h(!1)})()}),[]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"p-8 flex gap-3 items-center justify-between bg-lightPurple",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h1",{className:"text-darkBlack font-medium text-[32px] mb-2",children:"Romkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"Her legger du til produkter, leverand\xf8r, pris og bilder for hvert produkt."})]}),(0,V.jsx)(Sk,{text:"Lag ny serie",className:"border border-purple bg-purple text-white text-base rounded-[40px] h-[48px] font-medium relative px-5 py-3 flex items-center gap-2",path:"/add-husmodell"})]}),(0,V.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,V.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 h-[540px]",children:[(0,V.jsx)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:(0,V.jsx)("span",{className:"truncate",children:"Housing Configuration Elements"})}),(0,V.jsx)("div",{className:"flex flex-col p-4 pb-0 rounded-lg gap-3 h-full max-h-[calc(100%-129px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:a.length>0?a.map(((e,r)=>(0,V.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{l(e)})(r),onDragOver:f,onDrop:()=>(e=>{if(null===o||o===e)return;const t=[...a],n=t[o];t.splice(o,1),t.splice(e,0,n),s(t),l(null)})(r),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 "+(t===r?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>n(r),children:[(0,V.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold",children:[(0,V.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:r+1}),(0,V.jsx)("span",{className:"w-[135px] truncate",children:""!==(null===e||void 0===e?void 0:e.name_no)&&null!==e&&void 0!==e&&e.name_no?null===e||void 0===e?void 0:e.name_no:null===e||void 0===e?void 0:e.name})]}),(0,V.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,V.jsx)("div",{onClick:t=>{t.preventDefault(),t.stopPropagation(),d({index:r,data:e}),i(!0)},children:(0,V.jsx)(_k,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("div",{onClick:async t=>{t.preventDefault(),t.stopPropagation();const i=Qf(tk,"inventory",null===e||void 0===e?void 0:e.id);try{await ng(i),Be.success("Slettet",{position:"top-right"}),s((e=>e.filter(((e,t)=>t!==r)))),n(0)}catch(a){console.error("Error deleting category:",a)}},className:"w-5 h-5",children:(0,V.jsx)("img",{src:wk,alt:"delete",className:"w-full h-full"})})]})]},r))):(0,V.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,V.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,V.jsx)("img",{src:kk,alt:"no_data"}),(0,V.jsxs)("h3",{className:"text-black font-semibold text-center mb-1.5",children:["Ingen boligkonfigurasjon ",(0,V.jsx)("br",{})," Elementer lagt til"]}),(0,V.jsxs)("p",{className:"text-sm text-center text-secondary",children:["Klikk p\xe5 Legg til ny-knappen ",(0,V.jsx)("br",{})," for \xe5 legge til element"]})]})})}),(0,V.jsx)("div",{className:"flex items-center text-purple gap-2 cursor-pointer py-3 px-6",onClick:()=>i(!0),style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"flex items-center gap-2 w-full justify-center border-2 border-primary rounded-[40px] p-2",children:[(0,V.jsx)(jk,{}),(0,V.jsx)("span",{className:"text-base font-medium whitespace-nowrap",children:"Nytt rom"})]})})]}),(0,V.jsx)("div",{className:"w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max",children:(0,V.jsx)(zN,{Category:a,activeTabData:t,setCategory:s})})]}),r&&(0,V.jsx)(yk,{onClose:p,isOpen:!0,children:(0,V.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,V.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,V.jsx)(mN,{onClose:p,setCategory:s,editData:c,Category:a})]})}),u&&(0,V.jsx)(li,{})]})},KN=()=>{const t=qn(),[n,r]=(0,e.useState)([]),[i,a]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{a(!0);try{let e=Dm(Zf(tk,"housemodell_configure_broker"),Vm("updatedAt","desc"));const t=(await Jm(e)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(e){console.error("Error fetching husmodell data:",e)}finally{a(!1)}})()}),[]);const[s,o]=(0,e.useState)({}),l=e=>{o((t=>({...t,[e]:!0})))};return(0,V.jsxs)(V.Fragment,{children:[i&&(0,V.jsx)(li,{}),(0,V.jsx)("div",{className:"px-4 md:px-6 py-5 md:py-8 desktop:p-8 flex gap-3 items-center justify-between bg-lightPurple",children:(0,V.jsxs)("div",{children:[(0,V.jsx)("h1",{className:"text-darkBlack font-medium text-2xl md:text-[28px] desktop:text-[32px] mb-2",children:"Velg \xf8nsket serie"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Velg \xf8nsket serie og du vil kunne konfigurere boligen i henhold til \xf8nsket seier"})]})}),(0,V.jsx)("div",{className:"px-4 md:px-6 py-5 md:py-8 desktop:p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 desktop:gap-6",children:n&&n.length>0&&(null===n||void 0===n?void 0:n.map(((e,n)=>{const r=s[n];return(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{className:"w-full h-[243px] mb-2.5 md:mb-4 relative",children:[!r&&(0,V.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer"}),(null===e||void 0===e?void 0:e.photo)&&(0,V.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"house",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 "+(r?"opacity-100":"opacity-0"),onLoad:()=>l(n),onError:()=>l(n),loading:"lazy"})]}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsx)("h4",{className:"text-darkBlack font-medium",children:null===e||void 0===e?void 0:e.husmodell_name}),(0,V.jsx)("div",{className:"border-purple border-2 rounded-[40px] py-2 px-5 text-purple font-medium h-[40px] flex items-center justify-center cursor-pointer whitespace-nowrap",onClick:()=>t(`/se-series/${null===e||void 0===e?void 0:e.id}`),children:"Velg serie"})]})]},n)})))})]})},qN=pk("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),GN=e=>{let{tabs:t,setActiveTab:n,activeTab:r}=e;return(0,V.jsx)("div",{className:"flex gap-2",children:t.map(((e,t)=>(0,V.jsx)("button",{className:`py-2 px-2 text-sm md:text-base md:px-3 rounded-lg ${r===t?"font-semibold text-purple shadow-shadow1":"text-black"} ${n?"cursor-pointer":"cursor-auto"}`,onClick:()=>n?n(t):void 0,children:e.label},t)))})},WN=__webpack_require__.p+"static/media/Img_product_3d_img1.65392a8a99c118933916.png";const XN=__webpack_require__.p+"static/media/Ic_download_primary.61971a5f2140e0283ac19ce7e3fe513b.svg";const YN=__webpack_require__.p+"static/media/Ic_close.92ec46151263d65efaf8b92ffe2ac500.svg",ZN=pk("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),QN=t=>{let{file:n}=t;const[r,i]=(0,e.useState)({fileName:"",fileSize:""});return(0,e.useEffect)((()=>{(async()=>{const e=await(async e=>{try{const n=Qw(),r=Zw(n,decodeURIComponent(e).split("/o/")[1].split("?")[0].replace(/%2F/g,"/")),i=await Xw(r),a=i.size?(t=i.size)<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(2)} KB`:t<1073741824?`${(t/1048576).toFixed(2)} MB`:`${(t/1073741824).toFixed(2)} GB`:"Unknown size";return{fileName:i.name,fileSize:a}}catch(n){return console.error("Error fetching file info:",n),{fileName:"Unknown",fileSize:"Unknown size"}}var t})(n);i(e)})()}),[n]),(0,V.jsxs)("div",{className:"truncate",children:[(0,V.jsx)("h5",{className:"text-darkBlack text-sm font-medium mb-1 truncate",children:r.fileName||"Loading..."}),(0,V.jsx)("p",{className:"text-gray text-xs",children:r.fileSize||"Fetching size..."})]})},JN=t=>{let{husmodellData:n}=t;const r=(0,e.useRef)(null);(0,e.useEffect)((()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)}),[null===n||void 0===n?void 0:n.OmHusmodellen]);const[i,a]=(0,e.useState)(!1),s=(null===n||void 0===n?void 0:n.photo3D)||[],o=s.slice(0,4),l=s.length-4;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex gap-6 h-[333px] mb-[74px]",children:[(0,V.jsxs)("div",{className:"w-2/3 h-full",children:[(0,V.jsx)("h4",{className:"mb-4 text-darkBlack text-lg font-semibold",children:"Illustrasjoner"}),(0,V.jsxs)("div",{className:"gap-6 flex h-[calc(100%-40px)]",children:[(0,V.jsx)("div",{className:"w-1/2",children:(0,V.jsx)("img",{src:WN,alt:"product",className:"w-full h-full"})}),(0,V.jsx)("div",{className:"w-1/2 grid grid-cols-2 gap-6",children:o.map(((e,t)=>(0,V.jsxs)("div",{className:"relative overflow-hidden h-full",children:[(0,V.jsx)("img",{src:e,alt:"product",className:"w-full h-full object-fill rounded-lg"}),3===t&&l>0&&(0,V.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-35 flex items-center justify-center text-white text-base font-bold cursor-pointer rounded-lg",onClick:()=>a(!0),children:["+",l]})]},t)))})]})]}),(0,V.jsxs)("div",{className:"w-1/3 border border-gray2 shadow-shadow2 rounded-lg h-full",children:[(0,V.jsx)("div",{className:"px-4 py-5 border-b border-gray2 text-darkBlack text-base font-semibold",children:"Dokumenter"}),(0,V.jsx)("div",{className:"p-4 flex flex-col gap-4 overflow-y-auto h-[calc(100%-65px)] overFlowAutoY",children:null!==n&&void 0!==n&&n.documents&&(null===n||void 0===n?void 0:n.documents.length)>0?null===n||void 0===n?void 0:n.documents.map(((e,t)=>(0,V.jsxs)("div",{className:"border border-gray2 rounded-lg p-3 bg-[#F9FAFB] flex items-center justify-between",children:[(0,V.jsxs)("div",{className:"flex items-start gap-3 truncate",children:[(0,V.jsx)("div",{className:"border-[4px] border-lightPurple rounded-full flex items-center justify-center",children:(0,V.jsx)("div",{className:"bg-darkPurple w-7 h-7 rounded-full flex justify-center items-center",children:(0,V.jsx)(ZN,{className:"text-primary w-4 h-4"})})}),(0,V.jsx)(QN,{file:e})]}),(0,V.jsx)("img",{src:XN,alt:"download",className:"cursor-pointer",onClick:()=>(async e=>{try{if(!e)return void console.error("File path is missing!");const t=Zw(Qw(),e),n=await Yw(t),r=document.createElement("a");r.href=n,r.target="_blank",r.rel="noopener noreferrer",r.download=e.split("/").pop()||"download",document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(t){console.error("Error downloading file:",t)}})(e)})]},t))):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("p",{children:"Ingen dokument funnet."})})})]})]}),(0,V.jsxs)("div",{className:"w-full flex gap-[60px] mt-8",children:[(0,V.jsxs)("div",{className:"w-[43%]",children:[(0,V.jsx)("h4",{className:"text-darkBlack mb-6 font-semibold text-2xl",children:null===n||void 0===n?void 0:n.husmodell_name}),(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)("img",{src:null===n||void 0===n?void 0:n.photo,alt:"product-1",className:"w-full h-[262px] object-cover rounded-[12px] overflow-hidden"})}),(0,V.jsxs)("div",{className:"my-[20px] flex items-center justify-between",children:[(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("p",{className:"text-gray text-base",children:"Pris fra"}),(0,V.jsx)("h4",{className:"text-xl font-semibold text-darkBlack",children:ok(null===n||void 0===n?void 0:n.pris)})]}),(0,V.jsxs)("div",{className:"flex items-center gap-4",children:[(0,V.jsxs)("div",{className:"text-gray text-sm",children:[(0,V.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.BRATotal})," ","m",(0,V.jsx)("sup",{children:"2"})]}),(0,V.jsx)("div",{className:"h-[12px] w-[1px] border-l border-gray"}),(0,V.jsxs)("div",{className:"text-gray text-sm",children:[(0,V.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.Soverom})," ","soverom"]}),(0,V.jsx)("div",{className:"h-[12px] w-[1px] border-l border-gray"}),(0,V.jsxs)("div",{className:"text-gray text-sm",children:[(0,V.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.Bad})," ","bad"]})]})]}),(0,V.jsxs)("div",{className:"w-full flex gap-8 mb-[60px]",children:[(0,V.jsx)("div",{className:"w-1/2 border-t-2 border-b-0 border-l-0 border-r-0 border-purple pt-4",children:(0,V.jsx)("table",{className:"table-auto border-0 w-full text-left property_detail_tbl",children:(0,V.jsxs)("tbody",{children:[(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"BRA total (bruksareal)"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BRATotal," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"BRA bolig"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BebygdAreal," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"GUA (Gulvareal):"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.PRom," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bebygd areal (BYA)"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BebygdAreal," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Lengde"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Lengde})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bredde"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Bredde})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Soverom"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Soverom})]})]})})}),(0,V.jsx)("div",{className:"w-1/2 border-t-2 border-b-0 border-l-0 border-r-0 border-purple pt-4",children:(0,V.jsx)("table",{className:"table-auto border-0 w-full text-left property_detail_tbl",children:(0,V.jsxs)("tbody",{children:[(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bad"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Bad})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Innvendig bod"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.InnvendigBod})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Energimerking"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Energimerking})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Tilgjengelig bolig"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.TilgjengeligBolig})]})]})})})]}),(0,V.jsx)("h2",{className:"mb-6 text-darkBlack text-2xl font-semibold",children:"Plantegninger og fasader"}),(0,V.jsx)("img",{src:null===n||void 0===n?void 0:n.PlantegningerFasader[0],alt:"map",className:"w-full"})]}),(0,V.jsxs)("div",{className:"w-[57%]",children:[(0,V.jsx)("h2",{className:"text-darkBlack text-2xl font-semibold mb-4 truncate",children:null===n||void 0===n?void 0:n.Hustittel}),(0,V.jsx)("div",{className:"flex flex-col gap-4 mb-[60px]",children:(0,V.jsx)("textarea",{value:null===n||void 0===n?void 0:n.OmHusmodellen,className:"text-base text-gray h-full focus-within:outline-none resize-none",ref:r,readOnly:!0})}),(0,V.jsx)("h2",{className:"text-darkBlack text-2xl font-semibold mb-4",children:null===n||void 0===n?void 0:n.TittelVideo}),(0,V.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,V.jsx)("iframe",{width:"100%",height:"100%",src:(e=>{var t;const n=null===(t=e.split("v=")[1])||void 0===t?void 0:t.split("&")[0];return n?`https://www.youtube.com/embed/${n}?rel=0&modestbranding=1&controls=0&disablekb=1&fs=0`:""})(null===n||void 0===n?void 0:n.VideoLink),frameBorder:"0",allowFullScreen:!0,title:null===n||void 0===n?void 0:n.TittelVideo,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin"})})]})]}),i&&(0,V.jsx)(yk,{isOpen:!0,onClose:()=>{a(!i)},children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-4xl w-full relative",children:[(0,V.jsx)("button",{className:"absolute top-3 right-3",onClick:()=>a(!1),children:(0,V.jsx)("img",{src:YN,alt:"close"})}),(0,V.jsx)("div",{className:"grid grid-cols-3 gap-2 my-4",children:s.map(((e,t)=>(0,V.jsx)("img",{src:e,alt:"product",className:"w-full h-[200px]"},t)))})]})})]})};const eE=__webpack_require__.p+"static/media/Ic_info_circle.f235c5d49af556aa298afcd66ae739cd.svg",tE=e=>{var t,n,r;let{husmodellData:i}=e;const a=null===i||void 0===i?void 0:i.Byggekostnader,s=(a?a.reduce(((e,t)=>{var n;const r=null===(n=t.pris)||void 0===n?void 0:n.replace(/\s/g,"").replace(/\./g,"").replace(",",".");return e+(r?parseFloat(r):0)}),0):0).toLocaleString("nb-NO"),o=null===i||void 0===i?void 0:i.Tomtekost,l=(o?o.reduce(((e,t)=>{var n;const r=null===(n=t.pris)||void 0===n?void 0:n.replace(/\s/g,"").replace(/\./g,"").replace(",",".");return e+(r?parseFloat(r):0)}),0):0).toLocaleString("nb-NO");return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"flex gap-6",children:[(0,V.jsxs)("div",{className:"w-1/2 p-4 border border-gray2 rounded-lg h-max",style:{boxShadow:"0px 4px 6px -2px #10182808, 0px 12px 16px -4px #10182814"},children:[(0,V.jsx)("div",{className:"text-center p-4 text-black font-medium text-lg bg-lightPurple mb-5",children:"Byggekostnader"}),(null===i||void 0===i||null===(t=i.Byggekostnader)||void 0===t?void 0:t.length)>0&&(0,V.jsxs)("div",{className:"flex flex-col gap-5",children:[null===i||void 0===i||null===(n=i.Byggekostnader)||void 0===n?void 0:n.map(((e,t)=>(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:eE,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:null===e||void 0===e?void 0:e.Headline})]}),(0,V.jsx)("h4",{className:"text-black font-medium text-base",children:null!==e&&void 0!==e&&e.pris?`kr ${e.pris}`:"inkl. i tilbud"})]},t))),(0,V.jsxs)("div",{className:"bg-[#F7F1FF] flex items-center justify-between gap-2 p-2",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:eE,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:"Antatt prisstigning til den 15.i den m\xe5ned t\xf8mrerne starter"})]}),(0,V.jsx)("div",{className:"border border-gray2 rounded-lg bg-white py-[10px] px-[14px] flex items-center justify-center text-darkBlack font-medium text-base",children:"kr 221 800"})]}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:eE,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-lg font-bold",children:"Sum byggkostnader"})]}),(0,V.jsxs)("h4",{className:"text-black font-bold text-base",children:["kr ",s]})]})]})]}),(0,V.jsxs)("div",{className:"w-1/2 p-4 border border-gray2 rounded-lg h-max",style:{boxShadow:"0px 4px 6px -2px #10182808, 0px 12px 16px -4px #10182814"},children:[(0,V.jsx)("div",{className:"text-center p-4 text-black font-medium text-lg bg-lightPurple mb-5",children:"Tomkostnader"}),(0,V.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:eE,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:"Tomtekj\xf8p"})]}),(0,V.jsx)("input",{type:"text",className:"focus-within:outline-none placeholder:text-gray rounded-[8px] shadow-shadow1 border border-gray1 py-[10px] px-[14px] w-[140px]",placeholder:"Enter"})]}),(null===i||void 0===i?void 0:i.Tomtekost.length)>0&&(null===i||void 0===i||null===(r=i.Tomtekost)||void 0===r?void 0:r.map(((e,t)=>(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:eE,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:null===e||void 0===e?void 0:e.Headline})]}),(0,V.jsx)("h4",{className:"text-black font-medium text-base",children:null!==e&&void 0!==e&&e.pris?`kr ${e.pris}`:"inkl. i tilbud"})]},t)))),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:eE,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-lg font-bold",children:"Sum tomtekostnader"})]}),(0,V.jsxs)("h4",{className:"text-black font-bold text-base",children:["kr ",l]})]})]})]})]})})},nE=()=>{var t,n,r,i,a,s;const[o,l]=(0,e.useState)(0),c=zn().pathname.split("/"),d=c.length>2?c[2]:null,[u,h]=(0,e.useState)(!0),[p,f]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!d)return void h(!1);(async()=>{const e=await ik(d);e&&f(e),h(!1)})()}),[d]),(0,V.jsx)(V.Fragment,{children:u?(0,V.jsx)(li,{}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple py-4 px-6",children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-gray text-sm font-medium",children:"Husmodell"}),(0,V.jsx)(qN,{className:"text-gray2 w-4 h-4"}),(0,V.jsx)("span",{className:"text-primary text-sm font-medium",children:"Se husmodell"})]}),(0,V.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,V.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,V.jsx)("img",{src:null===p||void 0===p||null===(t=p.Husdetaljer)||void 0===t?void 0:t.photo,alt:"plot-image",className:"w-[180px] h-[113px] rounded-lg"}),(0,V.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,V.jsx)("h4",{className:"text-darkBlack font-medium text-2xl",children:null===p||void 0===p||null===(n=p.Husdetaljer)||void 0===n?void 0:n.husmodell_name}),(0,V.jsxs)("div",{className:"flex items-center gap-4",children:[(0,V.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===p||void 0===p||null===(r=p.Husdetaljer)||void 0===r?void 0:r.BRATotal," ",(0,V.jsxs)("span",{className:"text-gray font-normal",children:["m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsx)("div",{className:"h-3 border-l border-gray2"}),(0,V.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===p||void 0===p||null===(i=p.Husdetaljer)||void 0===i?void 0:i.Soverom," ",(0,V.jsx)("span",{className:"text-gray font-normal",children:"soverom"})]}),(0,V.jsx)("div",{className:"h-3 border-l border-gray2"}),(0,V.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===p||void 0===p||null===(a=p.Husdetaljer)||void 0===a?void 0:a.Bad," ",(0,V.jsx)("span",{className:"text-gray font-normal",children:"bad"})]})]})]})]}),(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("p",{className:"text-gray text-sm",children:"Pris fra"}),(0,V.jsx)("h5",{className:"text-darkBlack text-xl font-semibold",children:ok(null===p||void 0===p||null===(s=p.Husdetaljer)||void 0===s?void 0:s.pris)})]})]})]}),(0,V.jsxs)("div",{className:"py-4 px-6",children:[(0,V.jsxs)("div",{className:"border-b border-gray2 flex items-center justify-between gap-2 mb-6",children:[(0,V.jsx)(GN,{tabs:[{label:"Kundedetaljer"},{label:"Prisliste"}],activeTab:o,setActiveTab:l}),(0,V.jsx)(Sk,{text:"Endre husmodell",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",path:`/edit-husmodell/${d}`})]}),0===o&&(0,V.jsx)(JN,{husmodellData:p.Husdetaljer}),1===o&&(0,V.jsx)(tE,{husmodellData:p.Prisliste})]})]})})},rE={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|7(?:[013-57-9]\\d|2[0-8]))\\d|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90)))\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|3\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[0135-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[245]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-467]|5[0-3]|8[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","38\\d{6}|[78]\\d{9,13}|(?:20|9\\d)\\d{8}",[8,10,11,12,13,14],[["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["3"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-468]))\\d{4}|(?:2742|305[3-9]|472[247-9]|505[2-57-9]|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var iE={}.constructor;function aE(e){return void 0!==e&&null!==e&&e.constructor===iE}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dE(e){var t,n,r,i=lE(Array.prototype.slice.call(e),4),a=i[0],s=i[1],o=i[2],l=i[3];if("string"!==typeof a)throw new TypeError("A text for parsing must be a string.");if(t=a,s&&"string"!==typeof s){if(!aE(s))throw new Error("Invalid second argument: ".concat(s));o?(n=s,r=o):r=s}else l?(n=o,r=l):(n=void 0,r=o),s&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(n),!0).forEach((function(t){oE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultCountry:s},n));return{text:t,options:n,metadata:r}}var uE="0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9",hE="".concat("-\u2010-\u2015\u2212\u30fc\uff0d").concat("\uff0f/").concat("\uff0e.").concat(" \xa0\xad\u200b\u2060\u3000").concat("()\uff08\uff09\uff3b\uff3d\\[\\]").concat("~\u2053\u223c\uff5e");function pE(e){return pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(e)}function fE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mE(e){var t=bE();return function(){var n,r=wE(e);if(t){var i=wE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===pE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gE(e)}(this,n)}}function gE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vE(e){var t="function"===typeof Map?new Map:void 0;return vE=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return xE(e,arguments,wE(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),yE(r,e)},vE(e)}function xE(e,t,n){return xE=bE()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&yE(i,n.prototype),i},xE.apply(null,arguments)}function bE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(z){return!1}}function yE(e,t){return yE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yE(e,t)}function wE(e){return wE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wE(e)}var kE=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yE(e,t)}(a,e);var t,n,r,i=mE(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),Object.setPrototypeOf(gE(t),a.prototype),t.name=t.constructor.name,t}return t=a,n&&fE(t.prototype,n),r&&fE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(vE(Error));function SE(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var a=Number(n[i]),s=Number(r[i]);if(a>s)return 1;if(s>a)return-1;if(!isNaN(a)&&isNaN(s))return 1;if(isNaN(a)&&!isNaN(s))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function _E(e){return _E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_E(e)}function jE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NE(e,t,n){return t&&CE(e.prototype,t),n&&CE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var EE=" ext. ",AE=/^\d+$/,TE=function(){function e(t){jE(this,e),DE(t),this.metadata=t,VE.call(this,t)}return NE(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter((function(e){return"001"!==e}))}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&AE.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new PE(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new PE(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),PE=function(){function e(t,n){jE(this,e),this.globalMetadataObject=n,this.metadata=t,VE.call(this,n.metadata)}return NE(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map((function(t){return new IE(t,e)}))}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&OE(this.types(),e))return new RE(OE(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?EE:this.metadata[13]||EE}}]),e}(),IE=function(){function e(t,n){jE(this,e),this._format=t,this.metadata=n}return NE(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||$E.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),$E=/^\(?\$1\)?$/,RE=function(){function e(t,n){jE(this,e),this.type=t,this.metadata=n}return NE(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function OE(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function DE(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!aE(e)||!aE(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(aE(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+FE(e)+": "+e,"."))}var FE=function(e){return _E(e)};function ME(e,t){if((t=new TE(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function LE(e,t){return t.countries.hasOwnProperty(e)}function VE(e){var t=e.version;"number"===typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===SE(t,"1.2.0")?this.v2=!0:-1===SE(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}var BE=function(e){return"([".concat(uE,"]{1,").concat(e,"})")};function UE(e){var t="[ \xa0\\t,]*",n="[:\\.\uff0e]?[ \xa0\\t,-]*",r="#?",i="[ \xa0\\t]*";return";ext="+BE("20")+"|"+(t+"(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|anexo)"+n+BE("20")+r)+"|"+(t+"(?:[x\uff58#\uff03~\uff5e]|int|\uff49\uff4e\uff54)"+n+BE("9")+r)+"|"+("[- ]+"+BE("6")+"#")+"|"+(i+"(?:,{2}|;)"+n+BE("15")+r)+"|"+(i+"(?:,)+"+n+BE("9")+r)}var zE="["+uE+"]{2}",HE="[+\uff0b]{0,1}(?:["+hE+"]*["+uE+"]){3,}["+hE+uE+"]*",KE=new RegExp("^[+\uff0b]{0,1}(?:["+hE+"]*["+uE+"]){1,2}$","i"),qE=HE+"(?:"+UE()+")?",GE=new RegExp("^"+zE+"$|^"+qE+"$","i");var WE=new RegExp("(?:"+UE()+")$","i");function XE(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return YE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YE(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function YE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZE={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"};function QE(e){return ZE[e]}function JE(e){for(var t,n="",r=XE(e.split(""));!(t=r()).done;){var i=QE(t.value);i&&(n+=i)}return n}function eA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return tA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nA(e){for(var t,n="",r=eA(e.split(""));!(t=r()).done;){n+=rA(t.value,n)||""}return n}function rA(e,t,n){return"+"===e?t?void("function"===typeof n&&n("end")):"+":QE(e)}function iA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return aA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function aA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sA(e,t){return oA(e,void 0,t)}function oA(e,t,n){var r=n.type(t),i=r&&r.possibleLengths()||n.possibleLengths();if(!i)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!n.type("FIXED_LINE"))return oA(e,"MOBILE",n);var a=n.type("MOBILE");a&&(i=function(e,t){for(var n,r=e.slice(),i=iA(t);!(n=i()).done;){var a=n.value;e.indexOf(a)<0&&r.push(a)}return r.sort((function(e,t){return e-t}))}(i,a.possibleLengths()))}else if(t&&!r)return"INVALID_LENGTH";var s=e.length,o=i[0];return o===s?"IS_POSSIBLE":o>s?"TOO_SHORT":i[i.length-1]<s?"TOO_LONG":i.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function lA(e,t){return"IS_POSSIBLE"===sA(e,t)}function cA(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function dA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return uA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hA=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function pA(e,t,n){if(t=t||{},e.country||e.countryCallingCode){(n=new TE(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(cA(r,n.nationalNumberPattern())){if(fA(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?fA(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var i,a=dA(hA);!(i=a()).done;){var s=i.value;if(fA(r,s,n))return s}}}}function fA(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&cA(e,t.pattern()))}function mA(e,t,n){var r=new TE(n).getCountryCodesForCallingCode(e);return r?r.filter((function(e){return function(e,t,n){var r=new TE(n);if(r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0)return!0;return!1}(t,e,n)})):[]}var gA=new RegExp("(["+uE+"])");function vA(e,t,n,r){if(t){var i=new TE(r);i.selectNumberingPlan(t,n);var a=new RegExp(i.IDDPrefix());if(0===e.search(a)){var s=(e=e.slice(e.match(a)[0].length)).match(gA);if(!(s&&null!=s[1]&&s[1].length>0&&"0"===s[1]))return e}}}function xA(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,a,s,o=r.length-1,l=o>0&&r[o];if(t.nationalPrefixTransformRule()&&l)i=e.replace(n,t.nationalPrefixTransformRule()),o>1&&(a=r[1]);else{var c=r[0];i=e.slice(c.length),l&&(a=r[1])}if(l){var d=e.indexOf(r[1]);e.slice(0,d)===t.numberingPlan.nationalPrefix()&&(s=t.numberingPlan.nationalPrefix())}else s=r[0];return{nationalNumber:i,nationalPrefix:s,carrierCode:a}}}return{nationalNumber:e}}function bA(e,t){var n=xA(e,t),r=n.carrierCode,i=n.nationalNumber;if(i!==e){if(!function(e,t,n){if(cA(e,n.nationalNumberPattern())&&!cA(t,n.nationalNumberPattern()))return!1;return!0}(e,i,t))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch(sA(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(i,t))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:r}}function yA(e,t,n,r){var i=t?ME(t,r):n;if(0===e.indexOf(i)){(r=new TE(r)).selectNumberingPlan(t,n);var a=e.slice(i.length),s=bA(a,r).nationalNumber,o=bA(e,r).nationalNumber;if(!cA(o,r.nationalNumberPattern())&&cA(s,r.nationalNumberPattern())||"TOO_LONG"===sA(o,r))return{countryCallingCode:i,number:a}}return{number:e}}function wA(e,t,n,r){if(!e)return{};var i;if("+"!==e[0]){var a=vA(e,t,n,r);if(!a||a===e){if(t||n){var s=yA(e,t,n,r),o=s.countryCallingCode,l=s.number;if(o)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:o,number:l}}return{number:e}}i=!0,e="+"+a}if("0"===e[1])return{};r=new TE(r);for(var c=2;c-1<=3&&c<=e.length;){var d=e.slice(1,c);if(r.hasCallingCode(d))return r.selectNumberingPlan(d),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:e.slice(c)};c++}return{}}function kA(e){return e.replace(new RegExp("[".concat(hE,"]+"),"g")," ").trim()}var SA=/(\$\d)/;function _A(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix,a=(n.carrierCode,n.metadata,e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(SA,t.nationalPrefixFormattingRule()):t.format()));return r?kA(a):a}var jA=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function CA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return NA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function NA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EA(Object(n),!0).forEach((function(t){TA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PA={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function IA(e,t,n,r){if(n=n?AA(AA({},PA),n):PA,r=new TE(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.selectNumberingPlan(e.countryCallingCode)}var i,a=r.countryCallingCode(),s=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return s?RA(i=$A(s,e.carrierCode,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return s?(i=$A(s,null,"INTERNATIONAL",r,n),RA(i="+".concat(a," ").concat(i),e.ext,r,n.formatExtension)):"+".concat(a);case"E.164":return"+".concat(a).concat(s);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(a).concat(s),ext:e.ext});case"IDD":if(!n.fromCountry)return;var o=function(e,t,n,r,i){var a=ME(r,i.metadata);if(a===n){var s=$A(e,t,"NATIONAL",i);return"1"===n?n+" "+s:s}var o=function(e,t,n){var r=new TE(n);return r.selectNumberingPlan(e,t),r.defaultIDDPrefix()?r.defaultIDDPrefix():jA.test(r.IDDPrefix())?r.IDDPrefix():void 0}(r,void 0,i.metadata);if(o)return"".concat(o," ").concat(n," ").concat($A(e,null,"INTERNATIONAL",i))}(s,e.carrierCode,a,n.fromCountry,r);return RA(o,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function $A(e,t,n,r,i){var a=function(e,t){for(var n,r=CA(e);!(n=r()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var a=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(a))continue}if(cA(t,i.pattern()))return i}}(r.formats(),e);return a?_A(e,a,{useInternationalFormat:"INTERNATIONAL"===n,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:r}):e}function RA(e,t,n,r){return t?r(e,t,n):e}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OA(Object(n),!0).forEach((function(t){FA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var LA=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("First argument is required");if("string"!==typeof t)throw new TypeError("First argument must be a string");if("string"===typeof t){if("+"===t[0]&&!n)throw new TypeError("`metadata` argument not passed");if(aE(n)&&aE(n.countries)){r=n;var i=t;if(!BA.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=wA(i,void 0,void 0,r);if(t=a.countryCallingCode,!(n=a.number))throw new Error("Invalid `number` argument passed: too short")}}if(!n)throw new TypeError("`nationalNumber` argument is required");if("string"!==typeof n)throw new TypeError("`nationalNumber` argument must be a string");DE(r);var s=function(e,t){var n,r,i=new TE(t);VA(e)?(n=e,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=e;return{country:n,countryCallingCode:r}}(t,r),o=s.country,l=s.countryCallingCode;this.country=o,this.countryCallingCode=l,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}var t,n,r;return t=e,n=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:mA(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new TE(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return lA(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return function(e,t,n){return t=t||{},(n=new TE(n)).selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==pA(e,t,n.metadata):cA(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern())}(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){return new TE(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return pA(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return IA(this,e,t?DA(DA({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],n&&MA(t.prototype,n),r&&MA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),VA=function(e){return/^[A-Z]{2}$/.test(e)};var BA=/^\+\d+$/;function UA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HA(e,t){var n=t.countries,r=(t.defaultCountry,t.metadata);r=new TE(r);for(var i,a=UA(n);!(i=a()).done;){var s=i.value;if(r.country(s),r.leadingDigits()){if(e&&0===e.search(r.leadingDigits()))return s}else if(pA({phone:e,country:s},void 0,r.metadata))return s}}function KA(e,t){var n=t.nationalNumber,r=t.defaultCountry,i=t.metadata;var a=i.getCountryCodesForCallingCode(e);if(a)return 1===a.length?a[0]:HA(n,{countries:a,defaultCountry:r,metadata:i.metadata})}var qA="(["+uE+"]|[\\-\\.\\(\\)]?)",GA=new RegExp("^\\+"+qA+"*["+uE+"]"+qA+"*$","g"),WA=new RegExp("^("+("["+uE+"]+((\\-)*["+uE+"])*")+"\\.)*"+("[a-zA-Z]+((\\-)*["+uE+"])*")+"\\.?$","g"),XA="tel:",YA=";phone-context=";function ZA(e,t){var n,r=t.extractFormattedPhoneNumber,i=function(e){var t=e.indexOf(YA);if(t<0)return null;var n=t+15;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}(e);if(!function(e){return null===e||0!==e.length&&(GA.test(e)||WA.test(e))}(i))throw new kE("NOT_A_NUMBER");if(null===i)n=r(e)||"";else{n="","+"===i.charAt(0)&&(n+=i);var a,s=e.indexOf(XA);a=s>=0?s+4:0;var o=e.indexOf(YA);n+=e.substring(a,o)}var l=n.indexOf(";isub=");if(l>0&&(n=n.substring(0,l)),""!==n)return n}var QA=new RegExp("[+\uff0b"+uE+"]"),JA=new RegExp("[^"+uE+"#]+$");function eT(e,t,n){if(t=t||{},n=new TE(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new kE("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t,n){var r=ZA(e,{extractFormattedPhoneNumber:function(e){return function(e,t,n){if(!e)return;if(e.length>250){if(n)throw new kE("TOO_LONG");return}if(!1===t)return e;var r=e.search(QA);if(r<0)return;return e.slice(r).replace(JA,"")}(e,n,t)}});if(!r)return{};if(!function(e){return e.length>=2&&GE.test(e)}(r))return function(e){return KE.test(e)}(r)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(WE);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(WE),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}(r);if(i.ext)return i;return{number:r}}(e,t.v2,t.extract),i=r.number,a=r.ext,s=r.error;if(!i){if(t.v2){if("TOO_SHORT"===s)throw new kE("TOO_SHORT");throw new kE("NOT_A_NUMBER")}return{}}var o=function(e,t,n,r){var i,a=wA(nA(e),t,n,r.metadata),s=a.countryCallingCodeSource,o=a.countryCallingCode,l=a.number;if(o)r.selectNumberingPlan(o);else{if(!l||!t&&!n)return{};r.selectNumberingPlan(t,n),t&&(i=t),o=n||ME(t,r.metadata)}if(!l)return{countryCallingCodeSource:s,countryCallingCode:o};var c=bA(nA(l),r),d=c.nationalNumber,u=c.carrierCode,h=KA(o,{nationalNumber:d,defaultCountry:t,metadata:r});h&&(i=h,"001"===h||r.country(i));return{country:i,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:d,carrierCode:u}}(i,t.defaultCountry,t.defaultCallingCode,n),l=o.country,c=o.nationalNumber,d=o.countryCallingCode,u=o.countryCallingCodeSource,h=o.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new kE("INVALID_COUNTRY");return{}}if(!c||c.length<2){if(t.v2)throw new kE("TOO_SHORT");return{}}if(c.length>17){if(t.v2)throw new kE("TOO_LONG");return{}}if(t.v2){var p=new LA(d,c,n.metadata);return l&&(p.country=l),h&&(p.carrierCode=h),a&&(p.ext=a),p.__countryCallingCodeSource=u,p}var f=!!(t.extended?n.hasSelectedNumberingPlan():l)&&cA(c,n.nationalNumberPattern());return t.extended?{country:l,countryCallingCode:d,carrierCode:h,valid:f,possible:!!f||!(!0!==t.extended||!n.possibleLengths()||!lA(c,n)),phone:c,ext:a}:f?function(e,t,n){var r={country:e,phone:t};n&&(r.ext=n);return r}(l,c,a):{}}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tT(Object(n),!0).forEach((function(t){rT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iT(Object(n),!0).forEach((function(t){sT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oT(e,t,n){t&&t.defaultCountry&&!LE(t.defaultCountry,n)&&(t=aT(aT({},t),{},{defaultCountry:void 0}));try{return function(e,t,n){return eT(e,nT(nT({},t),{},{v2:!0}),n)}(e,t,n)}catch(r){if(!(r instanceof kE))throw r}}function lT(){var e=dE(arguments);return oT(e.text,e.options,e.metadata)}const cT={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xc5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xe9lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xe7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var dT=__webpack_require__(173),uT=dT.shape({country_calling_codes:dT.object.isRequired,countries:dT.object.isRequired}),hT=dT.objectOf(dT.string),pT=__webpack_require__(139);function fT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return mT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gT(e,t){for(var n,r=0,i=fT(t.split(""));!(n=i()).done;){n.value===e&&r++}return r}function vT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return xT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(e){return{text:e}};var r=gT(t,e);return function(i){if(!i)return{text:"",template:e};for(var a,s=0,o="",l=vT(e.split(""));!(a=l()).done;){var c=a.value;if(c===t){if(o+=i[s],++s===i.length&&i.length<r)break}else o+=c}return n&&(o=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",i=e.length,a=gT("(",e)-gT(")",e);a>0&&i<t.length;)e+=t[i].replace(n,r),")"===t[i]&&a--,i++;return e}(o,e)),{text:o,template:e}}}var yT=8,wT=46;function kT(e,t){void 0!==t&&(!function(){if("undefined"!==typeof navigator)return ST.test(navigator.userAgent)}()?e.setSelectionRange(t,t):setTimeout((function(){return e.setSelectionRange(t,t)}),0))}var ST=/Android/i;function _T(e,t,n,r,i){if(!t.hasAttribute("readonly")){var a=function(e){switch(e.keyCode){case yT:return"Backspace";case wT:return"Delete"}}(e);switch(a){case"Delete":case"Backspace":e.preventDefault();var s=function(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}(t);return s?(jT(t,s),CT(t,n,r,void 0,i)):CT(t,n,r,a,i)}}}function jT(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,kT(e,t.start)}function CT(e,t,n,r,i){var a=function(e,t,n){for(var r={},i="",a=0,s=0;s<e.length;){var o=n(e[s],i,r);void 0!==o&&(i+=o,void 0!==t&&(t===s?a=i.length-1:t>s&&(a=i.length))),s++}return void 0===t&&(a=i.length),{value:i,caret:a}}(e.value,e.selectionStart,t),s=a.value,o=a.caret;if(r){var l=function(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1)}return{value:e,caret:t}}(s,o,r);s=l.value,o=l.caret}var c=function(e,t,n){"string"===typeof n&&(n=bT(n));var r=n(e)||{},i=r.text,a=r.template;if(void 0===i&&(i=e),a)if(void 0===t)t=i.length;else{for(var s=0,o=!1,l=-1;s<i.length&&s<a.length;){if(i[s]!==a[s]){if(0===t){o=!0,t=s;break}l=s,t--}s++}o||(t=l+1)}return{text:i,caret:t}}(s,o,n),d=c.text;o=c.caret,e.value=d,kT(e,o),i&&i(s)}var NT=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ET(Object(n),!0).forEach((function(t){TT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IT(t){var n=t.ref,r=t.parse,i=t.format,a=t.value,s=t.defaultValue,o=t.controlled,l=void 0===o||o,c=t.onChange,d=t.onKeyDown,u=PT(t,NT),h=(0,e.useRef)(),p=(0,e.useCallback)((function(e){h.current=e,n&&("function"===typeof n?n(e):n.current=e)}),[n]),f=(0,e.useCallback)((function(e){CT(h.current,r,i,void 0,c)}),[h,r,i,c]),m=(0,e.useCallback)((function(e){if(d&&d(e),!e.defaultPrevented)return _T(e,h.current,r,i,c)}),[h,r,i,c,d]),g=AT(AT({},u),{},{ref:p,onChange:f,onKeyDown:m});return AT(AT({},g),{},l?{value:i($T(a)?"":a).text}:{defaultValue:i($T(s)?"":s).text})}function $T(e){return void 0===e||null===e}var RT=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MT(t,n){var r=t.inputComponent,i=void 0===r?"input":r,a=t.parse,s=t.format,o=t.value,l=t.defaultValue,c=t.onChange,d=t.controlled,u=t.onKeyDown,h=t.type,p=IT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OT(Object(n),!0).forEach((function(t){DT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:n,parse:a,format:s,value:o,defaultValue:l,onChange:c,controlled:d,onKeyDown:u,type:void 0===h?"text":h},FT(t,RT)));return e.createElement(i,p)}(MT=e.forwardRef(MT)).propTypes={parse:dT.func.isRequired,format:dT.func.isRequired,inputComponent:dT.elementType,type:dT.string,value:dT.string,defaultValue:dT.string,onChange:dT.func,controlled:dT.bool,onKeyDown:dT.func,onCut:dT.func,onPaste:dT.func};const LT=MT;function VT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var BT=function(){function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCountryChange=n,this.onCallingCodeChange=r}var t,n,r;return t=e,(n=[{key:"reset",value:function(e){var t=e.country,n=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,n)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])&&VT(t.prototype,n),r&&VT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function UT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return zT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var HT="x",KT=new RegExp(HT);function qT(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function GT(e,t){return")"===e[t]&&t++,function(e){var t=[],n=0;for(;n<e.length;)"("===e[n]?t.push(n):")"===e[n]&&t.pop(),n++;var r=0,i="";t.push(e.length);for(var a=0,s=t;a<s.length;a++){var o=s[a];i+=e.slice(r,o),r=o+1}return i}(e.slice(0,t))}function WT(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode;if(i(t)){var s=XT(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(s)return s}return XT(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}function XT(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,s=_A(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?s=e.nationalPrefix+a(t)+s:e.complexPrefixBeforeNationalSignificantNumber&&(s=e.complexPrefixBeforeNationalSignificantNumber+" "+s)),function(e,t){return JE(e)===t.getNationalDigits()}(s,e))return s}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ZT=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw new Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],n=t.branches,r=t.instructions;if(n)return{op:"|",args:n.concat([tP(r)])};if(0===r.length)throw new Error("Pattern is required");return 1===r.length?r[0]:r}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var t=e.match(eP);if(t){var n=t[1],r=e.slice(0,t.index),i=e.slice(t.index+n.length);switch(n){case"(?:":r&&this.parsePattern(r),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(r&&this.parsePattern(r),0===this.getContext().instructions.length)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext().branches;a.push(tP(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:a});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(r&&this.parsePattern(r),!this.getContext().branches){if(1!==this.context.length)throw new Error('"branches" not found in an "or" group context');this.getContext().branches=[]}this.getContext().branches.push(tP(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":r&&this.parsePattern(r),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:QT(r)});break;default:throw new Error("Unknown operator: ".concat(n))}i&&this.parsePattern(i)}else{if(JT.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""))}}}])&&YT(t.prototype,n),r&&YT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function QT(e){for(var t=[],n=0;n<e.length;){if("-"===e[n]){if(0===n||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,a=r;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[n]);n++}return t}var JT=/[\(\)\[\]\?\:\|]/,eP=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function tP(e){return 1===e.length?e[0]:e}function nP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return rP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var aP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matchTree=(new ZT).parse(t)}var t,n,r;return t=e,n=[{key:"match",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOverflow;if(!e)throw new Error("String is required");var n=sP(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||t)return n}}],n&&iP(t.prototype,n),r&&iP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function sP(e,t,n){if("string"===typeof t){var r=e.join("");return 0===t.indexOf(r)?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:0===r.indexOf(t)?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),a=0;a<t.length;){var s=sP(i,t[a],n&&a===t.length-1);if(!s)return;if(s.overflow)return s;if(!s.match){if(s.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(s,null,2)))}if(0===(i=i.slice(s.matchedChars.length)).length)return a===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0};a++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var o,l,c=nP(t.args);!(l=c()).done;){var d=sP(e,l.value,n);if(d){if(d.overflow)return d;if(d.match)return{match:!0,matchedChars:d.matchedChars};if(!d.partialMatch)throw new Error("Unsupported match result:\n".concat(JSON.stringify(d,null,2)));o=!0}}return o?{partialMatch:!0}:void 0;case"[]":for(var u,h=nP(t.args);!(u=h()).done;){var p=u.value;if(e[0]===p)return 1===e.length?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[p]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function oP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dP=qT("9",15),uP=/[- ]/,hP=function(){return/\[([^\[\]])*\]/g},pP=function(){return/\d(?=[^,}][^,}])/g},fP=new RegExp("["+hE+"]*\\$1["+hE+"]*(\\$\\d["+hE+"]*)*$"),mP=function(){function e(t){t.state;var n=t.metadata;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=n,this.resetFormat()}var t,n,r;return t=e,n=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var n=this;if(function(e,t){return"IS_POSSIBLE"===sA(e,t)}(t.nationalSignificantNumber,this.metadata))for(var r,i=oP(this.matchingFormats);!(r=i()).done;){var a=r.value,s=WT(t,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return n.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return n.getSeparatorAfterNationalPrefix(e)}});if(s)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(s.replace(/\d/g,HT),t),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(HT),s}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var n=this.chosenFormat,r=this.chooseFormat(t);if(r)return r===n?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,n=e.nationalSignificantNumber,r=e.nationalPrefix,i=e.international,a=n,s=a.length-3;s<0&&(s=0),this.matchingFormats=this.matchingFormats.filter((function(e){return t.formatSuits(e,i,r)&&t.formatMatches(e,a,s)})),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,n){return!(n&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat())&&!(!t&&!n&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,n){var r=e.leadingDigitsPatterns().length;if(0===r)return!0;n=Math.min(n,r-1);var i=e.leadingDigitsPatterns()[n];if(t.length<3)try{return void 0!==new aP(i).match(t,{allowOverflow:!0})}catch(a){return console.error(a),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,n=this,r=function(){var r=t.value;return n.chosenFormat===r?"break":fP.test(n.getFormatFormat(r,e.international))?n.createTemplateForFormat(r,e)?(n.chosenFormat=r,"break"):(n.matchingFormats=n.matchingFormats.filter((function(e){return e!==r})),"continue"):"continue"},i=oP(this.matchingFormats.slice());!(t=i()).done;){var a=r();if("break"===a)break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var n=this.getTemplateForFormat(e,t);return n?(this.setNationalNumberTemplate(n,t),!0):void 0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&uP.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var n=e.IDDPrefix,r=e.missingPlus;return n?t&&!1===t.spacing?n:n+" ":r?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,n=0,r=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";n<r.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(HT,t+1),n++;return GT(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,HT)+qT(HT,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var n=t.nationalSignificantNumber,r=t.international,i=t.nationalPrefix,a=t.complexPrefixBeforeNationalSignificantNumber,s=e.pattern();s=s.replace(hP(),"\\d").replace(pP(),"\\d");var o=dP.match(s)[0];if(!(n.length>o.length)){var l=new RegExp("^"+s+"$"),c=n.replace(/\d/g,"9");l.test(c)&&(o=c);var d,u=this.getFormatFormat(e,r);if(this.shouldTryNationalPrefixFormattingRule(e,{international:r,nationalPrefix:i})){var h=u.replace(SA,e.nationalPrefixFormattingRule());if(JE(e.nationalPrefixFormattingRule())===(i||"")+JE("$1")&&(u=h,d=!0,i))for(var p=i.length;p>0;)u=u.replace(/\d/,HT),p--}var f=o.replace(new RegExp(s),u).replace(new RegExp("9","g"),HT);return d||(a?f=qT(HT,a.length)+" "+f:i&&(f=qT(HT,i.length)+this.getSeparatorAfterNationalPrefix(e)+f)),r&&(f=kA(f)),f}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,n){for(var r,i=UT(n.split(""));!(r=i()).done;){var a=r.value;if(e.slice(t+1).search(KT)<0)return;t=e.search(KT),e=e.replace(KT,a)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(t)return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],GT(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1);this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var n=t.international,r=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&r||!i&&!n)return!0}}}],n&&cP(t.prototype,n),r&&cP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bP=new RegExp("^"+("["+hE+uE+"]+")+"$","i"),yP="(?:[+\uff0b]["+hE+uE+"]*|["+hE+uE+"]+)",wP=new RegExp("[^"+hE+uE+"]+.*$"),kP=/[^\d\[\]]/,SP=function(){function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,a=t.onNationalSignificantNumberChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=a}var t,n,r;return t=e,(n=[{key:"input",value:function(e,t){var n,r=function(e){var t=function(e){var t=function(e){var t,n=e.search(yP);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice(1)),e=e.replace(wP,""),t&&(e="+"+e),e}(e)||"";return"+"===t[0]?[t.slice(1),!0]:[t]}(e),n=gP(t,2),r=n[0],i=n[1];return bP.test(r)||(r=""),[r,i]}(e),i=gP(r,2),a=i[0],s=i[1],o=JE(a);return s&&(t.digits||(t.startInternationalNumber(),o||(n=!0))),o&&this.inputDigits(o,t),{digits:o,justLeadingPlus:n}}},{key:"inputDigits",value:function(e,t){var n=t.digits,r=n.length<3&&n.length+e.length>=3;if(t.appendDigits(e),r&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),(function(e){return t.update(e)}))}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,n=e.callingCode;return t&&!n}},{key:"extractCountryCallingCode",value:function(e){var t=wA("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,r=t.number;if(n)return e.setCallingCode(n),e.update({nationalSignificantNumber:r}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&kP.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var n=xA(e,this.metadata),r=n.nationalPrefix,i=n.nationalNumber,a=n.carrierCode;if(i!==e)return this.onExtractedNationalNumber(r,a,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,n){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,n);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var r=xA(e,this.metadata),i=r.nationalPrefix,a=r.nationalNumber,s=r.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,s,a,e,n),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,n,r,i){var a,s,o=r.lastIndexOf(n);if(o>=0&&o===r.length-n.length){s=!0;var l=r.slice(0,o);l!==e&&(a=l)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:n,nationalSignificantNumberMatchesInput:s,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,(function(t){return e.update(t)}))||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,n=e.IDDPrefix,r=e.digits;if(e.nationalSignificantNumber,!t&&!n){var i=vA(r,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);return void 0!==i&&i!==r?(e.update({IDDPrefix:r.slice(0,r.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0):void 0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=yA(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode;if(t.number,n)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:n}),!0}}},{key:"startInternationalNumber",value:function(e,t){var n=t.country,r=t.callingCode;e.startInternationalNumber(n,r),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),(function(t){return e.update(t)}))}}])&&xP(t.prototype,n),r&&xP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var NP=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=new TE(n);var r=_P(this.getCountryAndCallingCode(t),2),i=r[0],a=r[1];this.defaultCountry=i,this.defaultCallingCode=a,this.reset()}var t,n,r;return t=e,n=[{key:"getCountryAndCallingCode",value:function(e){var t,n;return e&&(aE(e)?(t=e.defaultCountry,n=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,n]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),n=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(n){var r;if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(r=this.formatter.format(n,this.state)),void 0===r&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var i=this.state.getNationalDigits();i&&(r=this.formatter.format(i,this.state))}this.formattedOutput=r?this.getFullNumber(r):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new BT({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,n){e.metadata.selectNumberingPlan(n,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new mP({state:this.state,metadata:this.metadata}),this.parser=new SP({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;return e}},{key:"determineTheCountryIfNeeded",value:function(){this.state.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var n=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},r=this.state.callingCode;return n(r?e?"".concat(r," ").concat(e):r:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.complexPrefixBeforeNationalSignificantNumber,r=e.nationalPrefix,i=t,a=n||r;return a&&(i=a+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,HT)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(KA(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,n=e.callingCode,r=e.country,i=e.nationalSignificantNumber;if(t)return this.isInternational()?n?"+"+n+i:"+"+t:r||n?"+"+(r?this.metadata.countryCallingCode():n)+i:void 0}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.carrierCode,r=e.callingCode,i=this._getCountry();if(t&&(i||r)){if(i&&i===this.defaultCountry){var a=new TE(this.metadata.metadata);a.selectNumberingPlan(i);var s=a.numberingPlan.callingCode(),o=this.metadata.getCountryCodesForCallingCode(s);if(o.length>1){var l=HA(t,{countries:o,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});l&&(i=l)}}var c=new LA(i||r,t,this.metadata.metadata);return n&&(c.carrierCode=n),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}],n&&CP(t.prototype,n),r&&CP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function EP(e){var t=e.inputFormat,n=e.country,r=e.metadata;return"NATIONAL_PART_OF_INTERNATIONAL"===t?"+".concat(ME(n,r)):""}function AP(e,t){return t&&" "===(e=e.slice(t.length))[0]&&(e=e.slice(1)),e}function TP(e,t,n){if(!n||!n.ignoreRest){return rA(e,t,(function(e){if(n&&"end"===e)n.ignoreRest=!0}))}}function PP(t){var n=t.onKeyDown,r=t.inputFormat;return(0,e.useCallback)((function(e){e.keyCode===IP&&"INTERNATIONAL"===r&&e.target instanceof HTMLInputElement&&e.target.selectionStart===$P.length?e.preventDefault():n&&n(e)}),[n,r])}var IP=8,$P="+",RP=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function OP(){return OP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OP.apply(this,arguments)}function DP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const FP=function(t){function n(n,r){var i=n.onKeyDown,a=n.country,s=n.inputFormat,o=n.metadata,l=void 0===o?t:o,c=(n.international,n.withCountryCallingCode,DP(n,RP)),d=(0,e.useCallback)((function(e){var t=new NP(a,l),n=EP({inputFormat:s,country:a,metadata:l}),r=t.input(n+e),i=t.getTemplate();return n&&(r=AP(r,n),i&&(i=AP(i,n))),{text:r,template:i}}),[a,l]),u=PP({onKeyDown:i,inputFormat:s});return e.createElement(LT,OP({},c,{ref:r,parse:TP,format:d,onKeyDown:u}))}return(n=e.forwardRef(n)).propTypes={value:dT.string.isRequired,onChange:dT.func.isRequired,onKeyDown:dT.func,country:dT.string,inputFormat:dT.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:dT.object},n}();var MP=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function LP(){return LP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LP.apply(this,arguments)}function VP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const BP=function(t){function n(n,r){var i=n.value,a=n.onChange,s=n.onKeyDown,o=n.country,l=n.inputFormat,c=n.metadata,d=void 0===c?t:c,u=n.inputComponent,h=void 0===u?"input":u,p=(n.international,n.withCountryCallingCode,VP(n,MP)),f=EP({inputFormat:l,country:o,metadata:d}),m=(0,e.useCallback)((function(e){var t=nA(e.target.value);t===i&&(0===UP(f,t,o,d).indexOf(e.target.value)&&(t=t.slice(0,-1)));a(t)}),[f,i,a,o,d]),g=PP({onKeyDown:s,inputFormat:l});return e.createElement(h,LP({},p,{ref:r,value:UP(f,i,o,d),onChange:m,onKeyDown:g}))}return(n=e.forwardRef(n)).propTypes={value:dT.string.isRequired,onChange:dT.func.isRequired,onKeyDown:dT.func,country:dT.string,inputFormat:dT.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:dT.object,inputComponent:dT.elementType},n}();function UP(e,t,n,r){return AP(function(e,t,n){return n||(n=t,t=void 0),new NP(t,n).input(e)}(e+t,n,r),e)}function zP(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var HP=["value","onChange","options","disabled","readOnly"],KP=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function qP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return GP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function GP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WP(){return WP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WP.apply(this,arguments)}function XP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YP(t){var n=t.value,r=t.onChange,i=t.options,a=t.disabled,s=t.readOnly,o=XP(t,HP),l=(0,e.useCallback)((function(e){var t=e.target.value;r("ZZ"===t?void 0:t)}),[r]);(0,e.useMemo)((function(){return eI(i,n)}),[i,n]);return e.createElement("select",WP({},o,{disabled:a||s,readOnly:s,value:n||"ZZ",onChange:l}),i.map((function(t){var n=t.value,r=t.label,i=t.divider;return e.createElement("option",{key:i?"|":n||"ZZ",value:i?"|":n||"ZZ",disabled:!!i,style:i?ZP:void 0},r)})))}YP.propTypes={value:dT.string,onChange:dT.func.isRequired,options:dT.arrayOf(dT.shape({value:dT.string,label:dT.string,divider:dT.bool})).isRequired,disabled:dT.bool,readOnly:dT.bool};var ZP={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function QP(t){var n,r=t.value,i=t.options,a=t.className,s=t.iconComponent,o=(t.getIconAspectRatio,t.arrowComponent),l=void 0===o?JP:o,c=t.unicodeFlags,d=XP(t,KP),u=(0,e.useMemo)((function(){return eI(i,r)}),[i,r]);return e.createElement("div",{className:"PhoneInputCountry"},e.createElement(YP,WP({},d,{value:r,options:i,className:pT("PhoneInputCountrySelect",a)})),u&&(c&&r?e.createElement("div",{className:"PhoneInputCountryIconUnicode"},zP((n=r)[0])+zP(n[1])):e.createElement(s,{"aria-hidden":!0,country:r,label:u.label,aspectRatio:c?1:void 0})),e.createElement(l,null))}function JP(){return e.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function eI(e,t){for(var n,r=qP(e);!(n=r()).done;){var i=n.value;if(!i.divider&&tI(i.value,t))return i}}function tI(e,t){return void 0===e||null===e?void 0===t||null===t:e===t}QP.propTypes={iconComponent:dT.elementType,arrowComponent:dT.elementType,unicodeFlags:dT.bool};var nI=["country","countryName","flags","flagUrl"];function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rI.apply(this,arguments)}function iI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aI(t){var n=t.country,r=t.countryName,i=t.flags,a=t.flagUrl,s=iI(t,nI);return i&&i[n]?i[n]({title:r}):e.createElement("img",rI({},s,{alt:r,role:r?void 0:"presentation",src:a.replace("{XX}",n).replace("{xx}",n.toLowerCase())}))}aI.propTypes={country:dT.string.isRequired,countryName:dT.string.isRequired,flags:dT.objectOf(dT.elementType),flagUrl:dT.string.isRequired};var sI=["aspectRatio"],oI=["title"],lI=["title"];function cI(){return cI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cI.apply(this,arguments)}function dI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uI(t){var n=t.aspectRatio,r=dI(t,sI);return 1===n?e.createElement(pI,r):e.createElement(hI,r)}function hI(t){var n=t.title,r=dI(t,oI);return e.createElement("svg",cI({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),e.createElement("title",null,n),e.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},e.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),e.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),e.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),e.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),e.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),e.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),e.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}function pI(t){var n=t.title,r=dI(t,lI);return e.createElement("svg",cI({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),e.createElement("title",null,n),e.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},e.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),e.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),e.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),e.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),e.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),e.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),e.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}function fI(e){(function(e){if(e.length<2)return!1;if("+"!==e[0])return!1;for(var t=1;t<e.length;){var n=e.charCodeAt(t);if(!(n>=48&&n<=57))return!1;t++}return!0})(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function mI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return gI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vI(e,t){return!!LE(e,t)||(console.error("Country not found: ".concat(e)),!1)}function xI(e,t){return e&&0===(e=e.filter((function(e){return vI(e,t)}))).length&&(e=void 0),e}function bI(e){return new TE(e).getCountries()}uI.propTypes={title:dT.string.isRequired,aspectRatio:dT.number},hI.propTypes={title:dT.string.isRequired},pI.propTypes={title:dT.string.isRequired};var yI=["country","label","aspectRatio"];function wI(){return wI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wI.apply(this,arguments)}function kI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SI(t){var n=t.flags,r=t.flagUrl,i=t.flagComponent,a=t.internationalIcon;function s(t){var s=t.country,o=t.label,l=t.aspectRatio,c=kI(t,yI),d=a===uI?l:void 0;return e.createElement("div",wI({},c,{className:pT("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":1===d,"PhoneInputCountryIcon--border":s})}),s?e.createElement(i,{country:s,countryName:o,flags:n,flagUrl:r,className:"PhoneInputCountryIconImg"}):e.createElement(a,{title:o,aspectRatio:d,className:"PhoneInputCountryIconImg"}))}return s.propTypes={country:dT.string,label:dT.string.isRequired,aspectRatio:dT.number},s}SI({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:aI,internationalIcon:uI});function _I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return jI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CI(e,t){for(var n,r=_I(e);!(n=r()).done;){var i=n.value;i&&NI(i,t)}}function NI(e,t){"function"===typeof e?e(t):e.current=t}function EI(e,t){return"+"+ME(e,t)}function AI(e,t){return lT(e||"",t)}function TI(e,t){var n=t.prevCountry,r=t.newCountry,i=t.metadata,a=t.useNationalFormat;if(n===r)return e;if(!e)return a?"":r?EI(r,i):"";if(r){if("+"===e[0]){if(a)return 0===e.indexOf("+"+ME(r,i))?function(e,t,n){if(t){var r="+"+ME(t,n);if(e.length<r.length){if(0===r.indexOf(e))return""}else if(0===e.indexOf(r))return e.slice(r.length)}for(var i=0,a=Object.keys(n.country_calling_codes);i<a.length;i++){var s=a[i];if(1===e.indexOf(s))return e.slice(1+s.length)}return""}(e,r,i):"";if(n){var s=EI(r,i);return 0===e.indexOf(s)?e:s}var o=EI(r,i);return 0===e.indexOf(o)?e:o}}else if("+"!==e[0])return PI(e,n,i)||"";return e}function PI(e,t,n){if(e){if("+"===e[0]){if("+"===e)return;var r=new NP(t,n);return r.input(e),r.getNumberValue()}if(t){var i=DI(e,t,n);return"+".concat(ME(t,n)).concat(i||"")}}}function II(e,t,n){var r=DI(e,t,n);if(r){var i=r.length-function(e,t){return t=new TE(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}(t,n);if(i>0)return e.slice(0,e.length-i)}return e}function $I(e,t){var n=t.country,r=t.countries,i=t.defaultCountry,a=t.latestCountrySelectedByUser,s=t.required,o=t.metadata;if("+"===e)return n;var l=function(e,t){var n=new NP(null,t);return n.input(e),n.getCountry()}(e,o);if(l)return!r||r.indexOf(l)>=0?l:void 0;if(n)if(FI(e,n,o)){if(a&&FI(e,a,o))return a;if(i&&FI(e,i,o))return i;if(!s)return}else if(!s)return;return n}function RI(e,t,n){if(0===e.indexOf(EI(t,n))){var r=new NP(t,n);r.input(e);var i=r.getNumber();return i?i.formatNational().replace(/\D/g,""):""}return e.replace(/\D/g,"")}function OI(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function DI(e,t,n){var r=new NP(t,n);r.input(e);var i=r.getNumber();return i&&i.nationalNumber}function FI(e,t,n){for(var r=EI(t,n),i=0;i<e.length&&i<r.length;){if(e[i]!==r[i])return!1;i++}return!0}function MI(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.international,a=e.useNationalFormat,s=e.metadata;return(!1===i||a)&&n&&n.country?function(e){return e.formatNational().replace(/\D/g,"")}(n):!t&&i&&r?EI(r,s):t}function LI(e){return LI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LI(e)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VI(Object(n),!0).forEach((function(t){UI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zI(e,t){return null===e&&(e=void 0),null===t&&(t=void 0),e===t}var HI=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function KI(e){return KI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KI(e)}function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qI(Object(n),!0).forEach((function(t){t$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WI.apply(this,arguments)}function XI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n$(r.key),r)}}function ZI(e,t,n){return t=JI(t),function(e,t){if(t&&("object"===KI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QI()?Reflect.construct(t,n||[],JI(e).constructor):t.apply(e,n))}function QI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QI=function(){return!!e})()}function JI(e){return JI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JI(e)}function e$(e,t){return e$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e$(e,t)}function t$(e,t,n){return(t=n$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n$(e){var t=function(e,t){if("object"!=KI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KI(t)?t:t+""}var r$=function(t){function n(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t$(r=ZI(this,n,[t]),"setInputRef",(function(e){CI([r.props.inputRef,r.inputRef],e)})),t$(r,"isCountrySupportedWithError",(function(e){return vI(e,r.props.metadata)})),t$(r,"onCountryChange",(function(e){var t=r.props,n=t.international,i=t.metadata,a=t.onChange,s=t.focusInputOnCountrySelection,o=r.state,l=TI(o.phoneDigits,{prevCountry:o.country,newCountry:e,metadata:i,useNationalFormat:!n}),c=PI(l,e,i);s&&r.inputRef.current.focus(),r.setState({country:e,latestCountrySelectedByUser:e,hasUserSelectedACountry:!0,phoneDigits:l,value:c},(function(){a(c)}))})),t$(r,"onChange",(function(e){var t=r.props,n=t.defaultCountry,i=t.onChange,a=t.addInternationalOption,s=t.international,o=t.limitMaxLength,l=t.countryCallingCodeEditable,c=t.metadata,d=r.state,u=d.countries,h=d.phoneDigits,p=d.country,f=d.latestCountrySelectedByUser,m=function(e,t){var n,r=t.prevPhoneDigits,i=t.country,a=t.defaultCountry,s=t.latestCountrySelectedByUser,o=t.countryRequired,l=t.getAnyCountry,c=t.countries,d=t.international,u=t.limitMaxLength,h=t.countryCallingCodeEditable,p=t.metadata;if(d&&!1===h&&i){var f,m=EI(i,p);if(0!==e.indexOf(m))return e&&"+"!==e[0]?f=PI(e=m+e,i,p):e=m,{phoneDigits:e,value:f,country:i}}return!1===d&&i&&e&&"+"===e[0]&&(e=RI(e,i,p)),e&&i&&u&&(e=II(e,i,p)),!e||"+"===e[0]||i&&!d||(e="+"+e),!e&&r&&"+"===r[0]&&(i=d?void 0:a),"+"===e&&r&&"+"===r[0]&&r.length>1&&(i=void 0),e&&(n="+"===e[0]&&("+"===e||i&&0===EI(i,p).indexOf(e))?void 0:PI(e,i,p)),n&&(i=$I(n,{country:i,countries:c,defaultCountry:a,latestCountrySelectedByUser:s,required:!1,metadata:p}),!1===d&&i&&e&&"+"===e[0]&&(n=PI(e=RI(e,i,p),i,p))),!i&&o&&(i=a||l()),{phoneDigits:e,country:i,value:n}}(e,{prevPhoneDigits:h,country:p,countryRequired:!a,defaultCountry:n,latestCountrySelectedByUser:f,getAnyCountry:function(){return r.getFirstSupportedCountry({countries:u})},countries:u,international:s,limitMaxLength:o,countryCallingCodeEditable:l,metadata:c}),g=m.phoneDigits,v=m.country,x=m.value,b={phoneDigits:g,value:x,country:v};f&&x&&!FI(x,f,c)&&(b.latestCountrySelectedByUser=void 0),!1===l&&(x||g!==r.state.phoneDigits||(b.forceRerender={})),r.setState(b,(function(){return i(x)}))})),t$(r,"_onFocus",(function(){return r.setState({isFocused:!0})})),t$(r,"_onBlur",(function(){return r.setState({isFocused:!1})})),t$(r,"onFocus",(function(e){r._onFocus();var t=r.props.onFocus;t&&t(e)})),t$(r,"onBlur",(function(e){var t=r.props.onBlur;r._onBlur(),t&&t(e)})),t$(r,"onCountryFocus",(function(e){r._onFocus();var t=r.props.countrySelectProps;if(t){var n=t.onFocus;n&&n(e)}})),t$(r,"onCountryBlur",(function(e){r._onBlur();var t=r.props.countrySelectProps;if(t){var n=t.onBlur;n&&n(e)}})),r.inputRef=e.createRef();var i=r.props,a=i.value,s=(i.labels,i.international),o=i.addInternationalOption,l=i.displayInitialValueAsLocalNumber,c=i.initialValueFormat,d=i.metadata,u=r.props,h=u.defaultCountry,p=u.countries;h&&(r.isCountrySupportedWithError(h)||(h=void 0)),a&&fI(a),p=xI(p,d);var f=AI(a,d);r.CountryIcon=SI(r.props);var m=function(e){var t,n=e.value,r=e.phoneNumber,i=e.defaultCountry,a=e.getAnyCountry,s=e.countries,o=e.required,l=e.metadata;return r&&r.country?t=r.country:i&&(n&&!FI(n,i,l)||(t=i)),s&&s.indexOf(t)<0&&(t=void 0),!t&&o&&s&&s.length>0&&(t=a()),t}({value:a,phoneNumber:f,defaultCountry:h,required:!o,countries:p||bI(d),getAnyCountry:function(){return r.getFirstSupportedCountry({countries:p})},metadata:d});return r.state={props:r.props,country:m,countries:p,phoneDigits:MI({value:a,phoneNumber:f,defaultCountry:h,international:s,useNationalFormat:l||"national"===c,metadata:d}),value:a},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e$(e,t)}(n,t),r=n,i=[{key:"componentDidMount",value:function(){var e=this.props.onCountryChange,t=this.props.defaultCountry,n=this.state.country;e&&(t&&(this.isCountrySupportedWithError(t)||(t=void 0)),n!==t&&e(n))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onCountryChange,r=this.state.country;n&&r!==t.country&&n(r)}},{key:"getCountrySelectOptions",value:function(e){var t=e.countries,n=this.props,r=n.international,i=n.countryCallingCodeEditable,a=n.countryOptionsOrder,s=n.addInternationalOption,o=n.labels,l=n.locales,c=n.metadata;return this.useMemoCountrySelectOptions((function(){return function(e,t){if(!t)return e;for(var n,r=[],i=[],a=r,s=function(){var t=n.value;if("|"===t)a.push({divider:!0});else if("..."===t||"\u2026"===t)a=i;else{var r;r="\ud83c\udf10"===t?void 0:t;var s=e.indexOf(e.filter((function(e){return e.value===r}))[0]),o=e[s];e.splice(s,1),a.push(o)}},o=mI(t);!(n=o()).done;)s();return r.concat(e).concat(i)}(function(e){var t=e.countries,n=e.countryNames,r=e.addInternationalOption,i=e.compareStringsLocales,a=e.compareStrings;a||(a=OI);var s=t.map((function(e){return{value:e,label:n[e]||e}}));return s.sort((function(e,t){return a(e.label,t.label,i)})),r&&s.unshift({label:n.ZZ}),s}({countries:t||bI(c),countryNames:o,addInternationalOption:(!r||!1!==i)&&s,compareStringsLocales:l}),function(e,t){if(e&&(e=e.filter((function(e){switch(e){case"\ud83c\udf10":case"|":case"...":case"\u2026":return!0;default:return vI(e,t)}}))).length>0)return e}(a,c))}),[t,a,s,o,c])}},{key:"useMemoCountrySelectOptions",value:function(e,t){return this.countrySelectOptionsMemoDependencies&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}(t,this.countrySelectOptionsMemoDependencies)||(this.countrySelectOptionsMemo=e(),this.countrySelectOptionsMemoDependencies=t),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(e){var t=e.countries;return this.getCountrySelectOptions({countries:t})[0].value}},{key:"render",value:function(){var t=this.props,n=t.name,r=t.disabled,i=t.readOnly,a=t.autoComplete,s=t.style,o=t.className,l=(t.inputRef,t.inputComponent),c=t.numberInputProps,d=t.smartCaret,u=t.countrySelectComponent,h=t.countrySelectProps,p=t.containerComponent,f=t.containerComponentProps,m=(t.defaultCountry,t.countries,t.countryOptionsOrder,t.labels),g=(t.flags,t.flagComponent,t.flagUrl,t.addInternationalOption,t.internationalIcon,t.displayInitialValueAsLocalNumber,t.initialValueFormat,t.onCountryChange,t.limitMaxLength,t.countryCallingCodeEditable,t.focusInputOnCountrySelection,t.reset,t.metadata),v=t.international,x=(t.locales,XI(t,HI)),b=this.state,y=b.country,w=b.countries,k=b.phoneDigits,S=b.isFocused,_=d?FP:BP,j=this.getCountrySelectOptions({countries:w});return e.createElement(p,WI({style:s,className:pT(o,"PhoneInput",{"PhoneInput--focus":S,"PhoneInput--disabled":r,"PhoneInput--readOnly":i})},f),e.createElement(u,WI({name:n?"".concat(n,"Country"):void 0,"aria-label":m.country},h,{value:y,options:j,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:r||h&&h.disabled,readOnly:i||h&&h.readOnly,iconComponent:this.CountryIcon})),e.createElement(_,WI({ref:this.setInputRef,type:"tel",autoComplete:a},c,x,{inputFormat:!0===v?"INTERNATIONAL":!1===v?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:!!v||void 0,withCountryCallingCode:!!v||void 0,name:n,metadata:g,country:y,value:k||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:r,readOnly:i,inputComponent:l,className:pT("PhoneInputInput",c&&c.className,x.className)})))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return GI({props:e},function(e,t,n){var r=e.metadata,i=e.countries,a=e.defaultCountry,s=e.value,o=e.reset,l=e.international,c=e.displayInitialValueAsLocalNumber,d=e.initialValueFormat,u=t.defaultCountry,h=t.value,p=t.reset,f=(n.country,n.value),m=n.hasUserSelectedACountry,g=n.latestCountrySelectedByUser,v=function(e){return MI(BI(BI({},e),{},{international:l,useNationalFormat:c||"national"===d,metadata:r}))};if(o!==p)return{phoneDigits:v({value:void 0,defaultCountry:a}),value:void 0,country:a,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(a!==u){var x=!a||vI(a,r),b=!f||l&&f===v({value:void 0,defaultCountry:u});if(!m&&x&&!s&&b)return{country:a,phoneDigits:v({value:void 0,defaultCountry:a}),value:void 0}}if(!zI(s,h)&&!zI(s,f)){var y,w,k;if(s){s&&fI(s),y=AI(s,r);var S=xI(i,r);y&&y.country?(!S||S.indexOf(y.country)>=0)&&(w=y.country):(w=$I(s,{country:void 0,countries:S,metadata:r}))||a&&0===s.indexOf(EI(a,r))&&(w=a)}return s?g&&((w?g===w:FI(s,g,r))?w||(w=g):k={latestCountrySelectedByUser:void 0}):k={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0},BI(BI({},k),{},{phoneDigits:v({phoneNumber:y,value:s,defaultCountry:a}),value:s,country:s?w:a})}}(e,t.props,t))}}],i&&YI(r.prototype,i),a&&YI(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(e.PureComponent),i$=e.forwardRef((function(t,n){return e.createElement(r$,WI({},function(e){for(var t in e=GI({},e),a$)void 0===e[t]&&(e[t]=a$[t]);return e}(t),{inputRef:n}))}));i$.propTypes={value:dT.string,onChange:dT.func.isRequired,onFocus:dT.func,onBlur:dT.func,disabled:dT.bool,readOnly:dT.bool,autoComplete:dT.string,initialValueFormat:dT.oneOf(["national"]),displayInitialValueAsLocalNumber:dT.bool,defaultCountry:dT.string,countries:dT.arrayOf(dT.string),labels:hT,locales:dT.oneOfType([dT.string,dT.arrayOf(dT.string)]),flagUrl:dT.string,flags:dT.objectOf(dT.elementType),flagComponent:dT.elementType,addInternationalOption:dT.bool,internationalIcon:dT.elementType,countryOptionsOrder:dT.arrayOf(dT.string),style:dT.object,className:dT.string,countrySelectComponent:dT.elementType,countrySelectProps:dT.object,inputComponent:dT.elementType,numberInputProps:dT.object,containerComponent:dT.elementType,containerComponentProps:dT.object,smartCaret:dT.bool,international:dT.bool,limitMaxLength:dT.bool,countryCallingCodeEditable:dT.bool,metadata:uT,onCountryChange:dT.func,focusInputOnCountrySelection:dT.bool};var a$={autoComplete:"tel",countrySelectComponent:QP,flagComponent:aI,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:uI,inputComponent:"input",containerComponent:"div",reset:dT.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};const s$=i$;var o$=["metadata","labels"];function l$(){return l$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l$.apply(this,arguments)}function c$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d$(t){var n=e.forwardRef((function(n,r){var i=n.metadata,a=void 0===i?t:i,s=n.labels,o=void 0===s?cT:s,l=c$(n,o$);return e.createElement(s$,l$({},l,{ref:r,metadata:a,labels:o}))}));return n.propTypes={metadata:uT,labels:hT},n}d$();function u$(e,t){var n=Array.prototype.slice.call(t);return n.push(rE),e.apply(this,n)}const h$=d$(rE);function p$(){return u$(lT,arguments)}const f$=e.forwardRef(((t,n)=>{let{className:r,value:i,onChange:a,...s}=t;const[o,l]=e.useState(i),[c,d]=e.useState(null);e.useEffect((()=>{l(i)}),[i]);const u=e.useCallback((e=>{if(!e)return!1;const t=p$(e||""),n=null!==t&&void 0!==t&&t.countryCallingCode?`+${t.countryCallingCode}`:"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"",i=lk[n];return!!i&&i(r)}),[]);return(0,V.jsx)("div",{className:rk("flex gap-[8px] h-12 w-full items-center rounded-[8px] border px-3 py-2 text-sm",!1===c?"border-red text-red":"border-gray1 text-black",r),children:(0,V.jsx)(h$,{ref:n,className:rk("border-none h-full focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus-within:outline-none w-full text-base"),international:!0,defaultCountry:"NO",value:o,onChange:e=>{l(e);const t=u(e);d(t),a&&a(e)},countries:["NO"],autoComplete:"off",...s})})}));f$.displayName="InputMobile";const m$={getAddress:async function(e){try{return await fetch(`https://ws.geonorge.no/adresser/v1/sok?sok=${e}`)}catch(t){throw t.response}},getSingleAddress:async function(e){try{const t=`https://ws.geonorge.no/adresser/v1/sok?sok=${e.adressenavn} ${e.nummer}`,n=await fetch(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){throw console.error("Error fetching address:",t),t}},handleLookup:async e=>{if(!e)return;const t=e.replace(/\D/g,"").replace(/^47/,"");try{const e=await fetch(`https://services.api1881.no/lookup/phonenumber/${t}`,{method:"GET",headers:{"Ocp-Apim-Subscription-Key":"cce12bb764f34e9083eec0f57fd0dc53"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(n){console.error(n)}}};const g$=__webpack_require__.p+"static/media/Ic_search_location.8520b4258b6bd6c81dca7dedeed4dc39.svg",v$=VC.object({Kundenavn:VC.string().min(1,{message:"Kundenavn m\xe5 best\xe5 av minst 2 tegn."}),Anleggsadresse:VC.string().min(1,{message:"Anleggsadresse m\xe5 best\xe5 av minst 2 tegn."}),mobileNummer:VC.string().refine((e=>{const t=p$(e),n=null!==t&&void 0!==t&&t.countryCallingCode?`+${t.countryCallingCode}`:"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=lk[n];return!!i&&i(r)}),{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}),EPost:VC.string().email({message:"Vennligst skriv inn en gyldig e-postadresse."}).min(1,{message:"E-posten m\xe5 v\xe6re p\xe5 minst 2 tegn."}),Kundenummer:VC.string().min(1,{message:"Kundenummer m\xe5 best\xe5 av minst 2 tegn."})}),x$=t=>{let{setActiveTab:n}=t;const r=l_({resolver:m_(v$)}),i=zn().pathname.split("/"),a=i.length>2?i[2]:null,s=i.length>4?i[4]:null,[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),u=qn();(0,e.useEffect)((()=>{if(!a||!s)return void l(!1);(async()=>{const e=await ik(a);if(e&&e.KundeInfo){const t=e.KundeInfo.find((e=>e.uniqueId===s));Object.entries(t).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&r.setValue(t,n),"Anleggsadresse"===t&&d(String(n))}))}l(!1)})()}),[r,a,s]);const[h,p]=(0,e.useState)(null),f=(0,e.useRef)(null),m=async e=>{const t=e.target.value;if(d(t),t)try{const e=await m$.getAddress(t);if(!e.ok)throw new Error(`Response status: ${e.status}`);const n=await e.json();p(n.adresser),r.resetField("Anleggsadresse")}catch(n){console.error(null===n||void 0===n?void 0:n.message)}};return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...r,children:(0,V.jsxs)("form",{onSubmit:r.handleSubmit((async e=>{try{const t=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),r=Qf(tk,"housemodell_configure_broker",String(a)),i=s||RN(),o={...e,uniqueId:i,updatedAt:t(new Date),createdAt:t(new Date)},l=await Zm(r);if(l.exists()){const e=l.data().KundeInfo||[];let n;n=s?e.map((e=>e.uniqueId===s?o:e)):[...e,o],await tg(r,{KundeInfo:n,updatedAt:t(new Date)}),Be.success("Updated successfully",{position:"top-right"})}u(`/se-series/${a}/edit-husmodell/${i}`),n(1)}catch(t){console.error("Firestore operation failed:",t),Be.error("Something went wrong. Please try again.",{position:"top-right"})}})),className:"relative",children:[(0,V.jsxs)("div",{className:"pt-6 px-4 md:px-6 desktop:px-8 mb-[130px]",children:[(0,V.jsx)("div",{className:"mb-4 md:mb-6",children:(0,V.jsx)("h4",{className:"text-darkBlack font-bold text-lg md:text-xl desktop:text-2xl",children:"Kundeopplysninger"})}),(0,V.jsx)("div",{className:"border-[#EFF1F5] border rounded-lg overflow-hidden",children:(0,V.jsxs)("div",{className:"md:grid flex flex-col md:grid-cols-2 gap-4 md:gap-6 w-[100%] p-4",children:[(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)("p",{className:"text-black text-sm font-medium",children:"KundeInformation"})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:r.control,name:"Kundenavn",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Kundenavn"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kundenavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:r.control,name:"Anleggsadresse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Anleggsadresse"}),(0,V.jsx)(dN,{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(pN,{placeholder:"Skriv inn Anleggsadresse",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",ref:f,onChange:m,value:c}),c&&h&&h.length>0&&(0,V.jsx)("div",{className:"absolute top-[45px] left-0 bg-white rounded-[8px] w-full h-auto max-h-[200px] overflow-y-auto overFlowYAuto",style:{zIndex:999,boxShadow:"rgba(16, 24, 40, 0.09) 0px 4px 6px -2px, rgba(16, 24, 40, 0.09) 0px 12px 16px -4px"},children:h&&(null===h||void 0===h?void 0:h.map(((e,t)=>(0,V.jsxs)("div",{className:"p-2 desktop:p-3 flex items-center gap-2 hover:bg-lightPurple cursor-pointer",onClick:()=>{r.setValue("Anleggsadresse",`${e.adressetekst} ${e.postnummer} ${e.poststed}`),p(null),d(`${e.adressetekst} ${e.postnummer} ${e.poststed}`)},children:[(0,V.jsx)("img",{src:g$,alt:"location",className:"w-6 h-6 md:w-auto md:h-auto"}),(0,V.jsx)("div",{children:(0,V.jsx)("span",{className:"text-black font-medium text-sm md:text-base",children:`${e.adressetekst}  ${e.postnummer} ${e.poststed}`||"N/A"})})]},t))))})]})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:r.control,name:"mobileNummer",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Mobilnummer"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative flex gap-1.5 items-center",children:(0,V.jsx)(f$,{placeholder:"Skriv inn Telefon",...t,className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"tel"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:r.control,name:"EPost",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"E-post"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn E-post",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"email"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:r.control,name:"Kundenummer",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Kundenummer"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kundenummer",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number"})})}),(0,V.jsx)(hN,{})]})}})})]})})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,V.jsx)(Qr,{to:`/se-series/${a}`,children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]}),o&&(0,V.jsx)(li,{})]})})})};const b$=__webpack_require__.p+"static/media/Ic_upload_blue_img.4fb885ee8aa78aea6e17ccaedb952721.svg";var y$=__webpack_require__(749);const w$=t=>{let{setActiveTab:n}=t;const r=zn().pathname.split("/"),i=r.length>2?r[2]:null,a=r.length>4?r[4]:null,[s,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)([]),d=qn();(0,e.useEffect)((()=>{if(!i)return void o(!1);(async()=>{const e=await ik(i);if(e&&e.KundeInfo){const t=e.KundeInfo.find((e=>e.uniqueId===a));c(null===t||void 0===t?void 0:t.Plantegninger)}o(!1)})()}),[i]),(0,e.useEffect)((()=>{y$.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${y$.version}/pdf.worker.min.js`}),[]);const u=e.useRef(null);function h(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))}const p=async e=>{if(!e.length)return;const t=new FormData;t.append("file",e[0]),o(!0);try{const n=await fetch("https://iplotnor-hf-api-version-2.hf.space/upload",{method:"POST",headers:{accept:"application/json"},body:t,mode:"cors"});if(!n.ok)throw new Error(`HTTP error: ${n.status}`);const r=await n.json();if(r&&null!==r&&void 0!==r&&r.pdf_id){const t=e[0];let n;if("application/pdf"===t.type){const e=await h(t);n=await(async e=>{try{const t=y$.getDocument({data:atob(e.split(",")[1])}),n=await t.promise,r=await n.getPage(1),i=document.createElement("canvas");if(!i)return;const a=i.getContext("2d");if(!a)return;const s=r.getViewport({scale:1});return i.width=s.width,i.height=s.height,await r.render({canvasContext:a,viewport:s}).promise,i.toDataURL("image/png")}catch(t){console.error("Error loading PDF document:",t)}})(e)}else{if(!t.type.startsWith("image/"))return console.error("Unsupported file type"),void o(!1);n=await h(t)}if(n){const e=await(async e=>{if(!e)return;if(e.length*(3/4)-(e.endsWith("==")?2:e.endsWith("=")?1:0)>2097152)return void pe.error("Image size must be less than 2MB.",{position:"top-right"});const t=Date.now(),n=Zw(nk,`images/${t}_image.png`);try{const t=await Ww(n,e,"data_url");return await Yw(t.ref)}catch(r){console.error("Error uploading base64",r)}})(n),t=Qf(tk,"housemodell_configure_broker",String(i)),s=await Zm(t);if(!s.exists())return void pe.error("Husmodell not found",{position:"top-right"});const l=s.data().KundeInfo||[],d=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),u=l.map((t=>{if(t.uniqueId===a){const n=t.Plantegninger||[],i=n.length+1,a={...r,image:e,title:`Floor ${i}`};return c((e=>[...Array.isArray(e)?e:[],a])),{...t,Plantegninger:[...n,a]}}return t}));await tg(t,{KundeInfo:u,updatedAt:d(new Date)}),pe.success(r.message,{position:"top-right"}),o(!1)}}}catch(n){console.error("Upload error:",n),o(!1),pe.error("File upload error!",{position:"top-right"})}},[f,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(""),[x,b]=(0,e.useState)(null),[y,w]=(0,e.useState)({}),k=e=>{w((t=>({...t,[e]:!0})))};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"px-4 md:px-6 py-5 md:py-6 desktop:p-8",children:[(0,V.jsx)("h3",{className:"text-darkBlack text-2xl font-semibold mb-2",children:"Last opp plantegningen din"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),(0,V.jsxs)("div",{className:"px-4 md:px-6 py-5 md:py-6 desktop:p-8 pb-[100px]",children:[(0,V.jsx)("div",{className:"relative p-2 rounded-lg md:w-max",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-2 md:px-3 flex-col items-center justify-center laptop:px-[42px] py-2 md:py-4 flex gap-3 md:gap-6 cursor-pointer w-full",onClick:async()=>{var e;null===(e=u.current)||void 0===e||e.click()},onDrop:e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;t&&p(t)},onDragStart:e=>{e.preventDefault(),e.stopPropagation()},onDragOver:e=>e.preventDefault(),children:[(0,V.jsx)("img",{src:b$,alt:"upload"}),(0,V.jsxs)("div",{className:"flex items-center justify-center flex-col gap-3",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,V.jsx)("span",{className:"text-primary font-medium whitespace-nowrap flex items-center justify-center border-2 border-purple rounded-[40px] h-[32px] md:h-[36px] py-2 px-2 md:px-4 text-sm md:text-base",children:"Bla gjennom"}),(0,V.jsx)("p",{className:"text-gray text-xs md:text-sm text-center truncate w-full",children:"Slipp filen her for \xe5 laste den opp"})]}),(0,V.jsx)("p",{className:"text-gray text-xs md:text-sm truncate w-full text-center",children:"Filformater: Kun JPEG, JPG, PNG, PDF maks 2 MB"})]}),(0,V.jsx)("input",{type:"file",ref:u,className:"hidden",accept:".pdf,image/*",onChange:async e=>{e.target.files&&await p(e.target.files)}})]})}),(0,V.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 lg:gap-6 w-full mt-6 md:mt-8",children:l&&l.length>0?l.map(((e,t)=>{const r=f===t,s=y[t];return(0,V.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-3 md:p-4 rounded-lg flex flex-col gap-3 md:gap-4",onClick:()=>{n(2),d(`?pdf_id=${null===e||void 0===e?void 0:e.pdf_id}`)},children:[(0,V.jsxs)("div",{className:"flex gap-1.5 md:gap-2 items-center justify-between",children:[r?(0,V.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,V.jsx)("span",{className:"text-darkBlack font-medium truncate",children:(null===e||void 0===e?void 0:e.title)||`Floor ${t+1}`}),(0,V.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[r?(0,V.jsx)("button",{className:"bg-purple text-white px-2 md:px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const n=[...l];n[t]={...n[t],title:g},c(n),m(null);const r=Qf(tk,"housemodell_configure_broker",String(i)),s=await Zm(r);if(s.exists()){const e=(s.data().KundeInfo||[]).map((e=>e.uniqueId===a?{...e,Plantegninger:n}:e));await tg(r,{KundeInfo:e,updatedAt:(new Date).toISOString()}),pe.success("Navn oppdatert!",{position:"top-right"})}},children:"Oppdater"}):(0,V.jsx)(_k,{className:"w-5 h-5 text-purple cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),m(t),v((null===e||void 0===e?void 0:e.title)||`Floor ${t+1}`)}}),(0,V.jsx)(vN,{className:"w-5 h-5 text-red cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),b(t)}})]})]}),(0,V.jsxs)("div",{className:"w-full h-[200px] relative",children:[!s&&(0,V.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer"}),(null===e||void 0===e?void 0:e.image)&&(0,V.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"floor",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 "+(s?"opacity-100":"opacity-0"),onLoad:()=>k(t),onError:()=>k(t),loading:"lazy"})]})]},t)})):"No Data Found!"})]}),null!==x&&(0,V.jsx)(yk,{onClose:()=>{b(x?null:x)},isOpen:!0,children:(0,V.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,V.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,V.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,V.jsx)("div",{onClick:()=>b(null),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)("div",{onClick:()=>(async e=>{const t=Qf(tk,"housemodell_configure_broker",String(i));try{const n=((await Zm(t)).data().KundeInfo||[]).map((t=>{if(t.uniqueId===a){const n=(t.Plantegninger||[]).filter(((t,n)=>n!==e));return{...t,Plantegninger:n}}return t}));await tg(t,{KundeInfo:n,updatedAt:(new Date).toISOString()});const r=l.filter(((t,n)=>n!==e));c(r),b(null),pe.success("Floor deleted successfully!",{position:"top-right"})}catch(n){console.error("Error deleting floor:",n),pe.error("Failed to delete floor",{position:"top-right"})}})(x),children:(0,V.jsx)(Sk,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})}),s&&(0,V.jsx)(li,{})]})},k$=()=>{const[t,n]=(0,e.useState)("pulse");return(0,e.useEffect)((()=>{n("stagger")}),[]),(0,V.jsxs)("div",{className:"flex flex-col items-center",children:[(0,V.jsx)("div",{className:"rounded-lg shadow-md",children:(0,V.jsxs)("svg",{width:"90",height:"90",viewBox:"0 0 47 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,V.jsx)("path",{d:"M32.8796 8.72622C32.5549 8.07687 31.8914 7.66671 31.1654 7.66671C30.4393 7.66671 29.7758 8.07687 29.4511 8.72622L27.9034 11.8214C26.7152 14.1977 26.2926 14.9924 25.6835 15.6015C25.0744 16.2106 24.2797 16.6333 21.9033 17.8215L18.8082 19.3691C18.1589 19.6938 17.7487 20.3573 17.7487 21.0834C17.7487 21.8094 18.1589 22.473 18.8082 22.7976L21.9033 24.3453C24.2797 25.5335 25.0744 25.9561 25.6835 26.5652C26.2926 27.1743 26.7152 27.969 27.9034 30.3455L29.4511 33.4405C29.7758 34.0899 30.4393 34.5 31.1654 34.5C31.8914 34.5 32.5549 34.0899 32.8796 33.4405L34.4273 30.3455C35.6155 27.969 36.0381 27.1743 36.6472 26.5652C37.2563 25.9561 38.051 25.5335 40.4275 24.3453L43.5225 22.7976C44.1719 22.473 44.582 21.8094 44.582 21.0834C44.582 20.3573 44.1719 19.6938 43.5225 19.3691L40.4275 17.8215C38.051 16.6333 37.2563 16.2106 36.6472 15.6015C36.0381 14.9924 35.6155 14.1977 34.4273 11.8214L32.8796 8.72622Z",fill:"#444CE7",className:""+("stagger"===t?"animate-stagger-1":"")}),(0,V.jsx)("path",{d:"M13.713 4.89289C13.3884 4.24354 12.7247 3.83337 11.9987 3.83337C11.2727 3.83337 10.609 4.24354 10.2844 4.89289L9.5106 6.44046C8.88883 7.684 8.74935 7.91223 8.58011 8.08146C8.41089 8.2507 8.18265 8.39017 6.93912 9.01194L5.39155 9.78572C4.7422 10.1104 4.33203 10.7741 4.33203 11.5C4.33203 12.226 4.7422 12.8897 5.39155 13.2144L6.93912 13.9881C8.18265 14.6099 8.41089 14.7494 8.58011 14.9186C8.74935 15.0878 8.88883 15.3161 9.5106 16.5596L10.2844 18.1072C10.609 18.7565 11.2727 19.1667 11.9987 19.1667C12.7247 19.1667 13.3884 18.7565 13.713 18.1072L14.4868 16.5596C15.1086 15.3161 15.248 15.0878 15.4173 14.9186C15.5865 14.7494 15.8147 14.6099 17.0583 13.9881L18.6059 13.2144C19.2552 12.8897 19.6654 12.226 19.6654 11.5C19.6654 10.7741 19.2552 10.1104 18.6059 9.78572L17.0583 9.01194C15.8147 8.39017 15.5865 8.2507 15.4173 8.08146C15.248 7.91223 15.1086 7.684 14.4868 6.44046L13.713 4.89289Z",fill:"#444CE7",className:""+("stagger"===t?"animate-stagger-2":"")}),(0,V.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7156 24.0595C13.391 23.4102 12.7273 23 12.0013 23C11.2753 23 10.6116 23.4102 10.287 24.0595L10.0172 24.5991C8.82899 26.9755 8.40631 27.7702 7.79721 28.3793C7.18813 28.9882 6.39346 29.4111 4.01706 30.5992L3.47748 30.8691C2.82814 31.1938 2.41797 31.8573 2.41797 32.5833C2.41797 33.3094 2.82814 33.9729 3.47748 34.2976L4.01706 34.5675C6.39346 35.7556 7.18813 36.1784 7.79721 36.7873C8.40631 37.3965 8.82899 38.1911 10.0172 40.5676L10.287 41.1071C10.6116 41.7565 11.2753 42.1667 12.0013 42.1667C12.7273 42.1667 13.391 41.7565 13.7156 41.1071L13.9854 40.5676C15.1736 38.1911 15.5963 37.3965 16.2054 36.7873C16.8145 36.1784 17.6091 35.7556 19.9856 34.5675L20.5251 34.2976C21.1745 33.9729 21.5846 33.3094 21.5846 32.5833C21.5846 31.8573 21.1745 31.1938 20.5251 30.8691L19.9856 30.5992C17.6091 29.4111 16.8145 28.9882 16.2054 28.3793C15.5963 27.7702 15.1736 26.9755 13.9854 24.5991L13.7156 24.0595ZM10.5078 31.0899C11.0818 30.5158 11.5462 29.8621 12.0013 29.0831C12.4564 29.8621 12.9208 30.5158 13.4948 31.0899C14.0688 31.6639 14.7226 32.1281 15.5014 32.5833C14.7226 33.0385 14.0688 33.5028 13.4948 34.0768C12.9208 34.6508 12.4564 35.3046 12.0013 36.0836C11.5462 35.3046 11.0818 34.6508 10.5078 34.0768C9.93379 33.5028 9.27996 33.0385 8.50118 32.5833C9.27996 32.1281 9.93379 31.6639 10.5078 31.0899Z",fill:"#444CE7",className:""+("stagger"===t?"animate-stagger-3":"")})]})}),(0,V.jsx)("style",{children:"\n        @keyframes stagger-pulse {\n          0% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.7;\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n        .animate-stagger-1 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n        }\n\n        .animate-stagger-2 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n          animation-delay: 0.5s;\n        }\n\n        .animate-stagger-3 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n          animation-delay: 1s;\n        }\n      "})]})},S$=t=>{let{setActiveTab:n}=t;const[r,i]=(0,e.useState)(null),a=qn(),s=zn();(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);i(e.get("pdf_id"))}),[]);const o=s.pathname.split("/"),l=o.length>2?o[2]:null,c=o.length>4?o[4]:null,[d,u]=(0,e.useState)(!0),[h,p]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!l||!r||!c)return void u(!1);u(!0);(async()=>{const e=await ik(l);if(e){var t,i;const n=null===(t=e.KundeInfo)||void 0===t?void 0:t.find((e=>String(e.uniqueId)===String(c))),a=null===n||void 0===n||null===(i=n.Plantegninger)||void 0===i?void 0:i.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)));if(p(a),null!==a&&void 0!==a&&a.rooms&&a.rooms.length>0)return void u(!1)}try{const e=Qf(tk,"housemodell_configure_broker",String(l)),t=await Zm(e),i=t.exists()&&t.data().KundeInfo||[],a=i.find((e=>String(e.uniqueId)===String(c)));if(!a)throw new Error("Kunde not found");const s=a.Plantegninger||[],o=await fetch(`https://iplotnor-hf-api-version-2.hf.space/analyze/${r}`,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:"string"}),mode:"cors"});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const d=await o.json(),u=s.map((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)?{...e,...d}:e)),h=i.map((e=>e.uniqueId===c?{...e,Plantegninger:u}:e)),f=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await tg(e,{KundeInfo:h,updatedAt:f(new Date)});const m=u.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)));p(m),pe.success(d.message,{position:"top-right"}),n(3)}catch(a){console.error("Upload error:",a),pe.error("File upload error!",{position:"top-right"})}finally{u(!1)}u(!1)})()}),[l,r,n,c]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6 flex-wrap",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)(Qr,{to:`/se-series/${l}`,className:"text-primary text-sm font-medium",children:"Kundeopplysninger"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("div",{onClick:()=>{n(1);const e=new URLSearchParams(s.search);e.delete("pdf_id"),a(`${s.pathname}?${e.toString()}`,{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:null===h||void 0===h?void 0:h.title}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]})]}),(0,V.jsx)("div",{className:"flex gap-4 md:gap-6 px-4 md:px-6 pt-6 pb-[136px]",children:(0,V.jsx)("div",{className:"w-full border border-[#B9C0D4] rounded-lg overflow-hidden",children:(0,V.jsx)("img",{src:null===h||void 0===h?void 0:h.image,alt:"floor",className:"w-full h-full"})})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(1);const e=new URLSearchParams(s.search);e.delete("pdf_id"),a(`${s.pathname}?${e.toString()}`,{replace:!0})}}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(3)}})]}),d&&(0,V.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,V.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-[280px] sm:w-[350px] h-0",style:{top:"50%",zIndex:9999},children:(0,V.jsxs)("div",{className:"p-4 flex items-center justify-center flex-col gap-6 w-full",children:[(0,V.jsx)(k$,{}),(0,V.jsxs)("p",{className:"text-base md:text-lg text-secondary text-center",children:["MinTomt AI analyserer n\xe5 ",(0,V.jsx)("br",{})," plantegninger og trekker ut rommene"]})]})})})]})},_$=pk("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),j$=VC.object({Kategorinavn:VC.string().min(1,{message:"Kategorinavn m\xe5 best\xe5 av minst 2 tegn."}),productOptions:VC.string({required_error:"Required"})}),C$=t=>{let{onClose:n,formData:r,activeTabData:i,setCategory:a,editIndex:s,defaultValue:o}=t;const l=l_({resolver:m_(j$)});(0,e.useEffect)((()=>{o&&(l.setValue("Kategorinavn",null===o||void 0===o?void 0:o.navn),l.setValue("productOptions",null===o||void 0===o?void 0:o.productOptions))}),[o]);const c=["Multi Select","Single Select","Text"];return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...l,children:(0,V.jsxs)("form",{onSubmit:l.handleSubmit((async e=>{n();const t=e.Kategorinavn,o=e.productOptions,l=r.getValues(`hovedkategorinavn.${i}.Kategorinavn`)||[];if(null!==s&&l[s]){const e=[...l];e[s].navn=t,e[s].productOptions=o,a((t=>{const n=[...t];return n[i]={...n[i],Kategorinavn:e},n})),r.setValue(`hovedkategorinavn.${i}.Kategorinavn`,e,{shouldValidate:!0})}else{const e={navn:t,productOptions:o,produkter:[]};a((t=>{const n=[...t];return n[i]={...n[i],Kategorinavn:[...l,e]},n})),r.setValue(`hovedkategorinavn.${i}.Kategorinavn`,[...l,e],{shouldValidate:!0})}})),className:"relative w-full",children:[(0,V.jsxs)("div",{className:"p-6 flex flex-col gap-4",children:[(0,V.jsx)(aN,{control:l.control,name:"Kategorinavn",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Kategorinavn"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kategorinavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:l.control,name:"productOptions",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Skorstein Enkel/Dobbel"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:c.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"radio",value:e,onChange:e=>{l.setValue("productOptions",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})})]}),(0,V.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>l.reset(),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},N$=VC.union([VC.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),VC.string()]),E$=VC.object({Produktnavn:VC.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:VC.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:VC.array(N$).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:VC.string().nullable(),IncludingOffer:VC.boolean().optional(),Produktbeskrivelse:VC.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn.")}),A$=VC.object({produkter:VC.array(E$).min(1,"Minst ett produkt er p\xe5krevd.")}),T$=t=>{let{onClose:n,onSubmit:r,editData:i}=t;const a=l_({resolver:m_(A$),defaultValues:{produkter:[{Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:""}]}});(0,e.useEffect)((()=>{i&&a.reset({produkter:[i]})}),[i,a]);const s=e.useRef(null),o=()=>{var e;null===(e=s.current)||void 0===e||e.click()},l=(0,e.useCallback)((e=>e.preventDefault()),[]),[c,d]=(0,e.useState)(null),u=["Boligpartner","Salgskontor"],{fields:h,append:p,remove:f}=KS({control:a.control,name:"produkter"}),m=a.watch("produkter");return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...a,children:(0,V.jsxs)("form",{onSubmit:a.handleSubmit((async e=>{"function"===typeof r&&r(e),n()})),className:"relative w-full h-screen",children:[(0,V.jsxs)("div",{className:"overflow-y-auto h-full pb-[160px]",children:[h.map(((e,t)=>{const n=a.watch(`produkter.${t}.Hovedbilde`);return(0,V.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[!i&&(0,V.jsxs)("button",{type:"button",className:"flex gap-2 items-end ml-auto "+(1===m.length?"text-gray cursor-not-allowed":"text-primary"),onClick:()=>{m.length>1&&f(t)},children:[(0,V.jsx)(mk,{})," Fjern produkt"]}),(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:a.control,name:`produkter.${t}.Produktnavn`,render:e=>{let{field:n,fieldState:r}=e;const i=a.getValues(`produkter.${t}.Produktnavn`)||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktnavn"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Produktnavn",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,type:"text",value:null!==i&&void 0!==i?i:""})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:a.control,name:`produkter.${t}.pris`,render:e=>{let{field:n,fieldState:r}=e;const s=a.getValues(`produkter.${t}.pris`);return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" text-sm font-medium",children:"Pris fra"}),(0,V.jsx)(aN,{control:a.control,name:`produkter.${t}.IncludingOffer`,render:e=>{let{field:n}=e;return(0,V.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,V.jsxs)("div",{className:"toggle-container",children:[(0,V.jsx)("input",{type:"checkbox",id:i?`editData.toggleSwitch.${t}.IncludingOffer`:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-input",checked:n.value||!1,onChange:e=>{const r=e.target.checked;n.onChange(r),a.setValue(`produkter.${t}.pris`,r?null:"")}}),(0,V.jsx)("label",{htmlFor:i?`editData.toggleSwitch.${t}.IncludingOffer`:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-label"})]})]})}})]}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Pris fra",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,inputMode:"numeric",disable:a.watch(`produkter.${t}.IncludingOffer`),type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const a=i.startsWith("-"),s=i.replace(/-/g,"");let o="";s?(o=new Intl.NumberFormat("no-NO").format(Number(s)),a&&(o="-"+o)):o=a?"-":"",n.onChange({target:{name:`produkter.${t}.pris`,value:o}})},value:null===s?"-":s})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:a.control,name:`produkter.${t}.delieverBy`,render:e=>{let{field:n,fieldState:r}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${r.error?"text-red":"text-black"} text-sm font-medium`,children:"Lever innen"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-5",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{a.setValue(`produkter.${t}.delieverBy`,e.target.value)},checked:n.value===e}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(aN,{control:a.control,name:`produkter.${t}.Produktbeskrivelse`,render:e=>{let{field:n,fieldState:r}=e;const i=a.getValues(`produkter.${t}.Produktbeskrivelse`)||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktbeskrivelse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(wN,{placeholder:"Skriv inn Produktbeskrivelse",...n,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,value:i})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"row-span-2",children:(0,V.jsx)(aN,{control:a.control,name:`produkter.${t}.Hovedbilde`,render:e=>{let{fieldState:n}=e;const r=`produkter.${t}.Hovedbilde`,i=a.watch(r)||[],c=async e=>{if(e){let t=[...i||[]];for(let n=0;n<e.length;n++){const i=e[n];if(i.size>2097152){pe.error("Image size must be less than 2MB.",{position:"top-right"});continue}const s="images",o=`${(new Date).getTime()}_${null===i||void 0===i?void 0:i.name}`,l=Zw(nk,`${s}/${o}`),c=await Gw(l,i),d=await Yw(c.ref);t.push(d),a.setValue(r,t),a.clearErrors(r)}}};return(0,V.jsxs)(lN,{className:"w-full",children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Last opp bilde"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:l,onClick:o,onDrop:e=>{e.preventDefault(),c(e.dataTransfer.files)},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:s,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>c(e.target.files)})]})})})}),(0,V.jsx)(hN,{})]})}})})]}),(0,V.jsx)("div",{children:n&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===n||void 0===n?void 0:n.map(((e,r)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>d(r),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===c||c===r)return;const e=[...n],i=e[c];e.splice(c,1),e.splice(r,0,i),a.setValue(`produkter.${t}.Hovedbilde`,e),d(null)},children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute top-2 right-2 bg-[#FFFFFFCC] rounded-[12px] p-[6px] cursor-pointer",onClick:()=>{const e=n.filter(((e,t)=>t!==r));a.setValue(`produkter.${t}.Hovedbilde`,e)},children:(0,V.jsx)(mk,{className:"text-red"})})]},r)))})})]},t)})),!i&&(0,V.jsxs)("div",{className:"p-6 flex items-center gap-2 text-primary text-sm font-medium cursor-pointer",onClick:()=>p({Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:""}),children:[(0,V.jsx)(jk,{}),"Legg til et annet produkt"]})]}),(0,V.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>a.reset(),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},P$=e=>{let{editData:t}=e;return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"p-6 pt-0",children:[(0,V.jsx)("img",{src:null===t||void 0===t?void 0:t.Hovedbilde[0],alt:"configurator",className:"w-full h-auto object-cover"}),(0,V.jsx)("p",{className:"mt-6 text-secondary text-base",children:null===t||void 0===t?void 0:t.Produktbeskrivelse})]})})},I$=VC.union([VC.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),VC.string()]),$$=VC.object({Produktnavn:VC.string().optional(),delieverBy:VC.string().optional(),Hovedbilde:VC.array(I$).optional(),pris:VC.string().nullable().optional(),IncludingOffer:VC.boolean().optional(),Produktbeskrivelse:VC.string().optional(),isSelected:VC.boolean().optional()}),R$=VC.discriminatedUnion("productOptions",[VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:VC.literal("Multi Select"),produkter:VC.array($$).min(1,"Minst ett produkt er p\xe5krevd.")}),VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:VC.literal("Single Select"),produkter:VC.array($$).min(1,"Minst ett produkt er p\xe5krevd.")}),VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:VC.literal("Text"),text:VC.string().min(1,"Kommentar er p\xe5krevd.")})]),O$=VC.object({name:VC.string().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:VC.array(R$).optional().nullable(),isSelected:VC.boolean().optional()}),D$=VC.object({hovedkategorinavn:VC.array(O$)}),F$=t=>{var n,r,i,a;let{setActiveTab:s,labelName:o,Category:l,activeTabData:c,setCategory:d}=t;const[u,h]=(0,e.useState)(0);(0,e.useEffect)((()=>{c&&h(0)}),[c]);const p=zn().pathname.split("/"),f=p.length>2?p[2]:null,m=p.length>4?p[4]:null,g=qn(),v=l_({resolver:m_(D$),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:null}]}}),x=v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`),[b,y]=(0,e.useState)(null);function w(e,t){const n={...e};for(const r in t){const i=null===e||void 0===e?void 0:e[r],a=t[r];if("rooms"===r&&Array.isArray(i)&&Array.isArray(a)){const e=[];for(let t=0;t<a.length;t++){const n=a[t],r=t;i[r]?(i[r].Kategorinavn=n.Kategorinavn||i[r].Kategorinavn,i[r].name=n.name||i[r].name):i[r]={Kategorinavn:n.Kategorinavn,name:n.name,...n},e.push(i[r])}}else"object"!==typeof a||null===a||Array.isArray(a)?a!==i&&(n[r]=a):n[r]=w(i||{},a)}return n}function k(e){return Array.isArray(e)?e.map(k):"object"===typeof e&&null!==e?Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,k(n)]}))):e}(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);y(e.get("pdf_id"))}),[]);const[S,_]=(0,e.useState)(!1);(0,e.useEffect)((()=>{if(Array.isArray(l)&&l.length>0){const e=l.map(((e,t)=>({name:e.name,Kategorinavn:t===c&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn:null})));v.setValue("hovedkategorinavn",e)}}),[v,l,c]);const j=(0,e.useRef)([]);(0,e.useEffect)((()=>{const e=v.watch(`hovedkategorinavn.${c}`);void 0!==e&&v.setValue(`hovedkategorinavn.${c}`,e)}),[c,v]),(0,e.useEffect)((()=>{const e=v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`);e&&JSON.stringify(j.current)!==JSON.stringify(e)&&(d((t=>{var n,r;const i=[...t];return null!==(n=i[c])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[u]&&(i[c].Kategorinavn[u].produkter=null===e||void 0===e?void 0:e.map(((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||""})))),i})),j.current=e)}),[JSON.stringify(v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`))]);const C=()=>{_(!S)},N=((e,t)=>{const n=((null===(e=v.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[c])||void 0===t?void 0:t.Kategorinavn)||[]).filter((e=>{var t,n,r,i;if(null===e||void 0===e||!e.navn)return!1;const a=""!==e.navn.trim(),s=""!==(null===e||void 0===e||null===(t=e[u])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim()),o=""!==(null===e||void 0===e||null===(r=e[u])||void 0===r||null===(i=r.productOptions)||void 0===i?void 0:i.trim());return a||s||o}));return n.length>0?n:[]})(),[E,A]=(0,e.useState)(null),[T,P]=(0,e.useState)(null),[I,$]=(0,e.useState)(null),[R,O]=(0,e.useState)(!1),D=v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.navn`),[F,M]=(0,e.useState)(!1),[L,B]=(0,e.useState)(null),U=()=>{F?(M(!1),B(null)):M(!0)},[z,H]=(0,e.useState)(null),[K,q]=(0,e.useState)(!1),G=null===(n=v.formState.errors)||void 0===n||null===(r=n.hovedkategorinavn)||void 0===r||null===(i=r[c])||void 0===i||null===(a=i.Kategorinavn)||void 0===a?void 0:a[u],W="Text"===(null===G||void 0===G?void 0:G.productOptions)&&"text"in G&&!!G.text;(0,e.useEffect)((()=>{if(x&&x.length>0&&!x.some((e=>e.isSelected))){const e=x.map(((e,t)=>({...e,isSelected:0===t})));v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,e,{shouldValidate:!0})}}),[x]);const[X,Y]=(0,e.useState)(!1),[Z,Q]=(0,e.useState)(""),[J,ee]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=setTimeout((()=>{f||Y(!0)}),200);return()=>clearTimeout(e)}),[f]);const[te,ne]=(0,e.useState)(!1);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(rN,{...v,children:(0,V.jsxs)("form",{onSubmit:v.handleSubmit((async e=>{const t=e.hovedkategorinavn.map((e=>{if(!Array.isArray(e.Kategorinavn))return e;const t=e.Kategorinavn.map((e=>{if(!Array.isArray(e.produkter))return e;const t=e.produkter.some((e=>e.isSelected)),n=e.produkter.map(((e,n)=>({...e,isSelected:t?!0===e.isSelected:0===n})));return{...e,produkter:n}}));return{...e,Kategorinavn:t}})),n={rooms:t};try{const e=await ik(f);if(!e||!m||!b)return;const t=(null===e||void 0===e?void 0:e.KundeInfo)||[],r=t.findIndex((e=>String(e.uniqueId)===String(m)));if(-1===r)return;const i=t[r],a=(null===i||void 0===i?void 0:i.Plantegninger)||[],s=a.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b))),o=k(w(s,n)),l=[...a],c=l.findIndex((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b)));-1!==c&&(l[c]={...l[c],...o,id:f});const d=t.map(((e,t)=>t===r?{...e,Plantegninger:l}:e)),u=Qf(tk,"housemodell_configure_broker",f),h=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await tg(u,{KundeInfo:d,updatedAt:h(new Date)}),pe.success("Lagret",{position:"top-right"}),g(`/se-series/${f}`)}catch(r){console.error("Failed to update plantegning:",r),pe.error("Noe gikk galt",{position:"top-right"})}})),children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2.5 mb-2.5 cursor-pointer",onClick:()=>{s(2)},children:[(0,V.jsx)(_$,{className:"text-purple"}),(0,V.jsx)("span",{className:"text-purple text-sm font-medium",children:"Tilbake til plantegning"})]}),(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl",children:["Legg til konfigurasjon for ",o]})})]}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===N||void 0===N?void 0:N.length)>0&&(0,V.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===N||void 0===N?void 0:N.map(((e,t)=>(0,V.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap "+(u===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>h(t),children:[(0,V.jsx)("span",{className:"text-sm",children:e.navn}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),$(t),_(!0)},children:(0,V.jsx)(_k,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("img",{src:gN,alt:"close",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=N.filter(((e,n)=>n!==t));d((e=>{const t=[...e];return t[c]={...t[c],Kategorinavn:n},t})),v.setValue(`hovedkategorinavn.${c}.Kategorinavn`,n,{shouldValidate:!0})}})]},t)))}),(0,V.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>_(!0),children:[(0,V.jsx)(jk,{}),"Legg til produkt"]})]}),N.length>0&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,V.jsx)("h4",{className:"text-darkBlack text-base font-semibold",children:D}),"Text"!==v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.productOptions`)&&(0,V.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{O(!0)},children:[(0,V.jsx)(jk,{}),"Legge til ",D]})]}),"Text"===v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.productOptions`)?(0,V.jsx)("div",{className:"mb-4",children:(0,V.jsx)("textarea",{className:`h-[130px] bg-white rounded-[8px] text-black p-2 w-full resize-none text-sm\n                        ${W?"border-red":"border-gray1"} border\n                        flex w-full rounded-[8px] border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1`,placeholder:"Skriv kommentar...",value:v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.text`)||"",onChange:e=>{v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.text`,e.target.value,{shouldValidate:!0})}})}):(0,V.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null===x||void 0===x?void 0:x.map(((e,t)=>{var n,r;const i=null===e||void 0===e?void 0:e.isSelected;return(0,V.jsx)("div",{className:"cursor-pointer border rounded-lg "+(i?"border-2 border-purple bg-lightPurple bg-opacity-10":"border-[#EFF1F5]"),draggable:!0,onDragStart:()=>A(t),onDragOver:e=>{e.preventDefault(),P(t)},onDrop:()=>(()=>{if(null===E||null===T||E===T)return;const e=[...x],t=e[E];e.splice(E,1),e.splice(T,0,t),v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,e),A(null),P(null)})(),onClick:()=>{let e;e="Single Select"===v.getValues(`hovedkategorinavn.${c}.Kategorinavn.${u}.productOptions`)?x.map(((e,n)=>({...e,isSelected:n===t}))):x.map(((e,n)=>({...e,isSelected:n===t?!e.isSelected:e.isSelected}))),v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,e,{shouldValidate:!0})},children:(0,V.jsxs)("div",{className:"flex gap-4 p-3",children:[(null===e||void 0===e||null===(n=e.Hovedbilde)||void 0===n?void 0:n[0])&&(0,V.jsx)("div",{className:"w-[100px]",children:(0,V.jsx)("img",{src:`${null===e||void 0===e||null===(r=e.Hovedbilde)||void 0===r?void 0:r[0]}`,alt:"floor",className:"w-[100px] h-[76px] border border-[#EFF1F5] rounded-[4px]"})}),(0,V.jsxs)("div",{className:"w-full",children:[(0,V.jsx)("div",{className:"flex items-center gap-2 justify-between",children:(0,V.jsx)("h4",{className:"text-darkBlack text-sm",children:null===e||void 0===e?void 0:e.Produktnavn})}),(null===e||void 0===e?void 0:e.delieverBy)&&(0,V.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,V.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,V.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:null!==e&&void 0!==e&&e.IncludingOffer?(0,V.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,V.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:(null===e||void 0===e?void 0:e.pris)&&`kr ${null===e||void 0===e?void 0:e.pris}`})})})]})]})},t)}))})]})]})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white border-t border-gray2 p-4 left-0",style:{zIndex:99999},children:[(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(2)}}),(0,V.jsx)(Sk,{text:"Lukk og lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"}),(0,V.jsx)(Sk,{text:"Legg inn bestilling",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"button",onClick:async()=>{if(!f||!m||!b)return;ne(!0);const e=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");try{var t,n,r;const i={rooms:v.watch("hovedkategorinavn")},a=await ik(f),s=(null===a||void 0===a?void 0:a.KundeInfo)||[],o=s.findIndex((e=>String(e.uniqueId)===String(m)));if(-1===o)return;const l=(null===(t=s[o])||void 0===t?void 0:t.Plantegninger)||[],c=l.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b))),d=k(w(c,i)),u=[...l],h=u.findIndex((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b)));-1!==h&&(u[h]={...u[h],...d,id:f}),s[o].Plantegninger=u;const p=Qf(tk,"housemodell_configure_broker",f);await tg(p,{KundeInfo:s,updatedAt:e(new Date)});const x=await ik(f),y=null===x||void 0===x||null===(n=x.KundeInfo)||void 0===n?void 0:n.find((e=>String(e.uniqueId)===String(m))),S=null===y||void 0===y||null===(r=y.Plantegninger)||void 0===r?void 0:r.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b)));if(!S)return;const _=Qf(tk,"room_configurator",m),j=await Zm(_),C={kundeId:m,Plantegninger:[S],updatedAt:e(new Date),Anleggsadresse:y.Anleggsadresse,EPost:y.EPost,Kundenavn:y.Kundenavn,Kundenummer:y.Kundenummer,mobileNummer:y.mobileNummer};if(j.exists()){const t=j.data(),n=(null===t||void 0===t?void 0:t.Plantegninger)||[],r=n.findIndex((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b)));-1!==r?n[r]=S:n.push(S);const i={...t,Plantegninger:n,updatedAt:e(new Date)};if(null===t||void 0===t||!t.name)return ee(i),void Y(!0);await tg(_,i)}else{if(!Z.trim())return ee({...C,createdAt:e(new Date)}),void Y(!0);await eg(_,{...C,createdAt:e(new Date),name:Z.trim()})}pe.success("Bestillingen er lagt inn!",{position:"top-right"}),g(`/Room-Configurator/${m}`)}catch(i){console.error("Error saving data:",i),pe.error("Noe gikk galt",{position:"top-right"})}finally{ne(!1)}}})]})]})}),(0,V.jsxs)(yN,{isOpen:S,onClose:C,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==I?"Rediger underkategori":"Legg til ny underkategori",(0,V.jsx)(mk,{onClick:C,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(C$,{onClose:()=>{_(!1),$(null)},formData:v,activeTabData:c,setCategory:d,editIndex:I,defaultValue:null!==I&&N[I]||{}})]}),(0,V.jsxs)(yN,{isOpen:R,onClose:()=>{O(!R)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(mk,{onClick:C,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(T$,{onClose:()=>O(!1),onSubmit:e=>{const t=v.getValues(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`)||[];v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,[...t,...e.produkter])}})]}),(0,V.jsxs)(yN,{isOpen:F,onClose:U,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Informasjon om ",null===L||void 0===L?void 0:L.Produktnavn,(0,V.jsx)(mk,{onClick:U,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(P$,{editData:L})]}),(0,V.jsxs)(yN,{isOpen:K,onClose:()=>{q(!1),H(null)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Rediger produkt",(0,V.jsx)(mk,{onClick:()=>{q(!1),H(null)},className:"text-primary cursor-pointer"})]}),null!==z&&(0,V.jsx)(T$,{onClose:()=>{q(!1),H(null)},editData:v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter.${z}`),onSubmit:e=>{var t;const n=[...v.getValues(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`)||[]];n[z]=null===(t=e.produkter)||void 0===t?void 0:t[0],v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,n),q(!1),H(null)}})]}),X&&(0,V.jsx)(yk,{isOpen:!0,onClose:()=>Y(!1),outSideClick:!0,children:(0,V.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg relative",children:[(0,V.jsx)(mk,{className:"text-primary absolute top-2.5 right-2.5 w-5 h-5 cursor-pointer",onClick:()=>{Y(!1)}}),(0,V.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Opprett ny konfigurator"}),(0,V.jsx)("input",{type:"text",value:Z,onChange:e=>Q(e.target.value),placeholder:"Skriv inn navn p\xe5 konfigurator",className:"bg-white rounded-[8px] border text-black border-gray1 flex h-11 w-full border-input px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1 mb-4"}),(0,V.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black",onClick:()=>Q("")}),(0,V.jsx)(Sk,{text:"Opprett",className:"bg-purple text-white",onClick:async()=>{if(!J)return;const e=Qf(tk,"room_configurator",String(m));var t;(await Zm(e)).exists()?await tg(e,{...J,name:Z.trim()}):await eg(e,{...J,name:Z.trim(),createdAt:(t=new Date,t.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""))}),pe.success("Bestillingen er lagt inn!",{position:"top-right"}),Y(!1),Q(""),g(`/Room-Configurator/${m}`),ne(!1)}})]})]})}),te&&(0,V.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center",style:{zIndex:99999},children:(0,V.jsxs)("div",{className:"flex flex-col items-center gap-4 bg-white p-3 rounded-lg",children:[(0,V.jsx)("span",{className:"text-purple text-base font-medium",children:"Plasserer bestilling..."}),(0,V.jsx)("div",{className:"w-48 h-1 overflow-hidden rounded-lg",children:(0,V.jsx)("div",{className:"w-full h-full bg-purple animate-[progress_1.5s_linear_infinite] rounded-lg"})})]})})]})},M$=t=>{var n;let{setActiveTab:r}=t;const i=qn(),[a,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(null),[p,f]=(0,e.useState)(null),m=zn(),g=m.pathname.split("/"),v=g.length>2?g[2]:null,x=g.length>4?g[4]:null,[b,y]=(0,e.useState)(!0),w=()=>{o?(l(!1),f(null)):l(!0)},k=e=>{e.preventDefault()},[S,_]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);_(e.get("pdf_id"))}),[]);const[j,C]=(0,e.useState)(null);(0,e.useEffect)((()=>{if(!v||!S||!x)return;(async()=>{const e=await ik(v);if(console.log(e),null===e||void 0===e||!e.KundeInfo)return void y(!1);const t=e.KundeInfo.find((e=>String(e.uniqueId)===String(x)));if(!t)return void y(!1);const n={Himlling:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Mdf panel",isSelected:!1},{Produktnavn:"Takplate 60x120",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Vegger:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"5 bords kostmald mdf plate",isSelected:!1},{Produktnavn:"Ubehandlet sponplate",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Gulv:[{Produktnavn:"Lokalleveranse",isSelected:!0},{Produktnavn:"Eikeparkett 3 stavs",isSelected:!1},{Produktnavn:"Eikeparkett 1 stavs",isSelected:!1},{Produktnavn:"Laminat 1 stavs",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Lister:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Annen signatur",isSelected:!1},{Produktnavn:"Uten lister for listefri l\xf8sning",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Kommentar:[]},r=((null===t||void 0===t?void 0:t.Plantegninger)||[]).map((e=>{if(!Array.isArray(e.rooms))return e;const t=e.rooms.map((e=>{if(!Array.isArray(e.Kategorinavn))return{...e,Kategorinavn:Object.entries(n).map((e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}}))};const t=e.Kategorinavn.map((e=>e.navn)),r=Object.entries(n).filter((e=>{let[n]=e;return!t.includes(n)})).map((e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}}));return{...e,Kategorinavn:[...e.Kategorinavn,...r]}}));return{...e,rooms:t}})),i=null===r||void 0===r?void 0:r.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(S)));i&&(C(i),d(i.rooms||[]));const a=Qf(tk,"housemodell_configure_broker",v);await tg(a,{KundeInfo:e.KundeInfo.map((e=>String(e.uniqueId)===String(x)?{...e,Plantegninger:r}:e))}),y(!1)})()}),[v,S,x]);const[N,E]=(0,e.useState)(!1);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6 flex-wrap",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)(Qr,{to:`/se-series/${v}`,className:"text-primary text-sm font-medium",children:"Kundeopplysninger"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("div",{onClick:()=>{r(1);const e=new URLSearchParams(m.search);e.delete("pdf_id"),i(`${m.pathname}?${e.toString()}`,{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 md:gap-3",children:[(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:null===j||void 0===j?void 0:j.title}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),null!==a&&(0,V.jsx)("img",{src:null===j||void 0===j?void 0:j.image,alt:"floor",className:"w-[120px] h-[120px] rounded-lg cursor-pointer",onClick:()=>E(!0)})]})]}),(0,V.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 desktop:gap-6 px-4 md:px-6 pt-6 pb-[136px]",children:[(0,V.jsxs)("div",{className:"w-full lg:w-[30%] desktop:w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 lg:h-[690px]",children:[(0,V.jsxs)("div",{className:"p-3 md:p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:[(0,V.jsx)("span",{className:"truncate",children:"Romoversikt"}),(0,V.jsxs)("div",{className:"flex items-center text-purple gap-2 cursor-pointer",onClick:()=>l(!0),children:[(0,V.jsx)(jk,{}),(0,V.jsx)("span",{className:"text-sm font-medium whitespace-nowrap",children:"Nytt rom"})]})]}),(0,V.jsx)("div",{className:"flex lg:flex-col p-3 md:p-4 pb-0 rounded-lg gap-3 h-full lg:max-h-[calc(100%-90px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:c.length>0?c.map(((e,t)=>(0,V.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{h(e)})(t),onDragOver:k,onDrop:()=>(e=>{if(null===u||u===e)return;const t=[...c],n=t[u];t.splice(u,1),t.splice(e,0,n),d(t),h(null)})(t),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 "+(a===t?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>s(t),children:[(0,V.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold truncate",children:[(0,V.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:t+1}),(0,V.jsx)("span",{className:"truncate",children:""!==(null===e||void 0===e?void 0:e.name_no)&&null!==e&&void 0!==e&&e.name_no?null===e||void 0===e?void 0:e.name_no:null===e||void 0===e?void 0:e.name})]}),(0,V.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,V.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),f({index:t,data:e}),l(!0)},children:(0,V.jsx)(_k,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),d((e=>e.filter(((e,n)=>n!==t)))),s(0)},className:"w-5 h-5",children:(0,V.jsx)("img",{src:wk,alt:"delete",className:"w-full h-full"})})]})]},t))):"No data found!"})]}),(0,V.jsx)("div",{className:"w-full lg:w-[70%] desktop:w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max p-3",children:null!==a?(0,V.jsx)(F$,{setActiveTab:r,labelName:(null===(n=c[a])||void 0===n?void 0:n.name)||"",Category:c,activeTabData:a,setCategory:d}):(0,V.jsx)("img",{src:null===j||void 0===j?void 0:j.image,alt:"floor",className:"w-full h-full"})})]}),!a&&(0,V.jsx)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:(0,V.jsxs)("div",{className:"flex items-center gap-5",children:[(0,V.jsx)("div",{onClick:()=>r(2),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(0)}})]})}),o&&(0,V.jsx)(yk,{onClose:w,isOpen:!0,children:(0,V.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,V.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,V.jsx)(mN,{onClose:w,setCategory:d,editData:p,Category:c})]})}),b&&(0,V.jsx)(li,{}),N&&(0,V.jsx)(yk,{onClose:()=>E(!1),isOpen:!0,children:(0,V.jsxs)("div",{className:"relative bg-white rounded-[12px] p-4 w-full sm:w-[90vw] max-w-[800px]",children:[(0,V.jsx)("button",{onClick:()=>E(!1),className:"absolute top-3 right-3",children:(0,V.jsx)(mk,{className:"text-primary"})}),(0,V.jsx)("img",{src:null===j||void 0===j?void 0:j.image,alt:"Full view",className:"w-full h-auto rounded-lg"})]})})]})},L$=()=>{const[t,n]=(0,e.useState)(0),r=zn(),i=r.pathname.split("/"),a=i.length>2?i[2]:null,s=i.length>4?i[4]:null;return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(V.Fragment,{children:[(0===t||1===t)&&(0,V.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6 flex-wrap",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)(Qr,{to:`/se-series/${a}`,className:"text-primary text-sm font-medium",children:"Kundeopplysninger"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:s?"Rediger huset":"Legg til nytt hus"})]}),(0,V.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 justify-between mb-4 md:mb-5",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:s?"Rediger huset":"Legg til nytt hus"}),(0,V.jsx)("div",{children:(0,V.jsx)("div",{className:"border border-[#EFF1F5] bg-[#F9F9FB] p-1.5 rounded-lg w-max",children:(0,V.jsx)(GN,{tabs:[{label:"Kundedetaljer"},{label:"Plantegninger"}],activeTab:t,...r.pathname.includes("/edit-husmodell")?{setActiveTab:n}:{}})})})]})]}),0===t&&(0,V.jsx)(x$,{setActiveTab:n}),1===t&&(0,V.jsx)(w$,{setActiveTab:n}),2===t&&(0,V.jsx)(S$,{setActiveTab:n}),3===t&&(0,V.jsx)(M$,{setActiveTab:n})]})})};const V$=__webpack_require__.p+"static/media/Ic_mintomt.6b42d508d2abeace88f6f1c0b5c5cc25.svg",B$=()=>{const t=qn(),[n,r]=(0,e.useState)([]),[i,a]=(0,e.useState)(!0),s=async()=>{a(!0);try{let e=Dm(Zf(tk,"room_configurator"),Vm("updatedAt","desc"));const t=(await Jm(e)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(e){console.error("Error fetching husmodell data:",e)}finally{a(!1)}};(0,e.useEffect)((()=>{s()}),[]);const[o,l]=(0,e.useState)({}),c=e=>{l((t=>({...t,[e]:!0})))},[d,u]=(0,e.useState)(null),[h,p]=(0,e.useState)(""),[f,m]=(0,e.useState)(null),[g,v]=(0,e.useState)();return(0,V.jsxs)(V.Fragment,{children:[i&&(0,V.jsx)(li,{}),(0,V.jsx)("div",{className:"py-4 px-8 flex justify-end",children:(0,V.jsx)(Sk,{text:"Legg til ny romkonfigurator",className:"border border-purple bg-purple text-white text-base rounded-[40px] h-[48px] font-medium relative px-5 py-3 flex items-center gap-2",onClick:()=>{t("/Room-Configurator")}})}),(0,V.jsx)("div",{className:"p-8 grid grid-cols-4 gap-x-6 gap-y-[40px]",children:n&&n.length>0&&(null===n||void 0===n?void 0:n.map(((e,i)=>{var a,s;const l=o[i],f=d===i;return(0,V.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-4 rounded-lg flex flex-col gap-4",onClick:()=>{t(`/Room-Configurator/${null===e||void 0===e?void 0:e.id}`)},children:[(0,V.jsxs)("div",{className:"flex gap-2 items-center justify-between mb-4",children:[f?(0,V.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,V.jsx)("span",{className:"text-darkBlack font-medium",children:null===e||void 0===e?void 0:e.name}),(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[f?(0,V.jsx)("button",{className:"bg-purple text-white px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const t=[...n];t[i]={...t[i],name:h},r(t),u(null);const a=Qf(tk,"room_configurator",String(g));await tg(a,{name:h,updatedAt:(new Date).toISOString()}),pe.success("Navn oppdatert!",{position:"top-right"})},children:"Oppdater"}):(0,V.jsx)(_k,{className:"w-5 h-5 text-purple cursor-pointer",onClick:t=>{t.preventDefault(),t.stopPropagation(),u(i),p(null===e||void 0===e?void 0:e.name),v(null===e||void 0===e?void 0:e.id)}}),(0,V.jsx)(vN,{className:"w-5 h-5 text-red cursor-pointer",onClick:t=>{t.preventDefault(),t.stopPropagation(),m(i),v(null===e||void 0===e?void 0:e.id)}})]})]}),(0,V.jsx)("div",{className:"w-full h-[200px] relative",children:null!==e&&void 0!==e&&null!==(a=e.Plantegninger)&&void 0!==a&&null!==(s=a[0])&&void 0!==s&&s.image?(0,V.jsxs)(V.Fragment,{children:[!l&&(0,V.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer absolute top-0 left-0"}),(0,V.jsx)("img",{src:e.Plantegninger[0].image,alt:"floor",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 "+(l?"opacity-100":"opacity-0"),onLoad:()=>c(i),onError:()=>c(i),loading:"lazy"})]}):(0,V.jsx)("div",{className:"w-full h-full flex items-center justify-center rounded-lg border border-gray2",children:(0,V.jsx)("img",{src:V$,alt:"logo"})})})]},i)})))}),null!==f&&(0,V.jsx)(yk,{onClose:()=>{m(f?null:f)},isOpen:!0,children:(0,V.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,V.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,V.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,V.jsx)("div",{onClick:()=>m(null),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)("div",{onClick:()=>(async()=>{const e=Qf(tk,"room_configurator",String(g));try{await ng(e),m(null),s(),pe.success("Romkonfiguratoren er slettet!",{position:"top-right"})}catch(t){console.error("Error deleting floor:",t),pe.error("Failed to delete room configurator",{position:"top-right"})}})(),children:(0,V.jsx)(Sk,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})})]})},U$=()=>(0,V.jsx)(B$,{});const z$=__webpack_require__.p+"static/media/Ic_Check_white.0a04cf64c88951f84fe6d6427acb5a26.svg",H$=t=>{var n;let{steps:r,currIndex:i,setCurrIndex:a}=t;const s=(0,e.useRef)([]);(0,e.useEffect)((()=>{"undefined"!==typeof window&&i&&localStorage.setItem("currIndexBolig",i.toString());const e=s.current[i];e&&e.scrollIntoView({behavior:"smooth",inline:"start"})}),[i]);return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"py-3 bg-[#00284C]",children:(0,V.jsx)("div",{className:"px-6 lg:px-8",children:(0,V.jsx)("div",{className:"stepper_main overFlowScrollHidden",children:(0,V.jsxs)("div",{className:"stepper-wrapper",children:[(0,V.jsx)("div",{className:"progress"}),r.map(((e,t)=>(0,V.jsxs)("div",{ref:e=>s.current[t]=e,className:"screen-indicator-span "+(t<i?"completed cursor-pointer":t===i?"current":""),onClick:()=>(e=>{e<i&&(a(e),localStorage.setItem("currIndexBolig",e.toString()))})(t),style:{color:t===i?"#2a343e":""},children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-2 px-1 md:px-2 bg-[#00284C]",style:{zIndex:2},children:[t<i?(0,V.jsx)("div",{className:"w-6 h-6 bg-[#099250] flex items-center justify-center rounded-full",children:(0,V.jsx)("img",{src:z$,alt:"Completed"})}):(0,V.jsx)("span",{className:"screen-index",children:t+1}),(0,V.jsx)("span",{children:e.name})]}),t<r.length-1&&(0,V.jsx)("div",{className:"screen-indicator "+(t<i?"completed":t===i?"current":"")})]},t)))]})})})}),(0,V.jsx)("div",{className:"active_page",children:(null===(n=r[i])||void 0===n?void 0:n.component)||(0,V.jsx)("div",{children:"Unknown step"})})]})})},K$=t=>{let{setActiveTab:n,Next:r}=t;const i=zn().pathname.split("/"),a=i.length>2?i[2]:null,[s,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)([]),d=qn();(0,e.useEffect)((()=>{if(!a)return void o(!1);(async()=>{const e=await ak(a);e&&null!==e&&void 0!==e&&e.Plantegninger&&c(null===e||void 0===e?void 0:e.Plantegninger),o(!1)})()}),[a]),(0,e.useEffect)((()=>{y$.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${y$.version}/pdf.worker.min.js`}),[]);const u=e.useRef(null);function h(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))}const p=async e=>{if(!e.length)return;const t=new FormData;t.append("file",e[0]),o(!0);try{let n=a;o(!0);const r=await fetch("https://iplotnor-hf-api-version-2.hf.space/upload",{method:"POST",headers:{accept:"application/json"},body:t,mode:"cors"});if(o(!0),!r.ok)throw new Error(`HTTP error: ${r.status}`);o(!0);const i=await r.json();if(i&&null!==i&&void 0!==i&&i.pdf_id&&n){const t=e[0];let r;if(o(!0),"application/pdf"===t.type){const e=await h(t);r=await(async e=>{try{const t=y$.getDocument({data:atob(e.split(",")[1])}),n=await t.promise,r=await n.getPage(1),i=document.createElement("canvas");if(!i)return;const a=i.getContext("2d");if(!a)return;const s=r.getViewport({scale:1});return i.width=s.width,i.height=s.height,await r.render({canvasContext:a,viewport:s}).promise,i.toDataURL("image/png")}catch(t){console.error("Error loading PDF document:",t)}})(e)}else{if(!t.type.startsWith("image/"))return console.error("Unsupported file type"),void o(!1);r=await h(t)}if(r){const e=await(async e=>{if(!e)return;if(e.length*(3/4)-(e.endsWith("==")?2:e.endsWith("=")?1:0)>2097152)return void pe.error("Image size must be less than 2MB.",{position:"top-right"});const t=Date.now(),n=Zw(nk,`images/${t}_image.png`);try{const t=await Ww(n,e,"data_url");return await Yw(t.ref)}catch(r){console.error("Error uploading base64",r)}})(r),t=Qf(tk,"room_configurator",String(n)),a=await Zm(t),s=a.exists()&&a.data().Plantegninger||[],l=s.length+1,d={...i,image:e,title:`Floor ${l}`};c((e=>[...e,d]));const u=[];u.push(d);const h=[...s,...u],p=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await tg(t,{Plantegninger:h,id:n,updatedAt:p(new Date)}),pe.success(i.message,{position:"top-right"}),o(!1)}}}catch(n){console.error("Upload error:",n),o(!1),pe.error("File upload error!",{position:"top-right"})}},[f,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(""),[x,b]=(0,e.useState)(null),[y,w]=(0,e.useState)({}),k=e=>{w((t=>({...t,[e]:!0})))},[S,_]=(0,e.useState)(!1),[j,C]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=setTimeout((()=>{a||_(!0)}),200);return()=>clearTimeout(e)}),[a]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple px-8 py-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Romkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her laster du opp plantegninger som bruker AI til \xe5 trekke ut alle rommene, du kan s\xe5 konfigurere hvert enkelt rom."})]}),(0,V.jsxs)("div",{className:"px-8 py-6",children:[(0,V.jsx)("h3",{className:"text-darkBlack text-2xl font-semibold mb-2",children:"Opplasting av plantegninger"}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"Her laster du opp plantegninger for hver etasje, og ved \xe5 trykke p\xe5 \u201cNeste\u201d vil AI trekke ut alle rommene fra de opplastede plantegningene."})]}),(0,V.jsxs)("div",{className:"px-8 pb-[100px]",children:[(0,V.jsx)("div",{className:"relative p-2 rounded-lg w-max",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 flex-col items-center justify-center laptop:px-[42px] py-4 flex gap-6 cursor-pointer w-full",onClick:async()=>{var e;null===(e=u.current)||void 0===e||e.click()},onDrop:e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;t&&p(t)},onDragStart:e=>{e.preventDefault(),e.stopPropagation()},onDragOver:e=>e.preventDefault(),children:[(0,V.jsx)("img",{src:b$,alt:"upload"}),(0,V.jsxs)("div",{className:"flex items-center justify-center flex-col gap-3",children:[(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[(0,V.jsx)("span",{className:"text-primary font-medium whitespace-nowrap flex items-center justify-center border-2 border-purple rounded-[40px] h-[36px] py-2 px-4",children:"Bla gjennom"}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Slipp filen her for \xe5 laste den opp"})]}),(0,V.jsx)("p",{className:"text-gray text-sm truncate w-full text-center",children:"Filformater: Kun JPEG, JPG, PNG, PDF maks 2 MB"})]}),(0,V.jsx)("input",{type:"file",ref:u,className:"hidden",accept:".pdf,image/*",onChange:async e=>{e.target.files&&await p(e.target.files)}})]})}),(0,V.jsx)("div",{className:"grid grid-cols-3 gap-6 w-full mt-8",children:l&&l.length>0?l.map(((e,t)=>{const r=f===t,i=y[t];return(0,V.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-4 rounded-lg flex flex-col gap-4",onClick:()=>{n(2),d(`?pdf_id=${null===e||void 0===e?void 0:e.pdf_id}`)},children:[(0,V.jsxs)("div",{className:"flex gap-2 items-center justify-between mb-4",children:[r?(0,V.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,V.jsx)("span",{className:"text-darkBlack font-medium",children:(null===e||void 0===e?void 0:e.title)||`Floor ${t+1}`}),(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[r?(0,V.jsx)("button",{className:"bg-purple text-white px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const n=[...l];n[t]={...n[t],title:g},c(n),m(null);const r=Qf(tk,"room_configurator",String(a));await tg(r,{Plantegninger:n,updatedAt:(new Date).toISOString()}),pe.success("Navn oppdatert!",{position:"top-right"})},children:"Oppdater"}):(0,V.jsx)(_k,{className:"w-6 h-6 text-purple cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),m(t),v((null===e||void 0===e?void 0:e.title)||`Floor ${t+1}`)}}),(0,V.jsx)(vN,{className:"w-6 h-6 text-red cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),b(t)}})]})]}),(0,V.jsxs)("div",{className:"w-full h-[200px] relative",children:[!i&&(0,V.jsx)("div",{className:"w-full h-full rounded-lg custom-shimmer"}),(null===e||void 0===e?void 0:e.image)&&(0,V.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"floor",className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 "+(i?"opacity-100":"opacity-0"),onLoad:()=>k(t),onError:()=>k(t),loading:"lazy"})]})]},t)})):"No Data Found!"})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{d("/Bolig-configurator")}}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{r()}})]}),null!==x&&(0,V.jsx)(yk,{onClose:()=>{b(x?null:x)},isOpen:!0,children:(0,V.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,V.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,V.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,V.jsx)("div",{onClick:()=>b(null),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)("div",{onClick:()=>(async e=>{const t=Qf(tk,"room_configurator",String(a));try{const n=await Zm(t),r=(n.exists()&&n.data().Plantegninger||[]).filter(((t,n)=>n!==e));await tg(t,{Plantegninger:r,updatedAt:(new Date).toISOString()}),c(r),b(null),pe.success("Floor deleted successfully!",{position:"top-right"})}catch(n){console.error("Error deleting floor:",n),pe.error("Failed to delete floor",{position:"top-right"})}})(x),children:(0,V.jsx)(Sk,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})}),s&&(0,V.jsx)(li,{}),S&&(0,V.jsx)(yk,{isOpen:!0,onClose:()=>_(!1),outSideClick:!0,children:(0,V.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg relative",children:[(0,V.jsx)(mk,{className:"text-primary absolute top-2.5 right-2.5 w-5 h-5 cursor-pointer",onClick:()=>{_(!1),d("/Bolig-configurator")}}),(0,V.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Opprett ny konfigurator"}),(0,V.jsx)("input",{type:"text",value:j,onChange:e=>C(e.target.value),placeholder:"Skriv inn navn p\xe5 konfigurator",className:"bg-white rounded-[8px] border text-black border-gray1 flex h-11 w-full border-input px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1 mb-4"}),(0,V.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black",onClick:()=>C("")}),(0,V.jsx)(Sk,{text:"Opprett",className:"bg-purple text-white",onClick:async()=>{const e=RN(),t=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),n=Qf(tk,"room_configurator",e);await eg(n,{createdAt:t(new Date),updatedAt:t(new Date),id:e,name:j.trim()}),d(`/Room-Configurator/${e}`),o(!0),_(!1)}})]})]})})]})},q$=t=>{let{setActiveTab:n}=t;const[r,i]=(0,e.useState)(null),a=qn(),s=zn();(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);i(e.get("pdf_id"))}),[]);const o=s.pathname.split("/"),l=o.length>2?o[2]:null,[c,d]=(0,e.useState)(!0),[u,h]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!l||!r)return void d(!1);d(!0);(async()=>{const e=await ak(l);if(e){const t=null===e||void 0===e?void 0:e.Plantegninger.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)));if(h(t),null!==t&&void 0!==t&&t.rooms&&t.rooms.length>0)return void d(!1)}try{if(r){const e=Qf(tk,"room_configurator",String(l)),t=await Zm(e),i=t.exists()&&t.data().Plantegninger||[],a=await fetch(`https://iplotnor-hf-api-version-2.hf.space/analyze/${r}`,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:"string"}),mode:"cors"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json(),o=i.map((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)?{...e,...s}:e)),c=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await tg(e,{Plantegninger:o,id:l,updatedAt:c(new Date)});const d=o.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)));h(d),pe.success(s.message,{position:"top-right"}),n(2)}}catch(t){console.error("Upload error:",t),d(!1),pe.error("File upload error!",{position:"top-right"})}d(!1)})()}),[l,r,n]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple px-8 py-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Romkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her laster du opp plantegninger som bruker AI til \xe5 trekke ut alle rommene, du kan s\xe5 konfigurere hvert enkelt rom."})]}),(0,V.jsx)("div",{className:"py-4 px-6",children:(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:null===u||void 0===u?void 0:u.title}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]})}),(0,V.jsx)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:(0,V.jsx)("div",{className:"border w-full border-[#B9C0D4] rounded-lg overflow-hidden",children:(0,V.jsx)("img",{src:null===u||void 0===u?void 0:u.image,alt:"floor",className:"w-full h-full"})})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(1);const e=new URLSearchParams(s.search);e.delete("pdf_id"),a(`${s.pathname}?${e.toString()}`,{replace:!0})}}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(3)}})]}),c&&(0,V.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,V.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-[280px] sm:w-[350px] h-0",style:{top:"50%",zIndex:9999},children:(0,V.jsxs)("div",{className:"p-4 flex items-center justify-center flex-col gap-6 w-full",children:[(0,V.jsx)(k$,{}),(0,V.jsxs)("p",{className:"text-base md:text-lg text-secondary text-center",children:["MinTomt AI analyserer n\xe5 ",(0,V.jsx)("br",{})," plantegninger og trekker ut rommene"]})]})})})]})},G$=VC.union([VC.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),VC.string()]),W$=VC.object({Produktnavn:VC.string().optional(),delieverBy:VC.string().optional(),Hovedbilde:VC.array(G$).optional(),pris:VC.string().nullable().optional(),IncludingOffer:VC.boolean().optional(),Produktbeskrivelse:VC.string().optional(),isSelected:VC.boolean().optional()}),X$=VC.discriminatedUnion("productOptions",[VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:VC.literal("Multi Select"),produkter:VC.array(W$).min(1,"Minst ett produkt er p\xe5krevd.")}),VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:VC.literal("Single Select"),produkter:VC.array(W$).min(1,"Minst ett produkt er p\xe5krevd.")}),VC.object({navn:VC.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),productOptions:VC.literal("Text"),text:VC.string().min(1,"Kommentar er p\xe5krevd.")})]),Y$=VC.object({name:VC.string().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:VC.array(X$).optional().nullable(),isSelected:VC.boolean().optional()}),Z$=VC.object({hovedkategorinavn:VC.array(Y$)}),Q$=t=>{var n,r,i,a;let{setActiveTab:s,labelName:o,Category:l,activeTabData:c,setCategory:d}=t;const[u,h]=(0,e.useState)(0),p=qn();(0,e.useEffect)((()=>{c&&h(0)}),[c]);const f=zn(),m=f.pathname.split("/"),g=m.length>2?m[2]:null,v=l_({resolver:m_(Z$),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:null}]}}),x=v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`),[b,y]=(0,e.useState)(null);function w(e,t){const n={...e};for(const r in t){const i=null===e||void 0===e?void 0:e[r],a=t[r];if("rooms"===r&&Array.isArray(i)&&Array.isArray(a)){const e=[];for(let t=0;t<a.length;t++){const n=a[t],r=t;i[r]?(i[r].Kategorinavn=n.Kategorinavn||i[r].Kategorinavn,i[r].name=n.name||i[r].name):i[r]={Kategorinavn:n.Kategorinavn,name:n.name,...n},e.push(i[r])}}else"object"!==typeof a||null===a||Array.isArray(a)?a!==i&&(n[r]=a):n[r]=w(i||{},a)}return n}function k(e){return Array.isArray(e)?e.map(k):"object"===typeof e&&null!==e?Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,k(n)]}))):e}(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);y(e.get("pdf_id"))}),[]);const[S,_]=(0,e.useState)(!1);(0,e.useEffect)((()=>{if(Array.isArray(l)&&l.length>0){const e=l.map(((e,t)=>({name:e.name,Kategorinavn:t===c&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn:null})));v.setValue("hovedkategorinavn",e)}}),[v,l,c]);const j=(0,e.useRef)([]);(0,e.useEffect)((()=>{const e=v.watch(`hovedkategorinavn.${c}`);void 0!==e&&v.setValue(`hovedkategorinavn.${c}`,e)}),[c,v]),(0,e.useEffect)((()=>{const e=v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`);e&&JSON.stringify(j.current)!==JSON.stringify(e)&&(d((t=>{var n,r;const i=[...t];return null!==(n=i[c])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[u]&&(i[c].Kategorinavn[u].produkter=null===e||void 0===e?void 0:e.map(((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||"",isSelected:e.isSelected||!1})))),i})),j.current=e)}),[JSON.stringify(v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`))]);const C=()=>{_(!S)},N=((e,t)=>{const n=((null===(e=v.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[c])||void 0===t?void 0:t.Kategorinavn)||[]).filter((e=>{var t,n,r,i;if(null===e||void 0===e||!e.navn)return!1;const a=""!==e.navn.trim(),s=""!==(null===e||void 0===e||null===(t=e[u])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim()),o=""!==(null===e||void 0===e||null===(r=e[u])||void 0===r||null===(i=r.productOptions)||void 0===i?void 0:i.trim());return a||s||o}));return n.length>0?n:[]})(),[E,A]=(0,e.useState)(null),[T,P]=(0,e.useState)(null),[I,$]=(0,e.useState)(null),[R,O]=(0,e.useState)(!1),D=v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.navn`),[F,M]=(0,e.useState)(!1),[L,B]=(0,e.useState)(null),U=()=>{F?(M(!1),B(null)):M(!0)},[z,H]=(0,e.useState)(null),[K,q]=(0,e.useState)(!1),G=null===(n=v.formState.errors)||void 0===n||null===(r=n.hovedkategorinavn)||void 0===r||null===(i=r[c])||void 0===i||null===(a=i.Kategorinavn)||void 0===a?void 0:a[u],W="Text"===(null===G||void 0===G?void 0:G.productOptions)&&"text"in G&&!!G.text;return(0,e.useEffect)((()=>{if(x&&x.length>0&&!x.some((e=>e.isSelected))){const e=x.map(((e,t)=>({...e,isSelected:0===t})));v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,e,{shouldValidate:!0}),d((t=>{var n,r;const i=[...t];return null!==(n=i[c])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[u]&&(i[c].Kategorinavn[u].produkter=e),i}))}}),[x]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(rN,{...v,children:(0,V.jsxs)("form",{onSubmit:v.handleSubmit((async e=>{const t=e.hovedkategorinavn.map((e=>{if(!Array.isArray(e.Kategorinavn))return e;const t=e.Kategorinavn.map((e=>{if(!Array.isArray(e.produkter))return e;const t=e.produkter.some((e=>e.isSelected)),n=e.produkter.map(((e,n)=>({...e,isSelected:t?!0===e.isSelected:0===n})));return{...e,produkter:n}}));return{...e,Kategorinavn:t}})),n={rooms:t};try{const e=await ak(g);let t;e&&(t=null===e||void 0===e?void 0:e.Plantegninger.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b))));const r=k(w(t,n));let i=[...(null===e||void 0===e?void 0:e.Plantegninger)||[]];const a=i.findIndex((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(b)));-1!==a&&(i[a]={...i[a],...r,id:g});const o=Qf(tk,"room_configurator",g),l=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await tg(o,{Plantegninger:i,updatedAt:l(new Date)}),pe.success("Lagret",{position:"top-right"});const c=new URLSearchParams(f.search);c.delete("pdf_id"),p(`${f.pathname}?${c.toString()}`,{replace:!0}),s(1)}catch(r){console.error("Firestore operation failed:",r),pe.error("Something went wrong. Please try again.",{position:"top-right"})}})),children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2.5 mb-2.5 cursor-pointer",onClick:()=>{s(3)},children:[(0,V.jsx)(_$,{className:"text-purple"}),(0,V.jsx)("span",{className:"text-purple text-sm font-medium",children:"Tilbake til plantegning"})]}),(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl",children:["Legg til konfigurasjon for ",o]})})]}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===N||void 0===N?void 0:N.length)>0&&(0,V.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===N||void 0===N?void 0:N.map(((e,t)=>(0,V.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap "+(u===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>h(t),children:[(0,V.jsx)("span",{className:"text-sm",children:e.navn}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),$(t),_(!0)},children:(0,V.jsx)(_k,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("img",{src:gN,alt:"close",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=N.filter(((e,n)=>n!==t));d((e=>{const t=[...e];return t[c]={...t[c],Kategorinavn:n},t})),v.setValue(`hovedkategorinavn.${c}.Kategorinavn`,n,{shouldValidate:!0})}})]},t)))}),(0,V.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>_(!0),children:[(0,V.jsx)(jk,{}),"Legg til produkt"]})]}),N.length>0&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,V.jsx)("h4",{className:"text-darkBlack text-base font-semibold",children:D}),"Text"!==v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.productOptions`)&&(0,V.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{O(!0)},children:[(0,V.jsx)(jk,{}),"Legge til ",D]})]}),"Text"===v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.productOptions`)?(0,V.jsx)("div",{className:"mb-4",children:(0,V.jsx)("textarea",{className:`h-[130px] bg-white rounded-[8px] text-black p-2 w-full resize-none text-sm\n                        ${W?"border-red":"border-gray1"} border\n                        flex w-full rounded-[8px] border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1`,placeholder:"Skriv kommentar...",value:v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.text`)||"",onChange:e=>{v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.text`,e.target.value,{shouldValidate:!0})}})}):(0,V.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null===x||void 0===x?void 0:x.map(((e,t)=>{var n,r;const i=null===e||void 0===e?void 0:e.isSelected;return(0,V.jsx)("div",{className:"cursor-pointer border rounded-lg "+(i?"border-2 border-purple bg-lightPurple bg-opacity-10":"border-[#EFF1F5]"),draggable:!0,onDragStart:()=>A(t),onDragOver:e=>{e.preventDefault(),P(t)},onDrop:()=>(()=>{if(null===E||null===T||E===T)return;const e=[...x],t=e[E];e.splice(E,1),e.splice(T,0,t),v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,e),A(null),P(null)})(),onClick:()=>{let e;e="Single Select"===v.getValues(`hovedkategorinavn.${c}.Kategorinavn.${u}.productOptions`)?x.map(((e,n)=>({...e,isSelected:n===t}))):x.map(((e,n)=>({...e,isSelected:n===t?!e.isSelected:e.isSelected}))),v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,e,{shouldValidate:!0})},children:(0,V.jsxs)("div",{className:"flex gap-4 p-3",children:[(null===e||void 0===e||null===(n=e.Hovedbilde)||void 0===n?void 0:n[0])&&(0,V.jsx)("div",{className:"w-[100px]",children:(0,V.jsx)("img",{src:`${null===e||void 0===e||null===(r=e.Hovedbilde)||void 0===r?void 0:r[0]}`,alt:"floor",className:"w-[100px] h-[76px] border border-[#EFF1F5] rounded-[4px]"})}),(0,V.jsxs)("div",{className:"w-full",children:[(0,V.jsx)("div",{className:"flex items-center gap-2 justify-between",children:(0,V.jsx)("h4",{className:"text-darkBlack text-sm",children:null===e||void 0===e?void 0:e.Produktnavn})}),(null===e||void 0===e?void 0:e.delieverBy)&&(0,V.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,V.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,V.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:null!==e&&void 0!==e&&e.IncludingOffer?(0,V.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,V.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:(null===e||void 0===e?void 0:e.pris)&&`kr ${null===e||void 0===e?void 0:e.pris}`})})})]})]})},t)}))})]})]})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white border-t border-gray2 p-4 left-0",style:{zIndex:99999},children:[(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(3)}}),(0,V.jsx)(Sk,{text:"Lukk og lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"})]})]})}),(0,V.jsxs)(yN,{isOpen:S,onClose:C,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==I?"Rediger underkategori":"Legg til ny underkategori",(0,V.jsx)(mk,{onClick:C,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(C$,{onClose:()=>{_(!1),$(null)},formData:v,activeTabData:c,setCategory:d,editIndex:I,defaultValue:null!==I&&N[I]||{}})]}),(0,V.jsxs)(yN,{isOpen:R,onClose:()=>{O(!R)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(mk,{onClick:C,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(T$,{onClose:()=>O(!1),onSubmit:e=>{const t=v.getValues(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`)||[];v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,[...t,...e.produkter])}})]}),(0,V.jsxs)(yN,{isOpen:F,onClose:U,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Informasjon om ",null===L||void 0===L?void 0:L.Produktnavn,(0,V.jsx)(mk,{onClick:U,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(P$,{editData:L})]}),(0,V.jsxs)(yN,{isOpen:K,onClose:()=>{q(!1),H(null)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-2xl flex items-center gap-2 justify-between p-6",children:["Rediger produkt",(0,V.jsx)(mk,{onClick:()=>{q(!1),H(null)},className:"text-primary cursor-pointer"})]}),null!==z&&(0,V.jsx)(T$,{onClose:()=>{q(!1),H(null)},editData:v.watch(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter.${z}`),onSubmit:e=>{var t;const n=[...v.getValues(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`)||[]];n[z]=null===(t=e.produkter)||void 0===t?void 0:t[0],v.setValue(`hovedkategorinavn.${c}.Kategorinavn.${u}.produkter`,n),q(!1),H(null)}})]})]})},J$=t=>{var n;let{setActiveTab:r}=t;const i=qn(),[a,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(null),[p,f]=(0,e.useState)(null),m=zn(),g=m.pathname.split("/"),v=g.length>2?g[2]:null,[x,b]=(0,e.useState)(!0),y=()=>{o?(l(!1),f(null)):l(!0)},w=e=>{e.preventDefault()},[k,S]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);S(e.get("pdf_id"))}),[]);const[_,j]=(0,e.useState)(null);(0,e.useEffect)((()=>{if(!v||!k)return;(async()=>{const e=await ak(v);if(!e)return console.error("No data found for ID:",v),void b(!1);const t={Himlling:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Mdf panel",isSelected:!1},{Produktnavn:"Takplate 60x120",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Vegger:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"5 bords kostmald mdf plate",isSelected:!1},{Produktnavn:"Ubehandlet sponplate",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Gulv:[{Produktnavn:"Lokalleveranse",isSelected:!0},{Produktnavn:"Eikeparkett 3 stavs",isSelected:!1},{Produktnavn:"Eikeparkett 1 stavs",isSelected:!1},{Produktnavn:"Laminat 1 stavs",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Lister:[{Produktnavn:"I henhold til leveransebeskrivelse",isSelected:!0},{Produktnavn:"Annen signatur",isSelected:!1},{Produktnavn:"Uten lister for listefri l\xf8sning",isSelected:!1},{Produktnavn:"Eget valg",isSelected:!1}],Kommentar:[]},n=((null===e||void 0===e?void 0:e.Plantegninger)||[]).map((e=>{if(!Array.isArray(e.rooms))return e;const n=e.rooms.map((e=>{if(!Array.isArray(e.Kategorinavn))return{...e,Kategorinavn:Object.entries(t).map((e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}}))};const n=e.Kategorinavn.map((e=>e.navn)),r=Object.entries(t).filter((e=>{let[t]=e;return!n.includes(t)})).map((e=>{let[t,n]=e;return{navn:t,productOptions:"Kommentar"===t?"Text":"Multi Select",produkter:n}}));return{...e,Kategorinavn:[...e.Kategorinavn,...r]}}));return{...e,rooms:n}})),r=n.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(k)));j(r),d(null===r||void 0===r?void 0:r.rooms),b(!1);const i=Qf(tk,"room_configurator",v);await tg(i,{Plantegninger:n})})()}),[v,k]);const[C,N]=(0,e.useState)(!1);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple px-8 py-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Romkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her laster du opp plantegninger som bruker AI til \xe5 trekke ut alle rommene, du kan s\xe5 konfigurere hvert enkelt rom."})]}),(0,V.jsxs)("div",{className:"py-4 px-6",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-6",children:[(0,V.jsx)("div",{onClick:()=>{r(2);const e=new URLSearchParams(m.search);i(`${m.pathname}?${e.toString()}`,{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:null===_||void 0===_?void 0:_.title}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),null!==a&&(0,V.jsx)("img",{src:null===_||void 0===_?void 0:_.image,alt:"floor",className:"w-[120px] h-[120px] rounded-lg cursor-pointer",onClick:()=>N(!0)})]})]}),(0,V.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,V.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 h-[690px]",children:[(0,V.jsxs)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:[(0,V.jsx)("span",{className:"truncate",children:"Romoversikt"}),(0,V.jsxs)("div",{className:"flex items-center text-purple gap-2 cursor-pointer",onClick:()=>l(!0),children:[(0,V.jsx)(jk,{}),(0,V.jsx)("span",{className:"text-sm font-medium whitespace-nowrap",children:"Nytt rom"})]})]}),(0,V.jsx)("div",{className:"flex flex-col p-4 pb-0 rounded-lg gap-3 h-full max-h-[calc(100%-90px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:c&&(null===c||void 0===c?void 0:c.length)>0?c.map(((e,t)=>(0,V.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{h(e)})(t),onDragOver:w,onDrop:()=>(e=>{if(null===u||u===e)return;const t=[...c],n=t[u];t.splice(u,1),t.splice(e,0,n),d(t),h(null)})(t),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 "+(a===t?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>s(t),children:[(0,V.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold",children:[(0,V.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:t+1}),(0,V.jsx)("span",{className:"w-[135px] truncate",children:""!==(null===e||void 0===e?void 0:e.name_no)&&null!==e&&void 0!==e&&e.name_no?null===e||void 0===e?void 0:e.name_no:null===e||void 0===e?void 0:e.name})]}),(0,V.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,V.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),f({index:t,data:e}),l(!0)},children:(0,V.jsx)(_k,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),d((e=>e.filter(((e,n)=>n!==t)))),s(0)},className:"w-5 h-5",children:(0,V.jsx)("img",{src:wk,alt:"delete",className:"w-full h-full"})})]})]},t))):"No data found!"})]}),(0,V.jsx)("div",{className:"w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max p-3",children:null!==a?(0,V.jsx)(Q$,{setActiveTab:r,labelName:(null===(n=c[a])||void 0===n?void 0:n.name)||"",Category:c,activeTabData:a,setCategory:d}):(0,V.jsx)("img",{src:null===_||void 0===_?void 0:_.image,alt:"floor",className:"w-full h-full"})})]}),!a&&(0,V.jsx)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:(0,V.jsxs)("div",{className:"flex items-center gap-5",children:[(0,V.jsx)("div",{onClick:()=>{r(2)},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{s(0)}})]})}),o&&(0,V.jsx)(yk,{onClose:y,isOpen:!0,children:(0,V.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,V.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,V.jsx)(mN,{onClose:y,setCategory:d,editData:p,Category:c})]})}),x&&(0,V.jsx)(li,{}),C&&(0,V.jsx)(yk,{onClose:()=>N(!1),isOpen:!0,children:(0,V.jsxs)("div",{className:"relative bg-white rounded-[12px] p-4 w-full sm:w-[90vw] max-w-[800px]",children:[(0,V.jsx)("button",{onClick:()=>N(!1),className:"absolute top-3 right-3",children:(0,V.jsx)(mk,{className:"text-primary"})}),(0,V.jsx)("img",{src:null===_||void 0===_?void 0:_.image,alt:"Full view",className:"w-full h-auto rounded-lg"})]})})]})},eR=t=>{let{Next:n}=t;const[r,i]=(0,e.useState)(1);return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"mb-12",children:[1===r&&(0,V.jsx)(K$,{setActiveTab:i,Next:n}),2===r&&(0,V.jsx)(q$,{setActiveTab:i}),3===r&&(0,V.jsx)(J$,{setActiveTab:i})]})})},tR=t=>{var n;let{rooms:r}=t;const[i,a]=(0,e.useState)("");(0,e.useEffect)((()=>{var e;r&&r.length>0&&a(null===(e=r[0])||void 0===e?void 0:e.title)}),[r]);const s=r&&r.find((e=>e.title===i)),o=null===s||void 0===s||null===(n=s.rooms)||void 0===n?void 0:n.reduce(((e,t)=>{var n,r;return e+(null===t||void 0===t||null===(n=t.Kategorinavn)||void 0===n||null===(r=n.filter((e=>"Text"!==e.productOptions)))||void 0===r?void 0:r.reduce(((e,t)=>{var n,r;return e+(null===t||void 0===t||null===(n=t.produkter)||void 0===n||null===(r=n.filter((e=>null===e||void 0===e?void 0:e.isSelected)))||void 0===r?void 0:r.reduce(((e,t)=>{return e+((n=null===t||void 0===t?void 0:t.pris)&&parseFloat(n.replace(/\s/g,"").replace(",","."))||0);var n}),0))}),0))}),0),l=(c=o,new Intl.NumberFormat("nb-NO",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(c));var c;return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"px-6 py-8",children:[(0,V.jsx)("div",{className:"bg-gray3 border border-[#EFF1F5] rounded-lg p-2 flex items-center gap-2 mb-3.5",children:r&&r.map(((e,t)=>(0,V.jsx)("div",{className:"cursor-pointer w-max py-2 px-3 rounded-lg "+(i===(null===e||void 0===e?void 0:e.title)?"bg-white text-purple font-semibold":"text-black"),onClick:()=>a(null===e||void 0===e?void 0:e.title),style:{boxShadow:i===(null===e||void 0===e?void 0:e.title)?"0px 1px 2px 0px #1018280D":""},children:null===e||void 0===e?void 0:e.title},t)))}),(0,V.jsxs)("div",{className:"border border-[#DCDFEA] rounded-lg",children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl p-5 border-b border-[#DCDFEA]",children:["Her f\xf8lger oppsummering av ",i]}),(0,V.jsx)("div",{className:"p-5",children:s&&(0,V.jsxs)("div",{className:"flex gap-8",children:[(0,V.jsx)("div",{className:"w-[70%] flex flex-col gap-4",children:s.rooms&&s.rooms.length>0?s.rooms.map(((e,t)=>(0,V.jsxs)("div",{className:"flex flex-col gap-4 bg-gray3 p-4 rounded-lg",children:[(0,V.jsx)("div",{className:"text-black font-semibold text-lg",children:(null===e||void 0===e?void 0:e.name_no)||(null===e||void 0===e?void 0:e.name)}),null!==e&&void 0!==e&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn.filter((e=>"Text"!==e.productOptions)).map(((e,t,n)=>{var r;const i=t===n.length-1;return(0,V.jsxs)("div",{className:"flex flex-col gap-4",children:[(null===e||void 0===e?void 0:e.produkter)&&(null===e||void 0===e?void 0:e.produkter.length)>0&&(null===e||void 0===e||null===(r=e.produkter)||void 0===r?void 0:r.filter((e=>!0===(null===e||void 0===e?void 0:e.isSelected))).map(((t,n,r)=>{var i;const a=n===r.length-1;return(0,V.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-4",children:[null!==t&&void 0!==t&&t.Hovedbilde&&(null===t||void 0===t||null===(i=t.Hovedbilde)||void 0===i?void 0:i.length)>0?(0,V.jsx)("div",{className:"w-[50px] h-[50px]",children:(0,V.jsx)("img",{src:null===t||void 0===t?void 0:t.Hovedbilde[0],alt:"w-full h-full rounded-lg"})}):(0,V.jsx)("div",{className:"w-[50px] h-[50px] bg-gray2 rounded-lg"}),(0,V.jsxs)("div",{children:[(0,V.jsx)("h4",{className:"text-sm font-medium",children:null===e||void 0===e?void 0:e.navn}),(0,V.jsx)("h3",{className:"text-secondary",children:null===t||void 0===t?void 0:t.Produktnavn})]})]}),null!==t&&void 0!==t&&t.IncludingOffer?(0,V.jsx)("div",{className:"text-black font-semibold",children:"Standard"}):(0,V.jsx)("div",{className:"text-black font-semibold",children:null!==t&&void 0!==t&&t.pris?`kr ${null===t||void 0===t?void 0:t.pris}`:"-"})]}),(0,V.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,V.jsxs)("div",{className:"text-secondary text-sm",children:["Leveres av:"," ",(0,V.jsx)("span",{className:"text-black",children:"Boligpartner"})]}),(null===t||void 0===t?void 0:t.delieverBy)&&(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[(0,V.jsx)("div",{className:"border-l h-[14px] border-[#DCDFEA]"}),(0,V.jsxs)("div",{className:"text-secondary text-sm",children:["Assembled by:"," ",(0,V.jsx)("span",{className:"text-black",children:null===t||void 0===t?void 0:t.delieverBy})]})]})]})]}),!a&&(0,V.jsx)("div",{className:"border-b border-[#DCDFEA]"})]},n)}))),!i&&(0,V.jsx)("div",{className:"border-b border-[#DCDFEA]"})]},t)})):(0,V.jsx)("div",{className:"text-sm text-gray",children:"Ingen romoversikt funnet."})]},t))):"Ingen rom funnet."}),s.rooms&&s.rooms.length>0&&(0,V.jsxs)("div",{className:"w-[30%] p-4 bg-[#F5F3FF] h-max rounded-lg flex flex-col gap-3",children:[s.rooms.map(((e,t)=>(0,V.jsx)("div",{className:"flex flex-col gap-3",children:null!==e&&void 0!==e&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn.filter((e=>"Text"!==e.productOptions)).map(((e,t)=>{var n;return(0,V.jsx)("div",{className:"flex flex-col gap-3",children:(null===e||void 0===e?void 0:e.produkter)&&(null===e||void 0===e?void 0:e.produkter.length)>0&&(null===e||void 0===e||null===(n=e.produkter)||void 0===n?void 0:n.filter((e=>!0===(null===e||void 0===e?void 0:e.isSelected))).map(((e,t)=>(0,V.jsx)("div",{children:(0,V.jsxs)("div",{className:"flex items-center gap-1 justify-between",children:[(0,V.jsx)("h3",{className:"text-secondary",children:null===e||void 0===e?void 0:e.Produktnavn}),null!==e&&void 0!==e&&e.IncludingOffer?(0,V.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:"Standard"}):(0,V.jsx)("div",{className:"text-black font-semibold whitespace-nowrap",children:null!==e&&void 0!==e&&e.pris?`kr ${null===e||void 0===e?void 0:e.pris}`:"-"})]})},t))))},t)})):(0,V.jsx)("div",{className:"text-sm text-gray",children:"Ingen romoversikt funnet."})},t))),(0,V.jsx)("div",{className:"border-t border-[#DCDFEA]"}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsx)("p",{className:"text-secondary text-sm",children:"Total of Customisation"}),(0,V.jsx)("span",{className:"text-base font-medium text-black",children:`kr ${l}`})]}),(0,V.jsx)("div",{className:"border-t border-[#DCDFEA]"}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsx)("p",{className:"text-red text-sm",children:"House Model Price"}),(0,V.jsx)("span",{className:"text-base font-medium text-red",children:"5.210.000 NOK"})]}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsx)("p",{className:"text-red text-sm",children:"Total"}),(0,V.jsx)("span",{className:"text-base font-medium text-red",children:"5 357 850 kr"})]})]})]})})]})]})})},nR=()=>{const t=zn().pathname.split("/"),n=t.length>2?t[2]:null,[r,i]=(0,e.useState)(!0),[a,s]=(0,e.useState)([]);return(0,e.useEffect)((()=>{if(!n)return void i(!1);(async()=>{const e=await ak(n);e&&s(e),i(!1)})()}),[n]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple px-8 py-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Romkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her laster du opp plantegninger som bruker AI til \xe5 trekke ut alle rommene, du kan s\xe5 konfigurere hvert enkelt rom."})]}),(0,V.jsx)(tR,{rooms:null===a||void 0===a?void 0:a.Plantegninger}),r&&(0,V.jsx)(li,{})]})},rR=e=>{let{steps:t,className:n="",currentStep:r,setCurrentStep:i,invalidSteps:a,formRefs:s,setInvalidSteps:o}=e;const l=t[r-1];return(0,V.jsx)("div",{className:`${n}`,children:(0,V.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,V.jsx)("div",{className:"w-full lg:w-80 bg-[#F9F9FB] border border-[#EFF1F5] rounded-lg p-5 h-full max-h-[500px] overflow-y-auto overFlowAutoY sticky top-[90px]",children:(0,V.jsx)("div",{className:"space-y-6",children:t.map(((e,n)=>(0,V.jsxs)("div",{className:"relative",children:[n<t.length-1&&(0,V.jsx)("div",{className:"absolute left-3 z-30 w-0.5 h-16 border-l border-dashed border-[#B9C0D4]"}),(0,V.jsxs)("div",{onClick:()=>(async e=>{var t;const n=s.current[r];await(null===n||void 0===n||null===(t=n.validateForm)||void 0===t?void 0:t.call(n))?o(a.filter((e=>e!==r))):a.includes(r)||o([...a,r]),(e<r||e===r+1)&&(i(e),localStorage.setItem("currVerticalIndex",e.toString()))})(e.id),className:"flex items-start space-x-4 rounded-lg transition-all  relative z-40\n                  "+(e.id<r||e.id===r||e.id===r+1?"cursor-pointer":"cursor-default opacity-50"),children:[(0,V.jsx)("div",{className:`w-6 h-6 flex items-center text-xs rounded-full justify-center ${r===e.id?"bg-primary text-white":r>e.id?a.includes(e.id)?"bg-[#ECE9FE] text-darkBlack":"bg-[#099250]":"bg-[#ECE9FE] text-darkBlack"} `,children:r>e.id&&!a.includes(e.id)?(0,V.jsx)("img",{src:z$,alt:"Completed"}):e.id}),(0,V.jsx)("div",{className:"flex-1 min-w-0",children:(0,V.jsx)("h3",{className:"text-black text-sm "+(r===e.id?"font-semibold":"font-normal"),children:e.title})})]})]},e.id)))})}),(0,V.jsx)("div",{className:"flex-1",children:(0,V.jsx)("div",{children:null===l||void 0===l?void 0:l.content})})]})})},iR=pk("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),aR=pk("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),sR=pk("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),oR=VC.object({Standardlevering:VC.object({StandardLeveranse:VC.array(VC.string()).optional()}),MaskinmaltPanel:VC.object({StandardGrunnet:VC.array(VC.string()).optional(),Fargekode:VC.string().optional(),"mellomstr\xf8kMaskinbeisetFabrikk":VC.boolean().optional()}),ResterendeKledningMaskinbeiset:VC.boolean().optional(),Ultimalt:VC.boolean().optional(),"mellomstr\xf8k":VC.boolean().optional(),YtterveggGarasjeUisolertBod:VC.boolean().optional(),AsfaltVindtettBodGarasjeUtlekting:VC.boolean().optional(),Diverse:VC.string().optional()});function lR(e){if(Array.isArray(e))return e.map(lR).filter((e=>void 0!==e&&null!==e));if("object"===typeof e&&null!==e){const t={};for(const[n,r]of Object.entries(e)){const e=lR(r);void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||(t[n]=e)}return t}return e}const cR=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(oR)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Boliger: 198 + 48 mm bindingsverk.","Hytte: 148 + 48 mm bindingsverk."],u=["norwegian wood","vindskier, gesims, hj\xf8rnekasser osv."];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Yttervegger&&Object.entries(null===a||void 0===a?void 0:a.Yttervegger).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d,u]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,Yttervegger:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(6))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Yttervegger i tre, pkt. 4 i leveransebeskrivelse"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Standardlevering"}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)(aN,{control:c.control,name:"Standardlevering.StandardLeveranse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Standard leveranse iht leveransebeskrivelse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:d.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Standardlevering.StandardLeveranse",[...i,e]):c.setValue("Standardlevering.StandardLeveranse",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Maskinmalt panel"}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)(aN,{control:c.control,name:"MaskinmaltPanel.StandardGrunnet",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Standard grunnet utvendig panel maskinbeiset med 1 str\xf8k grunning (hovedkledningen)\u2026"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n      ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("MaskinmaltPanel.StandardGrunnet",[...i,e]):c.setValue("MaskinmaltPanel.StandardGrunnet",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)("p",{className:"text-xs text-darkBlack mt-2 font-medium",children:"Italicized note:\u201cImpregnert virke leveres ikke grunnet eller med mellomstr\xf8k.\u201d"}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"ResterendeKledningMaskinbeiset",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"ResterendeKledningMaskinbeiset",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Resterende kledning maskinbeiset"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"MaskinmaltPanel.Fargekode",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Fargekode"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv fargekode",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"MaskinmaltPanel.mellomstr\xf8kMaskinbeisetFabrikk",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"MaskinmaltPanel.mellomstr\xf8kMaskinbeisetFabrikk",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"1 mellomstr\xf8k (maskinbeiset fra fabrikk)"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Ultimalt"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Ultimalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Ultimalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ultimalt (sopp/r\xe5tebeh. + grunning + mellomstr\xf8k)"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Ultimalt Proff 10"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"YtterveggGarasjeUisolertBod",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"YtterveggGarasjeUisolertBod",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Yttervegg i garasje og uisolert bod. Kun maskinbeiset med grunning."]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"mellomstr\xf8k",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"mellomstr\xf8k",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"1 mellomstr\xf8k (maskinbeiset fra fabrikk)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"AsfaltVindtettBodGarasjeUtlekting",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"AsfaltVindtettBodGarasjeUtlekting",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Asfalt vindtett frittst\xe5ende bod/garasje inkl. utlekting"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Diverse"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Diverse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Diverse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Diverse",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(4))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),dR=VC.object({Kundenr:VC.number({required_error:"Kundenr er p\xe5krevd."}),Tiltakshaver:VC.string({required_error:"Tiltakshaver er p\xe5krevd."}),Byggeadresse:VC.string({required_error:"Byggeadresse er p\xe5krevd."}),Postnr:VC.string({required_error:"Postnr er p\xe5krevd."}),Poststed:VC.string({required_error:"Poststed er p\xe5krevd."}),Kommune:VC.number({required_error:"Kommune er p\xe5krevd."}),TelefonMobile:VC.string().refine((e=>{const t=p$(e),n=null!==t&&void 0!==t&&t.countryCallingCode?`+${t.countryCallingCode}`:"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=lk[n];return!!i&&i(r)}),{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}),TelefonPrivate:VC.string().refine((e=>{const t=p$(e),n=null!==t&&void 0!==t&&t.countryCallingCode?`+${t.countryCallingCode}`:"",r=(null===t||void 0===t?void 0:t.nationalNumber)||"";if("+47"!==n)return!1;const i=lk[n];return!!i&&i(r)}),{message:"Vennligst skriv inn et gyldig telefonnummer for det valgte landet."}).optional(),Hustype:VC.string({required_error:"Hustype er p\xe5krevd."}),Finansiering:VC.string({required_error:"Finansiering er p\xe5krevd."}),Leveransebeskrivelse:VC.string({required_error:"Leveransebeskrivelse er p\xe5krevd."}),Energiberegning:VC.string().optional(),Situasjonsplan:VC.string({required_error:"Situasjonsplan dat er p\xe5krevd."}),TegnNummer:VC.number({required_error:"Tegn.nummer er p\xe5krevd."}),GjeldendeDato:VC.string({required_error:"Gjeldende 1:50 tegning datert er p\xe5krevd."}),SignertDato:VC.string({required_error:"Signert 1:100 tegning datert er p\xe5krevd."}),Referansekalkyledato:VC.string({required_error:"Referanse / kalkyledato er p\xe5krevd."})}),uR=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,Prev:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(dR)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=c.watch("Hustype"),u=["Privat","Husbank"],[h,p]=(0,e.useState)(""),[f,m]=(0,e.useState)(null),g=(0,e.useRef)(null),v=async e=>{const t=e.target.value;if(p(t),t)try{const e=await m$.getAddress(t);if(!e.ok)throw new Error(`Response status: ${e.status}`);const n=await e.json();m(n.adresser)}catch(n){console.error(null===n||void 0===n?void 0:n.message)}};return(0,e.useEffect)((()=>{a&&(a&&null!==a&&void 0!==a&&a.Prosjektdetaljer?Object.entries(null===a||void 0===a?void 0:a.Prosjektdetaljer).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)})):c.setValue("Kundenr",Number(null===a||void 0===a?void 0:a.Kundenummer)))}),[a,u]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,Prosjektdetaljer:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(2))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Prosjektdetaljer"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kundenr",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kundenr*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kundenr",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Tiltakshaver",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tiltakshaver*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Tiltakshaver",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Byggeadresse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Byggeadresse*"}),(0,V.jsx)(dN,{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(pN,{placeholder:"Skriv inn Byggeadresse",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",ref:g,onChange:v,value:h,autoComplete:"off"}),h&&f&&f.length>0&&(0,V.jsx)("div",{className:"absolute top-[45px] left-0 bg-white rounded-[8px] w-full h-auto max-h-[300px] overflow-y-auto overFlowYAuto",style:{zIndex:999,boxShadow:"rgba(16, 24, 40, 0.09) 0px 4px 6px -2px, rgba(16, 24, 40, 0.09) 0px 12px 16px -4px"},children:f&&(null===f||void 0===f?void 0:f.map(((e,t)=>(0,V.jsxs)("div",{className:"p-2 flex items-center gap-2 hover:bg-lightPurple cursor-pointer",onClick:()=>{c.setValue("Byggeadresse",`${e.adressetekst} ${e.postnummer} ${e.poststed}`),m(null),p(`${e.adressetekst} ${e.postnummer} ${e.poststed}`),c.setValue("Postnr",e.postnummer),c.setValue("Kommune",Number(e.kommunenummer)),c.setValue("Poststed",e.poststed)},children:[(0,V.jsx)("img",{src:g$,alt:"location",className:"w-6 h-6 md:w-7 md:h-7"}),(0,V.jsx)("div",{children:(0,V.jsx)("span",{className:"text-black font-medium text-sm",children:`${e.adressetekst}  ${e.postnummer} ${e.poststed}`||"N/A"})})]},t))))})]})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Postnr",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Postnr*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Postnr",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",disable:!0})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Poststed",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Poststed*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Poststed",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",disable:!0})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kommune",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kommune*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kommune",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||""),disable:!0})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TelefonMobile",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tlf. Mobil*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(f$,{placeholder:"Skriv inn Tlf. Mobil",...t,className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"tel"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TelefonPrivate",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tlf. privat"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(f$,{placeholder:"Skriv inn Tlf. privat",...t,className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"tel"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)("p",{className:(c.formState.errors.Hustype?"text-red":"text-black")+" mb-[6px] text-sm",children:"Hustype*"}),(0,V.jsx)("div",{className:"flex flex-wrap gap-2 lg:gap-4 items-center",children:[{label:"Bolig",icon:(0,V.jsx)(iR,{className:""+("bolig"===d?"text-[#444CE7]":"text-[#5D6B98]")}),value:"bolig"},{label:"Hytte",icon:(0,V.jsx)(aR,{className:""+("hytte"===d?"text-[#444CE7]":"text-[#5D6B98]")}),value:"hytte"},{label:"Prosjekt",icon:(0,V.jsx)(sR,{className:""+("prosjekt"===d?"text-[#444CE7]":"text-[#5D6B98]")}),value:"prosjekt"}].map(((e,t)=>(0,V.jsxs)("div",{onClick:()=>{c.setValue("Hustype",e.value),c.clearErrors("Hustype")},className:"flex items-center gap-2 border-2 rounded-lg py-2 px-3 cursor-pointer "+(d===e.value?"border-[#444CE7]":"border-[#EFF1F5]"),children:[e.icon,(0,V.jsx)("div",{className:"text-darkBlack text-sm text-center",children:e.label})]},t)))}),c.formState.errors.Hustype&&(0,V.jsx)("p",{className:"text-red text-sm mt-1",children:c.formState.errors.Hustype.message})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Finansiering",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Finansiering*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"radio",value:e,onChange:e=>{c.setValue("Finansiering",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Leveransebeskrivelse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Leveransebeskrivelse (Dato)*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Leveransebeskrivelse (Dato)",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Energiberegning",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Energiberegning dat"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Energiberegning dat",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Situasjonsplan",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Situasjonsplan dat*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Situasjonsplan dat",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TegnNummer",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tegn.nummer*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn  Tegn.nummer",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"GjeldendeDato",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Gjeldende 1:50 tegning datert*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Gjeldende 1:50 tegning datert",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"SignertDato",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Signert 1:100 tegning datert*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Signert 1:100 tegning datert",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Referansekalkyledato",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Referanse / kalkyledato*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Referanse / kalkyledato",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i();localStorage.setItem("currIndexBolig",(0).toString())},children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})}));function hR(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}function pR(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function fR(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const i=r?.[t]||n;return e.useMemo((()=>({[`__scope${t}`]:{...r,[t]:i}})),[r,i])}};return i.scopeName=t,[function(n,i){const a=e.createContext(i),s=r.length;r=[...r,i];const o=n=>{const{scope:r,children:i,...o}=n,l=r?.[t]?.[s]||a,c=e.useMemo((()=>o),Object.values(o));return(0,V.jsx)(l.Provider,{value:c,children:i})};return o.displayName=n+"Provider",[o,function(r,o){const l=o?.[t]?.[s]||a,c=e.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},mR(i,...n)]}function mR(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const a=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)[`__scope${i}`]}}),{});return e.useMemo((()=>({[`__scope${i.scopeName}`]:r})),[r])}};return a.scopeName=i.scopeName,a}var gR=e.createContext(void 0);function vR(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current?.(...t)}),[])}var xR,bR="dismissableLayer.update",yR="dismissableLayer.pointerDownOutside",wR="dismissableLayer.focusOutside",kR=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SR=e.forwardRef(((t,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=e.useContext(kR),[u,h]=e.useState(null),p=u?.ownerDocument??globalThis?.document,[,f]=e.useState({}),m=zC(n,(e=>h(e))),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),b=u?g.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,w=b>=x,k=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=vR(t),i=e.useRef(!1),a=e.useRef((()=>{}));return e.useEffect((()=>{const e=e=>{if(e.target&&!i.current){let t=function(){CR(yR,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",a.current),a.current=t,n.addEventListener("click",a.current,{once:!0})):t()}else n.removeEventListener("click",a.current);i.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",a.current)}}),[n,r]),{onPointerDownCapture:()=>i.current=!0}}((e=>{const t=e.target,n=[...d.branches].some((e=>e.contains(t)));w&&!n&&(a?.(e),o?.(e),e.defaultPrevented||l?.())}),p),S=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=vR(t),i=e.useRef(!1);return e.useEffect((()=>{const e=e=>{if(e.target&&!i.current){CR(wR,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}((e=>{const t=e.target;[...d.branches].some((e=>e.contains(t)))||(s?.(e),o?.(e),e.defaultPrevented||l?.())}),p);return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=vR(t);e.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})}),[r,n])}((e=>{b===d.layers.size-1&&(i?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),p),e.useEffect((()=>{if(u)return r&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(xR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),jR(),()=>{r&&1===d.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=xR)}}),[u,p,r,d]),e.useEffect((()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),jR())}),[u,d]),e.useEffect((()=>{const e=()=>f({});return document.addEventListener(bR,e),()=>document.removeEventListener(bR,e)}),[]),(0,V.jsx)(WC.div,{...c,ref:m,style:{pointerEvents:y?w?"auto":"none":void 0,...t.style},onFocusCapture:pR(t.onFocusCapture,S.onFocusCapture),onBlurCapture:pR(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pR(t.onPointerDownCapture,k.onPointerDownCapture)})}));SR.displayName="DismissableLayer";var _R=e.forwardRef(((t,n)=>{const r=e.useContext(kR),i=e.useRef(null),a=zC(n,i);return e.useEffect((()=>{const e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,V.jsx)(WC.div,{...t,ref:a})}));function jR(){const e=new CustomEvent(bR);document.dispatchEvent(e)}function CR(e,t,n,r){let{discrete:i}=r;const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),i?function(e,t){e&&si.flushSync((()=>e.dispatchEvent(t)))}(a,s):a.dispatchEvent(s)}_R.displayName="DismissableLayerBranch";var NR=0;function ER(){e.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AR()),document.body.insertAdjacentElement("beforeend",e[1]??AR()),NR++,()=>{1===NR&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),NR--}}),[])}function AR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var TR="focusScope.autoFocusOnMount",PR="focusScope.autoFocusOnUnmount",IR={bubbles:!1,cancelable:!0},$R=e.forwardRef(((t,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=t,[l,c]=e.useState(null),d=vR(a),u=vR(s),h=e.useRef(null),p=zC(n,(e=>c(e))),f=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect((()=>{if(i){let e=function(e){if(f.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:FR(h.current,{select:!0})},t=function(e){if(f.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||FR(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&FR(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[i,l,f.paused]),e.useEffect((()=>{if(l){MR.add(f);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(TR,IR);l.addEventListener(TR,d),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(FR(r,{select:t}),document.activeElement!==n)return}((e=RR(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&FR(l))}return()=>{l.removeEventListener(TR,d),setTimeout((()=>{const e=new CustomEvent(PR,IR);l.addEventListener(PR,u),l.dispatchEvent(e),e.defaultPrevented||FR(t??document.body,{select:!0}),l.removeEventListener(PR,u),MR.remove(f)}),0)}}var e}),[l,d,u,f]);const m=e.useCallback((e=>{if(!r&&!i)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,a]=function(e){const t=RR(e),n=OR(t,e),r=OR(t.reverse(),e);return[n,r]}(t);i&&a?e.shiftKey||n!==a?e.shiftKey&&n===i&&(e.preventDefault(),r&&FR(a,{select:!0})):(e.preventDefault(),r&&FR(i,{select:!0})):n===t&&e.preventDefault()}}),[r,i,f.paused]);return(0,V.jsx)(WC.div,{tabIndex:-1,...o,ref:p,onKeyDown:m})}));function RR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function OR(e,t){for(const n of e)if(!DR(n,{upTo:t}))return n}function DR(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function FR(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}$R.displayName="FocusScope";var MR=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=LR(e,t),e.unshift(t)},remove(t){e=LR(e,t),e[0]?.resume()}}}();function LR(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var VR=Boolean(globalThis?.document)?e.useLayoutEffect:()=>{},BR=t["useId".toString()]||(()=>{}),UR=0;function zR(t){const[n,r]=e.useState(BR());return VR((()=>{t||r((e=>e??String(UR++)))}),[t]),t||(n?`radix-${n}`:"")}const HR=["top","right","bottom","left"],KR=Math.min,qR=Math.max,GR=Math.round,WR=Math.floor,XR=e=>({x:e,y:e}),YR={left:"right",right:"left",bottom:"top",top:"bottom"},ZR={start:"end",end:"start"};function QR(e,t,n){return qR(e,KR(t,n))}function JR(e,t){return"function"===typeof e?e(t):e}function eO(e){return e.split("-")[0]}function tO(e){return e.split("-")[1]}function nO(e){return"x"===e?"y":"x"}function rO(e){return"y"===e?"height":"width"}function iO(e){return["top","bottom"].includes(eO(e))?"y":"x"}function aO(e){return nO(iO(e))}function sO(e){return e.replace(/start|end/g,(e=>ZR[e]))}function oO(e){return e.replace(/left|right|bottom|top/g,(e=>YR[e]))}function lO(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function cO(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function dO(e,t,n){let{reference:r,floating:i}=e;const a=iO(t),s=aO(t),o=rO(s),l=eO(t),c="y"===a,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-i.width,y:u};break;default:p={x:r.x,y:r.y}}switch(tO(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1)}return p}async function uO(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=JR(t,e),f=lO(p),m=o[h?"floating"===u?"reference":"floating":u],g=cO(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),b=await(null==a.isElement?void 0:a.isElement(x))&&await(null==a.getScale?void 0:a.getScale(x))||{x:1,y:1},y=cO(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-y.top+f.top)/b.y,bottom:(y.bottom-g.bottom+f.bottom)/b.y,left:(g.left-y.left+f.left)/b.x,right:(y.right-g.right+f.right)/b.x}}function hO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pO(e){return HR.some((t=>e[t]>=0))}function fO(){return"undefined"!==typeof window}function mO(e){return xO(e)?(e.nodeName||"").toLowerCase():"#document"}function gO(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function vO(e){var t;return null==(t=(xO(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function xO(e){return!!fO()&&(e instanceof Node||e instanceof gO(e).Node)}function bO(e){return!!fO()&&(e instanceof Element||e instanceof gO(e).Element)}function yO(e){return!!fO()&&(e instanceof HTMLElement||e instanceof gO(e).HTMLElement)}function wO(e){return!(!fO()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof gO(e).ShadowRoot)}function kO(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=EO(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function SO(e){return["table","td","th"].includes(mO(e))}function _O(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(z){return!1}}))}function jO(e){const t=CO(),n=bO(e)?EO(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function CO(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function NO(e){return["html","body","#document"].includes(mO(e))}function EO(e){return gO(e).getComputedStyle(e)}function AO(e){return bO(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function TO(e){if("html"===mO(e))return e;const t=e.assignedSlot||e.parentNode||wO(e)&&e.host||vO(e);return wO(t)?t.host:t}function PO(e){const t=TO(e);return NO(t)?e.ownerDocument?e.ownerDocument.body:e.body:yO(t)&&kO(t)?t:PO(t)}function IO(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=PO(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=gO(i);if(a){const e=$O(s);return t.concat(s,s.visualViewport||[],kO(i)?i:[],e&&n?IO(e):[])}return t.concat(i,IO(i,[],n))}function $O(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RO(e){const t=EO(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yO(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=GR(n)!==a||GR(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function OO(e){return bO(e)?e:e.contextElement}function DO(e){const t=OO(e);if(!yO(t))return XR(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=RO(t);let s=(a?GR(n.width):n.width)/r,o=(a?GR(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const FO=XR(0);function MO(e){const t=gO(e);return CO()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:FO}function LO(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=OO(e);let s=XR(1);t&&(r?bO(r)&&(s=DO(r)):s=DO(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==gO(e))&&t}(a,n,r)?MO(a):XR(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,u=i.height/s.y;if(a){const e=gO(a),t=r&&bO(r)?gO(r):r;let n=e,i=$O(n);for(;i&&r&&t!==n;){const e=DO(i),t=i.getBoundingClientRect(),r=EO(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=s,n=gO(i),i=$O(n)}}return cO({width:d,height:u,x:l,y:c})}function VO(e,t){const n=AO(e).scrollLeft;return t?t.left+n:LO(vO(e)).left+n}function BO(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:VO(e,r)),y:r.top+t.scrollTop}}function UO(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=gO(e),r=vO(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=CO();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=vO(e),n=AO(e),r=e.ownerDocument.body,i=qR(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=qR(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+VO(e);const o=-n.scrollTop;return"rtl"===EO(r).direction&&(s+=qR(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(vO(e));else if(bO(t))r=function(e,t){const n=LO(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=yO(e)?DO(e):XR(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=MO(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return cO(r)}function zO(e,t){const n=TO(e);return!(n===t||!bO(n)||NO(n))&&("fixed"===EO(n).position||zO(n,t))}function HO(e,t,n){const r=yO(t),i=vO(t),a="fixed"===n,s=LO(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=XR(0);if(r||!r&&!a)if(("body"!==mO(t)||kO(i))&&(o=AO(t)),r){const e=LO(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=VO(i));const c=!i||r||a?XR(0):BO(i,o);return{x:s.left+o.scrollLeft-l.x-c.x,y:s.top+o.scrollTop-l.y-c.y,width:s.width,height:s.height}}function KO(e){return"static"===EO(e).position}function qO(e,t){if(!yO(e)||"fixed"===EO(e).position)return null;if(t)return t(e);let n=e.offsetParent;return vO(e)===n&&(n=n.ownerDocument.body),n}function GO(e,t){const n=gO(e);if(_O(e))return n;if(!yO(e)){let t=TO(e);for(;t&&!NO(t);){if(bO(t)&&!KO(t))return t;t=TO(t)}return n}let r=qO(e,t);for(;r&&SO(r)&&KO(r);)r=qO(r,t);return r&&NO(r)&&KO(r)&&!jO(r)?n:r||function(e){let t=TO(e);for(;yO(t)&&!NO(t);){if(jO(t))return t;if(_O(t))return null;t=TO(t)}return null}(e)||n}const WO={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=vO(r),o=!!t&&_O(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=XR(1);const d=XR(0),u=yO(r);if((u||!u&&!a)&&(("body"!==mO(r)||kO(s))&&(l=AO(r)),yO(r))){const e=LO(r);c=DO(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!s||u||a?XR(0):BO(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:vO,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a="clippingAncestors"===n?_O(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=IO(e,[],!1).filter((e=>bO(e)&&"body"!==mO(e))),i=null;const a="fixed"===EO(e).position;let s=a?TO(e):e;for(;bO(s)&&!NO(s);){const t=EO(s),n=jO(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||kO(s)&&!n&&zO(e,s))?r=r.filter((e=>e!==s)):i=t,s=TO(s)}return t.set(e,r),r}(t,this._c):[].concat(n),s=[...a,r],o=s[0],l=s.reduce(((e,n)=>{const r=UO(t,n,i);return e.top=qR(r.top,e.top),e.right=KR(r.right,e.right),e.bottom=KR(r.bottom,e.bottom),e.left=qR(r.left,e.left),e}),UO(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:GO,getElementRects:async function(e){const t=this.getOffsetParent||GO,n=this.getDimensions,r=await n(e.floating);return{reference:HO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=RO(e);return{width:t,height:n}},getScale:DO,isElement:bO,isRTL:function(e){return"rtl"===EO(e).direction}};function XO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YO(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=OO(e),d=i||a?[...c?IO(c):[],...IO(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const u=c&&o?function(e,t){let n,r=null;const i=vO(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(o||t(),!h||!p)return;const f={rootMargin:-WR(u)+"px "+-WR(i.clientWidth-(d+h))+"px "+-WR(i.clientHeight-(u+p))+"px "+-WR(d)+"px",threshold:qR(0,KR(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return s();r?s(!1,r):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==r||XO(c,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(z){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),a}(c,n):null;let h,p=-1,f=null;s&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let m=l?LO(e):null;return l&&function t(){const r=LO(e);m&&!XO(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const ZO=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=eO(n),o=tO(n),l="y"===iO(n),c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=JR(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"===typeof f&&(p="end"===o?-1*f:f),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},QO=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=JR(e,t),c={x:n,y:r},d=await uO(t,l),u=iO(eO(i)),h=nO(u);let p=c[h],f=c[u];if(a){const e="y"===h?"bottom":"right";p=QR(p+d["y"===h?"top":"left"],p,p-d[e])}if(s){const e="y"===u?"bottom":"right";f=QR(f+d["y"===u?"top":"left"],f,f-d[e])}const m=o.fn({...t,[h]:p,[u]:f});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:a,[u]:s}}}}}},JO=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=JR(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=eO(i),x=iO(o),b=eO(o)===o,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(b||!m?[oO(o)]:function(e){const t=oO(e);return[sO(e),t,sO(t)]}(o)),k="none"!==f;!h&&k&&w.push(...function(e,t,n,r){const i=tO(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(eO(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(sO)))),a}(o,m,f,y));const S=[o,...w],_=await uO(t,g),j=[];let C=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&j.push(_[v]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=tO(e),i=aO(e),a=rO(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=oO(s)),[s,oO(s)]}(i,s,y);j.push(_[e[0]],_[e[1]])}if(C=[...C,{placement:i,overflows:j}],!j.every((e=>e<=0))){var N,E;const e=((null==(N=a.flip)?void 0:N.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(E=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:E.placement;if(!n)switch(p){case"bestFit":{var A;const e=null==(A=C.filter((e=>{if(k){const t=iO(e.placement);return t===x||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},eD=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:l=()=>{},...c}=JR(e,t),d=await uO(t,c),u=eO(i),h=tO(i),p="y"===iO(i),{width:f,height:m}=a.floating;let g,v;"top"===u||"bottom"===u?(g=u,v=h===(await(null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=u,g="end"===h?"top":"bottom");const x=m-d.top-d.bottom,b=f-d.left-d.right,y=KR(m-d[g],x),w=KR(f-d[v],b),k=!t.middlewareData.shift;let S=y,_=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=x),k&&!h){const e=qR(d.left,0),t=qR(d.right,0),n=qR(d.top,0),r=qR(d.bottom,0);p?_=f-2*(0!==e||0!==t?e+t:qR(d.left,d.right)):S=m-2*(0!==n||0!==r?n+r:qR(d.top,d.bottom))}await l({...t,availableWidth:_,availableHeight:S});const j=await s.getDimensions(o.floating);return f!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}},tD=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=JR(e,t);switch(r){case"referenceHidden":{const e=hO(await uO(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:pO(e)}}}case"escaped":{const e=hO(await uO(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:pO(e)}}}default:return{}}}}},nD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=JR(e,t)||{};if(null==c)return{};const u=lO(d),h={x:n,y:r},p=aO(i),f=rO(p),m=await s.getDimensions(c),g="y"===p,v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",y=a.reference[f]+a.reference[p]-h[p]-a.floating[f],w=h[p]-a.reference[p],k=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let S=k?k[b]:0;S&&await(null==s.isElement?void 0:s.isElement(k))||(S=o.floating[b]||a.floating[f]);const _=y/2-w/2,j=S/2-m[f]/2-1,C=KR(u[v],j),N=KR(u[x],j),E=C,A=S-m[f]-N,T=S/2-m[f]/2+_,P=QR(E,T,A),I=!l.arrow&&null!=tO(i)&&T!==P&&a.reference[f]/2-(T<E?C:N)-m[f]/2<0,$=I?T<E?T-E:T-A:0;return{[p]:h[p]+$,data:{[p]:P,centerOffset:T-P-$,...I&&{alignmentOffset:$}},reset:I}}}),rD=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=JR(e,t),d={x:n,y:r},u=iO(i),h=nO(u);let p=d[h],f=d[u];const m=JR(o,t),g="number"===typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+g.mainAxis,n=a.reference[h]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var v,x;const e="y"===h?"width":"height",t=["top","left"].includes(eO(i)),n=a.reference[u]-a.floating[e]+(t&&(null==(v=s.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),r=a.reference[u]+a.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[u])||0)-(t?g.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[h]:p,[u]:f}}}},iD=(e,t,n)=>{const r=new Map,i={platform:WO,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=dO(c,r,l),h=r,p={},f=0;for(let m=0;m<o.length;m++){const{name:n,fn:a}=o[m],{x:g,y:v,data:x,reset:b}=await a({x:d,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=v?v:u,p={...p,[n]:{...p[n],...x}},b&&f<=50&&(f++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:u}=dO(c,h,l))),m=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:a})};var aD="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function sD(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!sD(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!sD(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function oD(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lD(e,t){const n=oD(e);return Math.round(t*n)/n}function cD(t){const n=e.useRef(t);return aD((()=>{n.current=t})),n}const dD=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?nD({element:n.current,padding:r}).fn(t):{}:n?nD({element:n,padding:r}).fn(t):{};var i}}),uD=(e,t)=>({...ZO(e),options:[e,t]}),hD=(e,t)=>({...QO(e),options:[e,t]}),pD=(e,t)=>({...rD(e),options:[e,t]}),fD=(e,t)=>({...JO(e),options:[e,t]}),mD=(e,t)=>({...eD(e),options:[e,t]}),gD=(e,t)=>({...tD(e),options:[e,t]}),vD=(e,t)=>({...dD(e),options:[e,t]});var xD=e.forwardRef(((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return(0,V.jsx)(WC.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,V.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));xD.displayName="Arrow";var bD=xD;var yD="Popper",[wD,kD]=fR(yD),[SD,_D]=wD(yD),jD=t=>{const{__scopePopper:n,children:r}=t,[i,a]=e.useState(null);return(0,V.jsx)(SD,{scope:n,anchor:i,onAnchorChange:a,children:r})};jD.displayName=yD;var CD="PopperAnchor",ND=e.forwardRef(((t,n)=>{const{__scopePopper:r,virtualRef:i,...a}=t,s=_D(CD,r),o=e.useRef(null),l=zC(n,o);return e.useEffect((()=>{s.onAnchorChange(i?.current||o.current)})),i?null:(0,V.jsx)(WC.div,{...a,ref:l})}));ND.displayName=CD;var ED="PopperContent",[AD,TD]=wD(ED),PD=e.forwardRef(((t,n)=>{const{__scopePopper:r,side:i="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:m,...g}=t,v=_D(ED,r),[x,b]=e.useState(null),y=zC(n,(e=>b(e))),[w,k]=e.useState(null),S=function(t){const[n,r]=e.useState(void 0);return VR((()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const e=new ResizeObserver((e=>{if(!Array.isArray(e))return;if(!e.length)return;const n=e[0];let i,a;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})}));return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}r(void 0)}),[t]),n}(w),_=S?.width??0,j=S?.height??0,C=i+("center"!==s?"-"+s:""),N="number"===typeof u?u:{top:0,right:0,bottom:0,left:0,...u},E=Array.isArray(d)?d:[d],A=E.length>0,T={padding:N,boundary:E.filter(OD),altBoundary:A},{refs:P,floatingStyles:I,placement:$,isPositioned:R,middlewareData:O}=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=e.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[p,f]=e.useState(i);sD(p,i)||f(i);const[m,g]=e.useState(null),[v,x]=e.useState(null),b=e.useCallback((e=>{e!==S.current&&(S.current=e,g(e))}),[]),y=e.useCallback((e=>{e!==_.current&&(_.current=e,x(e))}),[]),w=s||m,k=o||v,S=e.useRef(null),_=e.useRef(null),j=e.useRef(u),C=null!=c,N=cD(c),E=cD(a),A=cD(d),T=e.useCallback((()=>{if(!S.current||!_.current)return;const e={placement:n,strategy:r,middleware:p};E.current&&(e.platform=E.current),iD(S.current,_.current,e).then((e=>{const t={...e,isPositioned:!1!==A.current};P.current&&!sD(j.current,t)&&(j.current=t,si.flushSync((()=>{h(t)})))}))}),[p,n,r,E,A]);aD((()=>{!1===d&&j.current.isPositioned&&(j.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[d]);const P=e.useRef(!1);aD((()=>(P.current=!0,()=>{P.current=!1})),[]),aD((()=>{if(w&&(S.current=w),k&&(_.current=k),w&&k){if(N.current)return N.current(w,k,T);T()}}),[w,k,T,N,C]);const I=e.useMemo((()=>({reference:S,floating:_,setReference:b,setFloating:y})),[b,y]),$=e.useMemo((()=>({reference:w,floating:k})),[w,k]),R=e.useMemo((()=>{const e={position:r,left:0,top:0};if(!$.floating)return e;const t=lD($.floating,u.x),n=lD($.floating,u.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...oD($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,l,$.floating,u.x,u.y]);return e.useMemo((()=>({...u,update:T,refs:I,elements:$,floatingStyles:R})),[u,T,I,$,R])}({strategy:"fixed",placement:C,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YO(...t,{animationFrame:"always"===f})},elements:{reference:v.anchor},middleware:[uD({mainAxis:a+j,alignmentAxis:o}),c&&hD({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?pD():void 0,...T}),c&&fD({...T}),mD({...T,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:a,height:s}=n.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${i}px`),o.setProperty("--radix-popper-anchor-width",`${a}px`),o.setProperty("--radix-popper-anchor-height",`${s}px`)}}),w&&vD({element:w,padding:l}),DD({arrowWidth:_,arrowHeight:j}),p&&gD({strategy:"referenceHidden",...T})]}),[D,F]=FD($),M=vR(m);VR((()=>{R&&M?.()}),[R,M]);const L=O.arrow?.x,B=O.arrow?.y,U=0!==O.arrow?.centerOffset,[z,H]=e.useState();return VR((()=>{x&&H(window.getComputedStyle(x).zIndex)}),[x]),(0,V.jsx)("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:R?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,V.jsx)(AD,{scope:r,placedSide:D,onArrowChange:k,arrowX:L,arrowY:B,shouldHideArrow:U,children:(0,V.jsx)(WC.div,{"data-side":D,"data-align":F,...g,ref:y,style:{...g.style,animation:R?void 0:"none"}})})})}));PD.displayName=ED;var ID="PopperArrow",$D={top:"bottom",right:"left",bottom:"top",left:"right"},RD=e.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,i=TD(ID,n),a=$D[i.placedSide];return(0,V.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,V.jsx)(bD,{...r,ref:t,style:{...r.style,display:"block"}})})}));function OD(e){return null!==e}RD.displayName=ID;var DD=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=0!==i.arrow?.centerOffset,s=a?0:e.arrowWidth,o=a?0:e.arrowHeight,[l,c]=FD(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+o/2;let p="",f="";return"bottom"===l?(p=a?d:`${u}px`,f=-o+"px"):"top"===l?(p=a?d:`${u}px`,f=`${r.floating.height+o}px`):"right"===l?(p=-o+"px",f=a?d:`${h}px`):"left"===l&&(p=`${r.floating.width+o}px`,f=a?d:`${h}px`),{data:{x:p,y:f}}}});function FD(e){const[t,n="center"]=e.split("-");return[t,n]}var MD=jD,LD=ND,VD=PD,BD=RD,UD=e.forwardRef(((t,n)=>{const{container:r,...i}=t,[a,s]=e.useState(!1);VR((()=>s(!0)),[]);const o=r||a&&globalThis?.document?.body;return o?si.createPortal((0,V.jsx)(WC.div,{...i,ref:n}),o):null}));UD.displayName="Portal";function zD(t){let{prop:n,defaultProp:r,onChange:i=()=>{}}=t;const[a,s]=function(t){let{defaultProp:n,onChange:r}=t;const i=e.useState(n),[a]=i,s=e.useRef(a),o=vR(r);return e.useEffect((()=>{s.current!==a&&(o(a),s.current=a)}),[a,s,o]),i}({defaultProp:r,onChange:i}),o=void 0!==n,l=o?n:a,c=vR(i);return[l,e.useCallback((e=>{if(o){const t="function"===typeof e?e(n):e;t!==n&&c(t)}else s(e)}),[o,n,s,c])]}var HD=e.forwardRef(((e,t)=>(0,V.jsx)(WC.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));HD.displayName="VisuallyHidden";var KD=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},qD=new WeakMap,GD=new WeakMap,WD={},XD=0,YD=function(e){return e&&(e.host||YD(e.parentNode))},ZD=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=YD(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);WD[n]||(WD[n]=new WeakMap);var a=WD[n],s=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(qD.get(e)||0)+1,c=(a.get(e)||0)+1;qD.set(e,l),a.set(e,c),s.push(e),1===l&&i&&GD.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(z){console.error("aria-hidden: cannot operate on ",e,z)}}))};return d(t),o.clear(),XD++,function(){s.forEach((function(e){var t=qD.get(e)-1,i=a.get(e)-1;qD.set(e,t),a.set(e,i),t||(GD.has(e)||e.removeAttribute(r),GD.delete(e)),i||e.removeAttribute(n)})),--XD||(qD=new WeakMap,qD=new WeakMap,GD=new WeakMap,WD={})}},QD=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||KD(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ZD(r,i,n,"aria-hidden")):function(){return null}},JD="right-scroll-bar-position",eF="width-before-scroll-bar";function tF(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var nF="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,rF=new WeakMap;function iF(t,n){var r=function(t,n){var r=(0,e.useState)((function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(e){return t.forEach((function(t){return tF(t,e)}))}));return nF((function(){var e=rF.get(r);if(e){var n=new Set(e),i=new Set(t),a=r.current;n.forEach((function(e){i.has(e)||tF(e,null)})),i.forEach((function(e){n.has(e)||tF(e,a)}))}rF.set(r,t)}),[t]),r}function aF(e){return e}function sF(e,t){void 0===t&&(t=aF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}};return i}var oF=function(e){void 0===e&&(e={});var t=sF(null);return t.options=hv({async:!0,ssr:!1},e),t}(),lF=function(){},cF=e.forwardRef((function(t,n){var r=e.useRef(null),i=e.useState({onScrollCapture:lF,onWheelCapture:lF,onTouchMoveCapture:lF}),a=i[0],s=i[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,f=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,x=void 0===v?"div":v,b=t.gapMode,y=pv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,k=iF([r,n]),S=hv(hv({},y),a);return e.createElement(e.Fragment,null,u&&e.createElement(w,{sideCar:oF,removeScrollBar:d,shards:h,noIsolation:f,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?e.cloneElement(e.Children.only(l),hv(hv({},S),{ref:k})):e.createElement(x,hv({},S,{className:c,ref:k}),l))}));cF.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},cF.classNames={fullWidth:eF,zeroRight:JD};var dF,uF=function(t){var n=t.sideCar,r=pv(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return e.createElement(i,hv({},r))};uF.isSideCarExport=!0;function hF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dF||__webpack_require__.nc;return t&&e.setAttribute("nonce",t),e}var pF=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=hF())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fF=function(){var t=function(){var t=pF();return function(n,r){e.useEffect((function(){return t.add(n),function(){t.remove()}}),[n&&r])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},mF={left:0,top:0,right:0,gap:0},gF=function(e){return parseInt(e||"",10)||0},vF=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return mF;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[gF(n),gF(r),gF(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},xF=fF(),bF="data-scroll-locked",yF=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(bF,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(JD," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(eF," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(JD," .").concat(JD," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(eF," .").concat(eF," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(bF,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},wF=function(){var e=parseInt(document.body.getAttribute(bF)||"0",10);return isFinite(e)?e:0},kF=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,a=void 0===i?"margin":i;e.useEffect((function(){return document.body.setAttribute(bF,(wF()+1).toString()),function(){var e=wF()-1;e<=0?document.body.removeAttribute(bF):document.body.setAttribute(bF,e.toString())}}),[]);var s=e.useMemo((function(){return vF(a)}),[a]);return e.createElement(xF,{styles:yF(s,!n,a,r?"":"!important")})},SF=!1;if("undefined"!==typeof window)try{var _F=Object.defineProperty({},"passive",{get:function(){return SF=!0,!0}});window.addEventListener("test",_F,_F),window.removeEventListener("test",_F,_F)}catch(UB){SF=!1}var jF=!!SF&&{passive:!1},CF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},NF=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),EF(e,r)){var i=AF(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EF=function(e,t){return"v"===e?function(e){return CF(e,"overflowY")}(t):function(e){return CF(e,"overflowX")}(t)},AF=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},TF=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},PF=function(e){return[e.deltaX,e.deltaY]},IF=function(e){return e&&"current"in e?e.current:e},$F=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},RF=0,OF=[];function DF(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const FF=(MF=function(t){var n=e.useRef([]),r=e.useRef([0,0]),i=e.useRef(),a=e.useState(RF++)[0],s=e.useState(fF)[0],o=e.useRef(t);e.useEffect((function(){o.current=t}),[t]),e.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var e=fv([t.lockRef.current],(t.shards||[]).map(IF),!0).filter(Boolean);return e.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),e.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[t.inert,t.lockRef.current,t.shards]);var l=e.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var n,a=TF(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=NF(u,d);if(!h)return!0;if(h?n=u:(n="v"===u?"h":"v",h=NF(u,d)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var p=i.current||n;return function(e,t,n,r,i){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=a*r,o=n.target,l=t.contains(o),c=!1,d=s>0,u=0,h=0;do{var p=AF(e,o),f=p[0],m=p[1]-p[2]-a*f;(f||m)&&EF(e,o)&&(u+=m,h+=f),o=o instanceof ShadowRoot?o.host:o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(i&&Math.abs(u)<1||!i&&s>u)||!d&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=e.useCallback((function(e){var t=e;if(OF.length&&OF[OF.length-1]===s){var r="deltaY"in t?PF(t):TF(t),i=n.current.filter((function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)t.cancelable&&t.preventDefault();else if(!i){var a=(o.current.shards||[]).map(IF).filter(Boolean).filter((function(e){return e.contains(t.target)}));(a.length>0?l(t,a[0]):!o.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),d=e.useCallback((function(e,t,r,i){var a={name:e,delta:t,target:r,should:i,shadowParent:DF(r)};n.current.push(a),setTimeout((function(){n.current=n.current.filter((function(e){return e!==a}))}),1)}),[]),u=e.useCallback((function(e){r.current=TF(e),i.current=void 0}),[]),h=e.useCallback((function(e){d(e.type,PF(e),e.target,l(e,t.lockRef.current))}),[]),p=e.useCallback((function(e){d(e.type,TF(e),e.target,l(e,t.lockRef.current))}),[]);e.useEffect((function(){return OF.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,jF),document.addEventListener("touchmove",c,jF),document.addEventListener("touchstart",u,jF),function(){OF=OF.filter((function(e){return e!==s})),document.removeEventListener("wheel",c,jF),document.removeEventListener("touchmove",c,jF),document.removeEventListener("touchstart",u,jF)}}),[]);var f=t.removeScrollBar,m=t.inert;return e.createElement(e.Fragment,null,m?e.createElement(s,{styles:$F(a)}):null,f?e.createElement(kF,{gapMode:t.gapMode}):null)},oF.useMedium(MF),uF);var MF,LF=e.forwardRef((function(t,n){return e.createElement(cF,hv({},t,{ref:n,sideCar:FF}))}));LF.classNames=cF.classNames;const VF=LF;var BF=[" ","Enter","ArrowUp","ArrowDown"],UF=[" ","Enter"],zF="Select",[HF,KF,qF]=function(t){const n=t+"CollectionProvider",[r,i]=fR(n),[a,s]=r(n,{collectionRef:{current:null},itemMap:new Map}),o=t=>{const{scope:n,children:r}=t,i=e.useRef(null),s=e.useRef(new Map).current;return(0,V.jsx)(a,{scope:n,itemMap:s,collectionRef:i,children:r})};o.displayName=n;const l=t+"CollectionSlot",c=e.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=zC(t,s(l,n).collectionRef);return(0,V.jsx)(HC,{ref:i,children:r})}));c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=e.forwardRef(((t,n)=>{const{scope:r,children:i,...a}=t,o=e.useRef(null),l=zC(n,o),c=s(d,r);return e.useEffect((()=>(c.itemMap.set(o,{ref:o,...a}),()=>{c.itemMap.delete(o)}))),(0,V.jsx)(HC,{[u]:"",ref:l,children:i})}));return h.displayName=d,[{Provider:o,Slot:c,ItemSlot:h},function(n){const r=s(t+"CollectionConsumer",n),i=e.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${u}]`)),n=Array.from(r.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return n}),[r.collectionRef,r.itemMap]);return i},i]}(zF),[GF,WF]=fR(zF,[qF,kD]),XF=kD(),[YF,ZF]=GF(zF),[QF,JF]=GF(zF),eM=t=>{const{__scopeSelect:n,children:r,open:i,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:p,required:f,form:m}=t,g=XF(n),[v,x]=e.useState(null),[b,y]=e.useState(null),[w,k]=e.useState(!1),S=function(t){const n=e.useContext(gR);return t||n||"ltr"}(d),[_=!1,j]=zD({prop:i,defaultProp:a,onChange:s}),[C,N]=zD({prop:o,defaultProp:l,onChange:c}),E=e.useRef(null),A=!v||(m||!!v.closest("form")),[T,P]=e.useState(new Set),I=Array.from(T).map((e=>e.props.value)).join(";");return(0,V.jsx)(MD,{...g,children:(0,V.jsxs)(YF,{required:f,scope:n,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:zR(),value:C,onValueChange:N,open:_,onOpenChange:j,dir:S,triggerPointerDownPosRef:E,disabled:p,children:[(0,V.jsx)(HF.Provider,{scope:n,children:(0,V.jsx)(QF,{scope:t.__scopeSelect,onNativeOptionAdd:e.useCallback((e=>{P((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:e.useCallback((e=>{P((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:r})}),A?(0,V.jsxs)(UM,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:e=>N(e.target.value),disabled:p,form:m,children:[void 0===C?(0,V.jsx)("option",{value:""}):null,Array.from(T)]},I):null]})})};eM.displayName=zF;var tM="SelectTrigger",nM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,disabled:i=!1,...a}=t,s=XF(r),o=ZF(tM,r),l=o.disabled||i,c=zC(n,o.onTriggerChange),d=KF(r),u=e.useRef("touch"),[h,p,f]=zM((e=>{const t=d().filter((e=>!e.disabled)),n=t.find((e=>e.value===o.value)),r=HM(t,e,n);void 0!==r&&o.onValueChange(r.value)})),m=e=>{l||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,V.jsx)(LD,{asChild:!0,...s,children:(0,V.jsx)(WC.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":BM(o.value)?"":void 0,...a,ref:c,onClick:pR(a.onClick,(e=>{e.currentTarget.focus(),"mouse"!==u.current&&m(e)})),onPointerDown:pR(a.onPointerDown,(e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(m(e),e.preventDefault())})),onKeyDown:pR(a.onKeyDown,(e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),t&&" "===e.key||BF.includes(e.key)&&(m(),e.preventDefault())}))})})}));nM.displayName=tM;var rM="SelectValue",iM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=e,l=ZF(rM,n),{onValueNodeHasChildrenChange:c}=l,d=void 0!==a,u=zC(t,l.onValueNodeChange);return VR((()=>{c(d)}),[c,d]),(0,V.jsx)(WC.span,{...o,ref:u,style:{pointerEvents:"none"},children:BM(l.value)?(0,V.jsx)(V.Fragment,{children:s}):a})}));iM.displayName=rM;var aM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return(0,V.jsx)(WC.span,{"aria-hidden":!0,...i,ref:t,children:r||"\u25bc"})}));aM.displayName="SelectIcon";var sM=e=>(0,V.jsx)(UD,{asChild:!0,...e});sM.displayName="SelectPortal";var oM="SelectContent",lM=e.forwardRef(((t,n)=>{const r=ZF(oM,t.__scopeSelect),[i,a]=e.useState();if(VR((()=>{a(new DocumentFragment)}),[]),!r.open){const e=i;return e?si.createPortal((0,V.jsx)(dM,{scope:t.__scopeSelect,children:(0,V.jsx)(HF.Slot,{scope:t.__scopeSelect,children:(0,V.jsx)("div",{children:t.children})})}),e):null}return(0,V.jsx)(hM,{...t,ref:n})}));lM.displayName=oM;var cM=10,[dM,uM]=GF(oM),hM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:v,...x}=t,b=ZF(oM,r),[y,w]=e.useState(null),[k,S]=e.useState(null),_=zC(n,(e=>w(e))),[j,C]=e.useState(null),[N,E]=e.useState(null),A=KF(r),[T,P]=e.useState(!1),I=e.useRef(!1);e.useEffect((()=>{if(y)return QD(y)}),[y]),ER();const $=e.useCallback((e=>{const[t,...n]=A().map((e=>e.ref.current)),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(a?.scrollIntoView({block:"nearest"}),a===t&&k&&(k.scrollTop=0),a===r&&k&&(k.scrollTop=k.scrollHeight),a?.focus(),document.activeElement!==i)return}}),[A,k]),R=e.useCallback((()=>$([j,y])),[$,j,y]);e.useEffect((()=>{T&&R()}),[T,R]);const{onOpenChange:O,triggerPointerDownPosRef:D}=b;e.useEffect((()=>{if(y){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(D.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(D.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():y.contains(n.target)||O(!1),document.removeEventListener("pointermove",t),D.current=null};return null!==D.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[y,O,D]),e.useEffect((()=>{const e=()=>O(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[O]);const[F,M]=zM((e=>{const t=A().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=HM(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),L=e.useCallback(((e,t,n)=>{const r=!I.current&&!n;(void 0!==b.value&&b.value===t||r)&&(C(e),r&&(I.current=!0))}),[b.value]),B=e.useCallback((()=>y?.focus()),[y]),U=e.useCallback(((e,t,n)=>{const r=!I.current&&!n;(void 0!==b.value&&b.value===t||r)&&E(e)}),[b.value]),z="popper"===i?fM:pM,H=z===fM?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return(0,V.jsx)(dM,{scope:r,content:y,viewport:k,onViewportChange:S,itemRefCallback:L,selectedItem:j,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:R,selectedItemText:N,position:i,isPositioned:T,searchRef:F,children:(0,V.jsx)(VF,{as:HC,allowPinchZoom:!0,children:(0,V.jsx)($R,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:pR(a,(e=>{b.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:(0,V.jsx)(SR,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,V.jsx)(z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault(),...x,...H,onPlaced:()=>P(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:pR(x.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||M(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=A().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>$(t))),e.preventDefault()}}))})})})})})}));hM.displayName="SelectContentImpl";var pM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,onPlaced:i,...a}=t,s=ZF(oM,r),o=uM(oM,r),[l,c]=e.useState(null),[d,u]=e.useState(null),h=zC(n,(e=>u(e))),p=KF(r),f=e.useRef(!1),m=e.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,y=e.useCallback((()=>{if(s.trigger&&s.valueNode&&l&&d&&g&&v&&x){const e=s.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),r=x.getBoundingClientRect();if("rtl"!==s.dir){const i=r.left-t.left,a=n.left-i,s=e.left-a,o=e.width+s,c=Math.max(o,t.width),d=window.innerWidth-cM,u=hR(a,[cM,Math.max(cM,d-c)]);l.style.minWidth=o+"px",l.style.left=u+"px"}else{const i=t.right-r.right,a=window.innerWidth-n.right-i,s=window.innerWidth-e.right-a,o=e.width+s,c=Math.max(o,t.width),d=window.innerWidth-cM,u=hR(a,[cM,Math.max(cM,d-c)]);l.style.minWidth=o+"px",l.style.right=u+"px"}const a=p(),o=window.innerHeight-2*cM,c=g.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),m=parseInt(u.paddingTop,10),b=parseInt(u.borderBottomWidth,10),y=h+m+c+parseInt(u.paddingBottom,10)+b,w=Math.min(5*v.offsetHeight,y),k=window.getComputedStyle(g),S=parseInt(k.paddingTop,10),_=parseInt(k.paddingBottom,10),j=e.top+e.height/2-cM,C=o-j,N=v.offsetHeight/2,E=h+m+(v.offsetTop+N),A=y-E;if(E<=j){const e=a.length>0&&v===a[a.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-g.offsetTop-g.offsetHeight,n=E+Math.max(C,N+(e?_:0)+t+b);l.style.height=n+"px"}else{const e=a.length>0&&v===a[0].ref.current;l.style.top="0px";const t=Math.max(j,h+g.offsetTop+(e?S:0)+N)+A;l.style.height=t+"px",g.scrollTop=E-j+g.offsetTop}l.style.margin=`${cM}px 0`,l.style.minHeight=w+"px",l.style.maxHeight=o+"px",i?.(),requestAnimationFrame((()=>f.current=!0))}}),[p,s.trigger,s.valueNode,l,d,g,v,x,s.dir,i]);VR((()=>y()),[y]);const[w,k]=e.useState();VR((()=>{d&&k(window.getComputedStyle(d).zIndex)}),[d]);const S=e.useCallback((e=>{e&&!0===m.current&&(y(),b?.(),m.current=!1)}),[y,b]);return(0,V.jsx)(mM,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:S,children:(0,V.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,V.jsx)(WC.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})}));pM.displayName="SelectItemAlignedPosition";var fM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=cM,...a}=e,s=XF(n);return(0,V.jsx)(VD,{...s,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));fM.displayName="SelectPopperPosition";var[mM,gM]=GF(oM,{}),vM="SelectViewport",xM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,nonce:i,...a}=t,s=uM(vM,r),o=gM(vM,r),l=zC(n,s.onViewportChange),c=e.useRef(0);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,V.jsx)(HF.Slot,{scope:r,children:(0,V.jsx)(WC.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:pR(a.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(r?.current&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*cM,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),s=Math.max(i,a);if(s<r){const i=s+e,a=Math.min(r,i),o=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop}))})})]})}));xM.displayName=vM;var bM="SelectGroup",[yM,wM]=GF(bM),kM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=zR();return(0,V.jsx)(yM,{scope:n,id:i,children:(0,V.jsx)(WC.div,{role:"group","aria-labelledby":i,...r,ref:t})})}));kM.displayName=bM;var SM="SelectLabel",_M=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=wM(SM,n);return(0,V.jsx)(WC.div,{id:i.id,...r,ref:t})}));_M.displayName=SM;var jM="SelectItem",[CM,NM]=GF(jM),EM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,value:i,disabled:a=!1,textValue:s,...o}=t,l=ZF(jM,r),c=uM(jM,r),d=l.value===i,[u,h]=e.useState(s??""),[p,f]=e.useState(!1),m=zC(n,(e=>c.itemRefCallback?.(e,i,a))),g=zR(),v=e.useRef("touch"),x=()=>{a||(l.onValueChange(i),l.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,V.jsx)(CM,{scope:r,value:i,disabled:a,textId:g,isSelected:d,onItemTextChange:e.useCallback((e=>{h((t=>t||(e?.textContent??"").trim()))}),[]),children:(0,V.jsx)(HF.ItemSlot,{scope:r,value:i,disabled:a,textValue:u,children:(0,V.jsx)(WC.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:m,onFocus:pR(o.onFocus,(()=>f(!0))),onBlur:pR(o.onBlur,(()=>f(!1))),onClick:pR(o.onClick,(()=>{"mouse"!==v.current&&x()})),onPointerUp:pR(o.onPointerUp,(()=>{"mouse"===v.current&&x()})),onPointerDown:pR(o.onPointerDown,(e=>{v.current=e.pointerType})),onPointerMove:pR(o.onPointerMove,(e=>{v.current=e.pointerType,a?c.onItemLeave?.():"mouse"===v.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:pR(o.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()})),onKeyDown:pR(o.onKeyDown,(e=>{""!==c.searchRef?.current&&" "===e.key||(UF.includes(e.key)&&x()," "===e.key&&e.preventDefault())}))})})})}));EM.displayName=jM;var AM="SelectItemText",TM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,className:i,style:a,...s}=t,o=ZF(AM,r),l=uM(AM,r),c=NM(AM,r),d=JF(AM,r),[u,h]=e.useState(null),p=zC(n,(e=>h(e)),c.onItemTextChange,(e=>l.itemTextRefCallback?.(e,c.value,c.disabled))),f=u?.textContent,m=e.useMemo((()=>(0,V.jsx)("option",{value:c.value,disabled:c.disabled,children:f},c.value)),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return VR((()=>(g(m),()=>v(m))),[g,v,m]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(WC.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?si.createPortal(s.children,o.valueNode):null]})}));TM.displayName=AM;var PM="SelectItemIndicator",IM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return NM(PM,n).isSelected?(0,V.jsx)(WC.span,{"aria-hidden":!0,...r,ref:t}):null}));IM.displayName=PM;var $M="SelectScrollUpButton",RM=e.forwardRef(((t,n)=>{const r=uM($M,t.__scopeSelect),i=gM($M,t.__scopeSelect),[a,s]=e.useState(!1),o=zC(n,i.onScrollButtonChange);return VR((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),a?(0,V.jsx)(FM,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));RM.displayName=$M;var OM="SelectScrollDownButton",DM=e.forwardRef(((t,n)=>{const r=uM(OM,t.__scopeSelect),i=gM(OM,t.__scopeSelect),[a,s]=e.useState(!1),o=zC(n,i.onScrollButtonChange);return VR((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),a?(0,V.jsx)(FM,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));DM.displayName=OM;var FM=e.forwardRef(((t,n)=>{const{__scopeSelect:r,onAutoScroll:i,...a}=t,s=uM("SelectScrollButton",r),o=e.useRef(null),l=KF(r),c=e.useCallback((()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)}),[]);return e.useEffect((()=>()=>c()),[c]),VR((()=>{const e=l().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[l]),(0,V.jsx)(WC.div,{"aria-hidden":!0,...a,ref:n,style:{flexShrink:0,...a.style},onPointerDown:pR(a.onPointerDown,(()=>{null===o.current&&(o.current=window.setInterval(i,50))})),onPointerMove:pR(a.onPointerMove,(()=>{s.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(i,50))})),onPointerLeave:pR(a.onPointerLeave,(()=>{c()}))})})),MM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return(0,V.jsx)(WC.div,{"aria-hidden":!0,...r,ref:t})}));MM.displayName="SelectSeparator";var LM="SelectArrow",VM=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=XF(n),a=ZF(LM,n),s=uM(LM,n);return a.open&&"popper"===s.position?(0,V.jsx)(BD,{...i,...r,ref:t}):null}));function BM(e){return""===e||void 0===e}VM.displayName=LM;var UM=e.forwardRef(((t,n)=>{const{value:r,...i}=t,a=e.useRef(null),s=zC(n,a),o=function(t){const n=e.useRef({value:t,previous:t});return e.useMemo((()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous)),[t])}(r);return e.useEffect((()=>{const e=a.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(o!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[o,r]),(0,V.jsx)(HD,{asChild:!0,children:(0,V.jsx)("select",{...i,ref:s,defaultValue:r})})}));function zM(t){const n=vR(t),r=e.useRef(""),i=e.useRef(0),a=e.useCallback((e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout((()=>e("")),1e3))}(t)}),[n]),s=e.useCallback((()=>{r.current="",window.clearTimeout(i.current)}),[]);return e.useEffect((()=>()=>window.clearTimeout(i.current)),[]),[r,a,s]}function HM(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=n?e.indexOf(n):-1;let a=(s=e,o=Math.max(i,0),s.map(((e,t)=>s[(o+t)%s.length])));var s,o;1===r.length&&(a=a.filter((e=>e!==n)));const l=a.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}UM.displayName="BubbleSelect";var KM=eM,qM=nM,GM=iM,WM=aM,XM=sM,YM=lM,ZM=xM,QM=kM,JM=_M,eL=EM,tL=TM,nL=IM,rL=RM,iL=DM,aL=MM;const sL=pk("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),oL=pk("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),lL=pk("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),cL=KM,dL=QM,uL=GM,hL=e.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,V.jsxs)(qM,{ref:t,className:rk("flex h-11 w-full items-center justify-between rounded-[8px] border border-input bg-background px-3 py-2 text-base placeholder:text-[#667085] placeholder:text-opacity-55 focus:outline-none disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 disabled:text-[#767676] [&>span]:line-clamp-1",n),...i,children:[r,(0,V.jsx)(WM,{asChild:!0,children:(0,V.jsx)(sL,{className:"h-4 w-4"})})]})}));hL.displayName=qM.displayName;const pL=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(rL,{ref:t,className:rk("flex cursor-default items-center justify-center py-1",n),...r,children:(0,V.jsx)(oL,{className:"h-4 w-4"})})}));pL.displayName=rL.displayName;const fL=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(iL,{ref:t,className:rk("flex cursor-default items-center justify-center py-1",n),...r,children:(0,V.jsx)(sL,{className:"h-4 w-4"})})}));fL.displayName=iL.displayName;const mL=e.forwardRef(((e,t)=>{let{className:n,children:r,position:i="popper",...a}=e;return(0,V.jsx)(XM,{children:(0,V.jsxs)(YM,{ref:t,className:rk("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-[8px] border border-gray1 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...a,style:{zIndex:"99999999"},children:[(0,V.jsx)(pL,{}),(0,V.jsx)(ZM,{className:rk("","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,V.jsx)(fL,{})]})})}));mL.displayName=YM.displayName;const gL=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(JM,{ref:t,className:rk("py-1.5 pl-8 pr-2 text-sm",n),...r})}));gL.displayName=JM.displayName;const vL=e.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,V.jsxs)(eL,{ref:t,className:rk("relative flex w-full cursor-default select-none items-center py-1.5 pl-4 pr-2 text-base outline-none focus:text-accent-foreground hover:bg-[#EAECF0] data-[state=selected]:bg-[#EAECF0] data-[disabled]:pointer-events-none data-[disabled]:opacity-50 rounded-[8px]",n),...i,children:[(0,V.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,V.jsx)(nL,{children:(0,V.jsx)(lL,{className:"h-4 w-4"})})}),(0,V.jsx)(tL,{children:r})]})}));vL.displayName=eL.displayName;const xL=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(aL,{ref:t,className:rk("-mx-1 my-1 h-px bg-muted",n),...r})}));xL.displayName=aL.displayName;const bL=VC.object({LassLeveresByggeplass:VC.string({required_error:"Lass leveres byggeplass uke must m\xe5 spesifiseres."}),TakstolerLeveresUke:VC.string().optional(),"Spr\xf8ytebetongLeveres":VC.string({required_error:"Spr\xf8ytebetong leveres (6 uker lev.) must m\xe5 spesifiseres."}),VinduerLeveresUke:VC.string({required_error:"Vinduer leveres uke must m\xe5 spesifiseres."}),EndringsavtalerHensyntatt:VC.string().optional(),VedleggKontraktDatert:VC.string().optional(),Diverse:VC.string().optional()}),yL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(bL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=Array.from({length:53},((e,t)=>(t+1).toString()));return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Leveransedetaljer&&Object.entries(null===a||void 0===a?void 0:a.Leveransedetaljer).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,Leveransedetaljer:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(3))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Leveransedetaljer"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"LassLeveresByggeplass",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"1. lass leveres byggeplass uke*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg uke"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TakstolerLeveresUke",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Takstoler leveres uke"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg uke"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Spr\xf8ytebetongLeveres",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Spr\xf8ytebetong leveres (6 uker lev.)*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg uke"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerLeveresUke",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Vinduer leveres uke*"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg uke"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"EndringsavtalerHensyntatt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Endringsavtaler hensyntatt: NR"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VedleggKontraktDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Vedlegg til kontrakt datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Vedlegg til kontrakt datert",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)(aN,{control:c.control,name:"Diverse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Diverse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(1))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),wL=VC.object({TypeVegger:VC.string().optional(),TykkelseVegger:VC.string().optional(),SkorsteinType:VC.string().optional(),SkorsteinLeveresAvChimney:VC.string().optional(),IldstedType:VC.string().optional(),SkorsteinLeveresAvFireplace:VC.string().optional(),PlateBoligPartnersdetaljnummerText:VC.string().optional(),PlateBoligPartnersdetaljnummer:VC.boolean().optional(),noRelevant:VC.boolean().optional(),BoligPartnersdetaljnummer:VC.boolean().optional(),BoligPartnersdetaljnummerText:VC.string().optional()}),kL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(wL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=c.watch("PlateBoligPartnersdetaljnummer"),u=c.watch("noRelevant");return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.GrunnerOgSkorstein&&Object.entries(null===a||void 0===a?void 0:a.GrunnerOgSkorstein).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,GrunnerOgSkorstein:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(4))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Betong- og murerarbeid, pkt. 2.3 i leveransebeskrivelse."}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"PlateBoligPartnersdetaljnummer",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"PlateBoligPartnersdetaljnummer",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Plate p\xe5 mark iht BoligPartners detalj(er) nr."]})})}}),(0,V.jsx)(aN,{control:c.control,name:"PlateBoligPartnersdetaljnummerText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Skriv detaljnummer",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Vegger grunnmur pkt 2.3"}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"noRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"noRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak."]})})}})})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TypeVegger",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Type"}),(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",disable:!(!u||!0!==u)})})}),(0,V.jsx)(hN,{})]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TykkelseVegger",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tykkelse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,disable:!(!u||!0!==u),className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Skorstein pkt 2.3"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"SkorsteinType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"SkorsteinLeveresAvChimney",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Leveres av (chimney)"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IldstedType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Ildsted Type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"SkorsteinLeveresAvFireplace",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Leveres av (fireplace)"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"S\xf8ylefundamenter"}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"BoligPartnersdetaljnummer",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"BoligPartnersdetaljnummer",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"BoligPartners detalj(er) nr."]})})}}),(0,V.jsx)(aN,{control:c.control,name:"BoligPartnersdetaljnummerText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn detaljnummer",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(2))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),SL=VC.object({"BjelkelagForsterkesF\xf8lgende":VC.string().optional(),IkkeRelevantTiltak:VC.boolean().optional(),RomskjemaOverflateskjema:VC.boolean().optional(),LydgulvDetaljNr:VC.boolean().optional(),Thermogulv:VC.boolean().optional(),ThermogulvEkstra:VC.boolean().optional(),GulvplaterEkstra:VC.boolean().optional(),IkkeRelevantTiltakLoft:VC.boolean().optional(),Tekstboks:VC.string().optional(),Alt:VC.string().optional()}),_L=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(SL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.GulvBjelkelagHimling&&Object.entries(null===a||void 0===a?void 0:a.GulvBjelkelagHimling).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,GulvBjelkelagHimling:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(5))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Bjelkelag, gulv, himling, pkt. 3 i leveransebeskrivelse"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BjelkelagForsterkesF\xf8lgende",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Bjelkelag forsterkes for p\xe5st\xf8p i f\xf8lgende rom"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Bjelkelag over kjeller/underetg., pkt.3.1"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevantTiltak",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevantTiltak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"RomskjemaOverflateskjema",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"RomskjemaOverflateskjema",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Se romskjema/overflateskjema"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"LydgulvDetaljNr",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"LydgulvDetaljNr",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Lydgulv (kt. detail) nr. 251-110 fig.B"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Thermogulv",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Thermogulv",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Thermogulv oStandard: 22 x 620 x 1820 mm [Pristtillegg]"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"ThermogulvEkstra",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"ThermogulvEkstra",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Thermogulv ekstrem: 25 mm [Pristtillegg]"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Loft skal innredes, pkt. 3.3"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevantTiltakLoft",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevantTiltakLoft",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"GulvplaterEkstra",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"GulvplaterEkstra",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Gulvplater oEkstra: 22 mm (Standard)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv type takstein",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)(aN,{control:c.control,name:"Tekstboks",render:e=>{let{field:t,fieldState:n}=e;const r=c.getValues("Tekstboks")||"";return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Tekstboks"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(wN,{placeholder:"Skriv inn",...t,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,value:r})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(3))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),jL=VC.object({SeRomskjema:VC.boolean().optional(),mm70standard:VC.boolean().optional(),mm100Pristillegg:VC.boolean().optional(),"InnvendigeHj\xf8rnelister":VC.boolean().optional(),IkkeRelevantTiltak:VC.boolean().optional(),Tekstboks:VC.string().optional(),StandardLeveranseLeveransebeskrivelse:VC.boolean().optional(),PakkeHusmalt:VC.boolean().optional(),"BeisemaltFargePpris\xf8kningFarge":VC.boolean().optional(),"BeisemaltFargePpris\xf8kningFargeText":VC.string().optional(),Ubehandlet:VC.boolean().optional(),"pris\xf8kning":VC.string().optional(),Galvlut:VC.boolean().optional(),Hvitmalt:VC.boolean().optional(),"BeisemaltFargePpris\xf8kningFarge2":VC.boolean().optional(),"BeisemaltFargePpris\xf8kningFarge2Text":VC.string().optional(),Ubehandlet2:VC.boolean().optional(),GestillVelclearSkarve:VC.boolean().optional(),Hvitmalt3:VC.boolean().optional(),"BeisemaltFargePpris\xf8kningFarge3":VC.boolean().optional(),"BeisemaltFargePpris\xf8kningFarge3Text":VC.string().optional(),Ubehandlet3:VC.boolean().optional(),TekstboksLightingOption:VC.string().optional(),CeilingStandardLeveranseValgteSignatur:VC.boolean().optional(),CeilingStandardLeveranseValgteSignaturText:VC.string().optional(),SeRomskjemaOverflateskJemaAvvik:VC.boolean().optional(),SeRomskjemaOverflateskJemaAvvikText:VC.string().optional(),LydhimlingIhtDetaljrNrFigB:VC.boolean().optional()}),CL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(jL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Innervegger&&Object.entries(null===a||void 0===a?void 0:a.Innervegger).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,Innervegger:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(7))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Innervegger, pkt. 5 i leveransebeskrivelse"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Alternativer for veggkonstruksjon"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"SeRomskjema",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"SeRomskjema",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Se romskjema/ overflatebevaranskjema."]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"mm70standard",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"mm70standard",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"70 mm (standard)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"mm100Pristillegg",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"mm100Pristillegg",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"100 mm (Pristillegg)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"InnvendigeHj\xf8rnelister",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"InnvendigeHj\xf8rnelister",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Innvendige hj\xf8rnelister type hulkil 12 x 12 mm grunnet, farge iht veggplater (Standard ved liggende panel) (Pristillegg)"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Innvendig paneling"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevantTiltak",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevantTiltak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant for dette tiltak"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Tekstboks",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tekstboks"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Interior Lighting"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StandardLeveranseLeveransebeskrivelse",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardLeveranseLeveransebeskrivelse",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse ihtl leveransebeskrivelse for valgte signatur"]})})}})}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Lighting Options Row 1:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"PakkeHusmalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"PakkeHusmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Pakke 1: Husmalt"]})})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"BeisemaltFargePpris\xf8kningFarge",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"BeisemaltFargePpris\xf8kningFarge",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Beisemalt i samme farge (pris\xf8kning) Farge"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"BeisemaltFargePpris\xf8kningFargeText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Ubehandlet",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Ubehandlet",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ubehandlet"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"pris\xf8kning",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"pris\xf8kning"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Lighting Options Row 2:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Galvlut",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Galvlut",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Galvlut"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hvitmalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Hvitmalt"]})})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"BeisemaltFargePpris\xf8kningFarge2",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"BeisemaltFargePpris\xf8kningFarge2",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Beisemalt i samme farge (pris\xf8kning) Farge"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"BeisemaltFargePpris\xf8kningFarge2Text",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Ubehandlet2",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Ubehandlet2",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ubehandlet"]})})}})}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Lighting Options Row 3:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"GestillVelclearSkarve",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"GestillVelclearSkarve",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Gestill (velclear ou skarve)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hvitmalt3",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hvitmalt3",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Hvitmalt"]})})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"BeisemaltFargePpris\xf8kningFarge3",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"BeisemaltFargePpris\xf8kningFarge3",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Beisemalt i samme farge (pris\xf8kning) Farge"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"BeisemaltFargePpris\xf8kningFarge3Text",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Ubehandlet3",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Ubehandlet3",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ubehandlet (pris\xf8kning)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TekstboksLightingOption",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tekstboks"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Ceiling"}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"CeilingStandardLeveranseValgteSignatur",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"CeilingStandardLeveranseValgteSignatur",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse ihtl leveransebeskr for valgte signatur"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"CeilingStandardLeveranseValgteSignaturText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"SeRomskjemaOverflateskJemaAvvik",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"SeRomskjemaOverflateskJemaAvvik",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Se romskjema/overflatesk jema for avvik fra standard"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"SeRomskjemaOverflateskJemaAvvikText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"LydhimlingIhtDetaljrNrFigB",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"LydhimlingIhtDetaljrNrFigB",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Lydhimling iht. detaljr nr. 231-110 fig.B"]})})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(5))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),NL=VC.object({StandardUndertak:VC.boolean().optional(),PappskingelTypeSortSkiferKarakter:VC.boolean().optional(),PappTekkingTypeModerne:VC.boolean().optional(),UndertakDpapp:VC.boolean().optional(),Tekstboks:VC.string().optional(),TaksteinType:VC.boolean().optional(),TaksteinFarge:VC.string().optional(),TaksteinKode:VC.string().optional(),"HeisesP\xe5Tak":VC.boolean().optional(),"Avl\xf8pslufteribetongdobbkr":VC.boolean().optional(),"Sn\xf8fangereMeter":VC.string().optional(),"Sn\xf8fangereFarge":VC.string().optional(),"StandardTakbeleggsl\xf8sning":VC.boolean().optional(),UndertakDpappText:VC.string().optional(),Hytte:VC.array(VC.string()).optional(),Hus:VC.array(VC.string()).optional(),Struktur:VC.boolean().optional(),GlattPristilleggAreal:VC.boolean().optional(),GlattPristilleggArealText:VC.string().optional(),Sort:VC.boolean().optional(),"R\xf8d":VC.boolean().optional(),"Sn\xf8fangereKroker":VC.boolean().optional(),FeieplassPristillegg:VC.boolean().optional(),GradrennerBeslagFargeAlt:VC.string().optional()}),EL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(NL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Karakter skingel","Tar takstein","V-lytte","Moderne papp"],u=["Moderne hus med lav vinkel: Takpapp","Funkis: Puden","Alle andre hus: takstein"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.TakogTaktekkingTakogTaktekking&&Object.entries(null===a||void 0===a?void 0:a.TakogTaktekkingTakogTaktekking).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d,u]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,TakogTaktekkingTakogTaktekking:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(8))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Tak/taktekking, pkt. 6 i leveransebeskrivelse"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Standardalternativer"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StandardUndertak",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardUndertak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard undertak"]})})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"UndertakDpapp",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"UndertakDpapp",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Undertak med D-papp"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"UndertakDpappText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Tekstboks",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tekstboks"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Tekstboks",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Informasjonsseksjoner"}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)(aN,{control:c.control,name:"Hytte",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Hytte"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:d.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Hytte",[...i,e]):c.setValue("Hytte",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-3",children:(0,V.jsx)(aN,{control:c.control,name:"Hus",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Hus"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Hus",[...i,e]):c.setValue("Hus",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Roofing Type Selection"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"PappskingelTypeSortSkiferKarakter",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"PappskingelTypeSortSkiferKarakter",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Pappskingel type sort skifer (Karakter)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"PappTekkingTypeModerne",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"PappTekkingTypeModerne",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Papptekking type med av Moderne, Prosjekt, V og Moderne hytter"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StandardTakbeleggsl\xf8sning",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardTakbeleggsl\xf8sning",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse med takbelegg inkl. sluk og med Silver parapetbeslag"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Takstein (Roof Tiles)"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Roof Tile Type Selection:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TaksteinType",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"TaksteinType",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Takstein type"]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Struktur",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Struktur",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Struktur (standard)"]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"GlattPristilleggAreal",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"GlattPristilleggAreal",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Glatt (pristillegg) Areal:"]}),(0,V.jsx)(hN,{})]})}}),(0,V.jsx)(aN,{control:c.control,name:"GlattPristilleggArealText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Roof Tile Color:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TaksteinFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Takstein farge"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Takstein farge",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TaksteinKode",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Takstein kode"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"HeisesP\xe5Tak",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"HeisesP\xe5Tak",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Heises p\xe5 tak"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Avl\xf8pslufteribetongdobbkr",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Avl\xf8pslufteribetongdobbkr",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Avl\xf8pspllass i betong, dobh kt (pristillegg)"]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Sn\xf8fangere (Snow Guards)"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sn\xf8fangereFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Sn\xf8fangere farge"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv fargekode",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sn\xf8fangereMeter",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Sn\xf8fangere meter"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Antall meter",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Edge Treatment:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"GradrennerBeslagFargeAlt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Gratb\xe6mer/beslag farge"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sort",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sort",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Sort"]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"R\xf8d",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"R\xf8d",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"R\xf8d"]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-sm",children:"Endelige alternativer:"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sn\xf8fangereKroker",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sn\xf8fangereKroker",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Sn\xf8fangere kroker i grad (pristillegg)"]}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"FeieplassPristillegg",render:e=>{let{field:t}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"FeieplassPristillegg",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Feieplass (pristillegg)"]}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(6))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),AL=VC.object({"Hovedd\xf8r":VC.object({StandardHvitmalt:VC.boolean().optional(),Slagretning:VC.string().optional(),"D\xf8rFargeNCSKode":VC.string().optional(),"D\xf8rType":VC.string().optional(),KarmUtforingHvitmalt:VC.boolean().optional(),"Tilleggsl\xe5sType":VC.string().optional(),"Sikkerhetsl\xe5sType":VC.string().optional(),"SigaWigluvRundtD\xf8r":VC.string().optional()}),"BalkongTerrassed\xf8r":VC.object({StandardHvitmalt:VC.boolean().optional(),HvitUtforingMDF:VC.boolean().optional(),MedTerskelforing:VC.string().optional(),UtvendigInnvendigSylinder:VC.string().optional(),"Likel\xe5smedHovedd\xf8r":VC.string().optional(),HvitmaltUtvLakkertInnv:VC.string().optional(),AndreFargekombinasjoner:VC.string().optional(),Slagretning:VC.string().optional(),"SigaWigluvRundtD\xf8r":VC.string().optional()}),"D\xf8rerIboligrom":VC.object({StandardTypeVision:VC.boolean().optional(),AnnenType:VC.string().optional(),"Glassd\xf8rAntall":VC.string().optional(),"Skyved\xf8rMedGlass":VC.string().optional(),"Skyved\xf8rskarmSeparatOrdre":VC.string().optional(),KarmType:VC.array(VC.string()).optional(),Terskeltype:VC.array(VC.string()).optional(),Dempelister:VC.string().optional(),SpalteIoverkarm:VC.string().optional(),Hengsler:VC.string().optional(),SporForBelegg:VC.string().optional(),Slagretning:VC.string().optional(),"L\xf8seForinger":VC.boolean().optional(),VridereType:VC.array(VC.string()).optional(),AlternativVrider:VC.string().optional()}),"D\xf8rerIKjellerrom":VC.object({SammeSom:VC.boolean().optional(),AnnenType:VC.string().optional(),IkkeRelevant:VC.boolean().optional()}),Garasjeport:VC.object({IkkeRelevant:VC.boolean().optional(),StandardHorisontal:VC.boolean().optional(),AlternativType:VC.string().optional(),"BreddeXh\xf8yde":VC.string().optional(),"Port\xe5pner":VC.boolean().optional(),MicroSenderAntall:VC.string().optional(),AlternativRAL:VC.string().optional()}),"Bodd\xf8r":VC.object({IkkeRelevant:VC.boolean().optional(),PThvitmaltMedKarm:VC.boolean().optional(),MaltKarmAnnenFarge:VC.string().optional(),"Likel\xe5sMedHovedd\xf8r":VC.string().optional(),Alt:VC.string().optional()})}),TL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(AL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Standard","Ubehandlet","Lakkert"],u=["Standard","Ubehandlet","Lakkert"],h=["Habo A2012 (St\xe5l)","183 (St\xe5l)"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.D\u00f8rer&&Object.entries(null===a||void 0===a?void 0:a.D\u00f8rer).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d,u,h]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,"D\xf8rer":o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(9))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"D\xf8rer"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Hovedd\xf8r"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.StandardHvitmalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.StandardHvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.Slagretning",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Slagretning 150 cm"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.D\xf8rFargeNCSKode",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"D\xf8r farge NCS Kode"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv kode",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.D\xf8rType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"D\xf8r type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg type",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.KarmUtforingHvitmalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"mmMineralull",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Karm/utforing hvitmalt"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.Tilleggsl\xe5sType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Tilleggsl\xe5s type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg type"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.Sikkerhetsl\xe5sType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Sikkerhetsl\xe5s type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.SigaWigluvRundtD\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Siga Wigluv rundt d\xf8r"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Balkong/Terrassed\xf8r"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.StandardHvitmalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.StandardHvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt utvendig/innvendig"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.HvitUtforingMDF",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.HvitUtforingMDF",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Hvit utforing i MDF"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.MedTerskelforing",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Med terskelforing"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.UtvendigInnvendigSylinder",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Utvendig/innvendig sylinder"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.Likel\xe5smedHovedd\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Likel\xe5s med hovedd\xf8r"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.HvitmaltUtvLakkertInnv",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Hvitmalt utv. og lakkert innv."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.AndreFargekombinasjoner",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Andre fargekombinasjoner"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.Slagretning",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Slagretning"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalkongTerrassed\xf8r.SigaWigluvRundtD\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Siga Wigluv rundt d\xf8r"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"D\xf8rer i boligrom"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.StandardTypeVision",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"D\xf8rerIboligrom.StandardTypeVision",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard type Visjon1, hvit"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.AnnenType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Annen type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Glassd\xf8rAntall",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Glassd\xf8r antall"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Skyved\xf8rMedGlass",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Skyved\xf8r med glass"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Skyved\xf8rskarmSeparatOrdre",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Skyved\xf8rskarm separat ordre"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv kode",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.KarmType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Karm type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:d.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("D\xf8rerIboligrom.KarmType",[...i,e]):c.setValue("D\xf8rerIboligrom.KarmType",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Terskeltype",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Terskeltype"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("D\xf8rerIboligrom.Terskeltype",[...i,e]):c.setValue("D\xf8rerIboligrom.Terskeltype",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Dempelister",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Dempelister"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.SpalteIoverkarm",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Spalte i overkarm"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Hengsler",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Hengsler"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.SporForBelegg",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Spor for belegg"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.Slagretning",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Slagretning 150 cm"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.L\xf8seForinger",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"mmMineralull",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"L\xf8se foringer"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.VridereType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Vridere type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:h.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("D\xf8rerIboligrom.VridereType",[...i,e]):c.setValue("D\xf8rerIboligrom.VridereType",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIboligrom.AlternativVrider",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alternativ vrider"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"D\xf8rer i kjellerrom"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIKjellerrom.SammeSom",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"D\xf8rerIKjellerrom.SammeSom",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Samme som 1. etg."]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIKjellerrom.AnnenType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Annen type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"D\xf8rerIKjellerrom.IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"D\xf8rerIKjellerrom.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Garasjeport"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Garasjeport.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.StandardHorisontal",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Garasjeport.StandardHorisontal",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard 26x21 Horisontal"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.AlternativType",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alternativ type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.BreddeXh\xf8yde",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Bredde x h\xf8yde"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.Port\xe5pner",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Garasjeport.Port\xe5pner",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Port\xe5pner"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.MicroSenderAntall",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Micro-sender antall"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Garasjeport.AlternativRAL",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alternativ RAL"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Bodd\xf8r"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Bodd\xf8r.IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Bodd\xf8r.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Bodd\xf8r.PThvitmaltMedKarm",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Bodd\xf8r.PThvitmaltMedKarm",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"PT-303 hvitmalt med karm"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Bodd\xf8r.MaltKarmAnnenFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Malt karm annen farge"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Bodd\xf8r.Likel\xe5sMedHovedd\xf8r",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Likel\xe5s med hovedd\xf8r"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Bodd\xf8r.Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(7))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),PL=VC.object({"Hovedd\xf8r":VC.object({StandardHvitmalt:VC.boolean().optional(),VinduerNedTilGulv:VC.string().optional(),Alt:VC.string().optional(),MDFUtforing:VC.boolean().optional(),HvitmaltUtvLakkertInnv:VC.string().optional(),TilpassesVeggkledning:VC.boolean().optional(),TilpassesVeggkledningDate:VC.string().optional(),AndreFargekombinasjoner:VC.string().optional(),SigaWigluvRundtVindu:VC.string().optional(),"L\xf8seForinger":VC.boolean().optional(),ForingerSeparatOrdre:VC.string().optional()}),Sprosser:VC.object({mmVertikale:VC.boolean().optional(),mmHorisontale:VC.boolean().optional(),mmHorisontaleKlips:VC.boolean().optional(),mmHorisontaleKlips50:VC.boolean().optional()}),VinduerIKjellerrom:VC.object({IkkeRelevant:VC.boolean().optional(),LikSometg:VC.boolean().optional(),Alt:VC.string().optional()}),VinduerUninnredetLoft:VC.object({IkkeRelevant:VC.boolean().optional(),StandardUtenUtforing:VC.boolean().optional(),"Utf\xf8resTil":VC.string().optional(),SigaWigluvRundtVindu:VC.string().optional(),MDFUtforingHvitmalt:VC.string().optional()}),TakvinduVelux:VC.object({IkkeRelevant:VC.boolean().optional(),Type:VC.string().optional(),"St\xf8rrelse":VC.string().optional(),Utforing:VC.string().optional()})}),IL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(PL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=c.watch("Hovedd\xf8r.TilpassesVeggkledning"),u=["Abc","Xyz"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Vinduer&&Object.entries(null===a||void 0===a?void 0:a.Vinduer).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,u]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,Vinduer:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(10))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Vinduer"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Hovedd\xf8r"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.StandardHvitmalt",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.StandardHvitmalt",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt utv. og innv."]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.VinduerNedTilGulv",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Vinduer ned til gulv"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.MDFUtforing",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"MDFUtforing",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"MDF utforing"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.HvitmaltUtvLakkertInnv",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Hvitmalt utv./lakkert innv."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===u||void 0===u?void 0:u.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.AndreFargekombinasjoner",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Andre fargekombinasjoner"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===u||void 0===u?void 0:u.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.TilpassesVeggkledning",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.TilpassesVeggkledning",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Tilpasses veggkledning (romskjema)"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.TilpassesVeggkledningDate",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Skriv detaljnummer",...t,disable:d,className:`bg-white rounded-[8px] border text-black ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.L\xf8seForinger",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Hovedd\xf8r.L\xf8seForinger",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"L\xf8se foringer"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.ForingerSeparatOrdre",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"")+" mb-[6px] text-sm",children:"Foringer separat ordre"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg dato",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Hovedd\xf8r.SigaWigluvRundtVindu",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Siga Wigluv rundt vindu"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===u||void 0===u?void 0:u.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Sprosser"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sprosser.mmVertikale",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sprosser.mmVertikale",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"65 mm vertikale"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sprosser.mmHorisontale",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sprosser.mmHorisontale",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"65 mm horisontale"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sprosser.mmHorisontaleKlips",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sprosser.mmHorisontaleKlips",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"25 mm horisontale klips"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sprosser.mmHorisontaleKlips50",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sprosser.mmHorisontaleKlips50",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"50 mm horisontale klips"]})})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Vinduer i kjellerrom"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerIKjellerrom.IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"VinduerIKjellerrom.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerIKjellerrom.LikSometg",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"VinduerIKjellerrom.LikSometg",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Lik som 1. etg."]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerIKjellerrom.Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Vinduer uinnredet loft"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerUninnredetLoft.IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"VinduerUninnredetLoft.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerUninnredetLoft.StandardUtenUtforing",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"VinduerUninnredetLoft.StandardUtenUtforing",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard uten utforing"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerUninnredetLoft.Utf\xf8resTil",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Utf\xf8res til"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerUninnredetLoft.SigaWigluvRundtVindu",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Siga Wigluv rundt vindu"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===u||void 0===u?void 0:u.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VinduerUninnredetLoft.MDFUtforingHvitmalt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"MDF utforing hvitmalt"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===u||void 0===u?void 0:u.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Takvindu Velux"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TakvinduVelux.IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"TakvinduVelux.IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TakvinduVelux.Type",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Type"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TakvinduVelux.St\xf8rrelse",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"St\xf8rrelse"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TakvinduVelux.Utforing",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Utforing"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(8))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),$L=VC.object({StandardHvitmaltUtvogInnv:VC.boolean().optional(),LeveranseomfangIhtInnredningspakke:VC.boolean().optional(),Prisgruppe:VC.string().optional(),Alt:VC.string().optional(),GarderobeTilvalg:VC.string().optional(),Kombigarderobe:VC.string().optional(),"Badeinteri\xf8rTilvalg":VC.string().optional(),IkkeRelevantBathroom:VC.boolean().optional(),LeveranseomfangIhtVedlagtTegning:VC.boolean().optional(),AltBad:VC.string().optional()}),RL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_($L)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Abc","Xyz"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Kj\u00f8kkenGarderobeBad&&Object.entries(null===a||void 0===a?void 0:a.Kj\u00f8kkenGarderobeBad).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,"Kj\xf8kkenGarderobeBad":o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(11))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Kj\xf8kken, Garderobe, Bad"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StandardHvitmaltUtvogInnv",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardHvitmaltUtvogInnv",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitmalt utv. og innv."]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"LeveranseomfangIhtInnredningspakke",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"LeveranseomfangIhtInnredningspakke",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveranseomfang iht. innredningspakke"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Prisgruppe",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Prisgruppe"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Prisgruppe",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Alt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv type takstein",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"GarderobeTilvalg",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Garderobe tilvalg"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===d||void 0===d?void 0:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kombigarderobe",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kombigarderobe: 100/60/50/40 cm"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Badeinteri\xf8rTilvalg",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Badeinteri\xf8r tilvalg"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===d||void 0===d?void 0:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevantBathroom",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevantBathroom",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant (Bathroom)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"LeveranseomfangIhtVedlagtTegning",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"LeveranseomfangIhtVedlagtTegning",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveranseomfang iht. vedlagt tegning"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"AltBad",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt. (Bad)"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(9))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),OL=VC.object({IkkeRelevant:VC.boolean().optional(),"H\xe5ndrekkeVangerHvit":VC.boolean().optional(),TrinnLakkertEikHelStav:VC.boolean().optional(),TrinnLakkertEikHelStavText:VC.string().optional(),"St\xe5lspiler":VC.boolean().optional(),AltBad:VC.string().optional(),Alternativ:VC.string().optional(),Farge:VC.string().optional(),Montering:VC.array(VC.string()).optional(),"M\xe5ltaking":VC.array(VC.string()).optional(),Kommentar:VC.string().optional(),StandardHvitgrunnet:VC.boolean().optional(),HimlingCount:VC.boolean().optional(),VeggCount:VC.boolean().optional(),Furu:VC.boolean().optional()}),DL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(OL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=c.watch("TrinnLakkertEikHelStav"),u=(0,e.useMemo)((()=>["Trappeleverand\xf8r","Lokal"]),[]),h=(0,e.useMemo)((()=>["Trappeleverand\xf8r","Lokal"]),[]),p=(0,e.useMemo)((()=>["Abc","Xyz"]),[]);return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.TrappogLuker&&Object.entries(null===a||void 0===a?void 0:a.TrappogLuker).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,c]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,TrappogLuker:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(12))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Trapp og Luker"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"H\xe5ndrekkeVangerHvit",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"H\xe5ndrekkeVangerHvit",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"H\xe5ndrekke/vanger hvit"]})})}})}),(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"TrinnLakkertEikHelStav",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"mb-[6px] text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"TrinnLakkertEikHelStav",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Trinn lakkert eik / hel stav"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"TrinnLakkertEikHelStavText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,disabled:d,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===p||void 0===p?void 0:p.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"St\xe5lspiler",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"St\xe5lspiler",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"St\xe5lspiler"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"AltBad",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alt. (Bad)"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Alternativ",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alternativ"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv type takstein",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Farge",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Farge"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===p||void 0===p?void 0:p.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Montering",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Montering"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:u.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Montering",[...i,e]):c.setValue("Montering",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"M\xe5ltaking",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"M\xe5ltaking"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:h.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("M\xe5ltaking",[...i,e]):c.setValue("M\xe5ltaking",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kommentar",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kommentar"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Kommentar",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{className:"col-span-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-semibold text-base mb-3",children:"Isolerte inspeksjonsluker:"}),(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StandardHvitgrunnet",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardHvitgrunnet",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard hvitgrunnet 55x55 (Tek 07)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"HimlingCount",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"HimlingCount",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Himling [count]"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VeggCount",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"VeggCount",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Vegg [count]"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Furu",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Furu",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Furu (ikke Tek 07)"]})})}})})]})]})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(10))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),FL=VC.object({"StandardBalkongOverBakkeniv\xe5":VC.boolean().optional(),RekkverkGalvanisertGlass:VC.boolean().optional(),RekkverkPulverlakkert:VC.boolean().optional(),Alternativ:VC.string().optional(),PlattingVedInngangDxB:VC.string().optional(),TerrasseUtenTrinnDxB:VC.string().optional()}),ML=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(FL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Abc","Xyz"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.BalkongTerrasse&&Object.entries(null===a||void 0===a?void 0:a.BalkongTerrasse).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,BalkongTerrasse:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(13))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Balkong & Terrasse"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StandardBalkongOverBakkeniv\xe5",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardBalkongOverBakkeniv\xe5",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard balkong over bakkeniv\xe5"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"RekkverkGalvanisertGlass",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"RekkverkGalvanisertGlass",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Rekkverk galvanisert m. glass"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"RekkverkPulverlakkert",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"RekkverkPulverlakkert",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Rekkverk pulverlakkert (RAL 7024)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Alternativ",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Alternativ"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"PlattingVedInngangDxB",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Platting ved inngang DxB"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===d||void 0===d?void 0:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TerrasseUtenTrinnDxB",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Terrasse uten trinn DxB"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsx)(dL,{children:null===d||void 0===d?void 0:d.map(((e,t)=>(0,V.jsx)(vL,{value:e,children:e},t)))})})]})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(11))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),LL=VC.object({IsolerteInspeksjonsluker:VC.object({StandardOmrammingMedSilverBeslag:VC.boolean().optional(),KunSidebordBeiset:VC.boolean().optional(),"mellomstr\xf8k":VC.string().optional()}),Innvendig:VC.object({Taklist:VC.array(VC.string()).optional(),Gulvlist:VC.array(VC.string()).optional(),Gerikt:VC.array(VC.string()).optional(),EikIdeal:VC.string().optional()}),Kommentar:VC.string().optional()}),VL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(LL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Hvitmalt","Lakkert","Ubehandlet"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.ListverkogBelistning&&Object.entries(null===a||void 0===a?void 0:a.ListverkogBelistning).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,ListverkogBelistning:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(14))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Listverk og Belistning"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Isolerte inspeksjonsluker"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IsolerteInspeksjonsluker.StandardOmrammingMedSilverBeslag",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IsolerteInspeksjonsluker.StandardOmrammingMedSilverBeslag",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard omramming med Silver beslag"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IsolerteInspeksjonsluker.KunSidebordBeiset",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"KunSidebordBeiset",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Kun sidebord beiset (1 str\xf8k, hvit)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IsolerteInspeksjonsluker.mellomstr\xf8k",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"1 mellomstr\xf8k"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{className:"col-span-3 text-darkBlack font-medium text-base",children:"Innvendig"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Innvendig.Taklist",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Taklist 21x45"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:d.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Innvendig.Taklist",[...i,e]):c.setValue("Innvendig.Taklist",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Innvendig.Gulvlist",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Gulvlist 12x58"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:d.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Innvendig.Gulvlist",[...i,e]):c.setValue("Innvendig.Gulvlist",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Innvendig.Gerikt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Gerikt 12x58"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center flex-wrap gap-3 lg:gap-5",children:d.map((e=>{var r;return(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"checkbox",value:e,checked:null===(r=t.value)||void 0===r?void 0:r.includes(e),onChange:n=>{const r=n.target.checked,i=t.value||[];r?c.setValue("Innvendig.Gerikt",[...i,e]):c.setValue("Innvendig.Gerikt",i.filter((t=>t!==e)))}}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)}))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Innvendig.EikIdeal",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Eik ideal 15x45"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{className:"my-1 border-t border-[#DCDFEA] col-span-3"}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kommentar",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kommentar (listverk)"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(12))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),BL=VC.object({BalansertVentilasjon:VC.boolean().optional(),KundetilpassetPlasseringAggregat:VC.boolean().optional(),Date:VC.string().optional(),MarkSignature:VC.boolean().optional(),VentilatorNoremaTiltakshaver:VC.string().optional(),"Sentralst\xf8vsuger":VC.boolean().optional(),AntallKontakter:VC.string().optional(),Sugebrett:VC.string().optional(),Kommentar:VC.string().optional()}),UL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(BL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["Norema","Tiltakshaver"],u=["2","3","4","Alt"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.VentilasjonSentralst\u00f8vsuger&&Object.entries(null===a||void 0===a?void 0:a.VentilasjonSentralst\u00f8vsuger).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a,d,u]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,"VentilasjonSentralst\xf8vsuger":o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(15))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Ventilasjon og Sentralst\xf8vsuger"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BalansertVentilasjon",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"BalansertVentilasjon",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Balansert ventilasjon"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"KundetilpassetPlasseringAggregat",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"KundetilpassetPlasseringAggregat",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Kundetilpasset plassering av aggregat"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Date",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Date"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg dato",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"MarkSignature",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"MarkSignature",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"VentilatorNoremaTiltakshaver",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Ventilator fra Norema / tiltakshaver"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:d.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"radio",value:e,onChange:e=>{c.setValue("VentilatorNoremaTiltakshaver",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sentralst\xf8vsuger",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Sentralst\xf8vsuger",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Sentralst\xf8vsuger V-30"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"AntallKontakter",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Antall kontakter"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"radio",value:e,onChange:e=>{c.setValue("AntallKontakter",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Sugebrett",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Sugebrett"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsxs)(cL,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(hL,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(uL,{placeholder:"Velg"})}),(0,V.jsx)(mL,{className:"bg-white",children:(0,V.jsxs)(dL,{children:[(0,V.jsx)(vL,{value:"Abc",children:"Abc"}),(0,V.jsx)(vL,{value:"Xyz",children:"Xyz"})]})})]})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kommentar",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kommentar"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(13))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),zL=VC.object({IkkeRelevant:VC.boolean().optional(),StkPulverapparat:VC.boolean().optional(),LeveresDKFH:VC.boolean().optional()}),HL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(zL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Brannvern&&Object.entries(null===a||void 0===a?void 0:a.Brannvern).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,Brannvern:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(16))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Brannvern"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StkPulverapparat",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StkPulverapparat",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"1 stk. 6 kg pulverapparat"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"LeveresDKFH",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"LeveresDKFH",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveres av DK/FH"]})})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(14))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),KL=VC.object({IkkeRelevant:VC.boolean().optional(),Leveres:VC.boolean().optional(),"Utg\xe5r":VC.boolean().optional(),Punkt:VC.string().optional()}),qL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(KL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.TekniskeInstallasjoner&&Object.entries(null===a||void 0===a?void 0:a.TekniskeInstallasjoner).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,TekniskeInstallasjoner:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(17))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Tekniske Installasjoner"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"IkkeRelevant",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"IkkeRelevant",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Ikke relevant"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Leveres",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Leveres",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Leveres"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Utg\xe5r",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Utg\xe5r",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Utg\xe5r"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Punkt",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Punkt (referanse)"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(15))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),GL=VC.object({Byggeplassinformasjon:VC.boolean().optional(),StiftpakkeNr:VC.string().optional(),"ByggetillatelseVilk\xe5rDatert":VC.string().optional(),"Kj\xf8kkentegningDatert":VC.string().optional(),OverflateskjemaDatert:VC.string().optional(),FramdriftsplanDatert:VC.string().optional(),EnergiberegningTegn:VC.string().optional(),KontraktSignert:VC.boolean().optional(),"UtstyrslisteTilR\xf8rleggerDatert":VC.string().optional(),ProduktinfoInnvPanel:VC.boolean().optional(),StiftpakkeLimLeveresFor:VC.string().optional(),BestillingsoversiktDatert:VC.string().optional(),FargekodeFabrikkmalteProdukter:VC.string().optional(),MarkSignatureSelgerSelger:VC.boolean().optional(),MarkSignatureByggeleder:VC.boolean().optional(),MarkSignatureTiltakshaver:VC.boolean().optional()}),WL=(0,e.forwardRef)(((t,n)=>{let{handleNext:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(GL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));const d=["17\xb0","21\xb0","34\xb0"];return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.Sluttf\u00f8ringDokumentasjon&&Object.entries(null===a||void 0===a?void 0:a.Sluttf\u00f8ringDokumentasjon).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,"Sluttf\xf8ringDokumentasjon":o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r(),localStorage.setItem("currVerticalIndex",String(18))}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Sluttf\xf8ring og Dokumentasjon"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StiftpakkeLimLeveresFor",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm`,children:"Stiftpakke/lim leveres for"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:d.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-[#444CE7]`,type:"radio",value:e,onChange:e=>{c.setValue("StiftpakkeLimLeveresFor",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"StiftpakkeNr",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Stiftpakke nr."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"ByggetillatelseVilk\xe5rDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Byggetillatelse m/vilk\xe5r datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Kj\xf8kkentegningDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Kj\xf8kkentegning datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"OverflateskjemaDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Overflateskjema datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"FramdriftsplanDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Framdriftsplan datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"EnergiberegningTegn",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Energiberegning / tegn."}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv her",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"Byggeplassinformasjon",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"Byggeplassinformasjon",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Byggeplassinformasjon"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"KontraktSignert",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"KontraktSignert",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Kontrakt signert"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"UtstyrslisteTilR\xf8rleggerDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Utstyrsliste til r\xf8rlegger datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg dato",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"ProduktinfoInnvPanel",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"ProduktinfoInnvPanel",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Produktinfo innv. panel"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"BestillingsoversiktDatert",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Bestillingsoversikt datert"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Velg dato",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"date"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"FargekodeFabrikkmalteProdukter",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Fargekode fabrikkmalte produkter"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"NCS S 0502Y",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsxs)("div",{className:"mt-1 col-span-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-medium text-base mb-4",children:"Signering"}),(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"MarkSignatureSelgerSelger",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"MarkSignatureSelgerSelger",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature (Selger)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"MarkSignatureByggeleder",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"MarkSignatureByggeleder",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature (Byggeleder)"]})})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"MarkSignatureTiltakshaver",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"MarkSignatureTiltakshaver",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Mark as Signature (Tiltakshaver)"]})})}})})]})]})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(16))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"G\xe5 til romkonfigurator",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),XL=VC.object({StandardLeveranseLufieKrokFarge:VC.boolean().optional(),StandardLeveranseLufieKrokFargeText:VC.string().optional(),TakfotbeslagFarge:VC.string().optional(),"AntallNedl\xf8p":VC.string().optional(),"FargeNedl\xf8p":VC.string().optional(),OverliggereTilRenneknekter:VC.boolean().optional()}),YL=(0,e.forwardRef)(((t,n)=>{let{Next:r,handlePrevious:i,roomsData:a,setRoomsData:s}=t;const o=zn().pathname.split("/"),l=o.length>2?o[2]:null,c=l_({resolver:m_(XL)});(0,e.useImperativeHandle)(n,(()=>({validateForm:async()=>await c.trigger()})));return(0,e.useEffect)((()=>{a&&null!==a&&void 0!==a&&a.TakrennerBeslag&&Object.entries(null===a||void 0===a?void 0:a.TakrennerBeslag).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&c.setValue(t,n)}))}),[a]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(rN,{...c,children:(0,V.jsx)("form",{onSubmit:c.handleSubmit((async e=>{try{const t=Qf(tk,"room_configurator",String(l)),n=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),i=await Zm(t);if(!i.exists())throw new Error("Document does not exist!");const a=i.data(),o=lR(e),c={...a,TakrennerBeslag:o,id:l,updatedAt:n(new Date)};s(c),await tg(t,c),pe.success("Lagret",{position:"top-right"}),r()}catch(t){console.error("error:",t),pe.error("Something went wrong!",{position:"top-right"})}})),className:"relative",children:(0,V.jsxs)("div",{className:"border border-[#B9C0D4] rounded-lg",children:[(0,V.jsx)("div",{className:"text-darkBlack font-semibold text-lg p-5 border-b border-[#B9C0D4]",children:"Takrenner/beslag"}),(0,V.jsx)("div",{className:"p-4 md:p-5",children:(0,V.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-2 desktop:grid-cols-3 gap-4 md:gap-5",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)(aN,{control:c.control,name:"StandardLeveranseLufieKrokFarge",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"StandardLeveranseLufieKrokFarge",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Standard leveranse med lufie-krok, Farge"]})})}}),(0,V.jsx)(aN,{control:c.control,name:"StandardLeveranseLufieKrokFargeText",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})]}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"TakfotbeslagFarge",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Takfotbeslag farge"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"AntallNedl\xf8p",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Antall nedl\xf8p"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"FargeNedl\xf8p",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm",children:"Farge nedl\xf8p"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:c.control,name:"OverliggereTilRenneknekter",render:e=>{let{field:t}=e;return(0,V.jsx)(lN,{children:(0,V.jsxs)("p",{className:"text-sm flex gap-2 items-baseline "+(t.value,"text-black"),children:[(0,V.jsx)("input",{type:"checkbox",id:"OverliggereTilRenneknekter",checked:t.value||!1,onChange:e=>t.onChange(e.target.checked)}),"Overliggere til renneknekter"]})})}})})]})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center sticky bottom-0 bg-white z-50 border-t border-[#B9C0D4] rounded-b-lg p-4",children:[(0,V.jsx)("div",{onClick:()=>{c.reset(),i(),localStorage.setItem("currVerticalIndex",String(17))},children:(0,V.jsx)(Sk,{text:"Tilbake",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})})})})),ZL=t=>{let{Next:n,Prev:r}=t;const[i,a]=(0,e.useState)(1),[s,o]=(0,e.useState)([]);(0,e.useEffect)((()=>{if("undefined"!==typeof window){const e=localStorage.getItem("currVerticalIndex");a(e?Number(e):1)}}),[i]);const l=async()=>{var e,t;const n=null===(e=v[i-1])||void 0===e?void 0:e.content;if("function"===typeof(null===n||void 0===n||null===(t=n.props)||void 0===t?void 0:t.validateForm)){if(!await n.props.validateForm())return void(s.includes(i)||o([...s,i]));o(s.filter((e=>e!==i)))}if(i<v.length){a(i+1)}},c=()=>{if(i>1){a(i-1)}},d=(0,e.useRef)({}),u=zn().pathname.split("/"),h=u.length>2?u[2]:null,[p,f]=(0,e.useState)(!0),[m,g]=(0,e.useState)([]);(0,e.useEffect)((()=>{if(!h)return void f(!1);(async()=>{const e=await ak(h);e&&g(e),f(!1)})()}),[h]);const v=[{id:1,title:"Prosjektdetaljer",content:(0,V.jsx)(uR,{ref:e=>{d.current[1]=e},handleNext:l,Prev:r,roomsData:m,setRoomsData:g})},{id:2,title:"Leveransedetaljer",content:(0,V.jsx)(yL,{ref:e=>{d.current[2]=e},handleNext:l,handlePrevious:c,roomsData:m,setRoomsData:g})},{id:3,title:"Betong- og murerarbeid",content:(0,V.jsx)(kL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[3]=e},roomsData:m,setRoomsData:g})},{id:4,title:"Bjelkelag, gulv, himling",content:(0,V.jsx)(_L,{handleNext:l,handlePrevious:c,ref:e=>{d.current[4]=e},roomsData:m,setRoomsData:g})},{id:5,title:"Yttervegger",content:(0,V.jsx)(cR,{handleNext:l,handlePrevious:c,ref:e=>{d.current[5]=e},roomsData:m,setRoomsData:g})},{id:6,title:"Innervegger",content:(0,V.jsx)(CL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[6]=e},roomsData:m,setRoomsData:g})},{id:7,title:"Tak/Taktekking",content:(0,V.jsx)(EL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[7]=e},roomsData:m,setRoomsData:g})},{id:8,title:"D\xf8rer",content:(0,V.jsx)(TL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[8]=e},roomsData:m,setRoomsData:g})},{id:9,title:"Vinduer",content:(0,V.jsx)(IL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[9]=e},roomsData:m,setRoomsData:g})},{id:10,title:"Kj\xf8kken, Garderobe, Bad",content:(0,V.jsx)(RL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[10]=e},roomsData:m,setRoomsData:g})},{id:11,title:"Trapp og Luker",content:(0,V.jsx)(DL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[11]=e},roomsData:m,setRoomsData:g})},{id:12,title:"Balkong & Terrasse",content:(0,V.jsx)(ML,{handleNext:l,handlePrevious:c,ref:e=>{d.current[12]=e},roomsData:m,setRoomsData:g})},{id:13,title:"Listverk og Belistning",content:(0,V.jsx)(VL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[13]=e},roomsData:m,setRoomsData:g})},{id:14,title:"Ventilasjon og Sentralst\xf8vsuger",content:(0,V.jsx)(UL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[14]=e},roomsData:m,setRoomsData:g})},{id:15,title:"Brannvern",content:(0,V.jsx)(HL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[15]=e},roomsData:m,setRoomsData:g})},{id:16,title:"Tekniske Installasjoner",content:(0,V.jsx)(qL,{handleNext:l,handlePrevious:c,ref:e=>{d.current[16]=e},roomsData:m,setRoomsData:g})},{id:17,title:"Sluttf\xf8ring og Dokumentasjon",content:(0,V.jsx)(WL,{handlePrevious:c,handleNext:l,ref:e=>{d.current[17]=e},roomsData:m,setRoomsData:g})},{id:18,title:"Takrenner/beslag",content:(0,V.jsx)(YL,{handlePrevious:c,Next:n,ref:e=>{d.current[18]=e},roomsData:m,setRoomsData:g})}];return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple px-4 md:px-6 desktop:px-8 py-3",children:[(0,V.jsx)("h3",{className:"text-darkBlack font-medium text-xl md:text-[24px] lg:text-[28px] desktop:text-[2rem] desktop:leading-[44.8px] mb-2",children:"Boligkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-sm md:text-base desktop:text-lg",children:"Her melder du opp huset til produksjon til BoligPartner."})]}),(0,V.jsx)("div",{className:"px-4 md:px-6 desktop:px-8 my-12",children:(0,V.jsx)(rR,{steps:v,currentStep:i,setCurrentStep:a,invalidSteps:s,formRefs:d,setInvalidSteps:o})}),p&&(0,V.jsx)(li,{})]})},QL=()=>{const[t,n]=(0,e.useState)(null);(0,e.useEffect)((()=>{if("undefined"!==typeof window){const e=localStorage.getItem("currIndexBolig");n(e?Number(e):0)}}),[t]);const r=()=>{"number"===typeof t&&t<a.length-1&&n(t+1)},i=()=>{"number"===typeof t&&t>0&&n(t-1)};(0,e.useEffect)((()=>{window.scrollTo(0,0)}),[t]);const a=[{name:"Romkonfigurator",component:(0,V.jsx)(eR,{Prev:i,Next:r})},{name:"Oppmelding av tiltak",component:(0,V.jsx)(ZL,{Next:r,Prev:i})},{name:"Oppsummering",component:(0,V.jsx)(nR,{})}];return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(H$,{steps:a,currIndex:t,setCurrIndex:n})})},JL=pk("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),eV=pk("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),tV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("div",{className:"relative w-full overflow-auto",children:(0,V.jsx)("table",{ref:t,className:rk("w-full caption-bottom text-sm",n),...r})})}));tV.displayName="Table";const nV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("thead",{ref:t,className:rk("[&_tr]:border-b border-gray2",n),...r})}));nV.displayName="TableHeader";const rV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("tbody",{ref:t,className:rk("[&_tr:last-child]:border-0",n),...r})}));rV.displayName="TableBody";const iV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("tfoot",{ref:t,className:rk("border-t border-gray2 bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",n),...r})}));iV.displayName="TableFooter";const aV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("tr",{ref:t,className:rk("border-b border-gray2 transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",n),...r})}));aV.displayName="TableRow";const sV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("th",{ref:t,className:rk("h-10 px-6 py-3 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] text-[#667085] dark:text-zinc-400 bg-[#F9FAFB]",n),...r})}));sV.displayName="TableHead";const oV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("td",{ref:t,className:rk("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...r})}));oV.displayName="TableCell";const lV=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("caption",{ref:t,className:rk("mt-4 text-sm text-zinc-500 dark:text-zinc-400",n),...r})}));function cV(e,t){return"function"===typeof e?e(t):e}function dV(e,t){return n=>{t.setState((t=>({...t,[e]:cV(n,t[e])})))}}function uV(e){return e instanceof Function}function hV(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const i=t(e);null!=i&&i.length&&r(i)}))};return r(e),n}function pV(e,t,n){let r,i=[];return a=>{let s;n.key&&n.debug&&(s=Date.now());const o=e(a),l=o.length!==i.length||o.some(((e,t)=>i[t]!==e));if(!l)return r;let c;if(i=o,n.key&&n.debug&&(c=Date.now()),r=t(...o),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-s))/100,t=Math.round(100*(Date.now()-c))/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c\u23f1 ${i(t,5)} /${i(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function fV(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}lV.displayName="TableCaption";const mV="debugHeaders";function gV(e,t,n){var r;let i={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(i,e)})),i}const vV={createTable:e=>{e.getHeaderGroups=pV((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,i)=>{var a,s;const o=null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[],l=null!=(s=null==i?void 0:i.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?s:[];return xV(t,[...o,...n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id)))),...l],e)}),fV(e.options,mV)),e.getCenterHeaderGroups=pV((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,i)=>xV(t,n=n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id)))),e,"center")),fV(e.options,mV)),e.getLeftHeaderGroups=pV((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var i;const a=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[];return xV(t,a,e,"left")}),fV(e.options,mV)),e.getRightHeaderGroups=pV((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var i;const a=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[];return xV(t,a,e,"right")}),fV(e.options,mV)),e.getFooterGroups=pV((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),fV(e.options,mV)),e.getLeftFooterGroups=pV((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),fV(e.options,mV)),e.getCenterFooterGroups=pV((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),fV(e.options,mV)),e.getRightFooterGroups=pV((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),fV(e.options,mV)),e.getFlatHeaders=pV((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),fV(e.options,mV)),e.getLeftFlatHeaders=pV((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),fV(e.options,mV)),e.getCenterFlatHeaders=pV((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),fV(e.options,mV)),e.getRightFlatHeaders=pV((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),fV(e.options,mV)),e.getCenterLeafHeaders=pV((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),fV(e.options,mV)),e.getLeftLeafHeaders=pV((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),fV(e.options,mV)),e.getRightLeafHeaders=pV((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),fV(e.options,mV)),e.getLeafHeaders=pV((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,i,a,s,o,l;return[...null!=(r=null==(i=e[0])?void 0:i.headers)?r:[],...null!=(a=null==(s=t[0])?void 0:s.headers)?a:[],...null!=(o=null==(l=n[0])?void 0:l.headers)?o:[]].map((e=>e.getLeafHeaders())).flat()}),fV(e.options,mV))}};function xV(e,t,n,r){var i,a;let s=0;const o=function(e,t){void 0===t&&(t=1),s=Math.max(s,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&o(e.columns,t+1)}),0)};o(e);let l=[];const c=(e,t)=>{const i={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},a=[];e.forEach((e=>{const s=[...a].reverse()[0];let o,l=!1;if(e.column.depth===i.depth&&e.column.parent?o=e.column.parent:(o=e.column,l=!0),s&&(null==s?void 0:s.column)===o)s.subHeaders.push(e);else{const i=gV(n,o,{id:[r,t,o.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${a.filter((e=>e.column===o)).length}`:void 0,depth:t,index:a.length});i.subHeaders.push(e),a.push(i)}i.headers.push(e),e.headerGroup=i})),l.push(i),t>0&&c(a,t-1)},d=t.map(((e,t)=>gV(n,e,{depth:s,index:t})));c(d,s-1),l.reverse();const u=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],u(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:i}=e;t+=n,r.push(i)}))):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return u(null!=(i=null==(a=l[0])?void 0:a.headers)?i:[]),l}const bV=(e,t,n,r,i,a,s)=>{let o={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(o._valuesCache.hasOwnProperty(t))return o._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(o._valuesCache[t]=n.accessorFn(o.original,r),o._valuesCache[t]):void 0},getUniqueValues:t=>{if(o._uniqueValuesCache.hasOwnProperty(t))return o._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(o._uniqueValuesCache[t]=n.columnDef.getUniqueValues(o.original,r),o._uniqueValuesCache[t]):(o._uniqueValuesCache[t]=[o.getValue(t)],o._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=o.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=a?a:[],getLeafRows:()=>hV(o.subRows,(e=>e.subRows)),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let e=[],t=o;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:pV((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:pV((()=>[e,n,t,i]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),fV(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(i,n,t,e)}),{}),i}(e,o,t,t.id)))),fV(e.options,"debugRows")),_getAllCellsByColumnId:pV((()=>[o.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),fV(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const t=e._features[l];null==t||null==t.createRow||t.createRow(o,e)}return o},yV={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},wV=(e,t,n)=>{var r,i;const a=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(i=e.getValue(t))||null==(i=i.toString())||null==(i=i.toLowerCase())?void 0:i.includes(a))};wV.autoRemove=e=>PV(e);const kV=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};kV.autoRemove=e=>PV(e);const SV=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};SV.autoRemove=e=>PV(e);const _V=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};_V.autoRemove=e=>PV(e);const jV=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));jV.autoRemove=e=>PV(e)||!(null!=e&&e.length);const CV=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));CV.autoRemove=e=>PV(e)||!(null!=e&&e.length);const NV=(e,t,n)=>e.getValue(t)===n;NV.autoRemove=e=>PV(e);const EV=(e,t,n)=>e.getValue(t)==n;EV.autoRemove=e=>PV(e);const AV=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};AV.resolveFilterValue=e=>{let[t,n]=e,r="number"!==typeof t?parseFloat(t):t,i="number"!==typeof n?parseFloat(n):n,a=null===t||Number.isNaN(r)?-1/0:r,s=null===n||Number.isNaN(i)?1/0:i;if(a>s){const e=a;a=s,s=e}return[a,s]},AV.autoRemove=e=>PV(e)||PV(e[0])&&PV(e[1]);const TV={includesString:wV,includesStringSensitive:kV,equalsString:SV,arrIncludes:_V,arrIncludesAll:jV,arrIncludesSome:CV,equals:NV,weakEquals:EV,inNumberRange:AV};function PV(e){return void 0===e||null===e||""===e}const IV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:dV("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"===typeof r?TV.includesString:"number"===typeof r?TV.inNumberRange:"boolean"===typeof r||null!==r&&"object"===typeof r?TV.equals:Array.isArray(r)?TV.arrIncludes:TV.weakEquals},e.getFilterFn=()=>{var n,r;return uV(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:TV[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),i=null==t?void 0:t.find((t=>t.id===e.id)),a=cV(n,i?i.value:void 0);var s;if($V(r,a,e))return null!=(s=null==t?void 0:t.filter((t=>t.id!==e.id)))?s:[];const o={id:e.id,value:a};var l;return i?null!=(l=null==t?void 0:t.map((t=>t.id===e.id?o:t)))?l:[]:null!=t&&t.length?[...t,o]:[o]}))}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=cV(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){if($V(t.getFilterFn(),e.value,t))return!1}return!0}))}))},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function $V(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||"undefined"===typeof t||"string"===typeof t&&!t}const RV={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"===typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,i;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)))})),[r,i]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++n,r+=i)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(!function(e){return Array.isArray(e)&&e.every((e=>"number"===typeof e))}(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),i=n.sort(((e,t)=>e-t));return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},OV={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:dV("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"===typeof r?RV.sum:"[object Date]"===Object.prototype.toString.call(r)?RV.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return uV(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:RV[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}};const DV={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:dV("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=pV((e=>[zV(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),fV(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=zV(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=zV(t,n);return(null==(r=i[i.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=pV((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let i=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&i.push(n.splice(r,1)[0])}i=[...i,...n]}else i=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));if("remove"===n)return r;const i=t.map((t=>e.find((e=>e.id===t)))).filter(Boolean);return[...i,...r]}(i,t,n)}),fV(e.options,"debugTable"))}},FV={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:dV("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,i,a,s,o,l;return"right"===n?{left:(null!=(a=null==e?void 0:e.left)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(s=null==e?void 0:e.right)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(o=null==e?void 0:e.left)?o:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(i=null==e?void 0:e.right)?i:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,i;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(i=t.options.enableColumnPinning)?i:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:i}=t.getState().columnPinning,a=n.some((e=>null==r?void 0:r.includes(e))),s=n.some((e=>null==i?void 0:i.includes(e)));return a?"left":!!s&&"right"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[i])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=pV((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),fV(t.options,"debugRows")),e.getLeftVisibleCells=pV((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})));return n}),fV(t.options,"debugRows")),e.getRightVisibleCells=pV((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})));return n}),fV(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var i,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.left)?void 0:i.length)||(null==(a=r.right)?void 0:a.length))},e.getLeftLeafColumns=pV((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),fV(e.options,"debugColumns")),e.getRightLeafColumns=pV((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),fV(e.options,"debugColumns")),e.getCenterLeafColumns=pV((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),fV(e.options,"debugColumns"))}},MV={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},LV={getDefaultColumnDef:()=>MV,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:dV("columnSizing",e),onColumnSizingInfoChange:dV("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:MV.minSize,null!=(r=null!=a?a:e.columnDef.size)?r:MV.size),null!=(i=e.columnDef.maxSize)?i:MV.maxSize)},e.getStart=pV((e=>[e,zV(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),fV(t.options,"debugColumns")),e.getAfter=pV((e=>[e,zV(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),fV(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=null==r?void 0:r.getCanResize();return a=>{if(!r||!i)return;if(null==a.persist||a.persist(),BV(a)&&a.touches&&a.touches.length>1)return;const s=e.getSize(),o=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],l=BV(a)?Math.round(a.touches[0].clientX):a.clientX,c={},d=(e,n)=>{"number"===typeof n&&(t.setColumnSizingInfo((e=>{var r,i;const a="rtl"===t.options.columnResizeDirection?-1:1,s=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*a,o=Math.max(s/(null!=(i=null==e?void 0:e.startSize)?i:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;c[t]=Math.round(100*Math.max(n+n*o,0))/100})),{...e,deltaOffset:s,deltaPercentage:o}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...c}))))},u=e=>d("move",e),h=e=>{d("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},p=n||"undefined"!==typeof document?document:null,f={moveHandler:e=>u(e.clientX),upHandler:e=>{null==p||p.removeEventListener("mousemove",f.moveHandler),null==p||p.removeEventListener("mouseup",f.upHandler),h(e.clientX)}},m={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),u(e.touches[0].clientX),!1),upHandler:e=>{var t;null==p||p.removeEventListener("touchmove",m.moveHandler),null==p||p.removeEventListener("touchend",m.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(null==(t=e.touches[0])?void 0:t.clientX)}},g=!!function(){if("boolean"===typeof VV)return VV;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(UB){e=!1}return VV=e,VV}()&&{passive:!1};BV(a)?(null==p||p.addEventListener("touchmove",m.moveHandler,g),null==p||p.addEventListener("touchend",m.upHandler,g)):(null==p||p.addEventListener("mousemove",f.moveHandler,g),null==p||p.addEventListener("mouseup",f.upHandler,g)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let VV=null;function BV(e){return"touchstart"===e.type}const UV={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:dV("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const i=e.columns;return null==(n=i.length?i.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=pV((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),fV(t.options,"debugRows")),e.getVisibleCells=pV((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),fV(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>pV((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),fV(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function zV(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const HV={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:dV("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"===typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var i;const a=!0===r||!(null==r||!r[e.id]);let s={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{s[e]=!0})):s=r,n=null!=(i=n)?i:!a,!a&&n)return{...s,[e.id]:!0};if(a&&!n){const{[e.id]:t,...n}=s;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,i;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(i=e.subRows)||!i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},KV={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:dV("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>cV(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=cV(t,n.pageIndex);const i="undefined"===typeof e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,cV(t,e.pageSize)),r=e.pageSize*e.pageIndex,i=Math.floor(r/n);return{...e,pageIndex:i,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let i=cV(t,null!=(r=e.options.pageCount)?r:-1);return"number"===typeof i&&(i=Math.max(-1,i)),{...n,pageCount:i}})),e.getPageOptions=pV((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),fV(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},qV={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:dV("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],s=i?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],o=new Set([...s,e.id,...a]);t.setRowPinning((e=>{var t,r,i,a,s,l;return"bottom"===n?{top:(null!=(i=null==e?void 0:e.top)?i:[]).filter((e=>!(null!=o&&o.has(e)))),bottom:[...(null!=(a=null==e?void 0:e.bottom)?a:[]).filter((e=>!(null!=o&&o.has(e)))),...Array.from(o)]}:"top"===n?{top:[...(null!=(s=null==e?void 0:e.top)?s:[]).filter((e=>!(null!=o&&o.has(e)))),...Array.from(o)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter((e=>!(null!=o&&o.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=o&&o.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=o&&o.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return"function"===typeof r?r(e):null==(n=null!=r?r:i)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some((e=>null==r?void 0:r.includes(e))),s=n.some((e=>null==i?void 0:i.includes(e)));return a?"top":!!s&&"bottom"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=null==(n="top"===i?t.getTopRows():t.getBottomRows())?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==a?void 0:a.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var i,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.top)?void 0:i.length)||(null==(a=r.bottom)?void 0:a.length))},e._getPinnedRows=(t,n,r)=>{var i;return(null==(i=e.options.keepPinnedRows)||i?(null!=n?n:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))},e.getTopRows=pV((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),fV(e.options,"debugRows")),e.getBottomRows=pV((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),fV(e.options,"debugRows")),e.getCenterRows=pV((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),fV(e.options,"debugRows"))}},GV={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:dV("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t="undefined"!==typeof t?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):i.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r="undefined"!==typeof t?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach((t=>{WV(i,t.id,r,!0,e)})),i})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=pV((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?XV(e,n):{rows:[],flatRows:[],rowsById:{}}),fV(e.options,"debugTable")),e.getFilteredSelectedRowModel=pV((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?XV(e,n):{rows:[],flatRows:[],rowsById:{}}),fV(e.options,"debugTable")),e.getGroupedSelectedRowModel=pV((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?XV(e,n):{rows:[],flatRows:[],rowsById:{}}),fV(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection((a=>{var s;if(n="undefined"!==typeof n?n:!i,e.getCanSelect()&&i===n)return a;const o={...a};return WV(o,e.id,n,null==(s=null==r?void 0:r.selectChildren)||s,t),o}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return YV(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===ZV(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===ZV(e,n)},e.getCanSelect=()=>{var n;return"function"===typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"===typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"===typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},WV=(e,t,n,r,i)=>{var a;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(a=s.subRows)&&a.length&&s.getCanSelectSubRows()&&s.subRows.forEach((t=>WV(e,t.id,n,r,i)))};function XV(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(e,t){return e.map((e=>{var t;const s=YV(e,n);if(s&&(r.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:a(e.subRows)}),s)return e})).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function YV(e,t){var n;return null!=(n=t[e.id])&&n}function ZV(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let i=!0,a=!1;return e.subRows.forEach((e=>{if((!a||i)&&(e.getCanSelect()&&(YV(e,t)?a=!0:i=!1),e.subRows&&e.subRows.length)){const n=ZV(e,t);"all"===n?a=!0:"some"===n?(a=!0,i=!1):i=!1}})),i?"all":!!a&&"some"}const QV=/([0-9]+)/gm;function JV(e,t){return e===t?0:e>t?1:-1}function eB(e){return"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"===typeof e?e:""}function tB(e,t){const n=e.split(QV).filter(Boolean),r=t.split(QV).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),i=parseInt(e,10),a=parseInt(t,10),s=[i,a].sort();if(isNaN(s[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(s[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}}return n.length-r.length}const nB={alphanumeric:(e,t,n)=>tB(eB(e.getValue(n)).toLowerCase(),eB(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>tB(eB(e.getValue(n)),eB(t.getValue(n))),text:(e,t,n)=>JV(eB(e.getValue(n)).toLowerCase(),eB(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>JV(eB(e.getValue(n)),eB(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},basic:(e,t,n)=>JV(e.getValue(n),t.getValue(n))},rB={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:dV("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return nB.datetime;if("string"===typeof n&&(r=!0,n.split(QV).length>1))return nB.alphanumeric}return r?nB.text:nB.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"===typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return uV(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:nB[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a="undefined"!==typeof n&&null!==n;t.setSorting((s=>{const o=null==s?void 0:s.find((t=>t.id===e.id)),l=null==s?void 0:s.findIndex((t=>t.id===e.id));let c,d=[],u=a?n:"desc"===i;var h;(c=null!=s&&s.length&&e.getCanMultiSort()&&r?o?"toggle":"add":null!=s&&s.length&&l!==s.length-1?"replace":o?"toggle":"replace","toggle"===c&&(a||i||(c="remove")),"add"===c)?(d=[...s,{id:e.id,desc:u}],d.splice(0,d.length-(null!=(h=t.options.maxMultiSortColCount)?h:Number.MAX_SAFE_INTEGER))):d="toggle"===c?s.map((t=>t.id===e.id?{...t,desc:u}:t)):"remove"===c?s.filter((t=>t.id!==e.id)):[{id:e.id,desc:u}];return d}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),s=e.getIsSorted();return s?!!(s===a||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===s?"asc":"desc"):a},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},iB=[vV,UV,DV,FV,yV,IV,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:dV("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"===typeof r||"number"===typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(i=t.options.enableFilters)||i)&&(null==(a=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||a)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>TV.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return uV(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:TV[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},rB,OV,HV,KV,qV,GV,LV];function aB(e){var t,n;const r=[...iB,...null!=(t=e._features)?t:[]];let i={_features:r};const a=i._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(i))),{});let s={...null!=(n=e.initialState)?n:{}};i._features.forEach((e=>{var t;s=null!=(t=null==e.getInitialState?void 0:e.getInitialState(s))?t:s}));const o=[];let l=!1;const c={_features:r,options:{...a,...e},initialState:s,_queue:e=>{o.push(e),l||(l=!0,Promise.resolve().then((()=>{for(;o.length;)o.shift()();l=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{i.setState(i.initialState)},setOptions:e=>{const t=cV(e,i.options);i.options=(e=>i.options.mergeOptions?i.options.mergeOptions(a,e):{...a,...e})(t)},getState:()=>i.options.state,setState:e=>{null==i.options.onStateChange||i.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==i.options.getRowId?void 0:i.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?i.getPrePaginationRowModel():i.getRowModel()).rowsById[e];if(!n&&(n=i.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:pV((()=>[i.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...i._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),fV(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:pV((()=>[i._getColumnDefs()]),(e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map((e=>{const a=function(e,t,n,r){var i,a;const s={...e._getDefaultColumnDef(),...t},o=s.accessorKey;let l,c=null!=(i=null!=(a=s.id)?a:o?"function"===typeof String.prototype.replaceAll?o.replaceAll(".","_"):o.replace(/\./g,"_"):void 0)?i:"string"===typeof s.header?s.header:void 0;if(s.accessorFn?l=s.accessorFn:o&&(l=o.includes(".")?e=>{let t=e;for(const r of o.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[s.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:l,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:pV((()=>[!0]),(()=>{var e;return[d,...null==(e=d.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),fV(e.options,"debugColumns")),getLeafColumns:pV((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=d.columns)&&t.length){let t=d.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[d]}),fV(e.options,"debugColumns"))};for(const u of e._features)null==u.createColumn||u.createColumn(d,e);return d}(i,e,r,n),s=e;return a.columns=s.columns?t(s.columns,a,r+1):[],a}))};return t(e)}),fV(e,"debugColumns")),getAllFlatColumns:pV((()=>[i.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),fV(e,"debugColumns")),_getAllFlatColumnsById:pV((()=>[i.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),fV(e,"debugColumns")),getAllLeafColumns:pV((()=>[i.getAllColumns(),i._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),fV(e,"debugColumns")),getColumn:e=>i._getAllFlatColumnsById()[e]};Object.assign(i,c);for(let d=0;d<i._features.length;d++){const e=i._features[d];null==e||null==e.createTable||e.createTable(i)}return i}function sB(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function oB(t,n){return t?function(e){return"function"===typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=t)||"function"===typeof r||function(e){return"object"===typeof e&&"symbol"===typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?e.createElement(t,n):t:null;var r}const lB=__webpack_require__.p+"static/media/Ic_search.d0212c92f08c853ef9e4c155ff66b447.svg",cB=()=>{var t;const[n,r]=(0,e.useState)(1),[i,a]=(0,e.useState)([]),[s,o]=(0,e.useState)(""),l=qn(),[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(null),[p,f]=(0,e.useState)(!0),m=zn().pathname.split("/"),g=m.length>2?m[2]:null,v=async()=>{if(g){f(!0);try{const e=await ik(g);if(e&&e.KundeInfo){const t=e.KundeInfo.sort(((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()));a(t)}}catch(e){console.error("Error fetching husmodell data:",e)}finally{f(!1)}}else f(!1)};(0,e.useEffect)((()=>{g&&v()}),[g]);const x=(0,e.useMemo)((()=>i.filter((e=>{var t;return null===(t=e.Kundenavn)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase())}))),[i,s]),b=(0,e.useMemo)((()=>[{accessorKey:"Kundenavn",header:"Kundenavn",cell:e=>{let{row:t}=e;return(0,V.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.Kundenavn})}},{accessorKey:"Anleggsadresse",header:"Anleggsadresse",cell:e=>{let{row:t}=e;return(0,V.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.Anleggsadresse})}},{accessorKey:"Mobilnummer",header:"Mobilnummer",cell:e=>{let{row:t}=e;return(0,V.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.mobileNummer})}},{accessorKey:"EPost",header:"EPost",cell:e=>{let{row:t}=e;return(0,V.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.EPost})}},{accessorKey:"Kundenummer",header:"Kundenummer",cell:e=>{let{row:t}=e;return(0,V.jsx)("p",{className:"text-sm font-medium text-black w-max",children:t.original.Kundenummer})}},{accessorKey:"sisteoppdatertav",header:"Siste oppdatert av",cell:e=>{let{row:t}=e;return(0,V.jsx)("div",{className:"flex items-start gap-3",children:(0,V.jsx)("p",{className:"text-sm font-medium text-black w-max",children:sk(t.original.updatedAt)})})}},{id:"action",header:"Action",cell:e=>{let{row:t}=e;return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,V.jsx)(_k,{className:"h-5 w-5 text-primary cursor-pointer",onClick:()=>l(`/se-series/${g}/edit-husmodell/${t.original.uniqueId}`)}),(0,V.jsx)(JL,{className:"h-5 w-5 text-primary cursor-pointer",onClick:()=>(e=>{h(e),d(!0)})(t.original.uniqueId)})]})})}}]),[l]),y=(0,e.useMemo)((()=>{const e=10*(n-1);return x.slice(e,e+10)}),[x,n]),w=function(t){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=e.useState((()=>({current:aB(n)}))),[i,a]=e.useState((()=>r.current.initialState));return r.current.setOptions((e=>({...e,...t,state:{...i,...t.state},onStateChange:e=>{a(e),null==t.onStateChange||t.onStateChange(e)}}))),r.current}({data:y,columns:b,getCoreRowModel:e=>pV((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,i,a){void 0===i&&(i=0);const s=[];for(let l=0;l<t.length;l++){const c=bV(e,e._getRowId(t[l],l,a),t[l],l,i,void 0,null==a?void 0:a.id);var o;n.flatRows.push(c),n.rowsById[c.id]=c,s.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[l],l),null!=(o=c.originalSubRows)&&o.length&&(c.subRows=r(c.originalSubRows,i+1,c)))}return s};return n.rows=r(t),n}),fV(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),getPaginationRowModel:e=>pV((()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded]),((t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:i}=t;let{rows:a,flatRows:s,rowsById:o}=n;const l=r*i,c=l+r;let d;a=a.slice(l,c),d=e.options.paginateExpandedRows?{rows:a,flatRows:s,rowsById:o}:sB({rows:a,flatRows:s,rowsById:o}),d.flatRows=[];const u=e=>{d.flatRows.push(e),e.subRows.length&&e.subRows.forEach(u)};return d.rows.forEach(u),d}),fV(e.options,"debugTable")),getSortedRowModel:e=>pV((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,i=[],a=r.filter((t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()})),s={};a.forEach((t=>{const n=e.getColumn(t.id);n&&(s[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}));const o=e=>{const t=e.map((e=>({...e})));return t.sort(((e,t)=>{for(let r=0;r<a.length;r+=1){var n;const i=a[r],o=s[i.id],l=o.sortUndefined,c=null!=(n=null==i?void 0:i.desc)&&n;let d=0;if(l){const n=void 0===e.getValue(i.id),r=void 0===t.getValue(i.id);if(n||r){if("first"===l)return n?-1:1;if("last"===l)return n?1:-1;d=n&&r?0:n?l:-l}}if(0===d&&(d=o.sortingFn(e,t,i.id)),0!==d)return c&&(d*=-1),o.invertSorting&&(d*=-1),d}return e.index-t.index})),t.forEach((e=>{var t;i.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=o(e.subRows))})),t};return{rows:o(n.rows),flatRows:i,rowsById:n.rowsById}}),fV(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),state:{pagination:{pageIndex:n-1,pageSize:10}},pageCount:Math.ceil(x.length/10),manualPagination:!0,onPaginationChange:e=>{if("function"===typeof e){const t=e({pageIndex:n-1,pageSize:10});r(t.pageIndex+1)}}});return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"mb-2 flex items-center justify-between bg-lightPurple rounded-[12px] py-3 px-4",children:(0,V.jsxs)("div",{className:"flex items-center border border-gray1 shadow-shadow1 bg-[#fff] gap-2 rounded-lg py-[10px] px-[14px]",children:[(0,V.jsx)("img",{src:lB,alt:"search"}),(0,V.jsx)("input",{type:"text",placeholder:"S\xf8k etter lead",className:"focus-within:outline-none",value:s,onChange:e=>o(e.target.value)})]})}),(0,V.jsxs)("div",{className:"rounded-lg border border-gray2 shadow-shadow2 overflow-hidden",children:[(0,V.jsxs)(tV,{children:[(0,V.jsx)(nV,{children:w.getHeaderGroups().map((e=>(0,V.jsx)(aV,{className:"hover:bg-transparent",children:e.headers.map((e=>(0,V.jsx)(sV,{className:"h-8 text-sm",children:oB(e.column.columnDef.header,e.getContext())},e.id)))},e.id)))}),(0,V.jsx)(rV,{children:p?(0,V.jsx)(aV,{children:(0,V.jsx)(oV,{colSpan:b.length,className:"h-24 text-center",children:(0,V.jsx)(eV,{className:"w-6 h-6 animate-spin mx-auto"})})}):0===x.length?(0,V.jsx)(aV,{children:(0,V.jsx)(oV,{colSpan:b.length,className:"h-24 text-center",children:"No results."})}):(null===(t=w.getRowModel().rows)||void 0===t?void 0:t.length)&&w.getRowModel().rows.map((e=>(0,V.jsx)(aV,{"data-state":e.getIsSelected()&&"selected",className:"hover:bg-muted/50",children:e.getVisibleCells().map((e=>(0,V.jsx)(oV,{className:"px-6 py-3",children:oB(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))})]}),(0,V.jsxs)("div",{className:"flex justify-between items-center py-4 px-6 border-t border-gray2",children:[(0,V.jsx)("button",{className:"px-[14px] py-2 rounded-lg disabled:opacity-50 shadow-shadow1 border border-gray1 text-black font-semibold text-sm",onClick:()=>w.previousPage(),disabled:!w.getCanPreviousPage(),children:"Forrige"}),(0,V.jsxs)("span",{className:"text-black text-sm",children:["Side ",(0,V.jsx)("span",{className:"font-semibold",children:n})," av"," ",(0,V.jsx)("span",{className:"font-semibold",children:w.getPageCount()})]}),(0,V.jsx)("button",{className:"px-[14px] py-2 rounded-lg disabled:opacity-50 shadow-shadow1 border border-gray1 text-black font-semibold text-sm",onClick:()=>w.nextPage(),disabled:!w.getCanNextPage(),children:"Neste"})]})]}),c&&(0,V.jsx)(yk,{onClose:()=>{d(!c)},isOpen:!0,children:(0,V.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,V.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,V.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,V.jsx)("div",{onClick:()=>d(!1),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)("div",{onClick:()=>(async e=>{try{const t=Qf(tk,"housemodell_configure_broker",String(g)),n=await Zm(t);if(n.exists()){const r=n.data(),i=((null===r||void 0===r?void 0:r.KundeInfo)||[]).filter((t=>t.uniqueId!==e));await tg(t,{KundeInfo:i,updatedAt:(new Date).toISOString()}),Be.success("Slettet",{position:"top-right"}),v(),d(!1)}}catch(t){console.error("Error deleting entry from KundeInfo:",t),Be.error("Noe gikk galt ved sletting.")}})(u),children:(0,V.jsx)(Sk,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})})]})},dB=()=>{const e=zn().pathname.split("/"),t=e.length>2?e[2]:null;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"py-4 px-4 md:px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 md:mb-6",children:[(0,V.jsx)(Qr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(qN,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Kundeopplysninger"})]}),(0,V.jsxs)("div",{className:"flex sm:items-center gap-3 justify-between mb-4 md:mb-5",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-2xl md:text-[28px] desktop:text-[32px]",children:"Kundeopplysninger"}),(0,V.jsx)("div",{children:(0,V.jsx)(Sk,{text:"Legg til",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",path:`/se-series/${t}/add-husmodell`})})]})]}),(0,V.jsx)("div",{className:"py-4 px-4 md:px-6",children:(0,V.jsx)(cB,{})})]})},uB=()=>xk()?(0,V.jsx)(fr,{to:"/Husmodell",replace:!0}):(0,V.jsx)(mr,{});var hB=__webpack_require__(825),pB=null;function fB(e,t){if("number"!==typeof(e=e||CB))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(SB(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return hB.randomBytes(e)}catch{}if(!pB)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return pB(e)}(jB),jB)),n.join("")}function mB(e,t,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof e&&(n=e,e=void 0),"undefined"===typeof e)e=CB;else if("number"!==typeof e)throw Error("illegal arguments: "+typeof e);function r(t){bB((function(){try{t(null,fB(e))}catch(UB){t(UB)}}))}if(!n)return new Promise((function(e,t){r((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);r(n)}function gB(e,t){if("undefined"===typeof t&&(t=CB),"number"===typeof t&&(t=fB(t)),"string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return DB(e,t)}function vB(e,t,n,r){function i(n){"string"===typeof e&&"number"===typeof t?mB(t,(function(t,i){DB(e,i,n,r)})):"string"===typeof e&&"string"===typeof t?DB(e,t,n,r):bB(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise((function(e,t){i((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);i(n)}function xB(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return 0===n}var bB="undefined"!==typeof process&&process&&"function"===typeof process.nextTick?"function"===typeof setImmediate?setImmediate:process.nextTick:setTimeout;function yB(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}var wB="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),kB=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function SB(e,t){var n,r,i=0,a=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(n=255&e[i++],a.push(wB[n>>2&63]),n=(3&n)<<4,i>=t){a.push(wB[63&n]);break}if(n|=(r=255&e[i++])>>4&15,a.push(wB[63&n]),n=(15&r)<<2,i>=t){a.push(wB[63&n]);break}n|=(r=255&e[i++])>>6&3,a.push(wB[63&n]),a.push(wB[63&r])}return a.join("")}function _B(e,t){var n,r,i,a,s,o=0,l=e.length,c=0,d=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<l-1&&c<t&&(n=(s=e.charCodeAt(o++))<kB.length?kB[s]:-1,r=(s=e.charCodeAt(o++))<kB.length?kB[s]:-1,-1!=n&&-1!=r)&&(a=n<<2>>>0,a|=(48&r)>>4,d.push(String.fromCharCode(a)),!(++c>=t||o>=l))&&-1!=(i=(s=e.charCodeAt(o++))<kB.length?kB[s]:-1)&&(a=(15&r)<<4>>>0,a|=(60&i)>>2,d.push(String.fromCharCode(a)),!(++c>=t||o>=l));)a=(3&i)<<6>>>0,a|=(s=e.charCodeAt(o++))<kB.length?kB[s]:-1,d.push(String.fromCharCode(a)),++c;var u=[];for(o=0;o<c;o++)u.push(d[o].charCodeAt(0));return u}var jB=16,CB=10,NB=16,EB=100,AB=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],TB=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],PB=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function IB(e,t,n,r){var i,a=e[t],s=e[t+1];return i=r[(a^=n[0])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[1])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[2])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[3])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[4])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[5])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[6])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[7])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[8])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[9])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[10])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[11])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[12])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[13])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(a^=(i+=r[768|255&s])^n[14])>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i=r[(s^=(i+=r[768|255&a])^n[15])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],a^=(i+=r[768|255&s])^n[16],e[t]=s^n[NB+1],e[t+1]=a,e}function $B(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}}function RB(e,t,n){for(var r,i=0,a=[0,0],s=t.length,o=n.length,l=0;l<s;l++)i=(r=$B(e,i)).offp,t[l]=t[l]^r.key;for(l=0;l<s;l+=2)a=IB(a,0,t,n),t[l]=a[0],t[l+1]=a[1];for(l=0;l<o;l+=2)a=IB(a,0,t,n),n[l]=a[0],n[l+1]=a[1]}function OB(e,t,n,r,i){var a,s=PB.slice(),o=s.length;if(n<4||n>31){if(a=Error("Illegal number of rounds (4-31): "+n),r)return void bB(r.bind(this,a));throw a}if(t.length!==jB){if(a=Error("Illegal salt length: "+t.length+" != "+jB),r)return void bB(r.bind(this,a));throw a}n=1<<n>>>0;var l,c,d,u=0;function h(){if(i&&i(u/n),!(u<n)){for(u=0;u<64;u++)for(d=0;d<o>>1;d++)IB(s,d<<1,l,c);var a=[];for(u=0;u<o;u++)a.push((s[u]>>24&255)>>>0),a.push((s[u]>>16&255)>>>0),a.push((s[u]>>8&255)>>>0),a.push((255&s[u])>>>0);return r?void r(null,a):a}for(var p=Date.now();u<n&&(u+=1,RB(e,l,c),RB(t,l,c),!(Date.now()-p>EB)););r&&bB(h)}if("function"===typeof Int32Array?(l=new Int32Array(AB),c=new Int32Array(TB)):(l=AB.slice(),c=TB.slice()),function(e,t,n,r){for(var i,a=0,s=[0,0],o=n.length,l=r.length,c=0;c<o;c++)a=(i=$B(t,a)).offp,n[c]=n[c]^i.key;for(a=0,c=0;c<o;c+=2)a=(i=$B(e,a)).offp,s[0]^=i.key,a=(i=$B(e,a)).offp,s[1]^=i.key,s=IB(s,0,n,r),n[c]=s[0],n[c+1]=s[1];for(c=0;c<l;c+=2)a=(i=$B(e,a)).offp,s[0]^=i.key,a=(i=$B(e,a)).offp,s[1]^=i.key,s=IB(s,0,n,r),r[c]=s[0],r[c+1]=s[1]}(t,e,l,c),"undefined"!==typeof r)h();else for(var p;;)if("undefined"!==typeof(p=h()))return p||[]}function DB(e,t,n,r){var i,a,s;if("string"!==typeof e||"string"!==typeof t){if(i=Error("Invalid string / salt: Not a string"),n)return void bB(n.bind(this,i));throw i}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(i=Error("Invalid salt version: "+t.substring(0,2)),n)return void bB(n.bind(this,i));throw i}if("$"===t.charAt(2))a=String.fromCharCode(0),s=3;else{if("a"!==(a=t.charAt(2))&&"b"!==a&&"y"!==a||"$"!==t.charAt(3)){if(i=Error("Invalid salt revision: "+t.substring(2,4)),n)return void bB(n.bind(this,i));throw i}s=4}if(t.charAt(s+2)>"$"){if(i=Error("Missing salt rounds"),n)return void bB(n.bind(this,i));throw i}var o=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=function(e){for(var t,n,r=0,i=new Array(yB(e)),a=0,s=e.length;a<s;++a)(t=e.charCodeAt(a))<128?i[r++]=t:t<2048?(i[r++]=t>>6|192,i[r++]=63&t|128):55296===(64512&t)&&56320===(64512&(n=e.charCodeAt(a+1)))?(t=65536+((1023&t)<<10)+(1023&n),++a,i[r++]=t>>18|240,i[r++]=t>>12&63|128,i[r++]=t>>6&63|128,i[r++]=63&t|128):(i[r++]=t>>12|224,i[r++]=t>>6&63|128,i[r++]=63&t|128);return i}(e+=a>="a"?"\0":""),d=_B(l,jB);function u(e){var t=[];return t.push("$2"),a>="a"&&t.push(a),t.push("$"),o<10&&t.push("0"),t.push(o.toString()),t.push("$"),t.push(SB(d,d.length)),t.push(SB(e,4*PB.length-1)),t.join("")}if("undefined"==typeof n)return u(OB(c,d,o));OB(c,d,o,(function(e,t){e?n(e,null):n(null,u(t))}),r)}const FB={setRandomFallback:function(e){pB=e},genSaltSync:fB,genSalt:mB,hashSync:gB,hash:vB,compareSync:function(e,t){if("string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&xB(gB(e,t.substring(0,t.length-31)),t)},compare:function(e,t,n,r){function i(n){"string"===typeof e&&"string"===typeof t?60===t.length?vB(e,t.substring(0,29),(function(e,r){e?n(e):n(null,xB(r,t))}),r):bB(n.bind(this,null,!1)):bB(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise((function(e,t){i((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);i(n)},getRounds:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return yB(e)>72},encodeBase64:function(e,t){return SB(e,t)},decodeBase64:function(e,t){return _B(e,t)}},MB=()=>{const e=qn(),t=l_({resolver:m_(VC.object({email:VC.string().email({message:"Vennligst skriv inn en gyldig e-postadresse."}).min(1,{message:"E-postadresse er p\xe5krevd."}),password:VC.string().min(8,{message:"Passordet m\xe5 v\xe6re minst 8 tegn langt."}).regex(/[A-Z]/,{message:"Passordet m\xe5 inneholde minst \xe9n stor bokstav."}).regex(/[a-z]/,{message:"Passordet m\xe5 inneholde minst \xe9n liten bokstav."}).regex(/[0-9]/,{message:"Passordet m\xe5 inneholde minst ett tall."}).regex(/[@$!%*?&]/,{message:"Passordet m\xe5 inneholde minst ett spesialtegn."})}))});return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,V.jsx)("div",{className:"relative w-full max-w-[490px]",children:(0,V.jsxs)("div",{className:"mx-4 bg-white p-7 w-full",style:{boxShadow:"0px 8px 8px -4px #10182808, 0px 20px 24px -4px #10182814"},children:[(0,V.jsx)("div",{className:"flex justify-center mb-10",children:(0,V.jsx)("img",{src:ci,alt:"logo"})}),(0,V.jsx)(rN,{...t,children:(0,V.jsxs)("form",{onSubmit:t.handleSubmit((async t=>{try{const n=Qf(tk,"admin",t.email),r=await Zm(n);if(r.exists()){const i=r.data();if("9f523136-72ca-4bde-88e5-de175bc2fc71"!==(null===i||void 0===i?void 0:i.supplier)||!0===(null===i||void 0===i?void 0:i.is_admin))return void Be.error("Please login with Bolig Partner user.",{position:"top-right"});const a=null===i||void 0===i?void 0:i.password;if(a){if(FB.compareSync(t.password,a)){Be.success("Login successfully",{position:"top-right"}),localStorage.setItem("Iplot_admin_bolig",t.email);await ck()&&e("/Husmodell")}else Be.error("Incorrect password",{position:"top-right"})}else if(t.password){const r=FB.hashSync(t.password,10);await tg(n,{password:r}),Be.success("Login successfully",{position:"top-right"}),localStorage.setItem("Iplot_admin_bolig",t.email);await ck()&&e("/Husmodell")}}else Be.error("Admin not exist",{position:"top-right"})}catch(n){console.error("Error during sign-in",n)}})),className:"relative",children:[(0,V.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:t.control,name:"email",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"E-post"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn E-post",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(hN,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(aN,{control:t.control,name:"password",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(lN,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Passord"}),(0,V.jsx)(dN,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(pN,{placeholder:"Skriv inn Passord",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"password"})})}),(0,V.jsx)(hN,{})]})}})})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center p-4",children:[(0,V.jsx)("div",{onClick:()=>t.reset(),children:(0,V.jsx)(Sk,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(Sk,{text:"Lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]})]})})]})})})})},LB=function(e,t){return Ut({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Ke({window:t?.window}),hydrationData:t?.hydrationData||Xr(),routes:e,mapRouteProperties:dr,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}([{path:"/",element:(0,V.jsx)(fr,{to:"/login",replace:!0})},{path:"/",element:(0,V.jsx)(uB,{}),children:[{path:"login",element:(0,V.jsx)(MB,{})}]},{path:"/",element:(0,V.jsx)(bk,{}),children:[{path:"Bolig-configurator",element:(0,V.jsx)(U$,{})},{path:"Room-Configurator",element:(0,V.jsx)(QL,{})},{path:"Room-Configurator/*",element:(0,V.jsx)(QL,{})},{path:"Inventory",element:(0,V.jsx)(HN,{})},{path:"Husmodell",element:(0,V.jsx)(KN,{})},{path:"se-husmodell/*",element:(0,V.jsx)(nE,{})},{path:"se-series/*",element:(0,V.jsx)(dB,{})},{path:"se-series/:seriesId/edit-husmodell/*",element:(0,V.jsx)(L$,{})},{path:"se-series/:seriesId/add-husmodell",element:(0,V.jsx)(L$,{})}]}]),VB=new class{#Gt;#zt;#Mt;#Wt;#Xt;#Yt;#Zt;#Qt;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#Gt=e.queryCache||new $,this.#zt=e.mutationCache||new O,this.#Mt=e.defaultOptions||{},this.#Wt=new Map,this.#Xt=new Map,this.#Yt=0}mount(){this.#Yt++,1===this.#Yt&&(this.#Zt=S.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#Gt.onFocus())})),this.#Qt=_.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#Gt.onOnline())})))}unmount(){this.#Yt--,0===this.#Yt&&(this.#Zt?.(),this.#Zt=void 0,this.#Qt?.(),this.#Qt=void 0)}isFetching(e){return this.#Gt.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#zt.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#Gt.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#Gt.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(s(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#Gt.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#Gt.get(r.queryHash),a=i?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,a);if(void 0!==s)return this.#Gt.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return w.batch((()=>this.#Gt.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#Gt.get(t.queryHash)?.state}removeQueries(e){const t=this.#Gt;w.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#Gt;return w.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=w.batch((()=>this.#Gt.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(a).catch(a)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.batch((()=>(this.#Gt.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=w.batch((()=>this.#Gt.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(a)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(a)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#Gt.build(this,t);return n.isStaleByTime(s(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(a).catch(a)}fetchInfiniteQuery(e){return e.behavior=F(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(a).catch(a)}ensureInfiniteQueryData(e){return e.behavior=F(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _.isOnline()?this.#zt.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#Gt}getMutationCache(){return this.#zt}getDefaultOptions(){return this.#Mt}setDefaultOptions(e){this.#Mt=e}setQueryDefaults(e,t){this.#Wt.set(d(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#Wt.values()],n={};return t.forEach((t=>{u(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#Xt.set(d(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Xt.values()],n={};return t.forEach((t=>{u(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#Mt.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=c(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===b&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#Mt.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#Gt.clear(),this.#zt.clear()}}({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),BB=()=>(0,V.jsxs)(U,{client:VB,children:[(0,V.jsx)(Ve,{toastOptions:{style:{zIndex:999999999}}}),(0,V.jsx)(oi,{router:LB})]});n.createRoot(document.getElementById("root")).render((0,V.jsx)(e.StrictMode,{children:(0,V.jsx)(BB,{})})),r()})()})();
//# sourceMappingURL=main.f7e7b4e3.js.map
/*! For license information please see main.31985b5c.js.LICENSE.txt */
(()=>{var __webpack_modules__={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=S&&e[S]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var T,N,P=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign;function R(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||"",N=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+T+e+N}var j=!1;function D(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{j=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?R(n):""}function O(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=O(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function L(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(F(e)!==e)throw Error(a(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var B=Array.isArray,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},q=[],H=-1;function W(e){return{current:e}}function K(e){0>H||(e.current=q[H],q[H]=null,H--)}function G(e,t){H++,q[H]=e.current,e.current=t}var X=W(null),Y=W(null),Q=W(null),Z=W(null);function J(e,t){switch(G(Q,t),G(Y,e),G(X,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Qu(e=Yu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(X),G(X,t)}function ee(){K(X),K(Y),K(Q)}function te(e){null!==e.memoizedState&&G(Z,e);var t=X.current,n=Qu(t,e.type);t!==n&&(G(Y,e),G(X,n))}function ne(e){Y.current===e&&(K(X),K(Y)),Z.current===e&&(K(Z),Md._currentValue=$)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/_e|0)|0},we=Math.log,_e=Math.LN2;var ke=128,Se=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=Ee(n):0!==(s&=o)?r=Ee(s):e||0!==(a=o&~a)&&(r=Ee(a)):0!==(o=n&~i)?r=Ee(o):0!==s?r=Ee(s):e||0!==(a=n&~a)&&(r=Ee(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ke;return 0===(4194176&(ke<<=1))&&(ke=128),e}function Pe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:Qd(e.type)}var Fe=Math.random().toString(36).slice(2),Le="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,Ve="__reactContainer$"+Fe,Be="__reactEvents$"+Fe,ze="__reactListeners$"+Fe,$e="__reactHandles$"+Fe,qe="__reactResources$"+Fe,He="__reactMarker$"+Fe;function We(e){delete e[Le],delete e[Ue],delete e[Be],delete e[ze],delete e[$e]}function Ke(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Le])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Le]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[He]=!0}var Ze=new Set,Je={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ze.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function at(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(B(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,jt=null;function Dt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Mt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Rt||null!==jt)&&(Lc(),Rt&&(t=Rt,e=jt,jt=Rt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Lt=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(wh){Lt=!1}var Vt=null,Bt=null,zt=null;function $t(){if(zt)return zt;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return zt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Wt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Wt,this.isPropagationStopped=Wt,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Gt,Xt,Yt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Qt),Jt=I({},Qt,{view:0,detail:0}),en=Kt(Jt),tn=I({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,Xt=e.screenY-Yt.screenY):Xt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),nn=Kt(tn),rn=Kt(I({},tn,{dataTransfer:0})),sn=Kt(I({},Jt,{relatedTarget:0})),an=Kt(I({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Kt(I({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(I({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Kt(I({},Jt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(I({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(I({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Kt(I({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(I({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(I({},Qt,{newState:0,oldState:0})),xn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,_n=null;nt&&"documentMode"in document&&(_n=document.documentMode);var kn=nt&&"TextEvent"in window&&!_n,Sn=nt&&(!wn||_n&&8<_n&&11>=_n),En=String.fromCharCode(32),An=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Rt?jt?jt.push(r):jt=[r]:Rt=r,0<(t=Mu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Dn=null;function On(e){Tu(e,0)}function Mn(e){if(ht(Xe(e)))return e}function Fn(e,t){if("change"===e)return t}var Ln=!1;if(nt){var Un;if(nt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;Ln=Un&&(!document.documentMode||9<document.documentMode)}function zn(){jn&&(jn.detachEvent("onpropertychange",$n),Dn=jn=null)}function $n(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Rn(t,Dn,e,It(e)),Mt(On,t)}}function qn(e,t,n){"focusin"===e?(zn(),Dn=n,(jn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&zn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Wn(e,t){if("click"===e)return Mn(t)}function Kn(e,t){if("input"===e||"change"===e)return Mn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Jn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Zn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Qn(t,s);var a=Qn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Xn(sr,r)||(sr=r,0<(r=Mu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),et(t,[e])}var kr=[],Sr=0,Er=0;function Ar(){for(var e=Sr,t=Er=Sr=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var s=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function Cr(e,t,n,r){kr[Sr++]=e,kr[Sr++]=t,kr[Sr++]=n,kr[Sr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Cr(e,t,n,r),Ir(e)}function Nr(e,t){return Cr(e,null,null,t),Ir(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-xe(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Ir(e){if(50<Tc)throw Tc=0,Nc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={},jr=new WeakMap;function Dr(e,t){if("object"===typeof e&&null!==e){var n=jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},jr.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Or=[],Mr=0,Fr=null,Lr=0,Ur=[],Vr=0,Br=null,zr=1,$r="";function qr(e,t){Or[Mr++]=Lr,Or[Mr++]=Fr,Fr=e,Lr=t}function Hr(e,t,n){Ur[Vr++]=zr,Ur[Vr++]=$r,Ur[Vr++]=Br,Br=e;var r=zr;e=$r;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var s=32-xe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zr=1<<32-xe(t)+i|n<<i|r,$r=s+e}else zr=1<<s|n<<i|r,$r=e}function Wr(e){null!==e.return&&(qr(e,1),Hr(e,1,0))}function Kr(e){for(;e===Fr;)Fr=Or[--Mr],Or[Mr]=null,Lr=Or[--Mr],Or[Mr]=null;for(;e===Br;)Br=Ur[--Vr],Ur[Vr]=null,$r=Ur[--Vr],Ur[Vr]=null,zr=Ur[--Vr],Ur[Vr]=null}var Gr=null,Xr=null,Yr=!1,Qr=null,Zr=!1,Jr=Error(a(519));function ei(e){throw si(Dr(Error(a(418,"")),e)),Jr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Le]=e,t[Ue]=r,n){case"dialog":Nu("cancel",t),Nu("close",t);break;case"iframe":case"object":case"embed":Nu("load",t);break;case"video":case"audio":for(n=0;n<Au.length;n++)Nu(Au[n],t);break;case"source":Nu("error",t);break;case"img":case"image":case"link":Nu("error",t),Nu("load",t);break;case"details":Nu("toggle",t);break;case"input":Nu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Nu("invalid",t);break;case"textarea":Nu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||zu(t.textContent,n)?(null!=r.popover&&(Nu("beforetoggle",t),Nu("toggle",t)),null!=r.onScroll&&Nu("scroll",t),null!=r.onScrollEnd&&Nu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ei(e)}function ni(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Zr=!0);case 5:case 13:return void(Zr=!1);default:Gr=Gr.return}}function ri(e){if(e!==Gr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Xr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Xr=od(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Xr=null}}else Xr=Gr?od(e.stateNode.nextSibling):null;return!0}function ii(){Xr=Gr=null,Yr=!1}function si(e){null===Qr?Qr=[e]:Qr.push(e)}var ai=Error(a(460)),oi=Error(a(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw hi=t,ai}}var hi=null;function fi(){if(null===hi)throw Error(a(459));var e=hi;return hi=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var s=n.type;return s===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===w&&bi(s)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Ul(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Ul(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=$l(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(B(t)||E(t))return(t=Vl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Ao(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case w:return v(e,t,n=(i=n._init)(n._payload),r)}if(B(n)||E(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,Ao(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(B(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,Ao(t,r),i);yi(t,r)}return null}function b(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var x=f.key;null!==h;){if(h.key===x){if((x=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===w&&bi(x)===h.type){n(l,h.sibling),vi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Vl(f.props.children,l.mode,p,f.key)).return=l,l=p):(vi(p=Ul(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return o(l);case u:e:{for(x=f.key;null!==h;){if(h.key===x){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=$l(f,l.mode,p)).return=l,l=p}return o(l);case w:return b(l,h,f=(x=f._init)(f._payload),p)}if(B(f))return function(i,a,o,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(i,d,o[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),a=s(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===o.length)return n(i,d),Yr&&qr(i,h),c;if(null===d){for(;h<o.length;h++)null!==(d=m(i,o[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return Yr&&qr(i,h),c}for(d=r(d);h<o.length;h++)null!==(f=y(d,i,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Yr&&qr(i,h),c}(l,h,f,p);if(E(f)){if("function"!==typeof(x=E(f)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=o,f=o=0,p=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=v(i,h,g.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),o=s(b,o,f),null===d?u=b:d.sibling=b,d=b,h=p}if(g.done)return n(i,h),Yr&&qr(i,f),u;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(o=s(g,o,f),null===d?u=g:d.sibling=g,d=g);return Yr&&qr(i,f),u}for(h=r(h);!g.done;f++,g=l.next())null!==(g=y(h,i,f,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),o=s(g,o,f),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Yr&&qr(i,f),u}(l,h,f=x.call(f),p)}if("function"===typeof f.then)return b(l,h,gi(f),p);if(f.$$typeof===g)return b(l,h,Ao(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=zl(f,l.mode,p)).return=l,l=p),o(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=b(e,t,n,r);return pi=null,i}catch(a){if(a===ai)throw a;var s=Ol(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var wi=xi(!0),_i=xi(!1),ki=W(null),Si=W(0);function Ei(e,t){G(Si,e=cc),G(ki,t),cc=e|t.baseLanes}function Ai(){G(Si,cc),G(ki,ki.current)}function Ci(){cc=Si.current,K(ki),K(Si)}var Ti=W(null),Ni=null;function Pi(e){var t=e.alternate;G(Di,1&Di.current),G(Ti,e),null===Ni&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Ni=e)}function Ii(e){if(22===e.tag){if(G(Di,Di.current),G(Ti,e),null===Ni){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ni=e)}}else Ri()}function Ri(){G(Di,Di.current),G(Ti,Ti.current)}function ji(e){K(Ti),Ni===e&&(Ni=null),K(Di)}var Di=W(0);function Oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,Ui={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Fi(Li,(function(){e.controller.abort()}))}var zi=null,$i=0,qi=0,Hi=null;function Wi(){if(0===--$i&&null!==zi){null!==Hi&&(Hi.status="fulfilled");var e=zi;zi=null,qi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];$i=0,qi=wu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}$i++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=W(null);function Xi(){var e=Gi.current;return null!==e?e:tc.pooledCache}function Yi(e,t){G(Gi,null===t?Gi.current:t.pool)}function Qi(){var e=Xi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Zi=0,Ji=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,as=0,os=null,ls=0;function cs(){throw Error(a(321))}function us(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function ds(e,t,n,r,i,s){return Zi=s,Ji=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Ea:Aa,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),hs(e),s}function hs(e){P.H=Sa;var t=null!==es&&null!==es.next;if(Zi=0,ts=es=Ji=null,ns=!1,as=0,os=null,t)throw Error(a(300));null===e||$a||null!==(e=e.dependencies)&&ko(e)&&($a=!0)}function fs(e,t,n,r){Ji=e;var i=0;do{if(rs&&(os=null),as=0,rs=!1,25<=i)throw Error(a(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}P.H=Ca,s=t(n,r)}while(rs);return s}function ps(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?xs(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Ji.flags|=1024),t}function ms(){var e=0!==ss;return ss=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vs(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Zi=0,ts=es=Ji=null,rs=!1,as=ss=0,os=null}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Ji.memoizedState=ts=e:ts=ts.next=e,ts}function bs(){if(null===es){var e=Ji.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Ji.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Ji.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Ji.memoizedState=ts=e:ts=ts.next=e}return ts}function xs(e){var t=as;return as+=1,null===os&&(os=[]),e=di(os,e,t),t=Ji,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Ea:Aa),e}function ws(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return xs(e);if(e.$$typeof===g)return Eo(e)}throw Error(a(438,String(e)))}function _s(e){var t=null,n=Ji.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ji.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function ks(e,t){return"function"===typeof t?t(e):t}function Ss(e){return Es(bs(),es,e)}function Es(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Zi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qi&&(d=!0);else{if((Zi&f)===f){u=u.next,f===qi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Ji.lanes|=f,dc|=f}h=u.action,is&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Ji.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Gn(s,e.memoizedState)&&($a=!0,d&&null!==(n=Hi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function As(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Gn(s,t.memoizedState)||($a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(e,t,n){var r=Ji,i=bs(),s=Yr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Gn((es||i).memoizedState,n);if(o&&(i.memoizedState=n,$a=!0),i=i.queue,Zs(Ps.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Ks(9,Ns.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));s||0!==(60&Zi)||Ts(r,t,n)}return n}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ji.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Rs(e)}function Ps(e,t,n){return n((function(){Is(t)&&Rs(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Rs(e){var t=Nr(e,2);null!==t&&Rc(t,e,2)}function js(e){var t=ys();if("function"===typeof e){var n=e;if(e=n(),is){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t}function Ds(e,t,n,r){return e.baseState=n,Es(e,es,"function"===typeof r?r:ks)}function Os(e,t,n,r,i){if(wa(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==P.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ms(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ms(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=P.T,a={};P.T=a;try{var o=n(i,r),l=P.S;null!==l&&l(a,o),Fs(e,t,o)}catch(c){Us(e,t,c)}finally{P.T=s}}else try{Fs(e,t,s=n(i,r))}catch(u){Us(e,t,u)}}function Fs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Ls(e,t,n)}),(function(n){return Us(e,t,n)})):Ls(e,t,n)}function Ls(e,t,n){t.status="fulfilled",t.value=n,Vs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ms(e,n)))}function Us(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Vs(t),t=t.next}while(t!==r)}e.action=null}function Vs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bs(e,t){return t}function zs(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=Ji;if(Yr){if(Xr){t:{for(var i=Xr,s=Zr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=od(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Xr=od(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=ys()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},n.queue=r,n=ya.bind(null,Ji,r),r.dispatch=n,r=js(!1),s=xa.bind(null,Ji,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ys()).queue=i,n=Os.bind(null,Ji,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function $s(e){return qs(bs(),es,e)}function qs(e,t,n){t=Es(e,t,Bs)[0],e=Ss(ks)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?xs(t):t;var r=bs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Ji.flags|=2048,Ks(9,Hs.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Hs(e,t){e.action=t}function Ws(e){var t=bs(),n=es;if(null!==n)return qs(t,n,e);bs(),t=t.memoizedState;var r=(n=bs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ks(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Ji.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gs(){return bs().memoizedState}function Xs(e,t,n,r){var i=ys();Ji.flags|=e,i.memoizedState=Ks(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ys(e,t,n,r){var i=bs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&us(r,es.memoizedState.deps)?i.memoizedState=Ks(t,n,s,r):(Ji.flags|=e,i.memoizedState=Ks(1|t,n,s,r))}function Qs(e,t){Xs(8390656,8,e,t)}function Zs(e,t){Ys(2048,8,e,t)}function Js(e,t){return Ys(4,2,e,t)}function ea(e,t){return Ys(4,4,e,t)}function ta(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function na(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ys(4,4,ta.bind(null,t,e),n)}function ra(){}function ia(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sa(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&us(t,r[1]))return r[0];if(r=e(),is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function aa(e,t,n){return void 0===n||0!==(1073741824&Zi)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),Ji.lanes|=e,dc|=e,n)}function oa(e,t,n,r){return Gn(n,t)?n:null!==ki.current?(e=aa(e,n,r),Gn(e,t)||($a=!0),e):0===(42&Zi)?($a=!0,e.memoizedState=n):(e=Ic(),Ji.lanes|=e,dc|=e,t)}function la(e,t,n,r,i){var s=z.p;z.p=0!==s&&8>s?s:8;var a=P.T,o={};P.T=o,xa(e,!1,t,n);try{var l=i(),c=P.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pc());else ba(e,t,r,Pc())}catch(u){ba(e,t,{then:function(){},status:"rejected",reason:u},Pc())}finally{z.p=s,P.T=a}}function ca(){}function ua(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=da(e).queue;la(e,i,t,$,null===n?ca:function(){return ha(e),n(r)})}function da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ha(e){ba(e,da(e).next.queue,{},Pc())}function fa(){return Eo(Md)}function pa(){return bs().memoizedState}function ma(){return bs().memoizedState}function ga(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Ro(t,e=Io(n),n);return null!==r&&(Rc(r,t,n),jo(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},wa(e)?_a(t,n):null!==(n=Tr(e,t,n,r))&&(Rc(n,e,r),ka(n,t,r))}function ya(e,t,n){ba(e,t,n,Pc())}function ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(wa(e))_a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Gn(o,a))return Cr(e,t,i,0),null===tc&&Ar(),!1}catch(l){}if(null!==(n=Tr(e,t,i,r)))return Rc(n,e,r),ka(n,t,r),!0}return!1}function xa(e,t,n,r){if(r={lane:2,revertLane:wu(),action:r,hasEagerState:!1,eagerState:null,next:null},wa(e)){if(t)throw Error(a(479))}else null!==(t=Tr(e,n,r,2))&&Rc(t,e,2)}function wa(e){var t=e.alternate;return e===Ji||null!==t&&t===Ji}function _a(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ka(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var Sa={readContext:Eo,use:ws,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};Sa.useCacheRefresh=cs,Sa.useMemoCache=cs,Sa.useHostTransitionStatus=cs,Sa.useFormState=cs,Sa.useActionState=cs,Sa.useOptimistic=cs;var Ea={readContext:Eo,use:ws,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Qs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xs(4194308,4,ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){Xs(4,2,e,t)},useMemo:function(e,t){var n=ys();t=void 0===t?null:t;var r=e();if(is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ys();if(void 0!==n){var i=n(t);if(is){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=va.bind(null,Ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:function(e){var t=(e=js(e)).queue,n=ya.bind(null,Ji,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ra,useDeferredValue:function(e,t){return aa(ys(),e,t)},useTransition:function(){var e=js(!1);return e=la.bind(null,Ji,e.queue,!0,!1),ys().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ji,i=ys();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Qs(Ps.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,Ns.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=ys(),t=tc.identifierPrefix;if(Yr){var n=$r;t=":"+t+"R"+(n=(zr&~(1<<32-xe(zr)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ls++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ys().memoizedState=ga.bind(null,Ji)}};Ea.useMemoCache=_s,Ea.useHostTransitionStatus=fa,Ea.useFormState=zs,Ea.useActionState=zs,Ea.useOptimistic=function(e){var t=ys();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xa.bind(null,Ji,!0,n),n.dispatch=t,[e,t]};var Aa={readContext:Eo,use:ws,useCallback:ia,useContext:Eo,useEffect:Zs,useImperativeHandle:na,useInsertionEffect:Js,useLayoutEffect:ea,useMemo:sa,useReducer:Ss,useRef:Gs,useState:function(){return Ss(ks)},useDebugValue:ra,useDeferredValue:function(e,t){return oa(bs(),es.memoizedState,e,t)},useTransition:function(){var e=Ss(ks)[0],t=bs().memoizedState;return["boolean"===typeof e?e:xs(e),t]},useSyncExternalStore:Cs,useId:pa};Aa.useCacheRefresh=ma,Aa.useMemoCache=_s,Aa.useHostTransitionStatus=fa,Aa.useFormState=$s,Aa.useActionState=$s,Aa.useOptimistic=function(e,t){return Ds(bs(),0,e,t)};var Ca={readContext:Eo,use:ws,useCallback:ia,useContext:Eo,useEffect:Zs,useImperativeHandle:na,useInsertionEffect:Js,useLayoutEffect:ea,useMemo:sa,useReducer:As,useRef:Gs,useState:function(){return As(ks)},useDebugValue:ra,useDeferredValue:function(e,t){var n=bs();return null===es?aa(n,e,t):oa(n,es.memoizedState,e,t)},useTransition:function(){var e=As(ks)[0],t=bs().memoizedState;return["boolean"===typeof e?e:xs(e),t]},useSyncExternalStore:Cs,useId:pa};function Ta(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ca.useCacheRefresh=ma,Ca.useMemoCache=_s,Ca.useHostTransitionStatus=fa,Ca.useFormState=Ws,Ca.useActionState=Ws,Ca.useOptimistic=function(e,t){var n=bs();return null!==es?Ds(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Na={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=Io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ro(e,i,r))&&(Rc(t,e,r),jo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=Io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ro(e,i,r))&&(Rc(t,e,r),jo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=Io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ro(e,r,n))&&(Rc(t,e,n),jo(t,e,n))}};function Pa(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function Ia(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=I({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ja="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Da(e){ja(e)}function Oa(e){console.error(e)}function Ma(e){ja(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function La(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ua(e,t,n){return(n=Io(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function Va(e){return(e=Io(e)).tag=3,e}function Ba(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){La(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){La(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var za=Error(a(461)),$a=!1;function qa(e,t,n,r){t.child=null===e?_i(t,null,n,r):wi(t,e.child,n,r)}function Ha(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return So(t),r=ds(e,t,n,a,s,i),o=ms(),null===e||$a?(Yr&&o&&Wr(t),t.flags|=1,qa(e,t,r,i),t.child):(gs(e,t,i),ho(e,t,i))}function Wa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ml(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ul(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ka(e,t,s,r,i))}if(s=e.child,!fo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Fl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if($a=!1,t.pendingProps=r=s,!fo(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&($a=!0)}}return Qa(e,t,n,r,i)}function Ga(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ya(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Xa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?Ei(t,a):Ai(),Ii(t)}else null!==a?(Yi(0,a.cachePool),Ei(t,a),Ri(),t.memoizedState=null):(null!==e&&Yi(0,null),Ai(),Ri());return qa(e,t,i,n),t.child}function Xa(e,t,n,r){var i=Xi();return i=null===i?null:{parent:Ui._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yi(0,null),Ai(),Ii(t),null!==e&&_o(e,t,r,!0),null}function Ya(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Qa(e,t,n,r,i){return So(t),n=ds(e,t,n,r,void 0,i),r=ms(),null===e||$a?(Yr&&r&&Wr(t),t.flags|=1,qa(e,t,n,i),t.child):(gs(e,t,i),ho(e,t,i))}function Za(e,t,n,r,i,s){return So(t),t.updateQueue=null,n=fs(t,r,n,i),hs(e),r=ms(),null===e||$a?(Yr&&r&&Wr(t),t.flags|=1,qa(e,t,n,s),t.child):(gs(e,t,s),ho(e,t,s))}function Ja(e,t,n,r,i){if(So(t),null===t.stateNode){var s=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Eo(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Na,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},No(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Eo(a):Rr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Ta(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Na.enqueueReplaceState(s,s.state,null),Fo(t,r,s,i),Mo(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Ra(n,o);s.props=l;var c=s.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=Eo(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&Ia(t,s,r,a),To=!1;var h=t.memoizedState;s.state=h,Fo(t,r,s,i),Mo(),c=t.memoizedState,o||h!==c||To?("function"===typeof d&&(Ta(t,n,d,r),c=t.memoizedState),(l=To||Pa(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Po(e,t),u=Ra(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Eo(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ia(t,s,r,l),To=!1,h=t.memoizedState,s.state=h,Fo(t,r,s,i),Mo();var f=t.memoizedState;a!==d||h!==f||To||null!==e&&null!==e.dependencies&&ko(e.dependencies)?("function"===typeof o&&(Ta(t,n,o,r),f=t.memoizedState),(u=To||Pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ko(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ya(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):qa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,qa(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Qi()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function io(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Di.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(s?Pi(t):Ri(),Yr){var l,c=Xr;if(l=c){e:{for(l=c,c=Zr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=od(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:zr,overflow:$r}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gr=t,Xr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;ji(t)}return c=i.children,i=i.fallback,s?(Ri(),c=ao({mode:"hidden",children:c},s=t.mode),i=Vl(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=no(n),s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Pi(t),so(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Pi(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Ri(),t.child=e.child,t.flags|=128,t=null):(Ri(),s=i.fallback,c=t.mode,i=ao({mode:"visible",children:i.children},c),(s=Vl(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,wi(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=s);else if(Pi(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=oo(e,t,n)}else if($a||_o(e,t,n,!1),r=0!==(n&e.childLanes),$a||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Nr(e,i),Rc(r,e,i),za}"$?"===c.data||qc(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ou.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Xr=od(c.nextSibling),Gr=t,Yr=!0,Qr=null,Zr=!1,null!==e&&(Ur[Vr++]=zr,Ur[Vr++]=$r,Ur[Vr++]=Br,zr=e.id,$r=e.overflow,Br=t),(t=so(t,i.children)).flags|=4096);return t}return s?(Ri(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=Fl(u,s):(s=Vl(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(u=Ui._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Pi(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function so(e,t){return(t=ao({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ao(e,t){return Bl(e,t,0,null)}function oo(e,t,n){return wi(t,e.child,null,n),(e=so(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function co(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(qa(e,t,r.children,n),0!==(2&(r=Di.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Di,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Oi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Oi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,s);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_o(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ko(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$a=!0;else{if(!fo(e,n)&&0===(128&t.flags))return $a=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),yo(t,Ui,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:yo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Pi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(Pi(t),null!==(e=ho(e,t,n))?e.sibling:null);Pi(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_o(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Di,Di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ga(e,t,n);case 24:yo(t,Ui,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);$a=0!==(131072&e.flags)}else $a=!1,Yr&&0!==(1048576&t.flags)&&Hr(t,Lr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=Ha(null,t,r,e,n);break e}if(i===x){t.tag=14,t=Wa(null,t,r,e,n);break e}}throw t=C(r)||r,Error(a(306,t,""))}Ml(r)?(e=Ra(r,e),t.tag=1,t=Ja(null,t,r,e,n)):(t.tag=0,t=Qa(null,t,r,e,n))}return t;case 0:return Qa(e,t,t.type,t.pendingProps,n);case 1:return Ja(e,t,r=t.type,i=Ra(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;r=(i=t.memoizedState).element,Po(e,t),Fo(t,s,null,n);var o=t.memoizedState;if(s=o.cache,yo(t,Ui,s),s!==i.cache&&wo(t,[Ui],n,!0),Mo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,s,n);break e}if(s!==r){si(r=Dr(Error(a(424)),t)),t=eo(e,t,s,n);break e}for(Xr=od(t.stateNode.containerInfo.firstChild),Gr=t,Yr=!0,Qr=null,Zr=!0,n=_i(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=ho(e,t,n);break e}qa(e,t,s,n)}t=t.child}return t;case 26:return Ya(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Xu(Q.current).createElement(n))[Le]=t,r[Ue]=e,Wu(r,n,e),Qe(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=cd(t.type,t.pendingProps,Q.current),Gr=t,Zr=!0,Xr=od(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?qa(e,t,r,n):t.child=wi(t,null,r,n),Ya(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Xr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Zr))?(t.stateNode=r,Gr=t,Xr=od(r.firstChild),Zr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,Zu(i,s)?r=null:null!==o&&Zu(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ds(e,t,ps,null,null,n),Md._currentValue=i),Ya(e,t),qa(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Xr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=od(e.nextSibling)))return null}return e}(n,t.pendingProps,Zr))?(t.stateNode=n,Gr=t,Xr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):qa(e,t,r,n),t.child;case 11:return Ha(e,t,t.type,t.pendingProps,n);case 7:return qa(e,t,t.pendingProps,n),t.child;case 8:case 12:return qa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yo(t,t.type,r.value),qa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,So(t),r=r(i=Eo(i)),t.flags|=1,qa(e,t,r,n),t.child;case 14:return Wa(e,t,t.type,t.pendingProps,n);case 15:return Ka(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Ga(e,t,n);case 24:return So(t),r=Eo(Ui),null===e?(null===(i=Xi())&&(i=tc,s=Vi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},No(t),yo(t,Ui,i)):(0!==(e.lanes&n)&&(Po(e,t),Fo(t,null,null,n),Mo()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),yo(t,Ui,r)):(r=s.cache,yo(t,Ui,r),r!==i.cache&&wo(t,[Ui],n,!0))),qa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var mo=W(null),go=null,vo=null;function yo(e,t,n){G(mo,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=mo.current,K(mo)}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xo(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function _o(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===Z.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Md):e=[Md])}i=i.return}null!==e&&wo(t,e,n,r),t.flags|=262144}function ko(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){go=e,vo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Eo(e){return Co(go,e)}function Ao(e,t){return null===go&&So(e),Co(e,t)}function Co(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vo){if(null===e)throw Error(a(308));vo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vo=vo.next=t;return n}var To=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ir(e),Pr(e,null,n),t}return Cr(e,r,t,n),Ir(e)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function Mo(){if(Oo){if(null!==Hi)throw Hi}}function Fo(e,t,n,r){Oo=!1;var i=e.updateQueue;To=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===qi&&(Oo=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=I({},d,h);break e;case 2:To=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Lo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Uo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Lo(n[e],t)}function Vo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){ru(t,t.return,o)}}function Bo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){ru(t,t.return,c)}}function zo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Uo(t,n)}catch(r){ru(e,e.return,r)}}}function $o(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function qo(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){ru(e,t,s)}}function Ho(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){ru(e,t,s)}else n.current=null}function Wo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Ko(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||qu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&qu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||qu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&qu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:qu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&qu(e,t,o,i,r,s)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else qu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else qu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&qu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:qu(e,t,u,f,r,p)}return;default:if(At(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Hu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Hu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&qu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||qu(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(i){ru(e,e.return,i)}}function Go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Xo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yo(e,t,n),e=e.sibling;null!==e;)Yo(e,t,n),e=e.sibling}function Qo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Qo(e,t,n),e=e.sibling;null!==e;)Qo(e,t,n),e=e.sibling}var Zo=!1,Jo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Vo(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){ru(n,n.return,o)}else{var i=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&zo(n),512&r&&qo(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Uo(r,e)}catch(o){ru(n,n.return,o)}}break;case 26:vl(e,n),512&r&&qo(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Wo(n),512&r&&qo(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Zo)){t=null!==t&&null!==t.memoizedState||Jo;var s=Zo,a=Jo;Zo=i,(Jo=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Zo=s,Jo=a}512&r&&("manual"===n.memoizedProps.mode?qo(n,n.return):Ho(n,n.return))}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Jo||Ho(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Jo||Ho(n,t);var r=al,i=ol;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),al=r,ol=i;break;case 5:Jo||Ho(n,t);case 6:i=al;var s=ol;if(al=null,ll(e,t,n),ol=s,null!==(al=i))if(ol)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){ru(n,t,o)}else try{al.removeChild(n.stateNode)}catch(o){ru(n,t,o)}break;case 18:null!==al&&(ol?(t=al,n=n.stateNode,8===t.nodeType?sd(t.parentNode,n):1===t.nodeType&&sd(t,n),mh(t)):sd(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,ll(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:Jo||Bo(2,n,t),Jo||Bo(4,n,t),ll(e,t,n);break;case 1:Jo||(Ho(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&$o(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Jo||Ho(n,t),Jo=(r=Jo)||null!==n.memoizedState,ll(e,t,n),Jo=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ol=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(s,o,i),al=null,ol=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),ml(e),4&r&&(Bo(3,e,e.return),Vo(3,e),Bo(5,e,e.return));break;case 1:hl(t,e),ml(e),512&r&&(Jo||null===n||Ho(n,n.return)),64&r&&Zo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(hl(t,e),ml(e),512&r&&(Jo||null===n||Ho(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[He]||s[Le]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Wu(s,r,n),s[Le]=e,Qe(s),r=s;break e;case"link":var o=Cd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Cd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Wu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Le]=e,Qe(s),r=s}e.stateNode=r}else Td(i,e.type,e.stateNode);else e.stateNode=_d(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Td(i,e.type,e.stateNode):_d(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ko(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[He]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wu(i,h,s),i[Le]=e,i[Ue]=s}catch(m){ru(e,e.return,m)}}case 5:if(hl(t,e),ml(e),512&r&&(Jo||null===n||Ho(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Ko(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Ad=null,i=fl,fl=hd(t.containerInfo),hl(t,e),fl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),ml(e),fl=r;break;case 12:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Jo||null===n||Ho(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Zo=(d=Zo)||c,Jo=(h=Jo)||u,hl(t,e),Jo=h,Zo=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zo||Jo,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Go(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Qo(e,Xo(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(_t(s,""),r.flags&=-33),Qo(e,Xo(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(e,Xo(e),o);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bo(4,t,t.return),yl(t);break;case 1:Ho(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&$o(t,t.return,n),yl(t);break;case 26:case 27:case 5:Ho(t,t.return),yl(t);break;case 22:Ho(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,n),Vo(4,s);break;case 1:if(bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Lo(l[i],o)}catch(c){ru(r,r.return,c)}}n&&64&a&&zo(s),qo(s,s.return);break;case 26:case 27:case 5:bl(i,s,n),n&&null===r&&4&a&&Wo(s),qo(s,s.return);break;case 12:default:bl(i,s,n);break;case 13:bl(i,s,n),n&&4&a&&ul(i,s);break;case 22:null===s.memoizedState&&bl(i,s,n),qo(s,s.return)}t=t.sibling}}function xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function _l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,n,r),t=t.sibling}function kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:_l(e,t,n,r),2048&i&&Vo(9,t);break;case 3:_l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){_l(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else _l(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?_l(e,t,n,r):El(e,t):4&s._visibility?_l(e,t,n,r):(s._visibility|=4,Sl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&xl(t.alternate,t);break;case 24:_l(e,t,n,r),2048&i&&wl(t.alternate,t);break;default:_l(e,t,n,r)}}function Sl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Sl(s,a,o,l,i),Vo(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Sl(s,a,o,l,i):El(s,a):(u._visibility|=4,Sl(s,a,o,l,i)),i&&2048&c&&xl(a.alternate,a);break;case 24:Sl(s,a,o,l,i),i&&2048&c&&wl(a.alternate,a);break;default:Sl(s,a,o,l,i)}t=t.sibling}}function El(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:El(n,r),2048&i&&xl(r.alternate,r);break;case 24:El(n,r),2048&i&&wl(r.alternate,r);break;default:El(n,r)}t=t.sibling}}var Al=8192;function Cl(e){if(e.subtreeFlags&Al)for(e=e.child;null!==e;)Tl(e),e=e.sibling}function Tl(e){switch(e.tag){case 26:Cl(e),e.flags&Al&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(a(475));var r=Pd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vd(n.href),s=e.querySelector(yd(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Rd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Qe(s);s=e.ownerDocument||e,n=bd(n),(i=ud.get(i))&&Sd(n,i),Qe(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Rd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Cl(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),Cl(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Al,Al=16777216,Cl(e),Al=t):Cl(e))}}function Nl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,jl(r,e)}Nl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&Bo(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Rl(e)):Pl(e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,jl(r,e)}Nl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bo(8,t,t.return),Rl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Rl(t));break;default:Rl(t)}e=e.sibling}}function jl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Bo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,s=r.return;if(sl(r),r===n){nl=null;break e}if(null!==i){i.return=s,nl=i;break e}nl=s}}}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Dl(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ll(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ml(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,X.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Vl(n.children,i,s,t);case h:o=8,i|=24;break;case f:return(e=Ol(12,n,t,2|i)).elementType=f,e.lanes=s,e;case y:return(e=Ol(13,n,t,i)).elementType=y,e.lanes=s,e;case b:return(e=Ol(19,n,t,i)).elementType=b,e.lanes=s,e;case _:return Bl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case m:o=9;break e;case v:o=11;break e;case x:o=14;break e;case w:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ol(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Vl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){(e=Ol(22,e,r,t)).elementType=_,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Nr(e,2);null!==t&&(i._pendingVisibility|=2,Rc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Nr(e,2);null!==t&&(i._pendingVisibility&=-3,Rc(t,e,2))}}};return e.stateNode=i,e}function zl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e){e.flags|=4}function Hl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Nd(t)){if(null!==(t=Ti.current)&&((4194176&rc)===rc?null!==Ni:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ni))throw hi=li,oi;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,mc|=t)}function Kl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xl(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(Ui),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?ql(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Qr&&(Dc(Qr),Qr=null))),Gl(t),null;case 26:return n=t.memoizedState,null===e?(ql(t),null!==n?(Gl(t),Hl(t,n)):(Gl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ql(t),Gl(t),Hl(t,n)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==r&&ql(t),Gl(t),t.flags&=-16777217),null;case 27:ne(t),n=Q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}e=X.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,ql(t))}return Gl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}if(e=X.current,ri(t))ti(t);else{switch(i=Xu(Q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Le]=t,e[Ue]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Wu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ql(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=Q.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||zu(e.nodeValue,n)))||ei(t)}else(e=Xu(e).createTextNode(r))[Le]=t,t.stateNode=e}return Gl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Le]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==Qr&&(Dc(Qr),Qr=null),i=!0;if(!i)return 256&t.flags?(ji(t),t):(ji(t),null)}if(ji(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Gl(t),null;case 4:return ee(),null===e&&Ru(t.stateNode.containerInfo),Gl(t),null;case 10:return bo(t.type),Gl(t),null;case 19:if(K(Di),null===(i=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Kl(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Oi(e))){for(t.flags|=128,Kl(i,!1),e=s.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ll(n,e),n=n.sibling;return G(Di,1&Di.current|2),t.child}e=e.sibling}null!==i.tail&&le()>xc&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Oi(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yr)return Gl(t),null}else 2*le()-i.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Di.current,G(Di,r?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return ji(t),Ci(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(Ui),Gl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(Ui),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(ji(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Di),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return ji(t),Ci(),null!==e&&K(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(Ui),null;default:return null}}function Ql(e,t){switch(Kr(t),t.tag){case 3:bo(Ui),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:ji(t);break;case 19:K(Di);break;case 10:bo(t.type);break;case 22:case 23:ji(t),Ci(),null!==e&&K(Gi);break;case 24:bo(Ui)}}var Zl={getCacheForType:function(e){var t=Eo(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Jl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,sc=null,ac=!1,oc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,pc=0,mc=0,gc=null,vc=null,yc=!1,bc=0,xc=1/0,wc=null,_c=null,kc=!1,Sc=null,Ec=0,Ac=0,Cc=null,Tc=0,Nc=null;function Pc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==P.T){return 0!==qi?qi:wu()}return Me()}function Ic(){0===pc&&(pc=0===(536870912&rc)||Yr?Ne():536870912);var e=Ti.current;return null!==e&&(e.flags|=32),pc}function Rc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Vc(e,0),Fc(e,rc,pc,!1)),Re(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Fc(e,rc,pc,!1)),mu(e))}function jc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=zc(),i=$c();tc!==e||rc!==t?(wc=null,xc=le()+500,Vc(e,t)):oc=Ce(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var s=sc;t:switch(ic){case 1:ic=0,sc=null,Yc(e,t,s,1);break;case 2:if(ci(s)){ic=0,sc=null,Xc(t);break}t=function(){2===ic&&tc===e&&(ic=7),mu(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(s)?(ic=0,sc=null,Xc(t)):(ic=0,sc=null,Yc(e,t,s,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Nd(o)){ic=0,sc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Qc(u)):nc=null}break t}}ic=0,sc=null,Yc(e,t,s,5);break;case 6:ic=0,sc=null,Yc(e,t,s,6);break;case 8:Uc(),uc=6;break e;default:throw Error(a(462))}}Kc();break}catch(d){Bc(e,d)}return vo=go=null,P.H=r,P.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Ar(),uc)}(e,t):Hc(e,t,!0),s=r;;){if(0===i){oc&&!r&&Fc(e,t,0,!1);break}if(6===i)Fc(e,t,0,!ac);else{if(n=e.current.alternate,s&&!Mc(n)){i=Hc(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Hc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=s,hc|=s,i=4;break e}s=vc,vc=i,null!==s&&Dc(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Vc(e,0),Fc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Fc(r,t,pc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=bc+300-le())){if(Fc(r,t,pc,!ac),0!==Ae(r,0))break e;r.timeoutHandle=ed(Oc.bind(null,r,n,vc,wc,yc,t,pc,hc,mc,ac,2,-0,0),s)}else Oc(r,n,vc,wc,yc,t,pc,hc,mc,ac,0,-0,0)}}break}mu(e)}function Dc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Oc(e,t,n,r,i,s,o,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Pd={stylesheets:null,count:0,unsuspend:Id},Tl(t),null!==(t=function(){if(null===Pd)throw Error(a(475));var e=Pd;return e.stylesheets&&0===e.count&&Dd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Dd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Jc.bind(null,e,n,r,i,o,l,c,1,h,f)),void Fc(e,s,o,!u);Jc(e,n,r,i,o,l,c,d,h,f)}function Mc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-xe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&je(e,n,t)}function Lc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Uc(){if(null!==nc){if(0===ic)var e=nc.return;else vo=go=null,vs(e=nc),pi=null,mi=0,e=nc;for(;null!==e;)Ql(e.alternate,e),e=e.return;nc=null}}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),tc=e,nc=n=Fl(e.current,null),rc=t,ic=0,sc=null,ac=!1,oc=Ce(e,t),lc=!1,mc=pc=fc=hc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),s=1<<i;t|=e[i],r&=~s}return cc=t,Ar(),n}function Bc(e,t){Ji=null,P.H=Sa,t===ai?(t=fi(),ic=3):t===oi?(t=fi(),ic=4):ic=t===za?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===nc&&(uc=1,Fa(e,Dr(t,e.current)))}function zc(){var e=P.H;return P.H=Sa,null===e?Sa:e}function $c(){var e=P.A;return P.A=Zl,e}function qc(){uc=4,ac||(4194176&rc)!==rc&&null!==Ti.current||(oc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Fc(tc,rc,pc,!1)}function Hc(e,t,n){var r=ec;ec|=2;var i=zc(),s=$c();tc===e&&rc===t||(wc=null,Vc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=sc;switch(ic){case 8:Uc(),a=6;break e;case 3:case 2:case 6:null===Ti.current&&(t=!0);var c=ic;if(ic=0,sc=null,Yc(e,o,l,c),n&&oc){a=0;break e}break;default:c=ic,ic=0,sc=null,Yc(e,o,l,c)}}Wc(),a=uc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,vo=go=null,ec=r,P.H=i,P.A=s,null===nc&&(tc=null,rc=0,Ar()),a}function Wc(){for(;null!==nc;)Gc(nc)}function Kc(){for(;null!==nc&&!ae();)Gc(nc)}function Gc(e){var t=po(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Qc(e):nc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:vs(t);default:Ql(n,t),t=po(n,t=nc=Ll(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Qc(e):nc=t}function Yc(e,t,n,r){vo=go=null,vs(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_o(t,n,i,!0),null!==(n=Ti.current)){switch(n.tag){case 13:return null===Ni?qc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(a(435,n.tag))}return iu(e,r,i),qc(),!1}if(Yr)return null!==(t=Ti.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Jr&&si(Dr(e=Error(a(422),{cause:r}),n))):(r!==Jr&&si(Dr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Dr(r,n),Do(e,i=Ua(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var s=Error(a(520),{cause:r});if(s=Dr(s,n),null===gc?gc=[s]:gc.push(s),4!==uc&&(uc=2),null===t)return!0;r=Dr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Do(n,e=Ua(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===_c||!_c.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ba(i=Va(i),e,n,r),Do(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Fa(e,Dr(n,e.current)),void(nc=null)}catch(s){if(null!==i)throw nc=i,s;return uc=1,Fa(e,Dr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:oc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ti.current)&&13===r.tag&&(r.flags|=16384))),Zc(t,e)):Qc(t)}function Qc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,ac);e=t.return;var n=Xl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Zc(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Jc(e,t,n,r,i,s,o,l,c,u){var d=P.T,h=z.p;try{z.p=2,P.T=null,function(e,t,n,r,i,s,o,l){do{tu()}while(null!==Sc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-xe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&je(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,u|=Er,s,o,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||kc||(kc=!0,Ac=u,Cc=n,function(e,t){ie(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=P.T,P.T=null,s=z.p,z.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=qd,er(e=Jn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:e,selectionRange:n},qd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(s=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Ra(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),pl(c,e),tr(Gu,e.containerInfo),qd=!!Ku,Gu=Ku=null,e.current=c,il(e,c.alternate,c),oe(),ec=o,z.p=s,P.T=n):e.current=c,kc?(kc=!1,Sc=e,Ec=r):eu(e,u),u=e.pendingLanes,0===u&&(_c=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Ec)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Nc?Tc++:(Tc=0,Nc=e):Tc=0,gu(0,!1)}(e,t,n,r,h,i,s,o)}finally{P.T=d,z.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function tu(){if(null!==Sc){var e=Sc,t=Ac;Ac=0;var n=Oe(Ec),r=P.T,i=z.p;try{if(z.p=32>n?32:n,P.T=null,null===Sc)var s=!1;else{n=Cc,Cc=null;var o=Sc,l=Ec;if(Sc=null,Ec=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Il(o.current),kl(o,o.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(u){}s=!0}return s}finally{z.p=i,P.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Dr(n,t),null!==(e=Ro(e,t=Ua(e.stateNode,t,2),2))&&(Re(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=Dr(n,e),null!==(r=Ro(t,n=Va(2),2))&&(Ba(n,r,t,e),Re(r,2),mu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Jl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=su.bind(null,e,t,n),t.then(e,e))}function su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Vc(e,0):fc|=n,mc===rc&&(mc=0)),mu(e)}function au(e,t){0===t&&(t=Pe()),null!==(e=Nr(e,t))&&(Re(e,t),mu(e))}function ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,pu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?ie(ue,t):t()})))}function gu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,xu(r,s))}else s=rc,0===(3&(s=Ae(r,r===tc?s:0)))||Ce(r,s)||(n=!0,xu(r,s));r=r.next}}while(n);fu=!1}}function vu(){hu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Ju&&(Ju=e,!0);return Ju=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,s=yu(r,t);0===s?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&s))&&(hu=!0)),r=i}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-xe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Te(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=rc,n=Ae(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Oe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ae(e,e===tc?r:0))?null:(jc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function xu(e,t){if(tu())return null;jc(e,t,!0)}function wu(){return 0===pu&&(pu=Ne()),pu}function _u(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Su=0;Su<wr.length;Su++){var Eu=wr[Su];_r(Eu.toLowerCase(),"on"+(Eu[0].toUpperCase()+Eu.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(vr,"onTransitionStart"),_r(yr,"onTransitionCancel"),_r(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Tu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){ja(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){ja(u)}i.currentTarget=null,s=l}}}}function Nu(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(ju(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),ju(n,e,r,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Iu]){e[Iu]=!0,Ze.forEach((function(t){"selectionchange"!==t&&(Cu.has(t)||Pu(t,!1,e),Pu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Iu]||(t[Iu]=!0,Pu("selectionchange",!1,t))}}function ju(e,t,n,r){switch(Qd(t)){case 2:var i=Hd;break;case 8:i=Wd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Du(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ke(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Mt((function(){var r=s,i=It(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var l=Zt,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Ft(p,h))&&u.push(Ou(p,m,f)),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[Ve])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Xe(l),f=null==c?o:Xe(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Ke(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Fu(f))p++;for(f=0,m=h;m;m=Fu(m))f++;for(;0<p-f;)u=Fu(u),p--;for(;0<f-p;)h=Fu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Fu(u),h=Fu(h)}u=null}else u=null;null!==l&&Lu(a,o,l,u,!1),null!==c&&null!==d&&Lu(a,d,c,u,!0)}if("select"===(l=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Fn;else if(In(o))if(Ln)g=Kn;else{g=Hn;var v=qn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&At(r.elementType)&&(g=Fn):g=Wn;switch(g&&(g=g(e,r))?Rn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),v=r?Xe(r):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var y;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nn?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Nn&&(y=$t()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,Nn=!0)),0<(v=Mu(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Tn(n))&&(b.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(An=!0,En);case"textInput":return(e=t.data)===En&&An?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!wn&&Cn(e,t)?(e=$t(),zt=Bt=Vt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Mu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=_u((i[Ue]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ue]||null)?_u(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?ku(i,a):new FormData(i);ua(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?ku(i,a):new FormData(i),ua(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Tu(a,t)}))}function Ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(Ou(e,i,s)),null!=(i=Ft(e,t))&&r.push(Ou(e,i,s))),e=e.return}return r}function Fu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Lu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,s))&&a.unshift(Ou(n,c,l)):i||null!=(c=Ft(n,s))&&a.push(Ou(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Uu=/\r\n?/g,Vu=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(Uu,"\n").replace(Vu,"")}function zu(e,t){return t=Bu(t),Bu(e)===t}function $u(){}function qu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&qu(e,t,"name",i.name,i,null),qu(e,t,"formEncType",i.formEncType,i,null),qu(e,t,"formMethod",i.formMethod,i,null),qu(e,t,"formTarget",i.formTarget,i,null)):(qu(e,t,"encType",i.encType,i,null),qu(e,t,"method",i.method,i,null),qu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Nu("beforetoggle",e),Nu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function Hu(e,t,n,r,i,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ue]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nu("error",e),Nu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:qu(e,t,r,o,n,null)}}return s&&qu(e,t,"srcSet",n.srcSet,n,null),void(i&&qu(e,t,"src",n.src,n,null));case"input":Nu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:qu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Nu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:qu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Nu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:qu(e,t,o,l,n,null)}return wt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else qu(e,t,c,i,n,null);return;case"dialog":Nu("cancel",e),Nu("close",e);break;case"iframe":case"object":Nu("load",e);break;case"video":case"audio":for(i=0;i<Au.length;i++)Nu(Au[i],e);break;case"image":Nu("error",e),Nu("load",e);break;case"details":Nu("toggle",e);break;case"embed":case"source":case"link":Nu("error",e),Nu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:qu(e,t,u,i,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Hu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&qu(e,t,l,i,n,null))}var Ku=null,Gu=null;function Xu(e){return 9===e.nodeType?e:e.ownerDocument}function Yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ju=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function sd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void mh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Xu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=z.d;z.d={f:function(){var e=fd.f(),t=Lc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ha(t):fd.r(e)},D:function(e){fd.D(e),md("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=pd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=vd(e);break;case"script":s=xd(e)}ud.has(s)||(e=I({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(yd(s))||"script"===t&&r.querySelector(wd(s))||(Wu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xd(e)}if(!ud.has(s)&&(e=I({rel:"modulepreload",href:e},t),ud.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(s)))return}Wu(r=n.createElement("link"),"link",e),Qe(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,i=xd(e),s=r.get(i);s||((s=n.querySelector(wd(i)))||(e=I({src:e,async:!0},t),(t=ud.get(i))&&Ed(e,t),Qe(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){fd.S(e,t,n);var r=pd;if(r&&e){var i=Ye(r).hoistableStyles,s=vd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(yd(s)))o.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(s))&&Sd(e,n);var l=a=r.createElement("link");Qe(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,kd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){fd.M(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,i=xd(e),s=r.get(i);s||((s=n.querySelector(wd(i)))||(e=I({src:e,async:!0,type:"module"},t),(t=ud.get(i))&&Ed(e,t),Qe(s=n.createElement("script")),Wu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var pd="undefined"===typeof document?null:document;function md(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Wu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var i,s,o,l,c=(c=Q.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Ye(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Wu(s,"link",o),Qe(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=xd(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+mt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function xd(e){return'[src="'+mt(e)+'"]'}function wd(e){return"script[async]"+e}function _d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Qe(r),r;var i=I({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(r=(e.ownerDocument||e).createElement("style")),Wu(r,"style",i),kd(r,n.precedence,e),t.instance=r;case"stylesheet":i=vd(n.href);var s=e.querySelector(yd(i));if(s)return t.state.loading|=4,t.instance=s,Qe(s),s;r=bd(n),(i=ud.get(i))&&Sd(r,i),Qe(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(s,"link",r),t.state.loading|=4,kd(s,n.precedence,e),t.instance=s;case"script":return s=xd(n.src),(i=e.querySelector(wd(s)))?(t.instance=i,Qe(i),i):(r=n,(i=ud.get(s))&&Ed(r=I({},n),i),Qe(i=(e=e.ownerDocument||e).createElement("script")),Wu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,kd(r,n.precedence,e));return t.instance}function kd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Sd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ad=null;function Cd(e,t,n){if(null===Ad){var r=new Map,i=Ad=new Map;i.set(n,r)}else(r=(i=Ad).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[He]||s[Le]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Td(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Nd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pd=null;function Id(){}function Rd(){if(this.count--,0===this.count)if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var jd=null;function Dd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,jd=new Map,t.forEach(Od,e),jd=null,Rd.call(e))}function Od(e,t){if(!(4&t.state.loading)){var n=jd.get(e);if(n)var r=n.get(null);else{n=new Map,jd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Rd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Md={$$typeof:g,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Fd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Ld(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Fd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Ol(3,null,null,t),e.current=s,s.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},No(s),e}function Ud(e){return e?e=Rr:Rr}function Vd(e,t,n,r,i,s){i=Ud(i),null===r.context?r.context=i:r.pendingContext=i,(r=Io(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Ro(e,r,t))&&(Rc(n,0,t),jo(n,e,t))}function Bd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zd(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function $d(e){if(13===e.tag){var t=Nr(e,67108864);null!==t&&Rc(t,0,67108864),zd(e,67108864)}}var qd=!0;function Hd(e,t,n,r){var i=P.T;P.T=null;var s=z.p;try{z.p=2,Kd(e,t,n,r)}finally{z.p=s,P.T=i}}function Wd(e,t,n,r){var i=P.T;P.T=null;var s=z.p;try{z.p=8,Kd(e,t,n,r)}finally{z.p=s,P.T=i}}function Kd(e,t,n,r){if(qd){var i=Gd(r);if(null===i)Du(e,t,r,Xd,n),ah(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Jd=oh(Jd,e,t,n,r,i),!0;case"dragenter":return eh=oh(eh,e,t,n,r,i),!0;case"mouseover":return th=oh(th,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nh.set(s,oh(nh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rh.set(s,oh(rh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<sh.indexOf(e)){for(;null!==i;){var s=Ge(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ee(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-xe(a);o.entanglements[1]|=l,a&=~l}mu(s),0===(6&ec)&&(xc=le()+500,gu(0,!1))}}break;case 13:null!==(o=Nr(s,2))&&Rc(o,0,2),Lc(),zd(s,2)}if(null===(s=Gd(r))&&Du(e,t,r,Xd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Du(e,t,r,null,n)}}function Gd(e){return Yd(e=It(e))}var Xd=null;function Yd(e){if(Xd=null,null!==(e=Ke(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=L(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xd=e,null}function Qd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zd=!1,Jd=null,eh=null,th=null,nh=new Map,rh=new Map,ih=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Jd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function oh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&$d(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lh(e){var t=Ke(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=L(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=Nr(n,e);null!==t&&Rc(t,0,e),zd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gd(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&$d(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Zd=!1,null!==Jd&&ch(Jd)&&(Jd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function ph(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Yd(r||n))continue;break}var s=Ge(n);null!==s&&(e.splice(t,3),t-=3,ua(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mh(e){function t(t){return hh(t,e)}null!==Jd&&hh(Jd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ih.length&&null===(n=ih[0]).blockedOn;)lh(n),null===n.blockedOn&&ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Ue]||null;if("function"===typeof s)a||ph(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Ue]||null)o=a.formAction;else if(null!==Yd(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),ph(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vd(t.current,Pc(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Vd(e.current,2,null,e,null,null),Lc(),t[Ve]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&0!==t&&t<ih[n].priority;n++);ih.splice(n,0,e),0===n&&lh(e)}};var yh=i.version;if("19.0.0"!==yh)throw Error(a(527,yh,"19.0.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U(i),e;if(s===r)return U(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ve=xh.inject(bh),ye=xh}catch(_h){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Da,s=Oa,l=Ma;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ld(e,1,!1,null,0,n,r,i,s,l,0,null),e[Ve]=t.current,Ru(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=Da,l=Oa,c=Ma,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Ld(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Ud(null),n=t.current,(i=Io(r=Pc())).callback=null,Ro(n,i,r),t.current.lanes=r,Re(t,r),mu(t),e[Ve]=t.current,Ru(e),new vh(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},237:()=>{},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function S(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(){}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,w(a)?(i="",null!=u&&(i=u.replace(A,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+u,a=S(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=N(s=e[m],t,i,o=p+C(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,o=p+C(s,m++),a);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function j(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return S(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(j,R)}catch(s){R(s)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},492:()=>{},579:(e,t,n)=>{"use strict";e.exports=n(799)},640:()=>{},671:()=>{},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},749:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||a(t)},t.bytesToString=function(e){"object"===typeof e&&null!==e&&void 0!==e.length||a("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const s=Math.min(i+n,t),a=e.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t&&t.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=f(e)}catch(r){}}const i=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(r){}return null},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"===typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=o,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=c,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=c(e);return n.decode(r)}catch(n){s(`stringToPDFString: "${n}".`)}}const t=[];for(let r=0,i=e.length;r<i;r++){const n=h[e.charCodeAt(r)];t.push(n?String.fromCharCode(n):e.charAt(r))}return t.join("")},t.stringToUTF8String=f,t.unreachable=a,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35;const n=.35/1.35;t.BASELINE_FACTOR=n,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function s(e){i>=r.WARNINGS&&console.log(`Warning: ${e}`)}function a(e){throw new Error(e)}function o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&a("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"string"!==typeof e&&a("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return o(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return o(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return o(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?o(this,"platform",{isWin:!1,isMac:!1}):o(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const u=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class d{static makeHexColor(e,t,n){return`#${u[e]}${u[t]}${u[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=d.applyTransform(e,t),r=d.applyTransform(e.slice(2,4),t),i=d.applyTransform([e[0],e[3]],t),s=d.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],s[0]),Math.min(n[1],r[1],i[1],s[1]),Math.max(n[0],r[0],i[0],s[0]),Math.max(n[1],r[1],i[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-i*r))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>s?null:[n,i,r,s]}static bezierBoundingBox(e,t,n,r,i,s,a,o){const l=[],c=[[],[]];let u,d,h,f,p,m,g,v;for(let w=0;w<2;++w)if(0===w?(d=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*a,h=3*n-3*e):(d=6*t-12*r+6*s,u=-3*t+9*r-9*s+3*o,h=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(d)<1e-12)continue;f=-h/d,0<f&&f<1&&l.push(f)}else g=d*d-4*h*u,v=Math.sqrt(g),g<0||(p=(-d+v)/(2*u),0<p&&p<1&&l.push(p),m=(-d-v)/(2*u),0<m&&m<1&&l.push(m));let y,b=l.length;const x=b;for(;b--;)f=l[b],y=1-f,c[0][b]=y*y*y*e+3*y*y*f*n+3*y*f*f*i+f*f*f*a,c[1][b]=y*y*y*t+3*y*y*f*r+3*y*f*f*s+f*f*f*o;return c[0][x]=e,c[1][x]=t,c[0][x+1]=a,c[1][x+1]=o,c[0].length=c[1].length=x+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}t.Util=d;const h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(e){return decodeURIComponent(escape(e))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}if(_is_node.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(21);createPDFNetworkStream=t=>new e(t)}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(24),{PDFFetchStream:t}=__w_pdfjs_require__(25);createPDFNetworkStream=n=>(0,_display_utils.isValidFetchUrl)(n.url)?new t(n):new e(n)}function getDocument(e){if("string"===typeof e||e instanceof URL)e={url:e};else if((0,_util.isArrayBuffer)(e))e={data:e};else if(e instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),e={range:e};else if("object"!==typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new PDFDocumentLoadingTask,n=e.url?getUrlProp(e.url):null,r=e.data?getDataProp(e.data):null,i=e.httpHeaders||null,s=!0===e.withCredentials,a=e.password??null,o=e.range instanceof PDFDataRangeTransport?e.range:null,l=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let c=e.worker instanceof PDFWorker?e.worker:null;const u=e.verbosity,d="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,h="string"===typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,p=e.CMapReaderFactory||DefaultCMapReaderFactory,m="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,g=e.StandardFontDataFactory||DefaultStandardFontDataFactory,v=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,b=!1!==e.isEvalSupported,x="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_is_node.isNodeJS,w="boolean"===typeof e.disableFontFace?e.disableFontFace:_is_node.isNodeJS,_=!0===e.fontExtraProperties,k=!0===e.enableXfa,S=e.ownerDocument||globalThis.document,E=!0===e.disableRange,A=!0===e.disableStream,C=!0===e.disableAutoFetch,T=!0===e.pdfBug,N=o?o.length:e.length??NaN,P="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_is_node.isNodeJS&&!w,I="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:p===_display_utils.DOMCMapReaderFactory&&g===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(h,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(m,document.baseURI);(0,_util.setVerbosityLevel)(u);const R=I?null:{cMapReaderFactory:new p({baseUrl:h,isCompressed:f}),standardFontDataFactory:new g({baseUrl:m})};if(!c){const e={verbosity:u,port:_worker_options.GlobalWorkerOptions.workerPort};c=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=c}const j=t.docId,D={docId:j,apiVersion:"3.4.120",data:r,password:a,disableAutoFetch:C,rangeChunkSize:l,length:N,docBaseUrl:d,enableXfa:k,evaluatorOptions:{maxImageSize:y,disableFontFace:w,ignoreErrors:v,isEvalSupported:b,isOffscreenCanvasSupported:x,fontExtraProperties:_,useSystemFonts:P,cMapUrl:I?h:null,standardFontDataUrl:I?m:null}},O={ignoreErrors:v,isEvalSupported:b,disableFontFace:w,fontExtraProperties:_,enableXfa:k,ownerDocument:S,disableAutoFetch:C,pdfBug:T,styleElement:null};return c.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(c,D),a=new Promise((function(e){let t;o?t=new _transport_stream.PDFDataTransportStream({length:N,initialData:o.initialData,progressiveDone:o.progressiveDone,contentDispositionFilename:o.contentDispositionFilename,disableRange:E,disableStream:A},o):r||(t=createPDFNetworkStream({url:n,length:N,httpHeaders:i,withCredentials:s,rangeChunkSize:l,disableRange:E,disableStream:A})),e(t)}));return Promise.all([e,a]).then((function(e){let[n,r]=e;if(t.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(j,n,c.port),s=new WorkerTransport(i,t,r,O,R);t._transport=s,i.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(_is_node.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(e);if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;#t=null;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return this.#t}set onUnsupportedFeature(e){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),this.#t=e}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._pageIndex=e,this._pageInfo=t,this._ownerDocument=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:r="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:s=null,canvasFactory:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null}=e;this._stats?.time("Overall");const h=this._transport.getRenderingIntent(r,i,d);this.pendingCleanup=!1,l||(l=this._transport.getOptionalContentConfig());let f=this._intentStates.get(h.cacheKey);f||(f=Object.create(null),this._intentStates.set(h.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const p=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),m=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);f.displayReadyCapability||(f.displayReadyCapability=(0,_util.createPromiseCapability)(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const g=e=>{f.renderTasks.delete(v),(this.cleanupAfterRender||m)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(v.capability.reject(e),this._abortOperatorList({intentState:f,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},v=new InternalRenderTask({callback:g,params:{canvasContext:t,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:p,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:u});(f.renderTasks||=new Set).add(v);const y=v.task;return Promise.all([f.displayReadyCapability.promise,l]).then((e=>{let[t,n]=e;this.pendingCleanup?g():(this._stats?.time("Rendering"),v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged())})).catch(g),y}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let i,s=this._intentStates.get(r.cacheKey);return s||(s=Object.create(null),this._intentStates.set(r.cacheKey,s)),s.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(i))},s.opListReadCapability=(0,_util.createPromiseCapability)(),(s.renderTasks||=new Set).add(i),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),s.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:e=!1,includeMarkedContent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:s}=n;s?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageMap:r}=e;const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r}).getReader(),s=this._intentStates.get(n);s.streamReader=i;const a=()=>{i.read().then((e=>{let{value:t,done:n}=e;n?s.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,s),a())}),(e=>{if(s.streamReader=null,!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const e of s.renderTasks)e.operatorListChanged();this._tryCleanup()}if(s.displayReadyCapability)s.displayReadyCapability.reject(e);else{if(!s.opListReadCapability)throw e;s.opListReadCapability.reject(e)}}}))};a()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#n=(()=>new Set)();#r=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t)};this.#r.then((()=>{for(const e of this.#n)e.call(this,n)}))}addEventListener(e,t){this.#n.add(t)}removeEventListener(e,t){this.#n.delete(t)}terminate(){this.#n.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static#i=(()=>new WeakMap)();constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&PDFWorker.#i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return PDFWorker.#i.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),n.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)r();else try{s()}catch(n){this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#i.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#i.has(e.port)?this.#i.get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#s=(()=>new Map)();#a=(()=>new Map)();#o=(()=>new Map)();constructor(e,t,n,r,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.cMapReaderFactory=i?.cMapReaderFactory,this.standardFontDataFactory=i?.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}#l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#s.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#s.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,s=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,s=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${_annotation_storage.AnnotationStorage.getHash(s)}`,annotationStorageMap:s}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#a.values())e.push(n._destroy());this.#a.clear(),this.#o.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#s.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const r=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){this._passwordCapability.reject(n)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.#a.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,r,i]=t;if(!this.destroyed&&!this.commonObjs.has(n))switch(r){case"Font":const t=this._params;if("error"in i){const e=i.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}let s=null;t.pdfBug&&globalThis.FontInspector?.enabled&&(s={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const a=new _font_loader.FontFaceObject(i,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:s});this.fontLoader.bind(a).catch((t=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!t.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(n,a)}));break;case"FontPath":case"Image":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${r}`)}})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const s=this.#a.get(n);if(!s.objs.has(t))switch(r){case"Image":s.objs.resolve(t,i);const e=8e6;if(i){let t;if(i.bitmap){const{width:e,height:n}=i;t=e*n*4}else t=i.data?.length||0;t>e&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(t,i);break;default:throw new Error(`Got unknown object type ${r}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature(e){let{featureId:t}=e;this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#o.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);return this.#a.set(t,n),n}));return this.#o.set(t,r),r}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#s.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#s.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#a.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#s.clear()}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}class PDFObjects{#c=(()=>Object.create(null))();#u(e){const t=this.#c[e];return t||(this.#c[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#u(e);return n.capability.promise.then((()=>t(n.data))),null}const n=this.#c[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#c[e];return t?.capability.settled||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#u(e);n.data=t,n.capability.resolve()}clear(){for(const e in this.#c){const{data:t}=this.#c[e];t?.bitmap?.close()}this.#c=Object.create(null)}}class RenderTask{#d=null;constructor(e){this.#d=e,this.onContinue=null}get promise(){return this.#d.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#d.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#d.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#d;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#h=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:d=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this._pdfBug=u,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#h.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#h.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&InternalRenderTask.#h.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#h.delete(this._canvas),this.callback())))}}const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(4),s=n(8);class a{#f=!1;#p=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#p.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#p.get(e)}remove(e){if(this.#p.delete(e),0===this.#p.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#p.values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#p.get(e);let r=!1;if(void 0!==n)for(const[i,s]of Object.entries(t))n[i]!==s&&(r=!0,n[i]=s);else r=!0,this.#p.set(e,t);r&&this.#m(),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#p.has(e)}getAll(){return this.#p.size>0?(0,r.objectFromMap)(this.#p):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#p.size}#m(){this.#f||(this.#f=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#f&&(this.#f=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new o(this)}get serializable(){if(0===this.#p.size)return null;const e=new Map;for(const[t,n]of this.#p){const r=n instanceof i.AnnotationEditor?n.serialize():n;r&&e.set(t,r)}return e}static getHash(e){if(!e)return"";const t=new s.MurmurHash3_64;for(const[n,r]of e)t.update(`${n}:${JSON.stringify(r)}`);return t.hexdigest()}}t.AnnotationStorage=a;class o extends a{#g=null;constructor(e){super(),this.#g=structuredClone(e.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#g}}t.PrintAnnotationStorage=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(5),i=n(1);class s{#v=this.focusin.bind(this);#y=this.focusout.bind(this);#b=!1;#x=!1;#w=!1;_uiManager=null;#_=(()=>s._zIndex++)();static _colorManager=(()=>new r.ColorManager)();static _zIndex=1;constructor(e){this.constructor===s&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageDimensions=[n,r],this.pageTranslation=[a,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this.#b?this.#b=!1:this.parent.setSelected(this)}focusout(e){if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(e){const t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,t,n,r){const[i,s]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/s,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,t){const[n,r]=this.parentDimensions;[e,t]=this.screenToPageTranslation(e,t),this.x+=e/n,this.y+=t/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,t){switch(this.parentRotation){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:e}=this._uiManager.viewParameters,[t,n]=this.pageDimensions;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=100*e/n+"%",this.div.style.height=100*t/r+"%"}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=t.endsWith("%");if(r&&i)return;const[s,a]=this.parentDimensions;r||(e.width=100*parseFloat(n)/s+"%"),i||(e.height=100*parseFloat(t)/a+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#v),this.div.addEventListener("focusout",this.#y);const[e,t]=this.getInitialTranslation();return this.translate(e,t),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const{isMac:t}=i.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#b=!0)}getRect(e,t){const n=this.parentScale,[r,i]=this.pageDimensions,[s,a]=this.pageTranslation,o=e/n,l=t/n,c=this.x*r,u=this.y*i,d=this.width*r,h=this.height*i;switch(this.rotation){case 0:return[c+o+s,i-u-l-h+a,c+o+d+s,i-u-l+a];case 90:return[c+l+s,i-u+o+a,c+l+h+s,i-u+o+d+a];case 180:return[c-o-d+s,i-u+l+a,c-o+s,i-u+l+h+a];case 270:return[c-l-h+s,i-u-o-d+a,c-l+s,i-u-o+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,s]=e,a=i-n,o=s-r;switch(this.rotation){case 0:return[n,t-s,a,o];case 90:return[n,t-r,o,a];case 180:return[i,t-r,a,o];case 270:return[i,t-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#w=!0}disableEditMode(){this.#w=!1}isInEditMode(){return this.#w}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#v)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[i,s]=r.pageDimensions,[a,o,l,c]=r.getRectInCurrentCoords(e.rect,s);return r.x=a/i,r.y=o/s,r.width=l/i,r.height=c/s,r}remove(){this.div.removeEventListener("focusin",this.#v),this.div.removeEventListener("focusout",this.#y),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(e,t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#x}set isEditing(e){this.#x=e,e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=s},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(6);class s{#k=0;getId(){return`${r.AnnotationEditorPrefix}${this.#k++}`}}class a{#S=[];#E=!1;#A;#C=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#A=e}add(e){let{cmd:t,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}=e;if(r&&t(),this.#E)return;const o={cmd:t,undo:n,type:i};if(-1===this.#C)return this.#S.length>0&&(this.#S.length=0),this.#C=0,void this.#S.push(o);if(s&&this.#S[this.#C].type===i)return a&&(o.undo=this.#S[this.#C].undo),void(this.#S[this.#C]=o);const l=this.#C+1;l===this.#A?this.#S.splice(0,1):(this.#C=l,l<this.#S.length&&this.#S.splice(l)),this.#S.push(o)}undo(){-1!==this.#C&&(this.#E=!0,this.#S[this.#C].undo(),this.#E=!1,this.#C-=1)}redo(){this.#C<this.#S.length-1&&(this.#C+=1,this.#E=!0,this.#S[this.#C].cmd(),this.#E=!1)}hasSomethingToUndo(){return-1!==this.#C}hasSomethingToRedo(){return this.#C<this.#S.length-1}destroy(){this.#S=null}}t.CommandManager=a;class o{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=r.FeatureTest.platform;for(const[n,r]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),r),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,r),this.allKeys.add(e.split("+").at(-1)))}}#T(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#T(t));n&&(n.bind(e)(),t.stopPropagation(),t.preventDefault())}}t.KeyboardManager=o;class l{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,i.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return l._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=l;class c{#N=null;#P=(()=>new Map)();#I=(()=>new Map)();#R=null;#j=(()=>new a)();#D=0;#O=null;#M=(()=>new Set)();#F=null;#L=(()=>new s)();#U=!1;#V=(()=>r.AnnotationEditorType.NONE)();#B=(()=>new Set)();#z=this.copy.bind(this);#$=this.cut.bind(this);#q=this.paste.bind(this);#H=this.keydown.bind(this);#W=this.onEditingAction.bind(this);#K=this.onPageChanging.bind(this);#G=this.onScaleChanging.bind(this);#X=this.onRotationChanging.bind(this);#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#Q=null;static _keyboardManager=(()=>new o([[["ctrl+a","mac+meta+a"],c.prototype.selectAll],[["ctrl+z","mac+meta+z"],c.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],c.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],c.prototype.delete],[["Escape","mac+Escape"],c.prototype.unselectAll]]))();constructor(e,t,n){this.#Q=e,this.#F=t,this.#F._on("editingaction",this.#W),this.#F._on("pagechanging",this.#K),this.#F._on("scalechanging",this.#G),this.#F._on("rotationchanging",this.#X),this.#R=n,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#Z(),this.#F._off("editingaction",this.#W),this.#F._off("pagechanging",this.#K),this.#F._off("scalechanging",this.#G),this.#F._off("rotationchanging",this.#X);for(const e of this.#I.values())e.destroy();this.#I.clear(),this.#P.clear(),this.#M.clear(),this.#N=null,this.#B.clear(),this.#j.destroy()}onPageChanging(e){let{pageNumber:t}=e;this.#D=t-1}focusMainContainer(){this.#Q.focus()}addShouldRescale(e){this.#M.add(e)}removeShouldRescale(e){this.#M.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of this.#M)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!this.#R||this.#R.has(e.id)||this.#R.setValue(e.id,e)}#J(){this.#Q.addEventListener("keydown",this.#H)}#Z(){this.#Q.removeEventListener("keydown",this.#H)}#ee(){document.addEventListener("copy",this.#z),document.addEventListener("cut",this.#$),document.addEventListener("paste",this.#q)}#te(){document.removeEventListener("copy",this.#z),document.removeEventListener("cut",this.#$),document.removeEventListener("paste",this.#q)}copy(e){if(e.preventDefault(),this.#N&&this.#N.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#B)n.isEmpty()||t.push(n.serialize());0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();let t=e.clipboardData.getData("application/pdfjs");if(!t)return;try{t=JSON.parse(t)}catch(i){return void(0,r.warn)(`paste: "${i.message}".`)}if(!Array.isArray(t))return;this.unselectAll();const n=this.#I.get(this.#D);try{const e=[];for(const s of t){const t=n.deserialize(s);if(!t)return;e.push(t)}const r=()=>{for(const t of e)this.#ne(t);this.#re(e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:r,undo:i,mustExec:!0})}catch(i){(0,r.warn)(`paste: "${i.message}".`)}}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||c._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}#ie(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#Y[t]!==n}))&&this.#F.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)})}#se(e){this.#F.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#J(),this.#ee(),this.#ie({isEditing:this.#V!==r.AnnotationEditorType.NONE,isEmpty:this.#ae(),hasSomethingToUndo:this.#j.hasSomethingToUndo(),hasSomethingToRedo:this.#j.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Z(),this.#te(),this.#ie({isEditing:!1}))}registerEditorTypes(e){if(!this.#O){this.#O=e;for(const e of this.#O)this.#se(e.defaultPropertiesToUpdate)}}getId(){return this.#L.getId()}get currentLayer(){return this.#I.get(this.#D)}get currentPageIndex(){return this.#D}addLayer(e){this.#I.set(e.pageIndex,e),this.#U?e.enable():e.disable()}removeLayer(e){this.#I.delete(e.pageIndex)}updateMode(e){if(this.#V=e,e===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#oe();else{this.setEditingState(!0),this.#le();for(const t of this.#I.values())t.updateMode(e)}}updateToolbar(e){e!==this.#V&&this.#F.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#O){for(const n of this.#B)n.updateParams(e,t);for(const n of this.#O)n.updateDefaultParams(e,t)}}#le(){if(!this.#U){this.#U=!0;for(const e of this.#I.values())e.enable()}}#oe(){if(this.unselectAll(),this.#U){this.#U=!1;for(const e of this.#I.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#P.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#P.get(e)}addEditor(e){this.#P.set(e.id,e)}removeEditor(e){this.#P.delete(e.id),this.unselect(e),this.#R?.remove(e.id)}#ne(e){const t=this.#I.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#N!==e&&(this.#N=e,e&&this.#se(e.propertiesToUpdate))}toggleSelected(e){if(this.#B.has(e))return this.#B.delete(e),e.unselect(),void this.#ie({hasSelectedEditor:this.hasSelection});this.#B.add(e),e.select(),this.#se(e.propertiesToUpdate),this.#ie({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#B)t!==e&&t.unselect();this.#B.clear(),this.#B.add(e),e.select(),this.#se(e.propertiesToUpdate),this.#ie({hasSelectedEditor:!0})}isSelected(e){return this.#B.has(e)}unselect(e){e.unselect(),this.#B.delete(e),this.#ie({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#B.size}undo(){this.#j.undo(),this.#ie({hasSomethingToUndo:this.#j.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#ae()})}redo(){this.#j.redo(),this.#ie({hasSomethingToUndo:!0,hasSomethingToRedo:this.#j.hasSomethingToRedo(),isEmpty:this.#ae()})}addCommands(e){this.#j.add(e),this.#ie({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#ae()})}#ae(){if(0===this.#P.size)return!0;if(1===this.#P.size)for(const e of this.#P.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#B];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#ne(t)},mustExec:!0})}commitOrRemove(){this.#N?.commitOrRemove()}#re(e){this.#B.clear();for(const t of e)t.isEmpty()||(this.#B.add(t),t.select());this.#ie({hasSelectedEditor:!0})}selectAll(){for(const e of this.#B)e.commit();this.#re(this.#P.values())}unselectAll(){if(this.#N)this.#N.commitOrRemove();else if(0!==this.#B.size){for(const e of this.#B)e.unselect();this.#B.clear(),this.#ie({hasSelectedEditor:!1})}}isActive(e){return this.#N===e}getActive(){return this.#N}getMode(){return this.#V}}t.AnnotationEditorUIManager=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,g(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform();return[t,n,r,i,s,a]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform().invertSelf();return[t,n,r,i,s,a]},t.getFilenameFromUrl=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(f(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch(a){}return s||t},t.getRGB=g,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:s}=e.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new d({viewBox:a,scale:n,rotation:r})},t.isDataScheme=f,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=p,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)}))},t.setLayerDimensions=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof d){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:s}=e,a=`calc(var(--scale-factor) * ${r}px)`,o=`calc(var(--scale-factor) * ${i}px)`;n&&t.rotation%180!==0?(s.width=o,s.height=a):(s.width=a,s.height=o)}r&&e.setAttribute("data-main-rotation",t.rotation)};var r=n(7),i=n(1);t.AnnotationPrefix="pdfjs_internal_id_";class s{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}t.PixelsPerInch=s;class a extends r.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(p(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),t&&(s.responseType="arraybuffer"),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(200===s.status||0===s.status){let e;if(t&&s.response?e=new Uint8Array(s.response):!t&&s.responseText&&(e=(0,i.stringToBytes)(s.responseText)),e)return void n(e)}r(new Error(s.statusText))}},s.send(null)}))}t.DOMCanvasFactory=a;class l extends r.BaseCMapReaderFactory{_fetchData(e,t){return o(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=l;class c extends r.BaseStandardFontDataFactory{_fetchData(e){return o(e,!0)}}t.DOMStandardFontDataFactory=c;class u extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}t.DOMSVGFactory=u;class d{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,d,h,f,p,m,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,h=-h),0===c?(f=Math.abs(l-t[1])*n+i,p=Math.abs(o-t[0])*n+s,m=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(f=Math.abs(o-t[0])*n+i,p=Math.abs(l-t[1])*n+s,m=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,u*n,d*n,h*n,f-c*n*o-d*n*l,p-u*n*o-h*n*l],this.width=m,this.height=g}get rawDims(){const{viewBox:e}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=d;class h extends i.BaseException{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,"RenderingCancelledException"),this.type=t,this.extraDelay=n}}function f(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function p(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}let m;function g(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,i.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=h,t.StatTimer=class{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-r}ms\n`);return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,r,i,s,a,o))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=i;class s{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class a{constructor(e){let{baseUrl:t=null}=e;this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=a;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,s=4294901760,a=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,o=n-4*i,l=new Uint32Array(t.buffer,0,i);let c=0,u=0,d=this.h1,h=this.h2;const f=3432918353,p=461845907,m=11601,g=13715;for(let r=0;r<i;r++)1&r?(c=l[r],c=c*f&s|c*m&a,c=c<<15|c>>>17,c=c*p&s|c*g&a,d^=c,d=d<<13|d>>>19,d=5*d+3864292196):(u=l[r],u=u*f&s|u*m&a,u=u<<15|u>>>17,u=u*p&s|u*g&a,h^=u,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,o){case 3:c^=t[4*i+2]<<16;case 2:c^=t[4*i+1]<<8;case 1:c^=t[4*i],c=c*f&s|c*m&a,c=c<<15|c>>>17,c=c*p&s|c*g&a,1&i?d^=c:h^=c}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&s|36045*e&a,t=4283543511*t&s|(2950163797*(t<<16|e>>>16)&s)>>>16,e^=t>>>1,e=444984403*e&s|60499*e&a,t=3301882366*t&s|(3120437893*(t<<16|e>>>16)&s)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1),i=n(10);t.FontLoader=class{constructor(e){let{onUnsupportedFeature:t,ownerDocument:n=globalThis.document,styleElement:r=null}=e;this._onUnsupportedFeature=t,this._document=n,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(i.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,u.length,u);const h=1482184792;let f=n(d,16);for(s=0,a=u.length-3;s<a;s+=4)f=f-h+n(u,s)|0;s<u.length&&(f=f-h+n(u+"XXX",s)|0),d=i(d,16,4,(0,r.string32)(f));const p=`@font-face {font-family:"${u}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(p);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const r of[e.loadedName,u]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,m.append(e)}this._document.body.append(m),function e(t,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(u,(()=>{m.remove(),t.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,onUnsupportedFeature:s,fontRegistry:a=null}=t;this.compiledGlyphs=Object.create(null);for(const o in e)this[o]=e[o];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._onUnsupportedFeature=s,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry?.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry?.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){if(!this.ignoreErrors)throw i;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${i}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),i=n(6),s=n(12),a=n(13);const o=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function u(e,t,n,r,s,a,o,l,c,u){const[d,h,f,p,m,g]=(0,i.getCurrentTransform)(e);if(0===h&&0===f){const i=o*d+m,v=Math.round(i),y=l*p+g,b=Math.round(y),x=(o+c)*d+m,w=Math.abs(Math.round(x)-v)||1,_=(l+u)*p+g,k=Math.abs(Math.round(_)-b)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,b),e.drawImage(t,n,r,s,a,0,0,w,k),e.setTransform(d,h,f,p,m,g),[w,k]}if(0===d&&0===p){const i=l*f+m,v=Math.round(i),y=o*h+g,b=Math.round(y),x=(l+u)*f+m,w=Math.abs(Math.round(x)-v)||1,_=(o+c)*h+g,k=Math.abs(Math.round(_)-b)||1;return e.setTransform(0,Math.sign(h),Math.sign(f),0,v,b),e.drawImage(t,n,r,s,a,0,0,k,w),e.setTransform(d,h,f,p,m,g),[k,w]}return e.drawImage(t,n,r,s,a,o,l,c,u),[Math.hypot(d,h)*c,Math.hypot(f,p)*u]}class d{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),i=r.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],i[0]),this.minY=Math.min(this.minY,n[1],i[1]),this.maxX=Math.max(this.maxX,n[0],i[0]),this.maxY=Math.max(this.maxY,n[1],i[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,o,l,c,u){const d=r.Util.bezierBoundingBox(t,n,i,s,a,o,l,c);if(u)return u[0]=Math.min(u[0],d[0],d[2]),u[1]=Math.max(u[1],d[0],d[2]),u[2]=Math.min(u[2],d[1],d[3]),void(u[3]=Math.max(u[3],d[1],d[3]));this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===s.PathType.STROKE){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const i=t.height,s=t.width,a=i%l,o=(i-a)/l,c=0===a?o:o+1,u=e.createImageData(s,l);let d,h=0;const f=t.data,p=u.data;let m,g,v,y,b,x,w,_;if(n)switch(n.length){case 1:b=n[0],x=n[0],w=n[0],_=n[0];break;case 4:b=n[0],x=n[1],w=n[2],_=n[3]}if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=f.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),i=n.length,y=s+7>>3;let b=4294967295,x=r.FeatureTest.isLittleEndian?4278190080:255;for(_&&255===_[0]&&0===_[255]&&([b,x]=[x,b]),m=0;m<c;m++){for(v=m<o?l:a,d=0,g=0;g<v;g++){const e=t-h;let r=0;const i=e>y?s:8*e-7,a=-8&i;let o=0,l=0;for(;r<a;r+=8)l=f[h++],n[d++]=128&l?b:x,n[d++]=64&l?b:x,n[d++]=32&l?b:x,n[d++]=16&l?b:x,n[d++]=8&l?b:x,n[d++]=4&l?b:x,n[d++]=2&l?b:x,n[d++]=1&l?b:x;for(;r<i;r++)0===o&&(l=f[h++],o=128),n[d++]=l&o?b:x,o>>=1}for(;d<i;)n[d++]=0;e.putImageData(u,0,m*l)}}else if(t.kind===r.ImageKind.RGBA_32BPP){const t=!!(b||x||w);for(g=0,y=s*l*4,m=0;m<o;m++){if(p.set(f.subarray(h,h+y)),h+=y,t)for(let e=0;e<y;e+=4)b&&(p[e+0]=b[p[e+0]]),x&&(p[e+1]=x[p[e+1]]),w&&(p[e+2]=w[p[e+2]]);e.putImageData(u,0,g),g+=l}if(m<c){if(y=s*a*4,p.set(f.subarray(h,h+y)),t)for(let e=0;e<y;e+=4)b&&(p[e+0]=b[p[e+0]]),x&&(p[e+1]=x[p[e+1]]),w&&(p[e+2]=w[p[e+2]]);e.putImageData(u,0,g)}}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(b||x||w);for(v=l,y=s*v,m=0;m<c;m++){for(m>=o&&(v=a,y=s*v),d=0,g=y;g--;)p[d++]=f[h++],p[d++]=f[h++],p[d++]=f[h++],p[d++]=255;if(t)for(let e=0;e<d;e+=4)b&&(p[e+0]=b[p[e+0]]),x&&(p[e+1]=x[p[e+1]]),w&&(p[e+2]=w[p[e+2]]);e.putImageData(u,0,m*l)}}}}function f(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%l,s=(n-i)/l,o=0===i?s:s+1,c=e.createImageData(r,l);let u=0;const d=t.data,h=c.data;for(let f=0;f<o;f++){const t=f<s?l:i;({srcPos:u}=(0,a.applyMaskImageData)({src:d,srcPos:u,dest:h,width:r,height:t})),e.putImageData(c,0,f*l)}}function p(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function m(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function g(e,t,n,r){const i=e.length;for(let s=3;s<i;s+=4){const i=e[s];if(0===i)e[s-3]=t,e[s-2]=n,e[s-1]=r;else if(i<255){const a=255-i;e[s-3]=e[s-3]*i+t*a>>8,e[s-2]=e[s-2]*i+n*a>>8,e[s-1]=e[s-1]*i+r*a>>8}}}function v(e,t,n){const r=e.length,i=1/255;for(let s=3;s<r;s+=4){const r=n?n[e[s]]:e[s];t[s]=t[s]*r*i|0}}function y(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function b(e,t,n,r){const i=r[0],s=r[1],a=r[2]-i,o=r[3]-s;0!==a&&0!==o&&(function(e,t,n,r,i,s,a,o,l,c,u){const d=!!s,h=d?s[0]:0,f=d?s[1]:0,p=d?s[2]:0;let m;m="Luminosity"===i?y:v;const b=Math.min(r,Math.ceil(1048576/n));for(let v=0;v<r;v+=b){const i=Math.min(b,r-v),s=e.getImageData(o-c,v+(l-u),n,i),y=t.getImageData(o,v+l,n,i);d&&g(s.data,h,f,p),m(s.data,y.data,a),t.putImageData(y,o,v+l)}}(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,i,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function x(e,t){const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=s||n[1]<=s}const w=["butt","round","square"],_=["miter","round","bevel"],k={},S={};class E{constructor(e,t,n,r,i,s,a){let{optionalContentConfig:o,markedContentStack:l=null}=i;this.ctx=e,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=a?.background||null,this.foregroundColor=a?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:s=null}=e;const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=s||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const e=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const t=this.backgroundColor=this.ctx.fillStyle;let n=!0,r=l;if(this.ctx.fillStyle=l,r=this.ctx.fillStyle,n="string"===typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r),"#000000"===e&&"#ffffff"===t||e===t||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,s,a]=(0,i.getRGB)(r),o=e=>(e/=255)<=.03928?e/12.92:((e+.055)/1.055)**2.4,l=Math.round(.2126*o(n)+.7152*o(s)+.0722*o(a));this.selectColor=(n,r,i)=>{const s=.2126*o(n)+.7152*o(r)+.0722*o(i);return Math.round(s)===l?t:e}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,a,o),this.ctx.restore(),r){const e=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),m(this.ctx,this.foregroundColor),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let d=0;const h=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(p=a[o],p!==r.OPS.dependency)this[p].apply(this,s[o]);else for(const e of s[o]){const t=e.startsWith("g_")?h:f;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++d>10){if(Date.now()>u)return n(),o;d=0}}}#ce(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#ce(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear()}_scaleImage(e,t){const n=e.width,r=e.height;let i,s,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,u="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=Math.ceil(c/2),o/=c/n),i=this.cachedCanvases.getCanvas(u,t,n),s=i.context,s.clearRect(0,0,t,n),s.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:a}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(t);let d,h,p,m;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(t),d||(d=new Map,this._cachedBitmapsMap.set(t,d));const n=d.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};p=n}p||(m=this.cachedCanvases.getCanvas("maskCanvas",n,a),f(m.context,e));let g=r.Util.transform(c,[1/n,0,0,-1/a,0,0]);g=r.Util.transform(g,[1,0,0,1,0,-a]);const v=r.Util.applyTransform([0,0],g),y=r.Util.applyTransform([n,a],g),b=r.Util.normalizeRect([v[0],v[1],y[0],y[1]]),w=Math.round(b[2]-b[0])||1,_=Math.round(b[3]-b[1])||1,k=this.cachedCanvases.getCanvas("fillCanvas",w,_),S=k.context,E=Math.min(v[0],y[0]),A=Math.min(v[1],y[1]);S.translate(-E,-A),S.transform(...g),p||(p=this._scaleImage(m.canvas,(0,i.getCurrentTransformInverse)(S)),p=p.img,d&&l&&d.set(h,p)),S.imageSmoothingEnabled=x((0,i.getCurrentTransform)(S),e.interpolate),u(S,p,0,0,p.width,p.height,0,0,n,a),S.globalCompositeOperation="source-in";const C=r.Util.transform((0,i.getCurrentTransformInverse)(S),[1,0,0,1,-E,-A]);return S.fillStyle=l?o.getPattern(t,this,C,s.PathType.FILL):o,S.fillRect(0,0,n,a),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,k.canvas)),{canvas:k.canvas,offsetX:Math.round(E),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=w[e]}setLineJoin(e){this.ctx.lineJoin=_[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=n}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,s,a){t.transform(e,n,r,i,s,a),this.__originalTransform(e,n,r,i,s,a)},e.setTransform=function(e,n,r,i,s,a){t.setTransform(e,n,r,i,s,a),this.__originalSetTransform(e,n,r,i,s,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,s,a){t.bezierCurveTo(e,n,r,i,s,a),this.__originalBezierCurveTo(e,n,r,i,s,a)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;b(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,s){this.ctx.transform(e,t,n,r,i,s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,a=this.current;let o,l,c=a.x,u=a.y;const d=(0,i.getCurrentTransform)(s),h=0===d[0]&&0===d[3]||0===d[1]&&0===d[2],f=h?n.slice(0):null;for(let i=0,p=0,m=e.length;i<m;i++)switch(0|e[i]){case r.OPS.rectangle:c=t[p++],u=t[p++];const e=t[p++],n=t[p++],i=c+e,m=u+n;s.moveTo(c,u),0===e||0===n?s.lineTo(i,m):(s.lineTo(i,u),s.lineTo(i,m),s.lineTo(c,m)),h||a.updateRectMinMax(d,[c,u,i,m]),s.closePath();break;case r.OPS.moveTo:c=t[p++],u=t[p++],s.moveTo(c,u),h||a.updatePathMinMax(d,c,u);break;case r.OPS.lineTo:c=t[p++],u=t[p++],s.lineTo(c,u),h||a.updatePathMinMax(d,c,u);break;case r.OPS.curveTo:o=c,l=u,c=t[p+4],u=t[p+5],s.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],c,u),a.updateCurvePathMinMax(d,o,l,t[p],t[p+1],t[p+2],t[p+3],c,u,f),p+=6;break;case r.OPS.curveTo2:o=c,l=u,s.bezierCurveTo(c,u,t[p],t[p+1],t[p+2],t[p+3]),a.updateCurvePathMinMax(d,o,l,c,u,t[p],t[p+1],t[p+2],t[p+3],f),c=t[p+2],u=t[p+3],p+=4;break;case r.OPS.curveTo3:o=c,l=u,c=t[p+2],u=t[p+3],s.bezierCurveTo(t[p],t[p+1],c,u,c,u),a.updateCurvePathMinMax(d,o,l,t[p],t[p+1],c,u,c,u,f),p+=4;break;case r.OPS.closePath:s.closePath()}h&&a.updateScalingPathMinMax(d,f),a.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),s.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),s.PathType.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=k}eoClip(){this.pendingClip=S}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif";let a="normal";n.black?a="900":n.bold&&(a="bold");const o=n.italic?"italic":"normal",l=`"${s}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${o} ${a} ${c}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,s){this.current.textMatrix=[e,t,n,r,i,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=c&r.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),f=o.patternFill&&!l.missingFile;let p;(l.disableFontFace||h||f)&&(p=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(a.save(),a.translate(t,n),a.beginPath(),p(a,u),s&&a.setTransform(...s),d!==r.TextRenderingMode.FILL&&d!==r.TextRenderingMode.FILL_STROKE||a.fill(),d!==r.TextRenderingMode.STROKE&&d!==r.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(d!==r.TextRenderingMode.FILL&&d!==r.TextRenderingMode.FILL_STROKE||a.fillText(e,t,n),d!==r.TextRenderingMode.STROKE&&d!==r.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(a),x:t,y:n,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(0===a)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,f=e.length,p=n.vertical,m=p?1:-1,g=n.defaultVMetrics,v=a*t.fontMatrix[0],y=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let b;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),d>0?o.scale(h,-1):o.scale(h,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,i.getCurrentTransformInverse)(o),s.PathType.FILL);b=(0,i.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let x=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===x){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(x=this.getSinglePixelWidth())}else x/=w;if(1!==l&&(o.scale(l,l),x/=l),o.lineWidth=x,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return o.fillText(n.join(""),0,0),t.x+=r*v*h,o.restore(),void this.compose()}let _,k=0;for(_=0;_<f;++_){const t=e[_];if("number"===typeof t){k+=m*t*a/1e3;continue}let r=!1;const i=(t.isSpace?u:0)+c,s=t.fontChar,h=t.accent;let f,x,w,S=t.width;if(p){const e=t.vmetric||g,n=-(t.vmetric?e[1]:.5*S)*v,r=e[2]*v;S=e?-e[0]:S,f=n/l,x=(k+r)/l}else f=k/l,x=0;if(n.remeasure&&S>0){const e=1e3*o.measureText(s).width/a*l;if(S<e&&this.isFontSubpixelAAEnabled){const t=S/e;r=!0,o.save(),o.scale(t,1),f/=t}else S!==e&&(f+=(S-e)/2e3*a/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(y&&!h)o.fillText(s,f,x);else if(this.paintChar(s,f,x,b),h){const e=f+a*h.offset.x/l,t=x-a*h.offset.y/l;this.paintChar(h.fontChar,e,t,b)}w=p?S*v-i*d:S*v+i*d,k+=w,r&&o.restore()}p?t.y-=k:t.x+=k*h,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*a,d=n.fontMatrix||r.FONT_IDENTITY_MATRIX,h=e.length;let f,p,m,g;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==s){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,a),f=0;f<h;++f){if(p=e[f],"number"===typeof p){g=o*p*s/1e3,this.ctx.translate(g,0),n.x+=g*u;continue}const a=(p.isSpace?c:0)+l,h=i.charProcOperatorList[p.operatorListId];h?(this.contentVisible&&(this.processingType3=p,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(h),this.restore()),m=r.Util.applyTransform([p.width,0],d)[0]*s+a,t.translate(m,0),n.x+=m*u):(0,r.warn)(`Type3 character "${p.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,s){this.ctx.rect(n,r,i-n,s-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),a={createCanvasGraphics:e=>new E(e,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new s.TilingPattern(e,n,this.ctx,a,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=this.selectColor?.(e,t,n)||r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=this.selectColor?.(e,t,n)||r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,s.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),s.PathType.SHADING);const a=(0,i.getCurrentTransformInverse)(t);if(a){const e=t.canvas,n=e.width,i=e.height,s=r.Util.applyTransform([0,0],a),o=r.Util.applyTransform([0,i],a),l=r.Util.applyTransform([n,0],a),c=r.Util.applyTransform([n,i],a),u=Math.min(s[0],o[0],l[0],c[0]),d=Math.min(s[1],o[1],l[1],c[1]),h=Math.max(s[0],o[0],l[0],c[0]),f=Math.max(s[1],o[1],l[1],c[1]);this.ctx.fillRect(u,d,h-u,f-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t));const a=[0,0,t.canvas.width,t.canvas.height];s=r.Util.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]);let u=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1),h=1,f=1;u>o&&(h=u/o,u=o),d>o&&(f=d/o,d=o),this.current.startNewPathAndClipBox([0,0,u,d]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(m,u,d),v=g.context;v.scale(1/h,1/f),v.translate(-l,-c),v.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:l,offsetY:c,scaleX:h,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,f),t.save()),p(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,s,a){if(this.#ce(),m(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const s=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=s,t[3]=o;const[a,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),d=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.setTransform(a,0,0,-l,0,o*l),m(this.ctx,this.foregroundColor)}else m(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],s,o),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let s,a,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),d=0;for(const m of e.data){let e=128;for(;e>0;)u[d++]=m&e?0:255,e>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),a=1;a<t;a++)u[d]!==u[d+1]&&(l[a]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[a]=2,++h),s=1;s<n;s++){d=s*c,o=s*i,u[d-c]!==u[d]&&(l[o]=u[d]?1:8,++h);let e=(u[d]?4:0)+(u[d-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),r[e]&&(l[o+a]=r[e],++h),d++;if(u[d-c]!==u[d]&&(l[o+a]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),o=s*i,0!==u[d]&&(l[o]=8,++h),a=1;a<t;a++)u[d]!==u[d+1]&&(l[o+a]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[o+a]=4,++h),h>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(s=0;h&&s<=n;s++){let e=s*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;p.moveTo(e%i,s);const r=e;let a=l[e];do{const t=f[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),p.lineTo(e%i,e/i|0),l[e]||--h}while(r!==e);--s}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(p),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(t,n,s,a,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let i=0,d=o.length;i<d;i+=2){const e=r.Util.transform(c,[t,n,s,a,o[i],o[i+1]]),[d,h]=r.Util.applyTransform([0,0],e);l.drawImage(u.canvas,d,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const a of e){const{data:e,width:o,height:l,transform:c}=a,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save(),f(h,this.getObject(e,a)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(t),s.PathType.FILL):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),u(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void(0,r.warn)("Dependent image isn't ready yet");const a=s.width,o=s.height,l=[];for(let r=0,c=i.length;r<c;r+=2)l.push({transform:[t,0,0,n,i[r],i[r+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;let s;if(this.save(),r.scale(1/t,-1/n),"function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n);h(r.context,e,this.current.transferMaps),s=r.canvas}const a=this._scaleImage(s,(0,i.getCurrentTransformInverse)(r));r.imageSmoothingEnabled=x((0,i.getCurrentTransform)(r),e.interpolate),u(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,r=e.width,i=e.height,s=this.cachedCanvases.getCanvas("inlineImage",r,i);h(s.context,e,this.current.transferMaps);for(const a of t)n.save(),n.transform(...a.transform),n.scale(1,-1),u(n,s.canvas,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===S?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=(0,i.getCurrentTransform)(this.ctx);let n,r;if(0===t[1]&&0===t[2]){const i=Math.abs(t[0]),s=Math.abs(t[3]);if(0===e)n=1/i,r=1/s;else{const t=i*e,a=s*e;n=t<1?1/t:1,r=a<1?1/a:1}}else{const i=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[1]),a=Math.hypot(t[2],t[3]);if(0===e)n=a/i,r=s/i;else{const t=e*i;n=a>t?a/t:1,r=s>t?s/t:1}}this._cachedScaleForStroking=[n,r]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===s)return void t.stroke();let a,o,l;e&&(a=(0,i.getCurrentTransform)(t),o=t.getLineDash().slice(),l=t.lineDashOffset),t.scale(r,s);const c=Math.max(r,s);t.setLineDash(t.getLineDash().map((e=>e/c))),t.lineDashOffset/=c,t.stroke(),e&&(t.setTransform(...a),t.setLineDash(o),t.lineDashOffset=l)}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=E;for(const A in r.OPS)void 0!==E.prototype[A]&&(E.prototype[r.OPS[A]]=E.prototype[A])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new d(e);case"Dummy":return new h}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),i=n(6);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=s;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let l;if(o===s.STROKE||o===s.FILL){const s=t.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,d=t.cachedCanvases.getCanvas("pattern",c,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),n=r.Util.transform(n,[1,0,0,1,s[0],s[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),a(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(n);l.setTransform(f)}else a(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,n,r,i,s,a,o){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=s,s=a,a=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=a,a=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=s,s=a,a=h);const f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,y=(l[i+1]+t.offsetY)*t.scaleY;if(p>=y)return;const b=c[s],x=c[s+1],w=c[s+2],_=c[a],k=c[a+1],S=c[a+2],E=c[o],A=c[o+1],C=c[o+2],T=Math.round(p),N=Math.round(y);let P,I,R,j,D,O,M,F;for(let L=T;L<=N;L++){if(L<g){let e;e=L<p?0:(p-L)/(p-g),P=f-(f-m)*e,I=b-(b-_)*e,R=x-(x-k)*e,j=w-(w-S)*e}else{let e;e=L>y?1:g===y?0:(g-L)/(g-y),P=m-(m-v)*e,I=_-(_-E)*e,R=k-(k-A)*e,j=S-(S-C)*e}let e;e=L<p?0:L>y?1:(p-L)/(p-y),D=f-(f-v)*e,O=b-(b-E)*e,M=x-(x-A)*e,F=w-(w-C)*e;const t=Math.round(Math.min(P,D)),n=Math.round(Math.max(P,D));let r=d*L+4*t;for(let i=t;i<=n;i++)e=(P-i)/(P-D),e<0?e=0:e>1&&(e=1),u[r++]=I-(I-O)*e|0,u[r++]=R-(R-M)*e|0,u[r++]=j-(j-F)*e|0,u[r++]=255}}function u(e,t,n){const r=t.coords,i=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<u;s++,t++)c(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),c(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)c(e,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class d extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=s/o,d=a/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/d},f=o+4,p=l+4,m=n.getCanvas("mesh",f,p,!1),g=m.context,v=g.createImageData(o,l);if(t){const e=v.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const y of this._figures)u(v,y,h);return g.putImageData(v,2,2),{canvas:m.canvas,offsetX:r-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,o){let l;if(a(e,this._bbox),o===s.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===s.SHADING?null:this._background,t.cachedCanvases);return o!==s.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends o{getPattern(){return"hotpink"}}const f=1,p=2;class m{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,s=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const d=n[0],h=n[1],f=n[2],p=n[3],m=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[m[0]*g[0],m[1]*g[1]],y=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),b=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),x=e.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),w=x.context,_=u.createCanvasGraphics(w);_.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,o,c);let k=d,S=h,E=f,A=p;return d<0&&(k=0,E+=Math.abs(d)),h<0&&(S=0,A+=Math.abs(h)),w.translate(-y.scale*k,-b.scale*S),_.transform(y.scale,0,0,b.scale,0,0),w.save(),this.clipBbox(_,k,S,E,A),_.baseTransform=(0,i.getCurrentTransform)(_.ctx),_.executeOperatorList(t),_.endDrawing(),{canvas:x.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:k,offsetY:S}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(m.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,s){const a=r-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case f:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case p:const a=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let a=n;i!==s.SHADING&&(a=r.Util.transform(a,t.baseTransform),this.matrix&&(a=r.Util.transform(a,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}t.TilingPattern=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=function(e){let{src:t,srcPos:n=0,dest:i,destPos:s=0,width:a,height:o,inverseDecode:l=!1}=e;const c=r.FeatureTest.isLittleEndian?4278190080:255,[u,d]=l?[0,c]:[c,0],h=a>>3,f=7&a,p=t.length;i=new Uint32Array(i.buffer);for(let r=0;r<o;r++){for(const r=n+h;n<r;n++){const e=n<p?t[n]:255;i[s++]=128&e?d:u,i[s++]=64&e?d:u,i[s++]=32&e?d:u,i[s++]=16&e?d:u,i[s++]=8&e?d:u,i[s++]=4&e?d:u,i[s++]=2&e?d:u,i[s++]=1&e?d:u}if(0===f)continue;const e=n<p?t[n++]:255;for(let t=0;t<f;t++)i[s++]=e&1<<7-t?d:u}return{srcPos:n,destPos:s}};var r=n(1)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);const i=1,s=2,a=1,o=2,l=3,c=4,u=5,d=6,h=7,f=8;function p(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==s)throw new Error("Unexpected callback case");n.reject(p(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,a=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:a,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:a,callback:s,callbackId:t.callbackId,reason:p(r)})}))}else t.streamId?this._createStreamSink(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const a=(0,r.createPromiseCapability)();return this.streamControllers[s]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),a.promise},pull:e=>{const t=(0,r.createPromiseCapability)();return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:d,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,r.createPromiseCapability)();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:a,streamId:s,reason:p(e)}),t.promise}},n)}_createStreamSink(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],d={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=a,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:c,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:l,streamId:t}),delete a.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:u,streamId:t,reason:p(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise((function(t){t(o(e.data,d))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:f,streamId:t,reason:p(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,m=this.streamControllers[t],g=this.streamSinks[t];switch(e.stream){case f:e.success?m.startCall.resolve():m.startCall.reject(p(e.reason));break;case h:e.success?m.pullCall.resolve():m.pullCall.reject(p(e.reason));break;case d:if(!g){s.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,success:!0});break}g.desiredSize<=0&&e.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=e.desiredSize,new Promise((function(e){e(g.onPull&&g.onPull())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,reason:p(e)})}));break;case c:if((0,r.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(e.chunk);break;case l:if((0,r.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,t);break;case u:(0,r.assert)(m,"error should have stream controller"),m.controller.error(p(e.reason)),this._deleteStreamController(m,t);break;case o:e.success?m.cancelCall.resolve():m.cancelCall.reject(p(e.reason)),this._deleteStreamController(m,t);break;case a:if(!g)break;new Promise((function(t){t(g.onCancel&&g.onCancel(p(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:o,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:o,streamId:t,reason:p(e)})})),g.sinkCapability.reject(p(e.reason)),g.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,t){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);t.Metadata=class{#ue;#de;constructor(e){let{parsedData:t,rawData:n}=e;this.#ue=t,this.#de=n}getRaw(){return this.#de}get(e){return this.#ue.get(e)??null}getAll(){return(0,r.objectFromMap)(this.#ue)}has(e){return this.#ue.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),i=n(8);const s=Symbol("INTERNAL");class a{#he=!0;constructor(e,t){this.name=e,this.intent=t}get visible(){return this.#he}_setVisible(e,t){e!==s&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#he=t}}t.OptionalContentConfig=class{#fe=null;#pe=(()=>new Map)();#me=null;#ge=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#ge=e.order;for(const t of e.groups)this.#pe.set(t.id,new a(t.name,t.intent));if("OFF"===e.baseState)for(const e of this.#pe.values())e._setVisible(s,!1);for(const t of e.on)this.#pe.get(t)._setVisible(s,!0);for(const t of e.off)this.#pe.get(t)._setVisible(s,!1);this.#me=this.getHash()}}#ve(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let s;if(Array.isArray(t))s=this.#ve(t);else{if(!this.#pe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;s=this.#pe.get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(e){if(0===this.#pe.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#pe.has(e.id)?this.#pe.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#ve(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#pe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#pe.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#pe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#pe.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#pe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#pe.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#pe.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#pe.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.#pe.has(e)?(this.#pe.get(e)._setVisible(s,!!t),this.#fe=null):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){return this.getHash()===this.#me}getOrder(){return this.#pe.size?this.#ge?this.#ge.slice():[...this.#pe.keys()]:null}getGroups(){return this.#pe.size>0?(0,r.objectFromMap)(this.#pe):null}getGroup(e){return this.#pe.get(e)||null}getHash(){if(null!==this.#fe)return this.#fe;const e=new i.MurmurHash3_64;for(const[t,n]of this.#pe)e.update(`${t}:${n.visible}`);return this.#fe=e.hexdigest()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(6);t.PDFDataTransportStream=class{constructor(e,t){let{length:n,initialData:i,progressiveDone:s=!1,contentDispositionFilename:a=null,disableRange:o=!1,disableStream:l=!1}=e;if((0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,i?.length>0){const e=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)}));(0,r.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new s(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new a(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){if(!r)return;let i=null;const s=r.name;if("#text"===s)i=r.value;else{if(!n.shouldBuildText(s))return;r?.attributes?.textContent?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&t.push({str:i}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(7);const i=function(e){return new Promise(((t,n)=>{__webpack_require__(237).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class s extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(640).createCanvas(e,t)}}t.NodeCanvasFactory=s;class a extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=a;class o extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(22);const s=__webpack_require__(237),a=__webpack_require__(492),o=__webpack_require__(815),l=__webpack_require__(671),c=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new f(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new g(this,e,t):new p(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function h(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class f extends u{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=a.request(h(this._url,e.httpHeaders),t):this._request=o.request(h(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class p extends d{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];void 0!==t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=a.request(h(this._url,this._httpHeaders),i):this._request=o.request(h(this._url,this._httpHeaders),i),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class m extends u{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),s.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(s.createReadStream(t)),this._headersCapability.resolve()}))}}class g extends d{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);c.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(s.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if((0,s.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*r||i||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(23),s=n(6)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=l(e),e=c(e),a(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const s=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=o(n),e&&(n=unescape(n),0===i&&(n=l(n))),s.push(n)}return s.join("")}(e),n)return a(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=(0,r.stringToBytes)(n);n=i.decode(s),t=!1}catch(i){}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return s(t,r)}))}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(22);class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const s=i.status||200;if((200!==s||206!==n.expectedStatus)&&s!==n.expectedStatus)return void n.onError?.(i.status);const a=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class a{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(22);function s(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const n=t.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const t=new u(e);return t._render(),t},t.updateTextLayer=function(e){let{container:t,viewport:n,textDivs:r,textDivProperties:s,isOffscreenCanvasSupported:a,mustRotate:l=!0,mustRescale:u=!0}=e;if(l&&(0,i.setLayerDimensions)(t,{rotation:n.rotation}),u){const e=o(0,a),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of r)t.properties=s.get(n),t.div=n,c(t)}};var r=n(1),i=n(6);const s=30,a=new Map;function o(e,t){let n;if(t&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function l(e,t,n){const i=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);const c=r.Util.transform(e._transform,t.transform);let u=Math.atan2(c[1],c[0]);const d=n[t.fontName];d.vertical&&(u+=Math.PI/2);const h=Math.hypot(c[2],c[3]),f=h*function(e,t){const n=a.get(e);if(n)return n;const r=o(s,t);r.font=`30px ${e}`;const i=r.measureText("");let l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);if(l){const t=l/(l+c);return a.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,s,s),r.strokeText("g",0,0);let u=r.getImageData(0,0,s,s).data;c=0;for(let a=u.length-1-3;a>=0;a-=4)if(u[a]>0){c=Math.ceil(a/4/s);break}r.clearRect(0,0,s,s),r.strokeText("A",0,s),u=r.getImageData(0,0,s,s).data,l=0;for(let a=0,o=u.length;a<o;a+=4)if(u[a]>0){l=s-Math.floor(a/4/s);break}if(r.canvas.width=r.canvas.height=0,l){const t=l/(l+c);return a.set(e,t),t}return a.set(e,.8),.8}(d.fontFamily,e._isOffscreenCanvasSupported);let p,m;0===u?(p=c[4],m=c[5]-f):(p=c[4]+f*Math.sin(u),m=c[5]-f*Math.cos(u));const g="calc(var(--scale-factor)*",v=i.style;e._container===e._rootContainer?(v.left=`${(100*p/e._pageWidth).toFixed(2)}%`,v.top=`${(100*m/e._pageHeight).toFixed(2)}%`):(v.left=`${g}${p.toFixed(2)}px)`,v.top=`${g}${m.toFixed(2)}px)`),v.fontSize=`${g}${h.toFixed(2)}px)`,v.fontFamily=d.fontFamily,l.fontSize=h,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==u&&(l.angle=u*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(y=!0)}y&&(l.canvasWidth=d.vertical?t.height:t.width),e._textDivProperties.set(i,l),e._isReadableStream&&e._layoutText(i)}function c(e){const{div:t,scale:n,properties:r,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=o,{canvasWidth:u,fontSize:d}=r;s===d&&a===c||(i.font=`${d*n}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:h}=i.measureText(t.textContent);h>0&&(l=`scaleX(${u*n/h})`)}0!==r.angle&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)}class u{constructor(e){let{textContentSource:t,container:n,viewport:s,textDivs:a,textDivProperties:l,textContentItemsStr:c,isOffscreenCanvasSupported:u}=e;this._textContentSource=t,this._isReadableStream=t instanceof ReadableStream,this._container=this._rootContainer=n,this._textDivs=a||[],this._textContentItemsStr=c||[],this._isOffscreenCanvasSupported=u,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=l||new WeakMap,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:s.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,u)};const{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=s.rawDims;this._transform=[1,0,0,-1,-f,p+h],this._pageWidth=d,this._pageHeight=h,(0,i.setLayerDimensions)(n,s),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),l(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id",`${n.id}`),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,c(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=(0,r.createPromiseCapability)();let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((r=>{let{value:i,done:s}=r;s?e.resolve():(Object.assign(t,i.styles),this._processItems(i.items,t),n())}),e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then((()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}t.TextLayerRenderTask=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(1),i=n(5),s=n(28),a=n(29),o=n(6);class l{#ye;#be=!1;#xe=this.pointerup.bind(this);#we=this.pointerdown.bind(this);#_e=(()=>new Map)();#ke=!1;#Se=!1;#Ee;static _initialized=!1;constructor(e){l._initialized||(l._initialized=!0,s.FreeTextEditor.initialize(e.l10n),a.InkEditor.initialize(e.l10n)),e.uiManager.registerEditorTypes([s.FreeTextEditor,a.InkEditor]),this.#Ee=e.uiManager,this.pageIndex=e.pageIndex,this.div=e.div,this.#ye=e.accessibilityManager,this.#Ee.addLayer(this)}get isEmpty(){return 0===this.#_e.size}updateToolbar(e){this.#Ee.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#Ee.getMode();this.#Ae(),e===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#Ee.unselectAll(),e!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===r.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||this.#Ee.getMode()===r.AnnotationEditorType.INK){if(!e)for(const e of this.#_e.values())if(e.isEmpty())return void e.setInBackground();this.#Ce({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(e){this.#Ee.setEditingState(e)}addCommands(e){this.#Ee.addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of this.#_e.values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of this.#_e.values())e.disableEditing();this.#Ae(),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(e){this.#Ee.getActive()!==e&&this.#Ee.setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",this.#we),this.div.addEventListener("pointerup",this.#xe)}disableClick(){this.div.removeEventListener("pointerdown",this.#we),this.div.removeEventListener("pointerup",this.#xe)}attach(e){this.#_e.set(e.id,e)}detach(e){this.#_e.delete(e.id),this.#ye?.removePointerInTextLayer(e.contentDiv)}remove(e){this.#Ee.removeEditor(e),this.detach(e),e.div.style.display="none",setTimeout((()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&this.#Ee.focusMainContainer()}),0),this.#Se||this.addInkEditorIfNeeded(!1)}#Te(e){e.parent!==this&&(this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.#Te(e),this.#Ee.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),this.#Ee.addToAnnotationStorage(e)}moveEditorInDOM(e){this.#ye?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!0})}addUndoableEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#Ee.getId()}#Ne(e){switch(this.#Ee.getMode()){case r.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(e);case r.AnnotationEditorType.INK:return new a.InkEditor(e)}return null}deserialize(e){switch(e.annotationType){case r.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(e,this,this.#Ee);case r.AnnotationEditorType.INK:return a.InkEditor.deserialize(e,this,this.#Ee)}return null}#Ce(e){const t=this.getNextId(),n=this.#Ne({parent:this,id:t,x:e.offsetX,y:e.offsetY,uiManager:this.#Ee});return n&&this.add(n),n}setSelected(e){this.#Ee.setSelected(e)}toggleSelected(e){this.#Ee.toggleSelected(e)}isSelected(e){return this.#Ee.isSelected(e)}unselect(e){this.#Ee.unselect(e)}pointerup(e){const{isMac:t}=r.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#ke&&(this.#ke=!1,this.#be?this.#Ce(e):this.#be=!0)}pointerdown(e){const{isMac:t}=r.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#ke=!0;const n=this.#Ee.getActive();this.#be=!n||n.isEmpty()}drop(e){const t=e.dataTransfer.getData("text/plain"),n=this.#Ee.getEditor(t);if(!n)return;e.preventDefault(),e.dataTransfer.dropEffect="move",this.#Te(n);const r=this.div.getBoundingClientRect(),i=e.clientX-r.x,s=e.clientY-r.y;n.translate(i-n.startX,s-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(e){e.preventDefault()}destroy(){this.#Ee.getActive()?.parent===this&&this.#Ee.setActiveEditor(null);for(const e of this.#_e.values())this.#ye?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#_e.clear(),this.#Ee.removeLayer(this)}#Ae(){this.#Se=!0;for(const e of this.#_e.values())e.isEmpty()&&e.remove();this.#Se=!1}render(e){let{viewport:t}=e;this.viewport=t,(0,o.setLayerDimensions)(this.div,t),(0,i.bindEvents)(this,this.div,["dragover","drop"]);for(const n of this.#Ee.getEditors(this.pageIndex))this.add(n);this.updateMode()}update(e){let{viewport:t}=e;this.#Ee.commitOrRemove(),this.viewport=t,(0,o.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}t.AnnotationEditorLayer=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(5),s=n(4);class a extends s.AnnotationEditor{#Pe=this.editorDivBlur.bind(this);#Ie=this.editorDivFocus.bind(this);#Re=this.editorDivInput.bind(this);#je=this.editorDivKeydown.bind(this);#De;#Oe="";#Me=`${this.id}-editor`;#Fe=!1;#Le;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=(()=>new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.prototype.commitOrRemove]]))();static _type="freetext";constructor(e){super({...e,name:"freeTextEditor"}),this.#De=e.color||a._defaultColor||s.AnnotationEditor._defaultLineColor,this.#Le=e.fontSize||a._defaultFontSize}static initialize(e){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map((t=>[t,e.get(t)])));const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:a._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:a._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#Ue(t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Ve(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,a._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,a._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#Le],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#De]]}#Ue(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Le)*this.parentScale),this.#Le=e,this.#Be()},n=this.#Le;this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Ve(e){const t=this.#De;this.addCommands({cmd:()=>{this.#De=this.editorDiv.style.color=e},undo:()=>{this.#De=this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){const e=this.parentScale;return[-a._internalPadding*e,-(a._internalPadding+this.#Le)*e]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#je),this.editorDiv.addEventListener("focus",this.#Ie),this.editorDiv.addEventListener("blur",this.#Pe),this.editorDiv.addEventListener("input",this.#Re))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Me),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#je),this.editorDiv.removeEventListener("focus",this.#Ie),this.editorDiv.removeEventListener("blur",this.#Pe),this.editorDiv.removeEventListener("input",this.#Re),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}#ze(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}#Be(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r}this.width=n.width/e,this.height=n.height/t}commit(){this.isInEditMode()&&(super.commit(),this.#Fe||(this.#Fe=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#Oe=this.#ze().trimEnd(),this.#Be())}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){a._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Me),this.enableEditing(),a._l10nPromise.get("editor_free_text2_aria_label").then((e=>this.editorDiv?.setAttribute("aria-label",e))),a._l10nPromise.get("free_text2_default_content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Le}px * var(--scale-factor))`,n.color=this.#De,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r);for(const e of this.#Oe.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){const i=super.deserialize(e,t,n);return i.#Le=e.fontSize,i.#De=r.Util.makeHexColor(...e.color),i.#Oe=e.value,i}serialize(){if(this.isEmpty())return null;const e=a._internalPadding*this.parentScale,t=this.getRect(e,e),n=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#De);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:this.#Le,value:this.#Oe,pageIndex:this.pageIndex,rect:t,rotation:this.rotation}}}t.FreeTextEditor=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var r=n(1),i=n(4),s=n(30),a=n(5);const o=16;class l extends i.AnnotationEditor{#$e=0;#qe=0;#He=0;#We=this.canvasPointermove.bind(this);#Ke=this.canvasPointerleave.bind(this);#Ge=this.canvasPointerup.bind(this);#Xe=this.canvasPointerdown.bind(this);#Ye=!1;#Qe=!1;#Ze=null;#Je=null;#et=0;#tt=0;#nt=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map((t=>[t,e.get(t)])))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:l._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:l._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:l._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#rt(t);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Ve(t);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#it(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*l._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??l._defaultOpacity))]]}#rt(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,this.#st()},undo:()=>{this.thickness=t,this.#st()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Ve(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,this.#at()},undo:()=>{this.color=t,this.#at()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#it(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,this.#at()},undo:()=>{this.opacity=t,this.#at()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#ot(),this.#lt()),this.isAttachedToDOM||(this.parent.add(this),this.#ct()),this.#st())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Je.disconnect(),this.#Je=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){this.#Ye||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#Xe),this.canvas.addEventListener("pointerup",this.#Ge))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Xe),this.canvas.removeEventListener("pointerup",this.#Ge))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#ut(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#dt(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:s}=this;e.lineWidth=r*i/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${(0,a.opacityToHex)(n)}`}#ht(e,t){this.isEditing=!0,this.#Qe||(this.#Qe=!0,this.#ct(),this.thickness||=l._defaultThickness,this.color||=l._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=l._defaultOpacity),this.currentPath.push([e,t]),this.#Ze=null,this.#dt(),this.ctx.beginPath(),this.ctx.moveTo(e,t),this.#nt=()=>{this.#nt&&(this.#Ze&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#at(),this.ctx.lineTo(...this.#Ze),this.#Ze=null,this.ctx.stroke()),window.requestAnimationFrame(this.#nt))},window.requestAnimationFrame(this.#nt)}#ft(e,t){const[n,r]=this.currentPath.at(-1);e===n&&t===r||(this.currentPath.push([e,t]),this.#Ze=[e,t])}#pt(e,t){this.ctx.closePath(),this.#nt=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let i;if(e===n&&t===r||this.currentPath.push([e,t]),1!==this.currentPath.length)i=(0,s.fitCurve)(this.currentPath,30,null);else{const n=[e,t];i=[[n,n.slice(),n.slice(),n]]}const a=l.#mt(i);this.currentPath.length=0,this.addCommands({cmd:()=>{this.paths.push(i),this.bezierPath2D.push(a),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#ot(),this.#lt()),this.#st())},mustExec:!0})}#at(){if(this.isEmpty())return void this.#gt();this.#dt();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#gt();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Ye||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Ye=!0,this.div.classList.add("disabled"),this.#st(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(e){super.focusin(e),this.enableEditMode()}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Ye&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#Ke),this.canvas.addEventListener("pointermove",this.#We),this.#ht(e.offsetX,e.offsetY))}canvasPointermove(e){e.stopPropagation(),this.#ft(e.offsetX,e.offsetY)}canvasPointerup(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),this.#vt(e),this.setInBackground())}canvasPointerleave(e){this.#vt(e),this.setInBackground()}#vt(e){this.#pt(e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",this.#Ke),this.canvas.removeEventListener("pointermove",this.#We),this.addToAnnotationStorage()}#ot(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>this.canvas?.setAttribute("aria-label",e))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#lt(){let e=null;this.#Je=new ResizeObserver((t=>{const n=t[0].contentRect;n.width&&n.height&&(null!==e&&clearTimeout(e),e=setTimeout((()=>{this.fixDims(),e=null}),100),this.setDimensions(n.width,n.height))})),this.#Je.observe(this.div)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),l._l10nPromise.get("editor_ink2_aria_label").then((e=>this.div?.setAttribute("aria-label",e)));const[n,r,i,s]=this.#ut();if(this.setAt(n,r,0,0),this.setDims(i,s),this.#ot(),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Qe=!0,this.#ct(),this.setDims(this.width*n,this.height*r),this.#at(),this.#yt(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#lt(),this.div}#ct(){if(!this.#Qe)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#gt()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#et===n&&this.#tt===r)return;this.#et=n,this.#tt=r,this.canvas.style.visibility="hidden",this.#$e&&Math.abs(this.#$e-e/t)>.01&&(t=Math.ceil(e/this.#$e),this.setDims(e,t));const[i,s]=this.parentDimensions;this.width=e/i,this.height=t/s,this.#Ye&&this.#bt(e,t),this.#ct(),this.#at(),this.canvas.style.visibility="visible"}#bt(e,t){const n=this.#xt(),r=(e-n)/this.#He,i=(t-n)/this.#qe;this.scaleFactor=Math.min(r,i)}#gt(){const e=this.#xt()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#mt(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,s,a]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],s[0],s[1],a[0],a[1])}return t}#wt(e,t,n,r){const i=[],s=this.thickness/2;let a,o;for(const l of this.paths){a=[],o=[];for(let i=0,c=l.length;i<c;i++){const[c,u,d,h]=l[i],f=e*(c[0]+t)+s,p=r-e*(c[1]+n)-s,m=e*(u[0]+t)+s,g=r-e*(u[1]+n)-s,v=e*(d[0]+t)+s,y=r-e*(d[1]+n)-s,b=e*(h[0]+t)+s,x=r-e*(h[1]+n)-s;0===i&&(a.push(f,p),o.push(f,p)),a.push(m,g,v,y,b,x),this.#_t(f,p,m,g,v,y,b,x,4,o)}i.push({bezier:a,points:o})}return i}#_t(e,t,n,r,i,s,a,o,l,c){if(this.#kt(e,t,n,r,i,s,a,o))c.push(a,o);else{for(let u=1;u<l-1;u++){const d=u/l,h=1-d;let f=d*e+h*n,p=d*t+h*r,m=d*n+h*i,g=d*r+h*s;f=d*f+h*m,p=d*p+h*g,m=d*m+h*(d*i+h*a),g=d*g+h*(d*s+h*o),f=d*f+h*m,p=d*p+h*g,c.push(f,p)}c.push(a,o)}}#kt(e,t,n,r,i,s,a,o){const l=(3*n-2*e-a)**2,c=(3*r-2*t-o)**2,u=(3*i-e-2*a)**2,d=(3*s-t-2*o)**2;return Math.max(l,u)+Math.max(c,d)<=10}#St(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[a,o,l,c]of s){const s=r.Util.bezierBoundingBox(...a,...o,...l,...c);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),i=Math.max(i,s[3])}return[e,n,t,i]}#xt(){return this.#Ye?Math.ceil(this.thickness*this.parentScale):0}#st(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Ye)return void this.#at();const t=this.#St(),n=this.#xt();this.#He=Math.max(o,t[2]-t[0]),this.#qe=Math.max(o,t[3]-t[1]);const r=Math.ceil(n+this.#He*this.scaleFactor),i=Math.ceil(n+this.#qe*this.scaleFactor),[s,a]=this.parentDimensions;this.width=r/s,this.height=i/a,this.#$e=r/i,this.#yt();const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#ct(),this.#at(),this.#et=r,this.#tt=i,this.setDims(r,i);const u=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}#yt(){const{style:e}=this.div;this.#$e>=1?(e.minHeight="16px",e.minWidth=`${Math.round(this.#$e*o)}px`):(e.minWidth="16px",e.minHeight=`${Math.round(o/this.#$e)}px`)}static deserialize(e,t,n){const i=super.deserialize(e,t,n);i.thickness=e.thickness,i.color=r.Util.makeHexColor(...e.color),i.opacity=e.opacity;const[s,a]=i.pageDimensions,l=i.width*s,c=i.height*a,u=i.parentScale,d=e.thickness/2;i.#$e=l/c,i.#Ye=!0,i.#et=Math.round(l),i.#tt=Math.round(c);for(const{bezier:r}of e.paths){const e=[];i.paths.push(e);let t=u*(r[0]-d),n=u*(c-r[1]-d);for(let i=2,a=r.length;i<a;i+=6){const s=u*(r[i]-d),a=u*(c-r[i+1]-d),o=u*(r[i+2]-d),l=u*(c-r[i+3]-d),h=u*(r[i+4]-d),f=u*(c-r[i+5]-d);e.push([[t,n],[s,a],[o,l],[h,f]]),t=h,n=f}const s=this.#mt(e);i.bezierPath2D.push(s)}const h=i.#St();return i.#He=Math.max(o,h[2]-h[0]),i.#qe=Math.max(o,h[3]-h[1]),i.#bt(l,c),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=this.rotation%180===0?e[3]-e[1]:e[2]-e[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#wt(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:e,rotation:this.rotation}}}t.InkEditor=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const r=n(31);t.fitCurve=r},e=>{function t(e,i,s,a,o){var c,u,d,h,f,p,m,g,v,y,b,x,w;if(2===e.length)return x=l.vectorLen(l.subtract(e[0],e[1]))/3,[c=[e[0],l.addArrays(e[0],l.mulItems(i,x)),l.addArrays(e[1],l.mulItems(s,x)),e[1]]];if(u=function(e){var t,n,r,i=[];return e.forEach(((e,s)=>{t=s?n+l.vectorLen(l.subtract(e,r)):0,i.push(t),n=t,r=e})),i=i.map((e=>e/n))}(e),[c,h,p]=n(e,u,u,i,s,o),0===h||h<a)return[c];if(h<a*a)for(d=u,f=h,m=p,w=0;w<20;w++){if(d=r(c,e,d),[c,h,p]=n(e,u,d,i,s,o),h<a)return[c];if(p===m){let e=h/f;if(e>.9999&&e<1.0001)break}f=h,m=p}return b=[],(g=l.subtract(e[p-1],e[p+1])).every((e=>0===e))&&(g=l.subtract(e[p-1],e[p]),[g[0],g[1]]=[-g[1],g[0]]),v=l.normalize(g),y=l.mulItems(v,-1),b=(b=b.concat(t(e.slice(0,p+1),i,v,a,o))).concat(t(e.slice(p),y,s,a,o))}function n(e,t,n,r,i,o){var u,d,h;return u=function(e,t,n,r){var i,s,a,o,u,d,h,f,p,m,g,v,y,b,x,w,_,k=e[0],S=e[e.length-1];for(i=[k,null,null,S],s=l.zeros_Xx2x2(t.length),y=0,b=t.length;y<b;y++)_=1-(w=t[y]),(a=s[y])[0]=l.mulItems(n,3*w*(_*_)),a[1]=l.mulItems(r,3*_*(w*w));for(o=[[0,0],[0,0]],u=[0,0],y=0,b=e.length;y<b;y++)w=t[y],a=s[y],o[0][0]+=l.dot(a[0],a[0]),o[0][1]+=l.dot(a[0],a[1]),o[1][0]+=l.dot(a[0],a[1]),o[1][1]+=l.dot(a[1],a[1]),x=l.subtract(e[y],c.q([k,k,S,S],w)),u[0]+=l.dot(a[0],x),u[1]+=l.dot(a[1],x);return d=o[0][0]*o[1][1]-o[1][0]*o[0][1],h=o[0][0]*u[1]-o[1][0]*u[0],f=u[0]*o[1][1]-u[1]*o[0][1],p=0===d?0:f/d,m=0===d?0:h/d,v=l.vectorLen(l.subtract(k,S)),p<(g=1e-6*v)||m<g?(i[1]=l.addArrays(k,l.mulItems(n,v/3)),i[2]=l.addArrays(S,l.mulItems(r,v/3))):(i[1]=l.addArrays(k,l.mulItems(n,p)),i[2]=l.addArrays(S,l.mulItems(r,m))),i}(e,n,r,i),[d,h]=function(e,t,n){var r,i,o,u,d,h,f,p;i=0,o=Math.floor(e.length/2);const m=s(t,10);for(d=0,h=e.length;d<h;d++)f=e[d],p=a(0,n[d],m,10),(r=(u=l.subtract(c.q(t,p),f))[0]*u[0]+u[1]*u[1])>i&&(i=r,o=d);return[i,o]}(e,u,t),o&&o({bez:u,points:e,params:t,maxErr:d,maxPoint:h}),[u,d,h]}function r(e,t,n){return n.map(((n,r)=>i(e,t[r],n)))}function i(e,t,n){var r=l.subtract(c.q(e,n),t),i=c.qprime(e,n),s=l.mulMatrix(r,i),a=l.sum(l.squareItems(i))+2*l.mulMatrix(r,c.qprimeprime(e,n));return 0===a?n:n-s/a}var s=function(e,t){for(var n,r=[0],i=e[0],s=0,a=1;a<=t;a++)n=c.q(e,a/t),s+=l.vectorLen(l.subtract(n,i)),r.push(s),i=n;return r=r.map((e=>e/s))};function a(e,t,n,r){if(t<0)return 0;if(t>1)return 1;for(var i,s,a,o,l=1;l<=r;l++)if(t<=n[l]){a=(l-1)/r,s=l/r,o=(t-(i=n[l-1]))/(n[l]-i)*(s-a)+a;break}return o}function o(e,t){return l.normalize(l.subtract(e,t))}class l{static zeros_Xx2x2(e){for(var t=[];e--;)t.push([0,0]);return t}static mulItems(e,t){return e.map((e=>e*t))}static mulMatrix(e,t){return e.reduce(((e,n,r)=>e+n*t[r]),0)}static subtract(e,t){return e.map(((e,n)=>e-t[n]))}static addArrays(e,t){return e.map(((e,n)=>e+t[n]))}static addItems(e,t){return e.map((e=>e+t))}static sum(e){return e.reduce(((e,t)=>e+t))}static dot(e,t){return l.mulMatrix(e,t)}static vectorLen(e){return Math.hypot(...e)}static divItems(e,t){return e.map((e=>e/t))}static squareItems(e){return e.map((e=>e*e))}static normalize(e){return this.divItems(e,this.vectorLen(e))}}class c{static q(e,t){var n=1-t,r=l.mulItems(e[0],n*n*n),i=l.mulItems(e[1],3*n*n*t),s=l.mulItems(e[2],3*n*t*t),a=l.mulItems(e[3],t*t*t);return l.addArrays(l.addArrays(r,i),l.addArrays(s,a))}static qprime(e,t){var n=1-t,r=l.mulItems(l.subtract(e[1],e[0]),3*n*n),i=l.mulItems(l.subtract(e[2],e[1]),6*n*t),s=l.mulItems(l.subtract(e[3],e[2]),3*t*t);return l.addArrays(l.addArrays(r,i),s)}static qprimeprime(e,t){return l.addArrays(l.mulItems(l.addArrays(l.subtract(e[2],l.mulItems(e[1],2)),e[0]),6*(1-t)),l.mulItems(l.addArrays(l.subtract(e[3],l.mulItems(e[2],2)),e[1]),6*t))}}e.exports=function(e,n,r){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((t=>{if(!Array.isArray(t)||t.some((e=>"number"!==typeof e))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter(((t,n)=>0===n||!t.every(((t,r)=>t===e[n-1][r]))))).length<2)return[];const i=e.length,s=o(e[1],e[0]),a=o(e[i-2],e[i-1]);return t(e,s,a,n,r)},e.exports.fitCubic=t,e.exports.createTangent=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(6),s=n(3),a=n(33),o=n(34);const l=1e3,c=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class d{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new p(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new g(e);case"Btn":return e.data.radioButton?new y(e):e.data.checkBox?new v(e):new b(e);case"Ch":return new x(e)}return new m(e);case r.AnnotationType.POPUP:return new w(e);case r.AnnotationType.FREETEXT:return new k(e);case r.AnnotationType.LINE:return new S(e);case r.AnnotationType.SQUARE:return new E(e);case r.AnnotationType.CIRCLE:return new A(e);case r.AnnotationType.POLYLINE:return new C(e);case r.AnnotationType.CARET:return new N(e);case r.AnnotationType.INK:return new P(e);case r.AnnotationType.POLYGON:return new T(e);case r.AnnotationType.HIGHLIGHT:return new I(e);case r.AnnotationType.UNDERLINE:return new R(e);case r.AnnotationType.SQUIGGLY:return new j(e);case r.AnnotationType.STRIKEOUT:return new D(e);case r.AnnotationType.STAMP:return new O(e);case r.AnnotationType.FILEATTACHMENT:return new M(e);default:return new h(e)}}}class h{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,t&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{data:t,page:n,viewport:i}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id);const{pageWidth:a,pageHeight:o,pageX:l,pageY:c}=i.rawDims,{width:d,height:h}=u(t.rect),f=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){s.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;s.style.borderRadius=t}else if(this instanceof y){const e=`calc(${d}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;s.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?s.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):s.style.borderWidth=0}s.style.left=100*(f[0]-l)/a+"%",s.style.top=100*(f[1]-c)/o+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(s.style.width=100*d/a+"%",s.style.height=100*h/o+"%"):this.setRotation(p,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;const{pageWidth:n,pageHeight:r}=this.viewport.rawDims,{width:i,height:s}=u(this.data.rect);let a,o;e%180===0?(a=100*i/n,o=100*s/r):(a=100*s/n,o=100*i/r),t.style.width=`${a}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e];n.target.style[t]=a.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:e=>{const t=e.detail.display%2===1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{this.container.style.visibility=e.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const s=n[r];s&&(s({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const r of this.data.quadPoints)this.data.rect=[r[2].x,r[2].y,r[1].x,r[1].y],t.push(this._createContainer(e));return this.data.rect=n,t}_createPopup(e,t){let n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).className="popupTriggerArea",n.append(e));const r=new _({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:a}of i){if(-1===e)continue;if(s===t)continue;const i="string"===typeof a?a:null,o=document.querySelector(`[data-element-id="${s}"]`);!o||c.has(o)?n.push({id:s,exportValue:i,domElement:o}):(0,r.warn)(`_getElementsByName - element not allowed: ${s}`)}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&c.has(r)&&n.push({id:i,exportValue:e,domElement:r})}return n}}class f extends h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this._bindAttachment(n,e.attachment),r=!0):e.setOCGState?(this.#Et(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const r=0===t?n:n.cloneNode();return e.append(r),e})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}#At(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#At()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#At()}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,t.content,t.filename),!1),this.#At()}#Et(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#At()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#At()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#At(),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:s}=t,a=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(c.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class p extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}class m extends h{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:n}=r.FeatureTest.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e)}})}))}_setEventListeners(e,t,n){for(const[r,i]of t)("Action"===i||this.data.actions?.[i])&&this._setEventListener(e,r,i,n)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let a;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);a=Math.min(i,o(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,o(e/r.LINE_FACTOR))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class g extends m{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),i.setValue(s.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let i=r.formattedValue||r.value||"";const s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&i.length>s&&(i=i.slice(0,s));const a={userValue:i,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",i),this.data.doNotScroll&&(n.style.overflowX="hidden")),c.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=l,this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=a.userValue=t,a.formattedValue=null}));let o=e=>{const{formattedValue:t}=a;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{const{target:t}=e;a.userValue&&(t.value=a.userValue),a.lastCommittedValue=t.value,a.commitKey=1})),n.addEventListener("updatefromsandbox",(n=>{const r={value(n){a.userValue=n.detail.value??"",e.setValue(t,{value:a.userValue.toString()}),n.target.value=a.userValue},formattedValue(n){const{formattedValue:r}=n.detail;a.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let s=a.userValue;!s||s.length<=r||(s=s.slice(0,r),i.value=a.userValue=s,e.setValue(t,{value:s}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{a.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(a.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;a.lastCommittedValue!==r&&(a.lastCommittedValue=r,a.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=o;o=null,n.addEventListener("blur",(e=>{if(!e.relatedTarget)return;const{value:n}=e.target;a.userValue=n,a.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:a.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{a.lastCommittedValue=null;const{data:n,target:r}=e,{value:i,selectionStart:s,selectionEnd:o}=r;let l=s,c=o;switch(e.inputType){case"deleteWordBackward":{const e=i.substring(0,s).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=i.substring(s).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(o&&n.addEventListener("blur",o),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class v extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return c.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=l,i.addEventListener("change",(r=>{const{name:i,checked:s}=r.target;for(const a of this._getElementsByName(i,n)){const n=s&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:s})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class y extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(c.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=l,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const s of this._getElementsByName(r,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b extends f{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class x extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");c.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=l;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,n.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let s=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),s=()=>{e.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const u=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){s?.();const i=n.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,s=n.detail.remove;i[s].selected=!1,r.remove(s),i.length>0&&-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0),e.setValue(t,{value:a(!0),items:u(n)}),o=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:i,displayValue:s,exportValue:l}=n.detail.insert,c=r.children[i],d=document.createElement("option");d.textContent=s,d.value=l,c?c.before(d):r.append(d),e.setValue(t,{value:a(!0),items:u(n)}),o=a(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(n)}),o=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=a(!0);e.setValue(t,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class w extends h{static IGNORE_TYPES=(()=>new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]))();constructor(e){const{data:t}=e;super(e,{isRenderable:!w.IGNORE_TYPES.has(t.parentType)&&!!(t.titleObj?.str||t.contentsObj?.str||t.richText?.str)})}render(){this.container.className="popupAnnotation";const e=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===e.length)return this.container;const t=new _({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),n=this.page,i=r.Util.normalizeRect([this.data.parentRect[0],n.view[3]-this.data.parentRect[1]+n.view[1],this.data.parentRect[2],n.view[3]-this.data.parentRect[3]+n.view[1]]),s=i[0]+this.data.parentRect[2]-this.data.parentRect[0],a=i[1],{pageWidth:o,pageHeight:l,pageX:c,pageY:u}=this.viewport.rawDims;return this.container.style.left=100*(s-c)/o+"%",this.container.style.top=100*(a-u)/l+"%",this.container.append(t.render()),this.container}}class _{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],s=.7*(255-n[2])+n[2];t.style.backgroundColor=r.Util.makeHexColor(0|e,0|i,0|s)}const s=document.createElement("h1");s.dir=this.titleObj.dir,s.textContent=this.titleObj.str,t.append(s);const a=i.PDFDateString.toDateObject(this.modificationDate);if(a){const e=document.createElement("span");e.className="popupDate",e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:a.toLocaleDateString(),time:a.toLocaleTimeString()}),t.append(e)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);t.append(e)}else o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t}),t.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const r of this.trigger)r.addEventListener("click",this._toggle.bind(this)),r.addEventListener("mouseover",this._show.bind(this,!1)),r.addEventListener("mouseout",this._hide.bind(this,!1));return t.addEventListener("click",this._hide.bind(this,!0)),e.append(t),e}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.className="popupContent",r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const e=i[s];r.append(document.createTextNode(e)),s<a-1&&r.append(document.createElement("br"))}return r}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class k extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.textContent=e.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const e=document.createElement("div");e.className="annotationTextContent",e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class S extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,e),this.container}}class E extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",t-i),s.setAttribute("height",n-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),this._createPopup(s,e),this.container}}class A extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-i/2),s.setAttribute("ry",n/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),this._createPopup(s,e),this.container}}class C extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const a of e.vertices){const t=a.x-e.rect[0],n=e.rect[3]-a.y;i.push(t+","+n)}i=i.join(" ");const s=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",i),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),this._createPopup(s,e),this.container}}class T extends C{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class N extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);for(const i of e.inkLists){let t=[];for(const r of i){const n=r.x-e.rect[0],i=e.rect[3]-r.y;t.push(`${n},${i}`)}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),this._createPopup(n,e),r.append(n)}return this.container.append(r),this.container}}class I extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class R extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class j extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class O extends h{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends h{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(t,!0),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:n})}render(){let e;return this.container.className="fileAttachmentAnnotation",this.data.hasAppearance?e=document.createElement("div"):(e=document.createElement("img"),e.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),e.className="popupTriggerArea",e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.append(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class F{static#Ct(e,t,n,r){const s=e.firstChild||e;s.id=`${i.AnnotationPrefix}${t}`,n.append(e),r?.moveElementInDOM(n,e,s,!1)}static render(e){const{annotations:t,div:n,viewport:a,accessibilityManager:o}=e;(0,i.setLayerDimensions)(n,a);const l={data:null,layer:n,page:e.page,viewport:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new s.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects};let c=0;for(const i of t){if(i.annotationType!==r.AnnotationType.POPUP){const{width:e,height:t}=u(i.rect);if(e<=0||t<=0)continue}l.data=i;const e=d.create(l);if(!e.isRenderable)continue;const t=e.render();if(i.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const r of t)r.style.zIndex=c++,F.#Ct(r,i.id,n,o);else t.style.zIndex=c++,e instanceof w?n.prepend(t):F.#Ct(t,i.id,n,o)}this.#Tt(n,e.annotationCanvasMap)}static update(e){const{annotationCanvasMap:t,div:n,viewport:r}=e;(0,i.setLayerDimensions)(n,{rotation:r.rotation}),this.#Tt(n,t),n.hidden=!1}static#Tt(e,t){if(t){for(const[n,r]of t){const t=e.querySelector(`[data-annotation-id="${n}"]`);if(!t)continue;const{firstChild:i}=t;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.before(r):t.append(r)}t.clear()}}}t.AnnotationLayer=F},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_HTML(e){let[t]=e;const r=n(t);return`#${r}${r}${r}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_HTML(e){let[t,r,i]=e;return`#${n(t)}${n(r)}${n(i)}`}static T_HTML(){return"#00000000"}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,s=1-n,a=1-r;return["CMYK",i,s,a,Math.min(i,s,a)]}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(19);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const s=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value)for(const e of n.children)e.attributes.value===s.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:s}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(t,a.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=[[i,-1,a]],l=e.div;if(l.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==s&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){const[e,i,a]=o.at(-1);if(i+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);c.push(e),a.append(e);continue}let d;if(d=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,u):document.createElement(u),a.append(d),l.attributes&&this.setAttributes({html:d,element:l,storage:t,intent:s,linkService:n}),l.children&&l.children.length>0)o.push([l,-1,d]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(u)&&c.push(e),d.append(e)}}for(const r of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(6),i=n(1),s=n(10);let a=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=a;{const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",u=["butt","round","square"],d=["miter","round","bevel"],h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${t};base64,`;for(let s=0,a=e.length;s<a;s+=3){const t=255&e[s],n=255&e[s+1],o=255&e[s+2];i+=r[t>>2]+r[(3&t)<<4|n>>4]+r[s+1<a?(15&n)<<2|o>>6:64]+r[s+2<a?63&o:64]}return i},f=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[i]=e}function n(e,n,r,i){let s=i;const a=n.length;r[s]=a>>24&255,r[s+1]=a>>16&255,r[s+2]=a>>8&255,r[s+3]=255&a,s+=4,r[s]=255&e.charCodeAt(0),r[s+1]=255&e.charCodeAt(1),r[s+2]=255&e.charCodeAt(2),r[s+3]=255&e.charCodeAt(3),s+=4,r.set(n,s),s+=n.length;const o=function(e,n,r){let i=-1;for(let s=n;s<r;s++){const n=255&(i^e[s]);i=i>>>8^t[n]}return~i}(r,i+4,s);r[s]=o>>24&255,r[s+1]=o>>16&255,r[s+2]=o>>8&255,r[s+3]=255&o}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let s=0;i[s++]=120,i[s++]=156;let a=0;for(;t>n;)i[s++]=0,i[s++]=255,i[s++]=255,i[s++]=0,i[s++]=0,i.set(e.subarray(a,a+n),s),s+=n,a+=n,t-=n;i[s++]=1,i[s++]=255&t,i[s++]=t>>8&255,i[s++]=255&~t,i[s++]=(65535&~t)>>8&255,i.set(e.subarray(a),s),s+=e.length-a;const o=function(e,t,n){let r=1,i=0;for(let s=t;s<n;++s)r=(r+(255&e[s]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[s++]=o>>24&255,i[s++]=o>>16&255,i[s++]=o>>8&255,i[s++]=255&o,i}function a(t,a,o,l){const c=t.width,u=t.height;let d,f,p;const m=t.data;switch(a){case i.ImageKind.GRAYSCALE_1BPP:f=0,d=1,p=c+7>>3;break;case i.ImageKind.RGB_24BPP:f=2,d=8,p=3*c;break;case i.ImageKind.RGBA_32BPP:f=6,d=8,p=4*c;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+p)*u);let v=0,y=0;for(let e=0;e<u;++e)g[v++]=0,g.set(m.subarray(y,y+p),v),y+=p,v+=p;if(a===i.ImageKind.GRAYSCALE_1BPP&&l){v=0;for(let e=0;e<u;e++){v++;for(let e=0;e<p;e++)g[v++]^=255}}const b=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,d,f,0,0,0]),x=function(e){if(!s.isNodeJS)return r(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=__webpack_require__(787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(e)}(g),w=e.length+36+b.length+x.length,_=new Uint8Array(w);let k=0;return _.set(e,k),k+=e.length,n("IHDR",b,_,k),k+=12+b.length,n("IDATA",x,_,k),k+=12+x.length,n("IEND",new Uint8Array(0),_,k),h(_,"image/png",o)}return function(e,t,n){return a(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function m(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}function g(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function v(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${g(e[0])} ${g(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${g(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${g(e[4])} ${g(e[5])})`;return`matrix(${g(e[0])} ${g(e[1])} ${g(e[2])} ${g(e[3])} ${g(e[4])} ${g(e[5])})`}let y=0,b=0,x=0;t.SVGGraphics=a=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const r in i.OPS)this._operatorIdMapping[i.OPS[r]]=r}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let r=0,s=t.length;r<s;r++)if(t[r]===i.OPS.dependency)for(const e of n[r]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,s,a){const o=[e,t,n,r,s,a];this.transformMatrix=i.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let s=0,a=r.length;s<a;s++){const e=r[s];i.push({fnId:e,fn:t[e],args:n[s]})}return m(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,s){const a=this.current;a.textMatrix=a.lineMatrix=[e,t,n,r,i,s],a.textMatrixScale=Math.hypot(e,t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${g(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",g(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.append(a.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${g(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",g(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const s=t.fontSizeScale,a=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=n.vertical,f=h?1:-1,p=n.defaultVMetrics,m=r*t.fontMatrix[0];let y=0;for(const i of e){if(null===i){y+=u*c;continue}if("number"===typeof i){y+=f*i*r/1e3;continue}const e=(i.isSpace?c:0)+a,o=i.fontChar;let l,d,g,v=i.width;if(h){let e;const t=i.vmetric||p;e=i.vmetric?t[1]:.5*v,e=-e*m;const n=t[2]*m;v=t?-t[0]:v,l=e/s,d=(y+n)/s}else l=y/s,d=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+l),h&&t.ycoords.push(-t.y+d),t.tspan.textContent+=o),g=h?v*m-e*u:v*m+e*u,y+=g}t.tspan.setAttributeNS(null,"x",t.xcoords.map(g).join(" ")),h?t.tspan.setAttributeNS(null,"y",t.ycoords.map(g).join(" ")):t.tspan.setAttributeNS(null,"y",g(-t.y)),h?t.y-=y:t.x+=y*d,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${g(t.fontSize)}px`),t.fontStyle!==o.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==o.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const b=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(b===i.TextRenderingMode.FILL||b===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==o.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),b===i.TextRenderingMode.STROKE||b===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let x=t.textMatrix;0!==t.textRise&&(x=x.slice(),x[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${v(x)} scale(${g(d)}, -1)`),t.txtElement.setAttributeNS(l,"xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=h(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=s,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",g(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=u[e]}setLineJoin(e){this.current.lineJoin=d[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),s=i.Util.applyTransform([0,0],r),a=i.Util.applyTransform([0,n],r),o=i.Util.applyTransform([t,0],r),l=i.Util.applyTransform([t,n],r),c=Math.min(s[0],a[0],o[0],l[0]),u=Math.min(s[1],a[1],o[1],l[1]),d=Math.max(s[0],a[0],o[0],l[0]),h=Math.max(s[1],a[1],o[1],l[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",d-c),f.setAttributeNS(null,"height",h-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(f)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[s,a,o,l]=e[4],c=e[5],u=e[6],d=e[7],h="shading"+x++,[f,p,m,g]=i.Util.normalizeRect([...i.Util.applyTransform([s,a],r),...i.Util.applyTransform([o,l],r)]),[v,y]=i.Util.singularValueDecompose2dScale(r),b=c*v,w=u*y,_=this.svgFactory.createElement("svg:pattern");_.setAttributeNS(null,"id",h),_.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_.setAttributeNS(null,"width",b),_.setAttributeNS(null,"height",w),_.setAttributeNS(null,"x",`${f}`),_.setAttributeNS(null,"y",`${p}`);const k=this.svg,S=this.transformMatrix,E=this.current.fillColor,A=this.current.strokeColor,C=this.svgFactory.create(m-f,g-p);if(this.svg=C,this.transformMatrix=r,2===d){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=k,this.transformMatrix=S,this.current.fillColor=E,this.current.strokeColor=A,_.append(C.childNodes[0]),this.defs.append(_),`url(#${h})`}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+x++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const s=e[4],a=e[5],o=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",a[0]),r.setAttributeNS(null,"cy",a[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",s[0]),r.setAttributeNS(null,"fy",s[1]),r.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,s=n.y,a=[],o=0;for(const l of e)switch(0|l){case i.OPS.rectangle:r=t[o++],s=t[o++];const e=r+t[o++],n=s+t[o++];a.push("M",g(r),g(s),"L",g(e),g(s),"L",g(e),g(n),"L",g(r),g(n),"Z");break;case i.OPS.moveTo:r=t[o++],s=t[o++],a.push("M",g(r),g(s));break;case i.OPS.lineTo:r=t[o++],s=t[o++],a.push("L",g(r),g(s));break;case i.OPS.curveTo:r=t[o+4],s=t[o+5],a.push("C",g(t[o]),g(t[o+1]),g(t[o+2]),g(t[o+3]),g(r),g(s)),o+=6;break;case i.OPS.curveTo2:a.push("C",g(r),g(s),g(t[o]),g(t[o+1]),g(t[o+2]),g(t[o+3])),r=t[o+2],s=t[o+3],o+=4;break;case i.OPS.curveTo3:r=t[o+2],s=t[o+3],a.push("C",g(t[o]),g(t[o+1]),g(r),g(s),g(r),g(s)),o+=4;break;case i.OPS.closePath:a.push("Z")}a=a.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?a=n.path.getAttributeNS(null,"d")+a:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",a),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,s)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+y++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",v(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",g(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",g(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(g).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",g(t*n.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=f(e,this.forceDataSchema,!!t),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",g(n)),s.setAttributeNS(null,"height",g(r)),this.current.element=s,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(c,"xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",g(-r)),a.setAttributeNS(null,"width",g(n)+"px"),a.setAttributeNS(null,"height",g(r)+"px"),a.setAttributeNS(null,"transform",`scale(${g(1/n)} ${g(-1/r)})`),t?t.append(a):this._ensureTransformGroup().append(a)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const n=this.current,r=t.width,s=t.height,a=n.fillColor;n.maskId="mask"+b++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",n.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",g(r)),l.setAttributeNS(null,"height",g(s)),l.setAttributeNS(null,"fill",a),l.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",g(e)),r.setAttributeNS(null,"height",g(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",v(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return a.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),a=__w_pdfjs_require__(5),o=__w_pdfjs_require__(32),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(35),u=__w_pdfjs_require__(34)})(),__nested_webpack_exports__})(),module.exports=factory()},787:()=>{},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},815:()=>{},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,I();else{var t=r(u);null!==t&&R(w,t.startTime-e)}}var _,k=!1,S=-1,E=5,A=-1;function C(){return!(t.unstable_now()-A<E)}function T(){if(k){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(w,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?_():k=!1}}}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=T,_=function(){P.postMessage(null)}}else _=function(){v(T,0)};function I(){k||(k=!0,_())}function R(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,R(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,I())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,__webpack_require__.d(i,s),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".315213a9.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="i-plot-admin:";__webpack_require__.l=(n,r,i,s)=>{if(e[n])e[n].push(r);else{var a,o;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),o&&document.head.appendChild(a)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var s=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(s,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,s=n[0],a=n[1],o=n[2],l=0;if(s.some((t=>0!==e[t]))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(o)o(__webpack_require__)}for(t&&t(n);l<s.length;l++)i=s[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunki_plot_admin=self.webpackChunki_plot_admin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__.t(e,2),n=__webpack_require__(391);const r=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};var i="undefined"===typeof window||"Deno"in globalThis;function s(){}function a(e,t){return"function"===typeof e?e(t):e}function o(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a)if(r){if(t.queryHash!==c(a,t.options))return!1}else if(!d(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function l(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(u(t.options.mutationKey)!==u(s))return!1}else if(!d(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function c(e,t){return(t?.queryKeyHashFn||u)(e)}function u(e){return JSON.stringify(e,((e,t)=>p(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function d(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((n=>!d(e[n],t[n]))))}function h(e,t){if(e===t)return e;const n=f(e)&&f(t);if(n||p(e)&&p(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const i=n?c:s[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(o[i]=void 0,l++):(o[i]=h(e[i],t[i]),o[i]===e[i]&&void 0!==e[i]&&l++)}return i===a&&l===i?e:o}return t}function f(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function p(e){if(!m(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!m(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?h(e,t):t}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var b=Symbol();function x(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==b?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var w=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const s=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:s=>{let a;t++;try{a=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return a},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s((()=>{e(...n)}))},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k=new class extends _{#Nt;#Ae;#Pt;constructor(){super(),this.#Pt=e=>{if(!i&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#Ae||this.setEventListener(this.#Pt)}onUnsubscribe(){this.hasListeners()||(this.#Ae?.(),this.#Ae=void 0)}setEventListener(e){this.#Pt=e,this.#Ae?.(),this.#Ae=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#Nt!==e&&(this.#Nt=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#Nt?this.#Nt:"hidden"!==globalThis.document?.visibilityState}},S=new class extends _{#It=!0;#Ae;#Pt;constructor(){super(),this.#Pt=e=>{if(!i&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#Ae||this.setEventListener(this.#Pt)}onUnsubscribe(){this.hasListeners()||(this.#Ae?.(),this.#Ae=void 0)}setEventListener(e){this.#Pt=e,this.#Ae?.(),this.#Ae=e(this.setOnline.bind(this))}setOnline(e){this.#It!==e&&(this.#It=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#It}};function E(e){return Math.min(1e3*2**e,3e4)}function A(e){return"online"!==(e??"online")||S.isOnline()}var C=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function T(e){return e instanceof C}function N(e){let t,n=!1,r=0,s=!1;const a=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>k.isFocused()&&("always"===e.networkMode||S.isOnline())&&e.canRun(),l=()=>A(e.networkMode)&&e.canRun(),c=n=>{s||(s=!0,e.onSuccess?.(n),t?.(),a.resolve(n))},u=n=>{s||(s=!0,e.onError?.(n),t?.(),a.reject(n))},d=()=>new Promise((n=>{t=e=>{(s||o())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,s||e.onContinue?.()})),h=()=>{if(s)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(l){t=Promise.reject(l)}Promise.resolve(t).then(c).catch((t=>{if(s)return;const a=e.retry??(i?0:3),l=e.retryDelay??E,c="function"===typeof l?l(r,t):l,f=!0===a||"number"===typeof a&&r<a||"function"===typeof a&&a(r,t);var p;!n&&f?(r++,e.onFail?.(r,t),(p=c,new Promise((e=>{setTimeout(e,p)}))).then((()=>o()?void 0:d())).then((()=>{n?u(t):h()}))):u(t)}))};return{promise:a,cancel:t=>{s||(u(new C(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:l,start:()=>(l()?h():d().then(h),a)}}var P=class{#Rt;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#Rt=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i?1/0:3e5))}clearGcTimeout(){this.#Rt&&(clearTimeout(this.#Rt),this.#Rt=void 0)}},I=class extends P{#jt;#Dt;#Ot;#Mt;#Ft;#Lt;#Ut;constructor(e){super(),this.#Ut=!1,this.#Lt=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#Mt=e.client,this.#Ot=this.#Mt.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#jt=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#jt,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#Ft?.promise}setOptions(e){this.options={...this.#Lt,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#Ot.remove(this)}setData(e,t){const n=g(this.state.data,e,this.options);return this.#Vt({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#Vt({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#Ft?.promise;return this.#Ft?.cancel(e),t?t.then(s).catch(s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#jt)}isActive(){return this.observers.some((e=>!1!==function(e,t){return"function"===typeof e?e(t):e}(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===b||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#Ft?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#Ft?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#Ot.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#Ft&&(this.#Ut?this.#Ft.cancel({revert:!0}):this.#Ft.cancelRetry()),this.scheduleGc()),this.#Ot.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#Vt({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#Ft)return this.#Ft.continueRetry(),this.#Ft.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#Ut=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#Mt,state:this.state,fetchFn:()=>{const e=x(this.options,t),n={client:this.#Mt,queryKey:this.queryKey,meta:this.meta};return r(n),this.#Ut=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#Dt=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#Vt({type:"fetch",meta:i.fetchOptions?.meta});const s=e=>{T(e)&&e.silent||this.#Vt({type:"error",error:e}),T(e)||(this.#Ot.config.onError?.(e,this),this.#Ot.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#Ft=N({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void s(t)}this.#Ot.config.onSuccess?.(e,this),this.#Ot.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else s(new Error(`${this.queryHash} data is undefined`))},onError:s,onFail:(e,t)=>{this.#Vt({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#Vt({type:"pause"})},onContinue:()=>{this.#Vt({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#Ft.start()}#Vt(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...R(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return T(n)&&n.revert&&this.#Dt?{...this.#Dt,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),w.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#Ot.notify({query:this,type:"updated",action:e})}))}};function R(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var j=class extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#Bt=new Map}#Bt;build(e,t,n){const r=t.queryKey,i=t.queryHash??c(r,t);let s=this.get(i);return s||(s=new I({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#Bt.has(e.queryHash)||(this.#Bt.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#Bt.get(e.queryHash);t&&(e.destroy(),t===e&&this.#Bt.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){w.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#Bt.get(e)}getAll(){return[...this.#Bt.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>o(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>o(e,t))):t}notify(e){w.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){w.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){w.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},D=class extends P{#zt;#$t;#Ft;constructor(e){super(),this.mutationId=e.mutationId,this.#$t=e.mutationCache,this.#zt=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#zt.includes(e)||(this.#zt.push(e),this.clearGcTimeout(),this.#$t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#zt=this.#zt.filter((t=>t!==e)),this.scheduleGc(),this.#$t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#zt.length||("pending"===this.state.status?this.scheduleGc():this.#$t.remove(this))}continue(){return this.#Ft?.continue()??this.execute(this.state.variables)}async execute(e){this.#Ft=N({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#Vt({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#Vt({type:"pause"})},onContinue:()=>{this.#Vt({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#$t.canRun(this)});const t="pending"===this.state.status,n=!this.#Ft.canStart();try{if(!t){this.#Vt({type:"pending",variables:e,isPaused:n}),await(this.#$t.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#Vt({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#Ft.start();return await(this.#$t.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#$t.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#Vt({type:"success",data:r}),r}catch(r){try{throw await(this.#$t.config.onError?.(r,e,this.state.context,this)),await(this.options.onError?.(r,e,this.state.context)),await(this.#$t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,e,this.state.context)),r}finally{this.#Vt({type:"error",error:r})}}finally{this.#$t.runNext(this)}}#Vt(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),w.batch((()=>{this.#zt.forEach((t=>{t.onMutationUpdate(e)})),this.#$t.notify({mutation:this,type:"updated",action:e})}))}};var O=class extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#qt=new Set,this.#Ht=new Map,this.#Wt=0}#qt;#Ht;#Wt;build(e,t,n){const r=new D({mutationCache:this,mutationId:++this.#Wt,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#qt.add(e);const t=M(e);if("string"===typeof t){const n=this.#Ht.get(t);n?n.push(e):this.#Ht.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#qt.delete(e)){const t=M(e);if("string"===typeof t){const n=this.#Ht.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#Ht.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=M(e);if("string"===typeof t){const n=this.#Ht.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=M(e);if("string"===typeof t){const n=this.#Ht.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){w.batch((()=>{this.#qt.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#qt.clear(),this.#Ht.clear()}))}getAll(){return Array.from(this.#qt)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>l(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>l(e,t)))}notify(e){w.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return w.batch((()=>Promise.all(e.map((e=>e.continue().catch(s))))))}};function M(e){return e.options.scope?.id}function F(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=x(t.options,t.fetchOptions),u=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var a;a=s,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const o=await c(s),{maxPages:l}=t.options,u=i?y:v;return{pages:u(e.pages,o,l),pageParams:u(e.pageParams,r,l)}};if(i&&s.length){const e="backward"===i,t={pages:s,pageParams:a},n=(e?U:L)(r,t);o=await u(t,n,e)}else{const t=e??s.length;do{const e=0===l?a[0]??r.initialPageParam:L(r,o);if(l>0&&null==e)break;o=await u(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function L(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function U(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var V=__webpack_require__(579),B=e.createContext(void 0),z=t=>{let{client:n,children:r}=t;return e.useEffect((()=>(n.mount(),()=>{n.unmount()})),[n]),(0,V.jsx)(B.Provider,{value:n,children:r})};let $={data:""},q=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||$,H=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,W=/\/\*[^]*?\*\/|  +/g,K=/\n+/g,G=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?G(a,s):s+"{"+G(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=G(a,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=G.p?G.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},X={},Y=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Y(e[n]);return t}return e},Q=(e,t,n,r,i)=>{let s=Y(e),a=X[s]||(X[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!X[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=H.exec(e.replace(W,""));)t[4]?r.shift():t[3]?(n=t[3].replace(K," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(K," ").trim();return r[0]})(e);X[a]=G(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&X.g?X.g:null;return n&&(X.g=X[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(X[a],t,r,o),a};function Z(e){let t=this||{},n=e.call?e(t.p):e;return Q(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":G(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,q(t.target),t.g,t.o,t.k)}Z.bind({g:1});let J,ee,te,ne=Z.bind({k:1});function re(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:ee&&ee()},o),n.o=/ *go\d+/.test(l),o.className=Z.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),te&&c[0]&&te(o),J(c,o)}return t?t(i):i}}var ie=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,se=(()=>{let e=0;return()=>(++e).toString()})(),ae=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),oe=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return oe(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},le=[],ce={toasts:[],pausedAt:void 0},ue=e=>{ce=oe(ce,e),le.forEach((e=>{e(ce)}))},de={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},he=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||se()}}(t,e,n);return ue({type:2,toast:r}),r.id},fe=(e,t)=>he("blank")(e,t);fe.error=he("error"),fe.success=he("success"),fe.loading=he("loading"),fe.custom=he("custom"),fe.dismiss=e=>{ue({type:3,toastId:e})},fe.remove=e=>ue({type:4,toastId:e}),fe.promise=(e,t,n)=>{let r=fe.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let i=t.success?ie(t.success,e):void 0;return i?fe.success(i,{id:r,...n,...null==n?void 0:n.success}):fe.dismiss(r),e})).catch((e=>{let i=t.error?ie(t.error,e):void 0;i?fe.error(i,{id:r,...n,...null==n?void 0:n.error}):fe.dismiss(r)})),e};var pe=(e,t)=>{ue({type:1,toast:{id:e,height:t}})},me=()=>{ue({type:5,time:Date.now()})},ge=new Map,ve=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(ce),i=(0,e.useRef)(ce);(0,e.useEffect)((()=>(i.current!==ce&&r(ce),le.push(r),()=>{let e=le.indexOf(r);e>-1&&le.splice(e,1)})),[]);let s=n.toasts.map((e=>{var n,r,i;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||de[e.type],style:{...t.style,...null==(i=t[e.type])?void 0:i.style,...e.style}}}));return{...n,toasts:s}}(t);(0,e.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>fe.dismiss(t.id)),n);t.visible&&fe.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let i=(0,e.useCallback)((()=>{r&&ue({type:6,time:Date.now()})}),[r]),s=(0,e.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=t||{},a=n.filter((t=>(t.position||s)===(e.position||s)&&t.height)),o=a.findIndex((t=>t.id===e.id)),l=a.filter(((e,t)=>t<o&&e.visible)).length;return a.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[n]);return(0,e.useEffect)((()=>{n.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(ge.has(e))return;let n=setTimeout((()=>{ge.delete(e),ue({type:4,toastId:e})}),t);ge.set(e,n)}(e.id,e.removeDelay);else{let t=ge.get(e.id);t&&(clearTimeout(t),ge.delete(e.id))}}))}),[n]),{toasts:n,handlers:{updateHeight:pe,startPause:me,endPause:i,calculateOffset:s}}},ye=ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,be=ne`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xe=ne`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,we=re("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ye} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${be} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_e=ne`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ke=re("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_e} 1s linear infinite;
`,Se=ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ee=ne`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ae=re("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Se} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ee} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ce=re("div")`
  position: absolute;
`,Te=re("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ne=ne`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=re("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ne} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ie=t=>{let{toast:n}=t,{icon:r,type:i,iconTheme:s}=n;return void 0!==r?"string"==typeof r?e.createElement(Pe,null,r):r:"blank"===i?null:e.createElement(Te,null,e.createElement(ke,{...s}),"loading"!==i&&e.createElement(Ce,null,"error"===i?e.createElement(we,{...s}):e.createElement(Ae,{...s})))},Re=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,je=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,De=re("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Oe=re("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Me=e.memo((t=>{let{toast:n,position:r,style:i,children:s}=t,a=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=ae()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Re(n),je(n)];return{animation:t?`${ne(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ne(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(n.position||r||"top-center",n.visible):{opacity:0},o=e.createElement(Ie,{toast:n}),l=e.createElement(Oe,{...n.ariaProps},ie(n.message,n));return e.createElement(De,{className:n.className,style:{...a,...i,...n.style}},"function"==typeof s?s({icon:o,message:l}):e.createElement(e.Fragment,null,o,l))}));!function(e,t,n,r){G.p=t,J=e,ee=n,te=r}(e.createElement);var Fe,Le=t=>{let{id:n,className:r,style:i,onHeightUpdate:s,children:a}=t,o=e.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;s(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,s]);return e.createElement("div",{ref:o,className:r,style:i},a)},Ue=Z`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ve=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:s,children:a,containerStyle:o,containerClassName:l}=t,{toasts:c,handlers:u}=ve(i);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((t=>{let i=t.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ae()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(i,u.calculateOffset(t,{reverseOrder:n,gutter:s,defaultPosition:r}));return e.createElement(Le,{id:t.id,key:t.id,onHeightUpdate:u.updateHeight,className:t.visible?Ue:"",style:o},"custom"===t.type?ie(t.message,t):a?a(t):e.createElement(Me,{toast:t,position:i}))})))},Be=fe,ze=(__webpack_require__(175),e=>{throw TypeError(e)}),$e=(e,t,n)=>(((e,t,n)=>{t.has(e)||ze("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e)),qe="popstate";function He(){return Ze((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Xe("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Ye(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ke(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch($){}}}function Ge(e,t){return{usr:e.state,key:e.key,idx:t}}function Xe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?Qe(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function Ye(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Qe(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ze(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Ye(e);return n=n.replace(/ $/,"%20"),We(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==c&&(c=0,a.replaceState({...a.state,idx:c},""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qe,d),l=e,()=>{i.removeEventListener(qe,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=Xe(f.location,e,t);n&&n(r,e),c=u()+1;let d=Ge(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=Xe(f.location,e,t);n&&n(r,e),c=u();let i=Ge(r,c),d=f.createHref(r);a.replaceState(i,"",d),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}var Je=class{constructor(e){var t,n,r;if(t=this,n=Fe,r=new Map,n.has(t)?ze("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),e)for(let[i,s]of e)this.set(i,s)}get(e){if($e(this,Fe).has(e))return $e(this,Fe).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){$e(this,Fe).set(e,t)}};Fe=new WeakMap;var et=new Set(["lazy","caseSensitive","path","id","index","children"]);function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map(((e,i)=>{let s=[...n,String(i)],a="string"===typeof e.id?e.id:s.join("-");if(We(!0!==e.index||!e.children,"Cannot specify children on an index route"),We(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),function(e){return!0===e.index}(e)){let n={...e,...t(e),id:a};return r[a]=n,n}{let n={...e,...t(e),id:a,children:void 0};return r[a]=n,e.children&&(n.children=tt(e.children,t,s,r)),n}}))}function nt(e,t){return rt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function rt(e,t,n,r){let i=yt(("string"===typeof t?Qe(t):t).pathname||"/",n);if(null==i)return null;let s=st(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=vt(i);a=mt(s[o],e,r)}return a}function it(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function st(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(We(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let o=kt([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(We(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),st(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:pt(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of at(e.path))i(e,t,n);else i(e,t)})),t}function at(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=at(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var ot=/^:[\w-]+$/,lt=3,ct=2,ut=1,dt=10,ht=-2,ft=e=>"*"===e;function pt(e,t){let n=e.split("/"),r=n.length;return n.some(ft)&&(r+=ht),t&&(r+=ct),n.filter((e=>!ft(e))).reduce(((e,t)=>e+(ot.test(t)?lt:""===t?ut:dt)),r)}function mt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=gt({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=gt({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:kt([s,u.pathname]),pathnameBase:St(kt([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=kt([s,u.pathnameBase]))}return a}function gt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ke("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function vt(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ke(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function bt(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xt(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function wt(e){let t=xt(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function _t(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=Qe(e):(r={...e},We(!r.pathname||!r.pathname.includes("?"),bt("?","pathname","search",r)),We(!r.pathname||!r.pathname.includes("#"),bt("#","pathname","hash",r)),We(!r.search||!r.search.includes("#"),bt("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?Qe(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Et(r),hash:At(i)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var kt=e=>e.join("/").replace(/\/\/+/g,"/"),St=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Et=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",At=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Ct=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Nt=["POST","PUT","PATCH","DELETE"],Pt=new Set(Nt),It=["GET",...Nt],Rt=new Set(It),jt=new Set([301,302,303,307,308]),Dt=new Set([307,308]),Ot={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mt={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ft={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Lt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),Vt="remix-router-transitions",Bt=Symbol("ResetLoaderData");function zt(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;We(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r,i,s,a=e.mapRouteProperties||Ut,o={},l=tt(e.routes,a,void 0,o),c=e.basename||"/",u=e.dataStrategy||Jt,d={unstable_middleware:!1,...e.future},h=null,f=new Set,p=null,m=null,g=null,v=null!=e.hydrationData,y=nt(l,e.history.location,c),b=!1,x=null;if(null==y&&!e.patchRoutesOnNavigation){let t=vn(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=gn(l);y=n,x={[r.id]:t}}if(y&&!e.hydrationData){de(y,l,e.history.location.pathname).active&&(y=null)}if(y)if(y.some((e=>e.route.lazy)))i=!1;else if(y.some((e=>e.route.loader))){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=y.findIndex((e=>void 0!==n[e.route.id]));i=y.slice(0,e+1).every((e=>!Kt(e.route,t,n)))}else i=y.every((e=>!Kt(e.route,t,n)))}else i=!0;else{i=!1,y=[];let t=de(null,l,e.history.location.pathname);t.active&&t.matches&&(b=!0,y=t.matches)}let w,_,k={historyAction:e.history.action,location:e.history.location,matches:y,initialized:i,navigation:Ot,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},S="POP",E=!1,A=!1,C=new Map,T=null,N=!1,P=!1,I=new Set,R=new Map,j=0,D=-1,O=new Map,M=new Set,F=new Map,L=new Map,U=new Set,V=new Map,B=null;function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k={...k,...e};let n=[],r=[];k.fetchers.forEach(((e,t)=>{"idle"===e.state&&(U.has(t)?n.push(t):r.push(t))})),U.forEach((e=>{k.fetchers.has(e)||R.has(e)||n.push(e)})),[...f].forEach((e=>e(k,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),n.forEach((e=>ee(e))),r.forEach((e=>k.fetchers.delete(e)))}function q(t,n){let i,{flushSync:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=k.actionData&&null!=k.navigation.formMethod&&An(k.navigation.formMethod)&&"loading"===k.navigation.state&&!0!==t.state?._isRedirect;i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:a?k.actionData:null;let o=n.loaderData?fn(k.loaderData,n.loaderData,n.matches||[],n.errors):k.loaderData,c=k.blockers;c.size>0&&(c=new Map(c),c.forEach(((e,t)=>c.set(t,Ft))));let u,d=!0===E||null!=k.navigation.formMethod&&An(k.navigation.formMethod)&&!0!==t.state?._isRedirect;if(r&&(l=r,r=void 0),N||"POP"===S||("PUSH"===S?e.history.push(t,t.state):"REPLACE"===S&&e.history.replace(t,t.state)),"POP"===S){let e=C.get(k.location.pathname);e&&e.has(t.pathname)?u={currentLocation:k.location,nextLocation:t}:C.has(t.pathname)&&(u={currentLocation:t,nextLocation:k.location})}else if(A){let e=C.get(k.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),C.set(k.location.pathname,e)),u={currentLocation:k.location,nextLocation:t}}z({...n,actionData:i,loaderData:o,historyAction:S,location:t,initialized:!0,navigation:Ot,revalidation:"idle",restoreScrollPosition:ue(t,n.matches||k.matches),preventScrollReset:d,blockers:c},{viewTransitionOpts:u,flushSync:!0===s}),S="POP",E=!1,A=!1,N=!1,P=!1,B?.resolve(),B=null}async function H(t,n,i){w&&w.abort(),w=null,S=t,N=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(p&&g){let n=ce(e,t);p[n]=g()}}(k.location,k.matches),E=!0===(i&&i.preventScrollReset),A=!0===(i&&i.enableViewTransition);let s=r||l,a=i&&i.overrideNavigation,o=i?.initialHydration&&k.matches&&k.matches.length>0&&!b?k.matches:nt(s,n,c),u=!0===(i&&i.flushSync);if(o&&k.initialized&&!P&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(k.location,n)&&!(i&&i.submission&&An(i.submission.formMethod)))return void q(n,{matches:o},{flushSync:u});let d=de(o,s,n.pathname);if(d.active&&d.matches&&(o=d.matches),!o){let{error:e,notFoundMatches:t,route:r}=le(n.pathname);return void q(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:u})}w=new AbortController;let h,f=ln(e.history,n,w.signal,i&&i.submission),m=new Je(e.unstable_getContext?await e.unstable_getContext():void 0);if(i&&i.pendingError)h=[mn(o).route.id,{type:"error",error:i.pendingError}];else if(i&&i.submission&&An(i.submission.formMethod)){let t=await async function(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};Y();let o,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(z({navigation:l},{flushSync:!0===a.flushSync}),s){let n=await he(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=mn(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=le(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:"error",error:n}]}}r=n.matches}let u=Tn(r,t);if(u.route.action||u.route.lazy){let t=await G("action",e,[u],r,i,null);if(o=t[u.route.id],!o)for(let e of r)if(t[e.route.id]){o=t[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else o={type:"error",error:vn(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(_n(o)){let t;if(a&&null!=a.replace)t=a.replace;else{t=on(o.response.headers.get("Location"),new URL(e.url),c)===k.location.pathname+k.location.search}return await K(e,o,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(wn(o)){let e=mn(r,u.route.id);return!0!==(a&&a.replace)&&(S="PUSH"),{matches:r,pendingActionResult:[e.route.id,o]}}return{matches:r,pendingActionResult:[u.route.id,o]}}(f,n,i.submission,o,m,d.active,{replace:i.replace,flushSync:u});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(wn(r)&&Tt(r.error)&&404===r.error.status)return w=null,void q(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}o=t.matches||o,h=t.pendingActionResult,a=Pn(n,i.submission),u=!1,d.active=!1,f=ln(e.history,f.url,f.signal)}let{shortCircuited:v,matches:y,loaderData:x,errors:_}=await async function(t,n,i,s,a,o,u,d,h,f,p,m){let g=o||Pn(n,u),v=u||d||Nn(g),y=!N&&!f;if(a){if(y){let e=W(m);z({navigation:g,...void 0!==e?{actionData:e}:{}},{flushSync:p})}let e=await he(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=mn(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=le(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}i=e.matches}let b=r||l,[x,_]=Wt(e.history,k,i,v,n,!0===f,P,I,U,F,M,b,c,m);if(D=++j,0===x.length&&0===_.length){let e=re();return q(n,{matches:i,loaderData:{},errors:m&&wn(m[1])?{[m[0]]:m[1].error}:null,...pn(m),...e?{fetchers:new Map(k.fetchers)}:{}},{flushSync:p}),{shortCircuited:!0}}if(y){let e={};if(!a){e.navigation=g;let t=W(m);void 0!==t&&(e.actionData=t)}_.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=k.fetchers.get(e.key),n=In(void 0,t?t.data:void 0);k.fetchers.set(e.key,n)})),new Map(k.fetchers)}(_)),z(e,{flushSync:p})}_.forEach((e=>{te(e.key),e.controller&&R.set(e.key,e.controller)}));let S=()=>_.forEach((e=>te(e.key)));w&&w.signal.addEventListener("abort",S);let{loaderResults:E,fetcherResults:A}=await X(i,x,_,t,s);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",S);_.forEach((e=>R.delete(e.key)));let C=yn(E);if(C)return await K(t,C.result,!0,{replace:h}),{shortCircuited:!0};if(C=yn(A),C)return M.add(C.key),await K(t,C.result,!0,{replace:h}),{shortCircuited:!0};let{loaderData:T,errors:O}=hn(k,i,E,m,_,A);f&&k.errors&&(O={...k.errors,...O});let L=re(),V=ie(D),B=L||V||_.length>0;return{matches:i,loaderData:T,errors:O,...B?{fetchers:new Map(k.fetchers)}:{}}}(f,n,o,m,d.active,a,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,u,h);v||(w=null,q(n,{matches:y||o,...pn(h),loaderData:x,errors:_}))}function W(e){return e&&!wn(e[1])?{[e[0]]:e[1].data}:k.actionData?0===Object.keys(k.actionData).length?null:k.actionData:void 0}async function K(r,i,s){let{submission:a,fetcherSubmission:o,preventScrollReset:l,replace:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.response.headers.has("X-Remix-Revalidate")&&(P=!0);let d=i.response.headers.get("Location");We(d,"Expected a Location header on the redirect Response"),d=on(d,new URL(r.url),c);let h=Xe(k.location,d,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(Lt.test(d)){const r=e.history.createURL(d);n=r.origin!==t.location.origin||null==yt(r.pathname,c)}if(n)return void(u?t.location.replace(d):t.location.assign(d))}w=null;let f=!0===u||i.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:p,formAction:m,formEncType:g}=k.navigation;!a&&!o&&p&&m&&g&&(a=Nn(k.navigation));let v=a||o;if(Dt.has(i.response.status)&&v&&An(v.formMethod))await H(f,h,{submission:{...v,formAction:d},preventScrollReset:l||E,enableViewTransition:s?A:void 0});else{let e=Pn(h,a);await H(f,h,{overrideNavigation:e,fetcherSubmission:o,preventScrollReset:l||E,enableViewTransition:s?A:void 0})}}async function G(e,t,n,r,i,s){let l,h={};try{l=await rn(u,e,t,n,r,s,o,a,i,d.unstable_middleware)}catch($){return n.forEach((t=>{h[t.route.id]={type:"error",error:$}})),h}for(let[a,o]of Object.entries(l))if(xn(o)){let e=o.result;h[a]={type:"redirect",response:an(e,t,a,r,c)}}else h[a]=await sn(o);return h}async function X(t,n,r,i,s){let a=G("loader",i,n,t,s,null),o=Promise.all(r.map((async t=>{if(t.matches&&t.match&&t.controller){let n=(await G("loader",ln(e.history,t.path,t.controller.signal),[t.match],t.matches,s,t.key))[t.match.route.id];return{[t.key]:n}}return Promise.resolve({[t.key]:{type:"error",error:vn(404,{pathname:t.path})}})}))),l=await a,c=(await o).reduce(((e,t)=>Object.assign(e,t)),{});return{loaderResults:l,fetcherResults:c}}function Y(){P=!0,F.forEach(((e,t)=>{R.has(t)&&I.add(t),te(t)}))}function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k.fetchers.set(e,t),z({fetchers:new Map(k.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Z(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=mn(k.matches,t);ee(e),z({errors:{[i.route.id]:n},fetchers:new Map(k.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function J(e){return L.set(e,(L.get(e)||0)+1),U.has(e)&&U.delete(e),k.fetchers.get(e)||Mt}function ee(e){let t=k.fetchers.get(e);!R.has(e)||t&&"loading"===t.state&&O.has(e)||te(e),F.delete(e),O.delete(e),M.delete(e),U.delete(e),I.delete(e),k.fetchers.delete(e)}function te(e){let t=R.get(e);t&&(t.abort(),R.delete(e))}function ne(e){for(let t of e){let e=Rn(J(t).data);k.fetchers.set(t,e)}}function re(){let e=[],t=!1;for(let n of M){let r=k.fetchers.get(n);We(r,`Expected fetcher: ${n}`),"loading"===r.state&&(M.delete(n),e.push(n),t=!0)}return ne(e),t}function ie(e){let t=[];for(let[n,r]of O)if(r<e){let e=k.fetchers.get(n);We(e,`Expected fetcher: ${n}`),"loading"===e.state&&(te(n),O.delete(n),t.push(n))}return ne(t),t.length>0}function se(e){k.blockers.delete(e),V.delete(e)}function ae(e,t){let n=k.blockers.get(e)||Ft;We("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,`Invalid blocker state transition: ${n.state} -> ${t.state}`);let r=new Map(k.blockers);r.set(e,t),z({blockers:r})}function oe(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===V.size)return;V.size>1&&Ke(!1,"A router only supports one blocker at a time");let i=Array.from(V.entries()),[s,a]=i[i.length-1],o=k.blockers.get(s);return o&&"proceeding"===o.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function le(e){let t=vn(404,{pathname:e}),n=r||l,{matches:i,route:s}=gn(n);return{notFoundMatches:i,route:s,error:t}}function ce(e,t){if(m){let n=m(e,t.map((e=>it(e,k.loaderData))));return n||e.key}return e.key}function ue(e,t){if(p){let n=ce(e,t),r=p[n];if("number"===typeof r)return r}return null}function de(t,n,r){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:rt(n,r,c,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:rt(n,r,c,!0)}}}return{active:!1,matches:null}}async function he(t,n,i,s){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let u=t;for(;;){let t=null==r,d=r||l,h=o;try{await e.patchRoutesOnNavigation({signal:i,path:n,matches:u,fetcherKey:s,patch:(e,t)=>{i.aborted||Yt(e,t,d,h,a)}})}catch($){return{type:"error",error:$,partialMatches:u}}finally{t&&!i.aborted&&(l=[...l])}if(i.aborted)return{type:"aborted"};let f=nt(d,n,c);if(f)return{type:"success",matches:f};let p=rt(d,n,c,!0);if(!p||u.length===p.length&&u.every(((e,t)=>e.route.id===p[t].route.id)))return{type:"success",matches:null};u=p}}return s={get basename(){return c},get future(){return d},get state(){return k},get routes(){return l},get window(){return t},initialize:function(){if(h=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(_)return _(),void(_=void 0);Ke(0===V.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=oe({currentLocation:k.location,nextLocation:r,historyAction:n});if(s&&null!=i){let t=new Promise((e=>{_=e}));return e.history.go(-1*i),void ae(s,{state:"blocked",location:r,proceed(){ae(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(i)))},reset(){let e=new Map(k.blockers);e.set(s,Ft),z({blockers:e})}})}return H(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(Vt);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch($){}}(t,C);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(Vt,JSON.stringify(r))}catch(n){Ke(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}(t,C);t.addEventListener("pagehide",e),T=()=>t.removeEventListener("pagehide",e)}return k.initialized||H("POP",k.location,{initialHydration:!0}),s},subscribe:function(e){return f.add(e),()=>f.delete(e)},enableScrollRestoration:function(e,t,n){if(p=e,g=t,m=n||null,!v&&k.navigation===Ot){v=!0;let e=ue(k.location,k.matches);null!=e&&z({restoreScrollPosition:e})}return()=>{p=null,g=null,m=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=$t(k.location,k.matches,c,n,r?.fromRouteId,r?.relative),{path:s,submission:a,error:o}=qt(!1,i,r),l=k.location,u=Xe(k.location,s,r&&r.state);u={...u,...e.history.encodeLocation(u)};let d=r&&null!=r.replace?r.replace:void 0,h="PUSH";!0===d?h="REPLACE":!1===d||null!=a&&An(a.formMethod)&&a.formAction===k.location.pathname+k.location.search&&(h="REPLACE");let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,p=!0===(r&&r.flushSync),m=oe({currentLocation:l,nextLocation:u,historyAction:h});m?ae(m,{state:"blocked",location:u,proceed(){ae(m,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(n,r)},reset(){let e=new Map(k.blockers);e.set(m,Ft),z({blockers:e})}}):await H(h,u,{submission:a,pendingError:o,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:p})},fetch:async function(t,n,i,s){te(t);let a=!0===(s&&s.flushSync),o=r||l,u=$t(k.location,k.matches,c,i,n,s?.relative),d=nt(o,u,c),h=de(d,o,u);if(h.active&&h.matches&&(d=h.matches),!d)return void Z(t,n,vn(404,{pathname:u}),{flushSync:a});let{path:f,submission:p,error:m}=qt(!0,u,s);if(m)return void Z(t,n,m,{flushSync:a});let g=Tn(d,f),v=new Je(e.unstable_getContext?await e.unstable_getContext():void 0),y=!0===(s&&s.preventScrollReset);p&&An(p.formMethod)?await async function(t,n,i,s,a,o,u,d,h,f){function p(e){if(!e.route.action&&!e.route.lazy){let e=vn(405,{method:f.formMethod,pathname:i,routeId:n});return Z(t,n,e,{flushSync:d}),!0}return!1}if(Y(),F.delete(t),!u&&p(s))return;let m=k.fetchers.get(t);Q(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(f,m),{flushSync:d});let g=new AbortController,v=ln(e.history,i,g.signal,f);if(u){let e=await he(a,i,v.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Z(t,n,e.error,{flushSync:d});if(!e.matches)return void Z(t,n,vn(404,{pathname:i}),{flushSync:d});if(p(s=Tn(a=e.matches,i)))return}R.set(t,g);let y=j,b=await G("action",v,[s],a,o,t),x=b[s.route.id];if(v.signal.aborted)return void(R.get(t)===g&&R.delete(t));if(U.has(t)){if(_n(x)||wn(x))return void Q(t,Rn(void 0))}else{if(_n(x))return R.delete(t),D>y?void Q(t,Rn(void 0)):(M.add(t),Q(t,In(f)),K(v,x,!1,{fetcherSubmission:f,preventScrollReset:h}));if(wn(x))return void Z(t,n,x.error)}let _=k.navigation.location||k.location,E=ln(e.history,_,g.signal),A=r||l,C="idle"!==k.navigation.state?nt(A,k.navigation.location,c):k.matches;We(C,"Didn't find any matches after fetcher action");let T=++j;O.set(t,T);let N=In(f,x.data);k.fetchers.set(t,N);let[L,V]=Wt(e.history,k,C,f,_,!1,P,I,U,F,M,A,c,[s.route.id,x]);V.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=k.fetchers.get(t),r=In(void 0,n?n.data:void 0);k.fetchers.set(t,r),te(t),e.controller&&R.set(t,e.controller)})),z({fetchers:new Map(k.fetchers)});let B=()=>V.forEach((e=>te(e.key)));g.signal.addEventListener("abort",B);let{loaderResults:$,fetcherResults:H}=await X(C,L,V,E,o);if(g.signal.aborted)return;g.signal.removeEventListener("abort",B),O.delete(t),R.delete(t),V.forEach((e=>R.delete(e.key)));let W=yn($);if(W)return K(E,W.result,!1,{preventScrollReset:h});if(W=yn(H),W)return M.add(W.key),K(E,W.result,!1,{preventScrollReset:h});let{loaderData:J,errors:ee}=hn(k,C,$,void 0,V,H);if(k.fetchers.has(t)){let e=Rn(x.data);k.fetchers.set(t,e)}ie(T),"loading"===k.navigation.state&&T>D?(We(S,"Expected pending action"),w&&w.abort(),q(k.navigation.location,{matches:C,loaderData:J,errors:ee,fetchers:new Map(k.fetchers)})):(z({errors:ee,loaderData:fn(k.loaderData,J,C,ee),fetchers:new Map(k.fetchers)}),P=!1)}(t,n,f,g,d,v,h.active,a,y,p):(F.set(t,{routeId:n,path:f}),await async function(t,n,r,i,s,a,o,l,c,u){let d=k.fetchers.get(t);Q(t,In(u,d?d.data:void 0),{flushSync:l});let h=new AbortController,f=ln(e.history,r,h.signal);if(o){let e=await he(s,r,f.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Z(t,n,e.error,{flushSync:l});if(!e.matches)return void Z(t,n,vn(404,{pathname:r}),{flushSync:l});i=Tn(s=e.matches,r)}R.set(t,h);let p=j,m=await G("loader",f,[i],s,a,t),g=m[i.route.id];R.get(t)===h&&R.delete(t);if(f.signal.aborted)return;if(U.has(t))return void Q(t,Rn(void 0));if(_n(g))return D>p?void Q(t,Rn(void 0)):(M.add(t),void await K(f,g,!1,{preventScrollReset:c}));if(wn(g))return void Z(t,n,g.error);Q(t,Rn(g.data))}(t,n,f,g,d,v,h.active,a,y,p))},revalidate:function(){B||(B=function(){let e,t,n=new Promise(((r,i)=>{e=async e=>{r(e);try{await n}catch($){}},t=async e=>{i(e);try{await n}catch($){}}}));return{promise:n,resolve:e,reject:t}}()),Y(),z({revalidation:"loading"});let e=B.promise;return"submitting"===k.navigation.state?e:"idle"===k.navigation.state?(H(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),e):(H(S||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:!0===A}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:J,deleteFetcher:function(e){let t=(L.get(e)||0)-1;t<=0?(L.delete(e),U.add(e)):L.set(e,t),z({fetchers:new Map(k.fetchers)})},dispose:function(){h&&h(),T&&T(),f.clear(),w&&w.abort(),k.fetchers.forEach(((e,t)=>ee(t))),k.blockers.forEach(((e,t)=>se(t)))},getBlocker:function(e,t){let n=k.blockers.get(e)||Ft;return V.get(e)!==t&&V.set(e,t),n},deleteBlocker:se,patchRoutes:function(e,t){let n=null==r;Yt(e,t,r||l,o,a),n&&(l=[...l],z({}))},_internalFetchControllers:R,_internalSetRoutes:function(e){o={},r=tt(e,a,void 0,o)}},s}function $t(e,t,n,r,i,s){let a,o;if(i){a=[];for(let e of t)if(a.push(e),e.route.id===i){o=e;break}}else a=t,o=t[t.length-1];let l=_t(r||".",wt(a),yt(e.pathname,n)||e.pathname,"path"===s);if(null==r&&(l.search=e.search,l.hash=e.hash),(null==r||""===r||"."===r)&&o){let e=Cn(l.search);if(o.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();l.search=n?`?${n}`:""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:kt([n,l.pathname])),Ye(l)}function qt(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!En(n.formMethod))return{path:t,error:vn(405,{method:n.formMethod})};let r,i,s=()=>({path:t,error:vn(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),o=bn(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!An(a))return s();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r}\n`}),""):String(n.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!An(a))return s();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch($){return s()}}}if(We("function"===typeof FormData,"FormData is not available in this environment"),n.formData)r=cn(n.formData),i=n.formData;else if(n.body instanceof FormData)r=cn(n.body),i=n.body;else if(n.body instanceof URLSearchParams)r=n.body,i=un(r);else if(null==n.body)r=new URLSearchParams,i=new FormData;else try{r=new URLSearchParams(n.body),i=un(r)}catch($){return s()}let l={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(An(l.formMethod))return{path:t,submission:l};let c=Qe(t);return e&&c.search&&Cn(c.search)&&r.append("index",""),c.search=`?${r}`,{path:Ye(c),submission:l}}function Ht(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.findIndex((e=>e.route.id===t));return r>=0?e.slice(0,n?r+1:r):e}function Wt(e,t,n,r,i,s,a,o,l,c,u,d,h,f){let p=f?wn(f[1])?f[1].error:f[1].data:void 0,m=e.createURL(t.location),g=e.createURL(i),v=n;s&&t.errors?v=Ht(n,Object.keys(t.errors)[0],!0):f&&wn(f[1])&&(v=Ht(n,f[0]));let y=f?f[1].statusCode:void 0,b=y&&y>=400,x=v.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return Kt(i,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}(t.loaderData,t.matches[n],e))return!0;let o=t.matches[n],l=e;return Xt(e,{currentUrl:m,currentParams:o.params,nextUrl:g,nextParams:l.params,...r,actionResult:p,actionStatus:y,defaultShouldRevalidate:!b&&(a||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||Gt(o,l))})})),w=[];return c.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||l.has(i))return;let c=nt(d,e.path,h);if(!c)return void w.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let f=t.fetchers.get(i),v=Tn(c,e.path),x=!1;u.has(i)?x=!1:o.has(i)?(o.delete(i),x=!0):x=f&&"idle"!==f.state&&void 0===f.data?a:Xt(v,{currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params,...r,actionResult:p,actionStatus:y,defaultShouldRevalidate:!b&&a}),x&&w.push({key:i,routeId:e.routeId,path:e.path,matches:c,match:v,controller:new AbortController})})),[x,w]}function Kt(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function Gt(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xt(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Yt(e,t,n,r,i){let s;if(e){let t=r[e];We(t,`No route found to patch children into: routeId = ${e}`),t.children||(t.children=[]),s=t.children}else s=n;let a=tt(t.filter((e=>!s.some((t=>Qt(e,t))))),i,[e||"_","patch",String(s?.length||"0")],r);s.push(...a)}function Qt(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,n)=>t.children?.some((t=>Qt(e,t))))))}async function Zt(e){let t=e.matches.filter((e=>e.shouldLoad)),n={},r=await Promise.all(t.map((e=>e.resolve())));return r.forEach(((e,r)=>{n[t[r].route.id]=e})),n}async function Jt(e){return e.matches.some((e=>e.route.unstable_middleware))?en(e,!1,(()=>Zt(e)),(e=>({[e.routeId]:{type:"error",result:e.error}}))):Zt(e)}async function en(e,t,n,r){let{matches:i,request:s,params:a,context:o}=e,l={handlerResult:void 0,propagateResult:t};try{let e=i.flatMap((e=>e.route.unstable_middleware?e.route.unstable_middleware.map((t=>[e.route.id,t])):[])),t=await nn({request:s,params:a,context:o},e,l,n);return l.propagateResult?t:l.handlerResult}catch($){if(!($ instanceof tn))throw $;let n=await r($);return t||!l.handlerResult?n:Object.assign(l.handlerResult,n)}}var tn=class{constructor(e,t){this.routeId=e,this.error=t}};async function nn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,{request:s}=e;if(s.signal.aborted){if(s.signal.reason)throw s.signal.reason;throw new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`)}let a=t[i];if(!a)return n.handlerResult=await r(),n.handlerResult;let o,[l,c]=a,u=!1,d=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");u=!0;let s=await nn(e,t,n,r,i+1);if(n.propagateResult)return o=s,o};try{let t=await c({request:e.request,params:e.params,context:e.context},d);return u?void 0===t?o:t:d()}catch($){if($ instanceof tn)throw $;throw new tn(l,$)}}async function rn(e,t,n,r,i,s,a,o,l,c){let u=i.map((e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];We(i,"No route found in manifest");let s={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;Ke(!e,`Route "${i.id}" has a static property "${a}" defined but its lazy function is also returning a value for this property. The lazy route property "${a}" will be ignored.`),e||et.has(a)||(s[a]=r[a])}Object.assign(i,s),Object.assign(i,{...t(i),lazy:void 0})}(e.route,o,a):void 0));c&&await Promise.all(u);let d=i.map(((e,i)=>{let s=u[i],a=r.some((t=>t.route.id===e.route.id));return{...e,shouldLoad:a,resolve:async r=>(r&&"GET"===n.method&&(e.route.lazy||e.route.loader)&&(a=!0),a?async function(e,t,n,r,i,s){let a,o,l=r=>{let a,l=new Promise(((e,t)=>a=t));o=()=>a(),t.signal.addEventListener("abort",o);let c=i=>"function"!==typeof r?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${n.route.id}]`)):r({request:t,params:n.params,context:s},...void 0!==i?[i]:[]),u=(async()=>{try{return{type:"data",result:await(i?i((e=>c(e))):c())}}catch($){return{type:"error",result:$}}})();return Promise.race([u,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch((t=>{e=t})),r]);if(void 0!==e)throw e;a=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw vn(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:"data",result:void 0}}a=await l(i)}else{if(!i){let e=new URL(t.url);throw vn(404,{pathname:e.pathname+e.search})}a=await l(i)}}catch($){return{type:"error",result:$}}finally{o&&t.signal.removeEventListener("abort",o)}return a}(t,n,e,s,r,l):Promise.resolve({type:"data",result:void 0}))}})),h=await e({matches:d,request:n,params:i[0].params,fetcherKey:s,context:l});try{await Promise.all(u)}catch($){}return h}async function sn(e){let{result:t,type:n}=e;if(Sn(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch($){return{type:"error",error:$}}return"error"===n?{type:"error",error:new Ct(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}return"error"===n?kn(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ct(t.init?.status||500,void 0,t.data),statusCode:Tt(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Tt(t)?t.status:void 0}:kn(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function an(e,t,n,r,i){let s=e.headers.get("Location");if(We(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lt.test(s)){let a=r.slice(0,r.findIndex((e=>e.route.id===n))+1);s=$t(new URL(t.url),a,i,s),e.headers.set("Location",s)}return e}function on(e,t,n){if(Lt.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=null!=yt(i.pathname,n);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function ln(e,t,n,r){let i=e.createURL(bn(t)).toString(),s={signal:n};if(r&&An(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=cn(r.formData):s.body=r.formData}return new Request(i,s)}function cn(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function un(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function dn(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={},o=null,l=!1,c={},u=n&&wn(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let d=n.route.id,h=t[d];if(We(!_n(h),"Cannot handle redirect results in processLoaderData"),wn(h)){let t=h.error;if(void 0!==u&&(t=u,u=void 0),o=o||{},s)o[d]=t;else{let n=mn(e,d);null==o[n.route.id]&&(o[n.route.id]=t)}i||(a[d]=Bt),l||(l=!0,r=Tt(h.error)?h.error.status:500),h.headers&&(c[d]=h.headers)}else a[d]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(r=h.statusCode),h.headers&&(c[d]=h.headers)})),void 0!==u&&n&&(o={[n[0]]:u},a[n[0]]=void 0),{loaderData:a,errors:o,statusCode:r||200,loaderHeaders:c}}function hn(e,t,n,r,i,s){let{loaderData:a,errors:o}=dn(t,n,r);return i.forEach((t=>{let{key:n,match:r,controller:i}=t,a=s[n];if(We(a,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(wn(a)){let t=mn(e.matches,r?.route.id);o&&o[t.route.id]||(o={...o,[t.route.id]:a.error}),e.fetchers.delete(n)}else if(_n(a))We(!1,"Unhandled fetcher revalidation redirect");else{let t=Rn(a.data);e.fetchers.set(n,t)}})),{loaderData:a,errors:o}}function fn(e,t,n,r){let i=Object.entries(t).filter((e=>{let[,t]=e;return t!==Bt})).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{});for(let s of n){let n=s.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function pn(e){return e?wn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function mn(e,t){let n=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return n.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function gn(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vn(e){let{pathname:t,routeId:n,method:r,type:i,message:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(a="Bad Request",r&&t&&n?o=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:"invalid-body"===i&&(o="Unable to encode submission body")):403===e?(a="Forbidden",o=`Route "${n}" does not match URL "${t}"`):404===e?(a="Not Found",o=`No route matches URL "${t}"`):405===e&&(a="Method Not Allowed",r&&t&&n?o=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new Ct(e||500,a,new Error(o),!0)}function yn(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(_n(r))return{key:e,result:r}}}function bn(e){return Ye({..."string"===typeof e?Qe(e):e,hash:""})}function xn(e){return Sn(e.result)&&jt.has(e.result.status)}function wn(e){return"error"===e.type}function _n(e){return"redirect"===(e&&e.type)}function kn(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Sn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function En(e){return Rt.has(e.toUpperCase())}function An(e){return Pt.has(e.toUpperCase())}function Cn(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Tn(e,t){let n="string"===typeof t?Qe(t).search:t.search;if(e[e.length-1].route.index&&Cn(n||""))return e[e.length-1];let r=xt(e);return r[r.length-1]}function Nn(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function Pn(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function In(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Rn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var jn=e.createContext(null);jn.displayName="DataRouter";var Dn=e.createContext(null);Dn.displayName="DataRouterState";var On=e.createContext({isTransitioning:!1});On.displayName="ViewTransition";var Mn=e.createContext(new Map);Mn.displayName="Fetchers";var Fn=e.createContext(null);Fn.displayName="Await";var Ln=e.createContext(null);Ln.displayName="Navigation";var Un=e.createContext(null);Un.displayName="Location";var Vn=e.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Bn=e.createContext(null);Bn.displayName="RouteError";function zn(){return null!=e.useContext(Un)}function $n(){return We(zn(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(Un).location}var qn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hn(t){e.useContext(Ln).static||e.useLayoutEffect(t)}function Wn(){let{isDataRoute:t}=e.useContext(Vn);return t?function(){let{router:t}=nr("useNavigate"),n=ir("useNavigate"),r=e.useRef(!1);Hn((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ke(r.current,qn),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){We(zn(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(jn),{basename:n,navigator:r}=e.useContext(Ln),{matches:i}=e.useContext(Vn),{pathname:s}=$n(),a=JSON.stringify(wt(i)),o=e.useRef(!1);Hn((()=>{o.current=!0}));let l=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ke(o.current,qn),!o.current)return;if("number"===typeof e)return void r.go(e);let l=_t(e,JSON.parse(a),s,"path"===i.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:kt([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,a,s,t]);return l}()}var Kn=e.createContext(null);function Gn(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(Vn),{pathname:i}=$n(),s=JSON.stringify(wt(r));return e.useMemo((()=>_t(t,JSON.parse(s),i,"path"===n)),[t,s,i,n])}function Xn(t,n,r,i){We(zn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=e.useContext(Ln),{matches:o}=e.useContext(Vn),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";or(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,p=$n();if(n){let e="string"===typeof n?Qe(n):n;We("/"===d||e.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=p;let m=f.pathname||"/",g=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!a&&r&&r.matches&&r.matches.length>0?r.matches:nt(t,{pathname:g});Ke(h||null!=v,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ke(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=er(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:kt([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:kt([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&y?e.createElement(Un.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function Yn(){let t=sr(),n=Tt(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,o)}var Qn=e.createElement(Yn,null),Zn=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Vn.Provider,{value:this.props.routeContext},e.createElement(Bn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jn(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(jn);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Vn.Provider,{value:n},i)}function er(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));We(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,o=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){a=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight(((t,l,c)=>{let u,d=!1,h=null,f=null;r&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||Qn,a&&(o<0&&0===c?(or("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(Jn,{match:l,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(Zn,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function tr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nr(t){let n=e.useContext(jn);return We(n,tr(t)),n}function rr(t){let n=e.useContext(Dn);return We(n,tr(t)),n}function ir(t){let n=function(t){let n=e.useContext(Vn);return We(n,tr(t)),n}(t),r=n.matches[n.matches.length-1];return We(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function sr(){let t=e.useContext(Bn),n=rr("useRouteError"),r=ir("useRouteError");return void 0!==t?t:n.errors?.[r]}var ar={};function or(e,t,n){t||ar[e]||(ar[e]=!0,Ke(!1,n))}var lr={};function cr(e,t){e||lr[t]||(lr[t]=!0,console.warn(t))}function ur(t){let n={hasErrorBoundary:t.hasErrorBoundary||null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&(t.element&&Ke(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(n,{element:e.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Ke(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(n,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Ke(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),n}var dr=class{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}};function hr(t){let{router:n,flushSync:r}=t,[i,s]=e.useState(n.state),[a,o]=e.useState(),[l,c]=e.useState({isTransitioning:!1}),[u,d]=e.useState(),[h,f]=e.useState(),[p,m]=e.useState(),g=e.useRef(new Map),v=e.useCallback(((t,i)=>{let{deletedFetchers:a,flushSync:l,viewTransitionOpts:p}=i;t.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),a.forEach((e=>g.current.delete(e))),cr(!1===l||null!=r,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let v=null!=n.window&&null!=n.window.document&&"function"===typeof n.window.document.startViewTransition;if(cr(null==p||v,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),p&&v){if(r&&l){r((()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:p.currentLocation,nextLocation:p.nextLocation})}));let e=n.window.document.startViewTransition((()=>{r((()=>s(t)))}));return e.finished.finally((()=>{r((()=>{d(void 0),f(void 0),o(void 0),c({isTransitioning:!1})}))})),void r((()=>f(e)))}h?(u&&u.resolve(),h.skipTransition(),m({state:t,currentLocation:p.currentLocation,nextLocation:p.nextLocation})):(o(t),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}))}else r&&l?r((()=>s(t))):e.startTransition((()=>s(t)))}),[n.window,r,h,u]);e.useLayoutEffect((()=>n.subscribe(v)),[n,v]),e.useEffect((()=>{l.isTransitioning&&!l.flushSync&&d(new dr)}),[l]),e.useEffect((()=>{if(u&&a&&n.window){let t=a,r=u.promise,i=n.window.document.startViewTransition((async()=>{e.startTransition((()=>s(t))),await r}));i.finished.finally((()=>{d(void 0),f(void 0),o(void 0),c({isTransitioning:!1})})),f(i)}}),[a,u,n.window]),e.useEffect((()=>{u&&a&&i.location.key===a.location.key&&u.resolve()}),[u,h,i.location,a]),e.useEffect((()=>{!l.isTransitioning&&p&&(o(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))}),[l.isTransitioning,p]);let y=e.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:r?.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:r?.preventScrollReset})})),[n]),b=n.basename||"/",x=e.useMemo((()=>({router:n,navigator:y,static:!1,basename:b})),[n,y,b]);return e.createElement(e.Fragment,null,e.createElement(jn.Provider,{value:x},e.createElement(Dn.Provider,{value:i},e.createElement(Mn.Provider,{value:g.current},e.createElement(On.Provider,{value:l},e.createElement(gr,{basename:b,location:i.location,navigationType:i.historyAction,navigator:y},e.createElement(fr,{routes:n.routes,future:n.future,state:i})))))),null)}var fr=e.memo((function(e){let{routes:t,future:n,state:r}=e;return Xn(t,void 0,r,n)}));function pr(t){let{to:n,replace:r,state:i,relative:s}=t;We(zn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=e.useContext(Ln);Ke(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=e.useContext(Vn),{pathname:l}=$n(),c=Wn(),u=_t(n,wt(o),l,"path"===s),d=JSON.stringify(u);return e.useEffect((()=>{c(JSON.parse(d),{replace:r,state:i,relative:s})}),[c,d,s,r,i]),null}function mr(t){return function(t){let n=e.useContext(Vn).outlet;return n?e.createElement(Kn.Provider,{value:t},n):n}(t.context)}function gr(t){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:a,static:o=!1}=t;We(!zn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:l,navigator:a,static:o,future:{}})),[l,a,o]);"string"===typeof i&&(i=Qe(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=e.useMemo((()=>{let e=yt(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}}),[l,u,d,h,f,p,s]);return Ke(null!=m,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:e.createElement(Ln.Provider,{value:c},e.createElement(Un.Provider,{children:r,value:m}))}e.Component;var vr="get",yr="application/x-www-form-urlencoded";function br(e){return null!=e&&"string"===typeof e.tagName}var xr=null;var wr=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _r(e){return null==e||wr.has(e)?e:(Ke(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yr}"`),null)}function kr(e,t){let n,r,i,s,a;if(br(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?yt(a,t):null,n=e.getAttribute("method")||vr,i=_r(e.getAttribute("enctype"))||yr,s=new FormData(e)}else if(function(e){return br(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return br(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?yt(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||vr,i=_r(e.getAttribute("formenctype"))||_r(a.getAttribute("enctype"))||yr,s=new FormData(a,e),!function(){if(null===xr)try{new FormData(document.createElement("form"),0),xr=!1}catch($){xr=!0}return xr}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(br(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vr,r=null,i=yr,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Sr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Er(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ar(e){return null!=e&&"string"===typeof e.page}function Cr(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Tr(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Nr(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Pr(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ar(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Ir(e){return{__html:e}}Symbol("SingleFetchRedirect");function Rr(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===yt(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function jr(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Tt(n))return e.createElement(Dr,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)i=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);i=new Error(e)}return e.createElement(Dr,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Dr(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=t,{routeModules:a}=Ur();return a.root?.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?e.createElement(Wr,null):null)))}function Or(e){return!0===e}function Mr(){let t=e.useContext(jn);return Sr(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fr(){let t=e.useContext(Dn);return Sr(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lr=e.createContext(void 0);function Ur(){let t=e.useContext(Lr);return Sr(t,"You must render this element inside a <HydratedRouter> element"),t}function Vr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Br(e,t,n){if(n&&!Hr)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function zr(t){let{page:n,...r}=t,{router:i}=Mr(),s=e.useMemo((()=>nt(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?e.createElement(qr,{page:n,matches:s,...r}):null}function $r(t){let{manifest:n,routeModules:r}=Ur(),[i,s]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Pr((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Er(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Cr).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||s(t)})),()=>{e=!0}}),[t,n,r]),i}function qr(t){let{page:n,matches:r,...i}=t,s=$n(),{manifest:a,routeModules:o}=Ur(),{basename:l}=Mr(),{loaderData:c,matches:u}=Fr(),d=e.useMemo((()=>Tr(n,r,u,a,s,"data")),[n,r,u,a,s]),h=e.useMemo((()=>Tr(n,r,u,a,s,"assets")),[n,r,u,a,s]),f=e.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Rr(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,s,a,d,r,n,o]),p=e.useMemo((()=>Nr(h,a)),[h,a]),m=$r(h);return e.createElement(e.Fragment,null,f.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),p.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),m.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Lr.displayName="FrameworkContext";var Hr=!1;function Wr(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:s,renderMeta:a}=Ur(),{router:o,static:l,staticContext:c}=Mr(),{matches:u}=Fr(),d=Or(s);a&&(a.didRenderScripts=!0);let h=Br(u,null,i);e.useEffect((()=>{Hr=!0}),[]);let f=e.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Sr(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,hydrateFallbackModule:o,module:l}=i,c=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=nt(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ir(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ir(s),type:"module",async:!0}))}),[]),p=Hr?[]:n.entry.imports.concat(Nr(h,n,{includeHydrateFallback:!0}));return Hr?null:e.createElement(e.Fragment,null,d?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin}),(m=p,[...new Set(m)]).map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin}))),f);var m}function Kr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Gr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Gr&&(window.__reactRouterVersion="7.3.0")}catch($){}function Xr(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Yr(e.errors)}),e}function Yr(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new Ct(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch($){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}var Qr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=e.forwardRef((function(t,n){let r,{onClick:i,discover:s="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:u,target:d,to:h,preventScrollReset:f,viewTransition:p,...m}=t,{basename:g}=e.useContext(Ln),v="string"===typeof h&&Qr.test(h),y=!1;if("string"===typeof h&&v&&(r=h,Gr))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=yt(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch($){Ke(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};We(zn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(Ln),{hash:s,pathname:a,search:o}=Gn(t,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:kt([r,a])),i.createHref({pathname:l,search:o,hash:s})}(h,{relative:o}),[x,w,_]=function(t,n){let r=e.useContext(Lr),[i,s]=e.useState(!1),[a,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:Vr(l,p),onBlur:Vr(c,m),onMouseEnter:Vr(u,p),onMouseLeave:Vr(d,m),onTouchStart:Vr(h,p)}]:[!1,f,{}]}(a,m),k=function(t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Wn(),c=$n(),u=Gn(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:Ye(c)===Ye(u);l(t,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,u,r,i,n,t,s,a,o])}(h,{replace:c,state:u,target:d,preventScrollReset:f,relative:o,viewTransition:p});let S=e.createElement("a",{...m,..._,href:r||b,onClick:y||l?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:Kr(n,w),target:d,"data-discover":v||"render"!==s?void 0:"true"});return x&&!v?e.createElement(e.Fragment,null,S,e.createElement(zr,{page:b})):S}));Zr.displayName="Link";var Jr=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:u,...d}=t,h=Gn(l,{relative:d.relative}),f=$n(),p=e.useContext(Dn),{navigator:m,basename:g}=e.useContext(Ln),v=null!=p&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(On);We(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ni("useViewTransitionState"),s=Gn(t,{relative:n.relative});if(!r.isTransitioning)return!1;let a=yt(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=yt(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=gt(s.pathname,o)||null!=gt(s.pathname,a)}(h)&&!0===c,y=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(b=b.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&g&&(x=yt(x,g)||x);const w="/"!==y&&y.endsWith("/")?y.length-1:y.length;let _,k=b===y||!a&&b.startsWith(y)&&"/"===b.charAt(w),S=null!=x&&(x===y||!a&&x.startsWith(y)&&"/"===x.charAt(y.length)),E={isActive:k,isPending:S,isTransitioning:v},A=k?r:void 0;_="function"===typeof s?s(E):[s,k?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof o?o(E):o;return e.createElement(Zr,{...d,"aria-current":A,className:_,ref:n,style:C,to:l,viewTransition:c},"function"===typeof u?u(E):u)}));Jr.displayName="NavLink";var ei=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:o,state:l,method:c=vr,action:u,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:p,...m}=t,g=si(),v=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(Ln),i=e.useContext(Vn);We(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Gn(t||".",{relative:n})},o=$n();if(null==t){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:kt([r,a.pathname]));return Ye(a)}(u,{relative:h}),y="get"===c.toLowerCase()?"get":"post",b="string"===typeof u&&Qr.test(u);return e.createElement("form",{ref:n,method:y,action:v,onSubmit:a?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;g(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:o,state:l,relative:h,preventScrollReset:f,viewTransition:p})},...m,"data-discover":b||"render"!==r?void 0:"true"})}));function ti(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ni(t){let n=e.useContext(jn);return We(n,ti(t)),n}ei.displayName="Form";var ri=0,ii=()=>`__${String(++ri)}__`;function si(){let{router:t}=ni("useSubmit"),{basename:n}=e.useContext(Ln),r=ir("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=kr(e,n);if(!1===i.navigate){let e=i.fetcherKey||ii();await t.fetch(e,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;var ai=__webpack_require__(950);function oi(t){return e.createElement(hr,{flushSync:ai.flushSync,...t})}const li=()=>(0,V.jsx)("div",{className:"justify-center items-center h-full w-full fixed block top-0 left-0 bg-white opacity-75",style:{zIndex:999},children:(0,V.jsx)("span",{className:"text-green-500 opacity-100 top-1/2 my-0 mx-auto block relative w-0 h-0",style:{top:"50%"},children:(0,V.jsx)("div",{className:"animate-spin rounded-full h-10 w-10"})})});const ci=__webpack_require__.p+"static/media/Ic_logo.f93094d3ad1c627dec4331dcfdf84527.svg";const ui=__webpack_require__.p+"static/media/Ic_Avatar.7f224348ed2d1d9a1729461703c2e2f3.svg",di=()=>{const e=$n().pathname;return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"px-6 py-4 flex items-center border-b border-gray2 justify-between sticky top-0 bg-white",style:{zIndex:999},children:[(0,V.jsx)(Zr,{to:"/",children:(0,V.jsx)("img",{src:ci,alt:"logo"})}),(0,V.jsxs)("div",{className:"flex items-center gap-1",children:[(0,V.jsx)(Zr,{to:"/Husmodell",className:"text-base font-medium py-2 px-3 rounded-[6px] "+("/Husmodell"===e||e.startsWith("/se-husmodell/")||"/add-husmodell"===e||e.startsWith("/edit-husmodell/")?"bg-lightPurple text-primary":"text-black"),children:"Boligkonfigurator"}),(0,V.jsx)(Zr,{to:"/Inventory",className:"text-base font-medium py-2 px-3 rounded-[6px] "+("/Inventory"===e?"bg-lightPurple text-primary":"text-black"),children:"Romkonfigurator"})]}),(0,V.jsx)("div",{className:"flex items-center gap-4 relative",children:(0,V.jsx)("div",{className:"flex items-center gap-2",children:(0,V.jsx)("div",{className:"h-[40px] w-[40px]",children:(0,V.jsx)("img",{src:ui,alt:"profile",className:"rounded-full"})})})})]})})},hi=()=>{const{pathname:t}=$n();return(0,e.useEffect)((()=>{window.scrollTo(0,0)}),[t]),null},fi=()=>(0,V.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,V.jsx)(hi,{}),(0,V.jsx)(di,{}),(0,V.jsx)("main",{className:"",children:(0,V.jsx)(e.Suspense,{fallback:(0,V.jsx)(li,{}),children:(0,V.jsx)(mr,{})})})]}),pi=t=>{let{onClose:n,children:r,isOpen:i}=t;const s=(0,e.useRef)(null);return(0,e.useEffect)((()=>{var e,t;i?(null===(e=document.body)||void 0===e||e.classList.add("h-screen"),document.body.style.overflow="hidden"):(null===(t=document.body)||void 0===t||t.classList.remove("h-screen"),document.body.style.overflow="");return()=>{var e;null===(e=document.body)||void 0===e||e.classList.remove("h-screen"),document.body.style.overflow=""}}),[i]),(0,e.useEffect)((()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n]),(0,V.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:99999},children:(0,V.jsx)("div",{className:"bg-white rounded-[12px] relative mx-[16px]",ref:s,children:(0,V.jsx)("div",{children:r})})})};const mi=__webpack_require__.p+"static/media/Ic_trash.470840ab3fb61eb8b0c47fe0899784ba.svg",gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAABqCAYAAACSyJJrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkVSURBVHgB7Z19bBPnHce/z9lJ7CQwu+SFCDYMTJo0rSX0rwJTOV5CtwpGyjoJbaOko5UWaVrSaZumMS2O1v2xaRNEnVZpHUo8NrE/KpFIqOsEK+YPqnabVMNQpVWlOVArO29gyBvEvnv6PBecOC8UOzmbO9/vI50uz/lJ4vi++T2/t7sDCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCGLJ7N4bD4utAy7HC8Lka83xUFpHWzqFzXA5CggTXUcHN9AbfbNBg8shSzGLKoSxAwRZConwI1TOoc23Ek374i2q2h+Ay3ClKNTmBSd6OziPzZ/HgWPw+UgUbsCb9p9vevrjxjkHGUtmD6XjKXyMpBt9DFeKgnEe0H3KzZmxwpKcIQTCxJ0+hYKoZ0ppzgxTSkVECKU52394s3faQkh/Ay7DlaIQTmVEmIv2jAiivcEk56zXW+1rmzevU+xcl8xypSjOnWmIymijrNp/OHNMhKOdYgmZE2289UZDj9y7zVq4NiTlMLrEpmbG0qFkWGgtBK6zFq4VBYMiog02N9zkvA+cNWcf8nqhCasSgotws6VYkH9Ie30xMCOUfUyHHhAWJAkX4VpRKEzZLyxAT/axMoyHhMM5VwC6p1EIRYOLcKUoZGLKMMxax4U5LwgBMDY3symEc1hGJnARDCXOUJyriiLS2Fkc/fVIy/Ytldqenf5o9vGDLyRaXjy0Mrpre6Umx6+dvB26dOVuyx9+UxuGDeFpXKpZY71gS1oUQwN6WPgDOUUOkVOjItMNPHdwxcyxV0/cwtf3VCL0+TLYFcbY8VV17CVYSMmKYjjOW6Dw7lzmXrg4iX+cncQvfxpEZaXzPhIh/PCqetYJiyhZUdwY4KcN8OZc5k5McHPvREGYcERrViuW9YJQkw0cLIZ7iEyspeX9ko0+uIIYXAIDt/RvLVlRKF50iZ2G0kdLGYpl/oTEdstHPM5DsIBvHUqE1q7xahtD3hAKjIxOtm/z338ZYkgyDsuzoobIn6Q5uhoamAYLsY0oBhN6u0dhHZzzZa+P2vUUVtd7cPDZKhSDt9+9g/+8d9eMXhaFIyASYDEPx/NBi09gIbCFh5VP+JgLr/eNwV/F8Ny3q1EMxsYNfPd7wzjxSu1nzhMftqZMsM3B9faupdjCp2Ae3oYCoRu5bQbP/WeOjXNc/Sg9M66uUjA+YTzw+8SvCBl+HIbNsYUoRH2hEQUgj/OcF1c/SuHVP9/GkrA4fCwE9og+GGxtTq1E5BQ02BxbiMIwuKUhlY3RUvMrszbEFqKoW+05zhQWRmmjGYw90+CA6MM2IemqWtYpchQRnxfrsBTEWq3rELUOEcnYj6RYNzSF49hw4sGeDhPZWEVH12Lhq2wFEK9LZzXgYegN1rEILMZWyat7/0Ualk7f8ADvE/vTsBcBMK7mOlk43qquoH34E/5Mdr/E8KB+XLw4E6npHM0jA0bY6jC3JApiu/Z+0sygtAlr0XjwSML07n/S/jk4Hi/vvtnPo/KESwuRLYgMZphbCXncMr/M0aJoah5s5Ol096ZHKxqbdvrx1S0+VFXN5uMKFZIWkUCqzOwkjykeyJ7SRbnXIkCikNahys+7W48EAnt2+VGqlFWg6CbPkaKQjbc+v9L9u5eDgY0bZlvlLv1vCokB3fx602PlqK/zwOFowVpmhrCGjj7hYLYvNklhLAoLcaQoRJRxvvXIihlBfCgzjK+N4vKVVGzTo+WBW0kjNDCo41CBah8bN3jR+sIKFBo9Pdt7WdvAoiNDPMwNHs6eI1aU2Og4nFs6F05TIO1bXkr7V7+9oZb5EMosGdIydLycxJNb/dGjP3pEE1XWFlkQKySy1lG9YRkpnukM7n0bY7jBYlxBpH4NmzNHhu2DcX5NUfh+88cICyEEEVlvcYGtaKKQndU6eMeyy7Ii2D/wjVkL8OOf38A391XJfgaV8+K4llKIl65M4al8fRlTDKy9Zhm5hboG1iN2PSggRclojiT09lxb7T8LWYm8/rGOrU9UmON/npvEqqDHbHApJnJpOvuvSeRLSmebawqQbLKa4qS5GbOkNH7tetpczzO8/c4dIQgfnAHvcUKKW1IUUcgECyxgfNIw1/MMsq+htqb4EYbMhWRHPbkgkmsaHEJRRMGYNZ3VE0IE2cmph8UXhSDyjT6Ev6PCIRRFFLrOumAB677gxdX+2Y4n2Yc5NKzDETCow4Pc9l1XkqKIQnrMhsGexzJb7uVSMTAwK4LHvlKOCxfvwDFw3jMU18OwOUULSTOh1M2bfGmlccHKco9sku0RmUtVJKmwbUsF/npqDO//fwpf/lI5nABTWMfIoNEmcxEeBT1BG0YjRc9oBoPsGpbBzqfjkZOnxoQoHjGdzvDRgJm8OjCdq4ATEOkUs5QuSt+qsBzraxs8YdgIx10hJu9YF7s8pV185645llFA5y8COH1mHD8Lj+Avp0bx3/em4BSk5ZCZXtgIR142uOtJ30t//NNtJAan/QspjJMnavGD1pVYF/Lg2QOVeGq3cyqnehX2w0Y4siDW+p2A9ta/J9D6wxF8/8UVM+lm6WfILYNT+ik8NuvwdqQogmtZbHjA0ESIGvr9K7dwWZTMtz7hMwVRbYM8Rp7MlMftgmNvzCAvRC5T+HnxZUjeiUaGpjIKyfRQyLK5rKQaD75wy0Te2khZxqfRtC+Bv5+oz+t7ZIHMANtRV8dsddsEx3ZeyTqCEMYOIQFV3Va5Tmzm8fc/mMLrveOqyGeoKDLyNkN5TE7eLkDZ2woc3aN5r8DUM//47r1xPP54mYoiY+V9px4m9LgoYgEkCmIBJApiASQKYgG2cjR370u0c/BNmTHj0M6daehc7LX7oeh618NOWuXyXuX7TJVXaR79zrHM+Owba20Rmtor+uBc3hdq5oFvBjeyw7V+jzH72v2YMjxJ78O3fw98r/J9ysdUCQH1KgYPyDGIwiEfYh/52yg3OOdpPbdNl5OXgfidJXCV4jQlfcddmaCUWcpczlbJP84gD0pWFFf7U+YlAET+lKQo0mlELr57NyQ2FAsF9qpfEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEATheD4F9UevNS1KL0gAAAAASUVORK5CYII=",vi=e=>{let{text:t,className:n,type:r,onClick:i,path:s,icon:a}=e;const o=Wn();return(0,V.jsxs)("button",{className:`${n} text-base whitespace-nowrap px-4 py-[10px] h-[40px] flex items-center justify-center`,type:r||"button",onClick:()=>{s?o(s):null===i||void 0===i||i()},children:[a&&a,t]})},yi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var bi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xi=(0,e.forwardRef)(((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u}=t;return(0,e.createElement)("svg",{ref:n,...bi,width:i,height:i,stroke:r,strokeWidth:a?24*Number(s)/Number(i):s,className:yi("lucide",o),...u},[...c.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),wi=(t,n)=>{const r=(0,e.forwardRef)(((r,i)=>{let{className:s,...a}=r;return(0,e.createElement)(xi,{ref:i,iconNode:n,className:yi(`lucide-${o=t,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...a});var o}));return r.displayName=`${t}`,r},_i=wi("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),ki=wi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var Si=e=>"checkbox"===e.type,Ei=e=>e instanceof Date,Ai=e=>null==e;const Ci=e=>"object"===typeof e;var Ti=e=>!Ai(e)&&!Array.isArray(e)&&Ci(e)&&!Ei(e),Ni=e=>Ti(e)&&e.target?Si(e.target)?e.target.checked:e.target.value:e,Pi=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Ii="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Ri(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Ii&&(e instanceof Blob||r)||!n&&!Ti(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return Ti(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ri(e[n]));else t=e}return t}var ji=e=>Array.isArray(e)?e.filter(Boolean):[],Di=e=>void 0===e,Oi=(e,t,n)=>{if(!t||!Ti(e))return n;const r=ji(t.split(/[,[\].]+?/)).reduce(((e,t)=>Ai(e)?e:e[t]),e);return Di(r)||r===e?Di(e[t])?n:e[t]:r},Mi=e=>"boolean"===typeof e,Fi=e=>/^\w*$/.test(e),Li=e=>ji(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ui=(e,t,n)=>{let r=-1;const i=Fi(t)?[t]:Li(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=Ti(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}return e};const Vi="blur",Bi="focusout",zi="change",$i="onBlur",qi="onChange",Hi="onSubmit",Wi="onTouched",Ki="all",Gi="max",Xi="min",Yi="maxLength",Qi="minLength",Zi="pattern",Ji="required",es="validate",ts=e.createContext(null),ns=()=>e.useContext(ts);var rs=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Ki&&(t._proxyFormState[i]=!r||Ki),n&&(n[i]=!0),e[i]}});return i},is=e=>Ti(e)&&!Object.keys(e).length,ss=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return is(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||Ki)))},as=e=>Array.isArray(e)?e:[e],os=(e,t,n)=>!e||!t||e===t||as(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function ls(t){const n=e.useRef(t);n.current=t,e.useEffect((()=>{const e=!t.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{e&&e.unsubscribe()}}),[t.disabled])}var cs=e=>"string"===typeof e,us=(e,t,n,r,i)=>cs(e)?(r&&t.watch.add(e),Oi(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Oi(n,e)))):(r&&(t.watchAll=!0),n);function ds(t){const n=ns(),{name:r,disabled:i,control:s=n.control,shouldUnregister:a}=t,o=Pi(s._names.array,r),l=function(t){const n=ns(),{control:r=n.control,name:i,defaultValue:s,disabled:a,exact:o}=t||{},l=e.useRef(i);l.current=i,ls({disabled:a,subject:r._subjects.values,next:e=>{os(l.current,e.name,o)&&u(Ri(us(l.current,r._names,e.values||r._formValues,!1,s)))}});const[c,u]=e.useState(r._getWatch(i,s));return e.useEffect((()=>r._removeUnmounted())),c}({control:s,name:r,defaultValue:Oi(s._formValues,r,Oi(s._defaultValues,r,t.defaultValue)),exact:!0}),c=function(t){const n=ns(),{control:r=n.control,disabled:i,name:s,exact:a}=t||{},[o,l]=e.useState(r._formState),c=e.useRef(!0),u=e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=e.useRef(s);return d.current=s,ls({disabled:i,next:e=>c.current&&os(d.current,e.name,a)&&ss(e,u.current,r._updateFormState)&&l({...r._formState,...e}),subject:r._subjects.state}),e.useEffect((()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1})),[r]),e.useMemo((()=>rs(o,r,u.current,!1)),[o,r])}({control:s,name:r,exact:!0}),u=e.useRef(s.register(r,{...t.rules,value:l,...Mi(t.disabled)?{disabled:t.disabled}:{}})),d=e.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oi(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Oi(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Oi(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Oi(c.validatingFields,r)},error:{enumerable:!0,get:()=>Oi(c.errors,r)}})),[c,r]),h=e.useMemo((()=>({name:r,value:l,...Mi(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:e=>u.current.onChange({target:{value:Ni(e),name:r},type:zi}),onBlur:()=>u.current.onBlur({target:{value:Oi(s._formValues,r),name:r},type:Vi}),ref:e=>{const t=Oi(s._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[r,s._formValues,i,c.disabled,l,s._fields]);return e.useEffect((()=>{const e=s._options.shouldUnregister||a,t=(e,t)=>{const n=Oi(s._fields,e);n&&n._f&&(n._f.mount=t)};if(t(r,!0),e){const e=Ri(Oi(s._options.defaultValues,r));Ui(s._defaultValues,r,e),Di(Oi(s._formValues,r))&&Ui(s._formValues,r,e)}return!o&&s.register(r),()=>{(o?e&&!s._state.action:e)?s.unregister(r):t(r,!1)}}),[r,s,o,a]),e.useEffect((()=>{s._updateDisabledField({disabled:i,fields:s._fields,name:r})}),[i,r,s]),e.useMemo((()=>({field:h,formState:c,fieldState:d})),[h,c,d])}const hs=e=>e.render(ds(e));var fs=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},ps=()=>{const e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},ms=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.shouldFocus||Di(n.shouldFocus)?n.focusName||`${e}.${Di(n.focusIndex)?t:n.focusIndex}.`:""},gs=e=>({isOnSubmit:!e||e===Hi,isOnBlur:e===$i,isOnChange:e===qi,isOnAll:e===Ki,isOnTouch:e===Wi}),vs=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const ys=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Oi(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(ys(s,t))break}else if(Ti(s)&&ys(s,t))break}}};var bs=(e,t,n)=>{const r=as(Oi(e,n));return Ui(r,"root",t[n]),Ui(e,n,r),e},xs=e=>"file"===e.type,ws=e=>"function"===typeof e,_s=e=>{if(!Ii)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ks=e=>cs(e),Ss=e=>"radio"===e.type,Es=e=>e instanceof RegExp;const As={value:!1,isValid:!1},Cs={value:!0,isValid:!0};var Ts=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Di(e[0].attributes.value)?Di(e[0].value)||""===e[0].value?Cs:{value:e[0].value,isValid:!0}:Cs:As}return As};const Ns={isValid:!1,value:null};var Ps=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Ns):Ns;function Is(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(ks(e)||Array.isArray(e)&&e.every(ks)||Mi(e)&&!e)return{type:n,message:ks(e)?e:"",ref:t}}var Rs=e=>Ti(e)&&!Es(e)?e:{value:e,message:""},js=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:v}=e._f,y=Oi(n,m);if(!v||t.has(m))return{};const b=o?o[0]:a,x=e=>{i&&b.reportValidity&&(b.setCustomValidity(Mi(e)?"":e||""),b.reportValidity())},w={},_=Ss(a),k=Si(a),S=_||k,E=(g||xs(a))&&Di(a.value)&&Di(y)||_s(a)&&""===a.value||""===y||Array.isArray(y)&&!y.length,A=fs.bind(null,m,r,w),C=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yi,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qi;const s=e?t:n;w[m]={type:e?r:i,message:s,ref:a,...A(e?r:i,s)}};if(s?!Array.isArray(y)||!y.length:l&&(!S&&(E||Ai(y))||Mi(y)&&!y||k&&!Ts(o).isValid||_&&!Ps(o).isValid)){const{value:e,message:t}=ks(l)?{value:!!l,message:l}:Rs(l);if(e&&(w[m]={type:Ji,message:t,ref:b,...A(Ji,t)},!r))return x(t),w}if(!E&&(!Ai(d)||!Ai(h))){let e,t;const n=Rs(h),i=Rs(d);if(Ai(y)||isNaN(y)){const r=a.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;cs(n.value)&&y&&(e=o?s(y)>s(n.value):l?y>n.value:r>new Date(n.value)),cs(i.value)&&y&&(t=o?s(y)<s(i.value):l?y<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(y?+y:y);Ai(n.value)||(e=r>n.value),Ai(i.value)||(t=r<i.value)}if((e||t)&&(C(!!e,n.message,i.message,Gi,Xi),!r))return x(w[m].message),w}if((c||u)&&!E&&(cs(y)||s&&Array.isArray(y))){const e=Rs(c),t=Rs(u),n=!Ai(e.value)&&y.length>+e.value,i=!Ai(t.value)&&y.length<+t.value;if((n||i)&&(C(n,e.message,t.message),!r))return x(w[m].message),w}if(f&&!E&&cs(y)){const{value:e,message:t}=Rs(f);if(Es(e)&&!y.match(e)&&(w[m]={type:Zi,message:t,ref:a,...A(Zi,t)},!r))return x(t),w}if(p)if(ws(p)){const e=Is(await p(y,n),b);if(e&&(w[m]={...e,...A(es,e.message)},!r))return x(e.message),w}else if(Ti(p)){let e={};for(const t in p){if(!is(e)&&!r)break;const i=Is(await p[t](y,n),b,t);i&&(e={...i,...A(t,i.message)},x(i.message),r&&(w[m]=e))}if(!is(e)&&(w[m]={ref:b,...e},!r))return w}return x(!0),w},Ds=(e,t)=>[...e,...as(t)],Os=e=>Array.isArray(e)?e.map((()=>{})):void 0;function Ms(e,t,n){return[...e.slice(0,t),...as(n),...e.slice(t)]}var Fs=(e,t,n)=>Array.isArray(e)?(Di(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Ls=(e,t)=>[...as(t),...as(e)];var Us=(e,t)=>Di(t)?[]:function(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return ji(r).length?r:[]}(e,as(t).sort(((e,t)=>e-t))),Vs=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function Bs(e,t){const n=Array.isArray(t)?t:Fi(t)?[t]:Li(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Di(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Ti(r)&&is(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Di(e[t]))return!1;return!0}(r))&&Bs(e,n.slice(0,-1)),e}var zs=(e,t,n)=>(e[t]=n,e);function $s(t){const n=ns(),{control:r=n.control,name:i,keyName:s="id",shouldUnregister:a,rules:o}=t,[l,c]=e.useState(r._getFieldArray(i)),u=e.useRef(r._getFieldArray(i).map(ps)),d=e.useRef(l),h=e.useRef(i),f=e.useRef(!1);h.current=i,d.current=l,r._names.array.add(i),o&&r.register(i,o),ls({next:e=>{let{values:t,name:n}=e;if(n===h.current||!n){const e=Oi(t,h.current);Array.isArray(e)&&(c(e),u.current=e.map(ps))}},subject:r._subjects.array});const p=e.useCallback((e=>{f.current=!0,r._updateFieldArray(i,e)}),[r,i]);return e.useEffect((()=>{if(r._state.action=!1,vs(i,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!gs(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([i]).then((e=>{const t=Oi(e.errors,i),n=Oi(r._formState.errors,i);(n?!t&&n.type||t&&(n.type!==t.type||n.message!==t.message):t&&t.type)&&(t?Ui(r._formState.errors,i,t):Bs(r._formState.errors,i),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=Oi(r._fields,i);!e||!e._f||gs(r._options.reValidateMode).isOnSubmit&&gs(r._options.mode).isOnSubmit||js(e,r._names.disabled,r._formValues,r._options.criteriaMode===Ki,r._options.shouldUseNativeValidation,!0).then((e=>!is(e)&&r._subjects.state.next({errors:bs(r._formState.errors,e,i)})))}r._subjects.values.next({name:i,values:{...r._formValues}}),r._names.focus&&ys(r._fields,((e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1})),r._names.focus="",r._updateValid(),f.current=!1}),[l,i,r]),e.useEffect((()=>(!Oi(r._formValues,i)&&r._updateFieldArray(i),()=>{(r._options.shouldUnregister||a)&&r.unregister(i)})),[i,r,s,a]),{swap:e.useCallback(((e,t)=>{const n=r._getFieldArray(i);Vs(n,e,t),Vs(u.current,e,t),p(n),c(n),r._updateFieldArray(i,n,Vs,{argA:e,argB:t},!1)}),[p,i,r]),move:e.useCallback(((e,t)=>{const n=r._getFieldArray(i);Fs(n,e,t),Fs(u.current,e,t),p(n),c(n),r._updateFieldArray(i,n,Fs,{argA:e,argB:t},!1)}),[p,i,r]),prepend:e.useCallback(((e,t)=>{const n=as(Ri(e)),s=Ls(r._getFieldArray(i),n);r._names.focus=ms(i,0,t),u.current=Ls(u.current,n.map(ps)),p(s),c(s),r._updateFieldArray(i,s,Ls,{argA:Os(e)})}),[p,i,r]),append:e.useCallback(((e,t)=>{const n=as(Ri(e)),s=Ds(r._getFieldArray(i),n);r._names.focus=ms(i,s.length-1,t),u.current=Ds(u.current,n.map(ps)),p(s),c(s),r._updateFieldArray(i,s,Ds,{argA:Os(e)})}),[p,i,r]),remove:e.useCallback((e=>{const t=Us(r._getFieldArray(i),e);u.current=Us(u.current,e),p(t),c(t),!Array.isArray(Oi(r._fields,i))&&Ui(r._fields,i,void 0),r._updateFieldArray(i,t,Us,{argA:e})}),[p,i,r]),insert:e.useCallback(((e,t,n)=>{const s=as(Ri(t)),a=Ms(r._getFieldArray(i),e,s);r._names.focus=ms(i,e,n),u.current=Ms(u.current,e,s.map(ps)),p(a),c(a),r._updateFieldArray(i,a,Ms,{argA:e,argB:Os(t)})}),[p,i,r]),update:e.useCallback(((e,t)=>{const n=Ri(t),s=zs(r._getFieldArray(i),e,n);u.current=[...s].map(((t,n)=>t&&n!==e?u.current[n]:ps())),p(s),c([...s]),r._updateFieldArray(i,s,zs,{argA:e,argB:n},!0,!1)}),[p,i,r]),replace:e.useCallback((e=>{const t=as(Ri(e));u.current=t.map(ps),p([...t]),c([...t]),r._updateFieldArray(i,[...t],(e=>e),{},!0,!1)}),[p,i,r]),fields:e.useMemo((()=>l.map(((e,t)=>({...e,[s]:u.current[t]||ps()})))),[l,s])}}var qs=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Hs=e=>Ai(e)||!Ci(e);function Ws(e,t){if(Hs(e)||Hs(t))return e===t;if(Ei(e)&&Ei(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(Ei(n)&&Ei(e)||Ti(n)&&Ti(e)||Array.isArray(n)&&Array.isArray(e)?!Ws(n,e):n!==e)return!1}}return!0}var Ks=e=>"select-multiple"===e.type,Gs=e=>_s(e)&&e.isConnected,Xs=e=>{for(const t in e)if(ws(e[t]))return!0;return!1};function Ys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Ti(e)||n)for(const r in e)Array.isArray(e[r])||Ti(e[r])&&!Xs(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ys(e[r],t[r])):Ai(e[r])||(t[r]=!0);return t}function Qs(e,t,n){const r=Array.isArray(e);if(Ti(e)||r)for(const i in e)Array.isArray(e[i])||Ti(e[i])&&!Xs(e[i])?Di(t)||Hs(n[i])?n[i]=Array.isArray(e[i])?Ys(e[i],[]):{...Ys(e[i])}:Qs(e[i],Ai(t)?{}:t[i],n[i]):n[i]=!Ws(e[i],t[i]);return n}var Zs=(e,t)=>Qs(e,t,Ys(t)),Js=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Di(e)?e:n?""===e?NaN:e?+e:e:r&&cs(e)?new Date(e):i?i(e):e};function ea(e){const t=e.ref;return xs(t)?t.files:Ss(t)?Ps(e.refs).value:Ks(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):Si(t)?Ts(e.refs).value:Js(Di(t.value)?e.ref.value:t.value,e)}var ta=e=>Di(e)?e:Es(e)?e.source:Ti(e)?Es(e.value)?e.value.source:e.value:e;const na="AsyncFunction";function ra(e,t,n){const r=Oi(e,n);if(r||Fi(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=Oi(t,r),a=Oi(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}const ia={mode:Hi,reValidateMode:qi,shouldFocusError:!0};function sa(){let e,t={...ia,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isLoading:ws(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(Ti(t.defaultValues)||Ti(t.values))&&Ri(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:Ri(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:qs(),array:qs(),state:qs()},d=gs(t.mode),h=gs(t.reValidateMode),f=t.criteriaMode===Ki,p=async e=>{if(!t.disabled&&(c.isValid||e)){const e=t.resolver?is((await b()).errors):await x(r,!0);e!==n.isValid&&u.state.next({isValid:e})}},m=(e,r)=>{t.disabled||!c.isValidating&&!c.validatingFields||((e||Array.from(o.mount)).forEach((e=>{e&&(r?Ui(n.validatingFields,e,r):Bs(n.validatingFields,e))})),u.state.next({validatingFields:n.validatingFields,isValidating:!is(n.validatingFields)}))},g=(e,t,n,o)=>{const l=Oi(r,e);if(l){const r=Oi(s,e,Di(n)?Oi(i,e):n);Di(r)||o&&o.defaultChecked||t?Ui(s,e,t?r:ea(l._f)):k(e,r),a.mount&&p()}},v=(e,s,a,o,l)=>{let d=!1,h=!1;const f={name:e};if(!t.disabled){const t=!!(Oi(r,e)&&Oi(r,e)._f&&Oi(r,e)._f.disabled);if(!a||o){c.isDirty&&(h=n.isDirty,n.isDirty=f.isDirty=w(),d=h!==f.isDirty);const r=t||Ws(Oi(i,e),s);h=!(t||!Oi(n.dirtyFields,e)),r||t?Bs(n.dirtyFields,e):Ui(n.dirtyFields,e,!0),f.dirtyFields=n.dirtyFields,d=d||c.dirtyFields&&h!==!r}if(a){const t=Oi(n.touchedFields,e);t||(Ui(n.touchedFields,e,a),f.touchedFields=n.touchedFields,d=d||c.touchedFields&&t!==a)}d&&l&&u.state.next(f)}return d?f:{}},y=(r,i,s,a)=>{const o=Oi(n.errors,r),d=c.isValid&&Mi(i)&&n.isValid!==i;var h;if(t.delayError&&s?(h=()=>((e,t)=>{Ui(n.errors,e,t),u.state.next({errors:n.errors})})(r,s),e=e=>{clearTimeout(l),l=setTimeout(h,e)},e(t.delayError)):(clearTimeout(l),e=null,s?Ui(n.errors,r,s):Bs(n.errors,r)),(s?!Ws(o,s):o)||!is(a)||d){const e={...a,...d&&Mi(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},u.state.next(e)}},b=async e=>{m(e,!0);const n=await t.resolver(s,t.context,((e,t,n,r)=>{const i={};for(const s of e){const e=Oi(t,s);e&&Ui(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return m(e),n},x=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const l in e){const u=e[l];if(u){const{_f:e,...d}=u;if(e){const d=o.array.has(e.name),h=u._f&&(!!(a=u._f)&&!!a.validate&&!!(ws(a.validate)&&a.validate.constructor.name===na||Ti(a.validate)&&Object.values(a.validate).find((e=>e.constructor.name===na))));h&&c.validatingFields&&m([l],!0);const p=await js(u,o.disabled,s,f,t.shouldUseNativeValidation&&!r,d);if(h&&c.validatingFields&&m([l]),p[e.name]&&(i.valid=!1,r))break;!r&&(Oi(p,e.name)?d?bs(n.errors,p,e.name):Ui(n.errors,e.name,p[e.name]):Bs(n.errors,e.name))}!is(d)&&await x(d,r,i)}}var a;return i.valid},w=(e,n)=>!t.disabled&&(e&&n&&Ui(s,e,n),!Ws(N(),i)),_=(e,t,n)=>us(e,o,{...a.mount?s:Di(t)?i:cs(e)?{[e]:t}:t},n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Oi(r,e);let a=t;if(i){const n=i._f;n&&(!n.disabled&&Ui(s,e,Js(t,n)),a=_s(n.ref)&&Ai(t)?"":t,Ks(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?Si(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):xs(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||u.values.next({name:e,values:{...s}})))}(n.shouldDirty||n.shouldTouch)&&v(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},S=(e,t,n)=>{for(const i in t){const s=t[i],a=`${e}.${i}`,l=Oi(r,a);(o.array.has(e)||Ti(s)||l&&!l._f)&&!Ei(s)?S(a,s,n):k(a,s,n)}},E=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=Oi(r,e),h=o.array.has(e),f=Ri(t);Ui(s,e,f),h?(u.array.next({name:e,values:{...s}}),(c.isDirty||c.dirtyFields)&&l.shouldDirty&&u.state.next({name:e,dirtyFields:Zs(i,s),isDirty:w(e,f)})):!d||d._f||Ai(f)?k(e,f,l):S(e,f,l),vs(e,o)&&u.state.next({...n}),u.values.next({name:a.mount?e:void 0,values:{...s}})},A=async i=>{a.mount=!0;const l=i.target;let g=l.name,w=!0;const _=Oi(r,g),k=e=>{w=Number.isNaN(e)||Ei(e)&&isNaN(e.getTime())||Ws(e,Oi(s,g,e))};if(_){let a,S;const E=l.type?ea(_._f):Ni(i),A=i.type===Vi||i.type===Bi,C=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(_._f)&&!t.resolver&&!Oi(n.errors,g)&&!_._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(A,Oi(n.touchedFields,g),n.isSubmitted,h,d),N=vs(g,o,A);Ui(s,g,E),A?(_._f.onBlur&&_._f.onBlur(i),e&&e(0)):_._f.onChange&&_._f.onChange(i);const P=v(g,E,A,!1),I=!is(P)||N;if(!A&&u.values.next({name:g,type:i.type,values:{...s}}),C)return c.isValid&&("onBlur"===t.mode&&A?p():A||p()),I&&u.state.next({name:g,...N?{}:P});if(!A&&N&&u.state.next({...n}),t.resolver){const{errors:e}=await b([g]);if(k(E),w){const t=ra(n.errors,r,g),i=ra(e,r,t.name||g);a=i.error,g=i.name,S=is(e)}}else m([g],!0),a=(await js(_,o.disabled,s,f,t.shouldUseNativeValidation))[g],m([g]),k(E),w&&(a?S=!1:c.isValid&&(S=await x(r,!0)));w&&(_._f.deps&&T(_._f.deps),y(g,S,a,P))}},C=(e,t)=>{if(Oi(n.errors,t)&&e.focus)return e.focus(),1},T=async function(e){let i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=as(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const r of e){const e=Oi(t,r);e?Ui(n.errors,r,e):Bs(n.errors,r)}else n.errors=t;return t})(Di(e)?e:l);i=is(t),s=e?!l.some((e=>Oi(t,e))):i}else e?(s=(await Promise.all(l.map((async e=>{const t=Oi(r,e);return await x(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||n.isValid)&&p()):s=i=await x(r);return u.state.next({...!cs(e)||c.isValid&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),a.shouldFocus&&!s&&ys(r,C,e?l:o.mount),s},N=e=>{const t={...a.mount?s:i};return Di(e)?t:cs(e)?Oi(t,e):e.map((e=>Oi(t,e)))},P=(e,t)=>({invalid:!!Oi((t||n).errors,e),isDirty:!!Oi((t||n).dirtyFields,e),error:Oi((t||n).errors,e),isValidating:!!Oi(n.validatingFields,e),isTouched:!!Oi((t||n).touchedFields,e)}),I=(e,t,i)=>{const s=(Oi(r,e,{_f:{}})._f||{}).ref,a=Oi(n.errors,e)||{},{ref:o,message:l,type:c,...d}=a;Ui(n.errors,e,{...d,...t,ref:s}),u.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&s&&s.focus&&s.focus()},R=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?as(e):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(Bs(r,l),Bs(s,l)),!a.keepError&&Bs(n.errors,l),!a.keepDirty&&Bs(n.dirtyFields,l),!a.keepTouched&&Bs(n.touchedFields,l),!a.keepIsValidating&&Bs(n.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&Bs(i,l);u.values.next({values:{...s}}),u.state.next({...n,...a.keepDirty?{isDirty:w()}:{}}),!a.keepIsValid&&p()},j=e=>{let{disabled:t,name:n,field:r,fields:i}=e;(Mi(t)&&a.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n),v(n,ea(r?r._f:Oi(i,n)._f),!1,!1,!0))},D=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Oi(r,e);const l=Mi(n.disabled)||Mi(t.disabled);return Ui(r,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...n}}),o.mount.add(e),s?j({field:s,disabled:Mi(n.disabled)?n.disabled:t.disabled,name:e}):g(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:ta(n.min),max:ta(n.max),minLength:ta(n.minLength),maxLength:ta(n.maxLength),pattern:ta(n.pattern)}:{},name:e,onChange:A,onBlur:A,ref:l=>{if(l){D(e,n),s=Oi(r,e);const t=Di(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,a=(e=>Ss(e)||Si(e))(t),o=s._f.refs||[];if(a?o.find((e=>e===t)):t===s._f.ref)return;Ui(r,e,{_f:{...s._f,...a?{refs:[...o.filter(Gs),t,...Array.isArray(Oi(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),g(e,!1,void 0,t)}else s=Oi(r,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!Pi(o.array,e)||!a.action)&&o.unMount.add(e)}}},O=()=>t.shouldFocusError&&ys(r,C,o.mount),M=(e,i)=>async a=>{let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Ri(s);if(o.disabled.size)for(const e of o.disabled)Ui(c,e,void 0);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await b();n.errors=e,c=t}else await x(r);if(Bs(n.errors,"root"),is(n.errors)){u.state.next({errors:{}});try{await e(c,a)}catch(d){l=d}}else i&&await i({...n.errors},a),O(),setTimeout(O);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:is(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},F=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=e?Ri(e):i,h=Ri(d),f=is(e),p=f?i:h;if(l.keepDefaultValues||(i=d),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Zs(i,s))]);for(const t of Array.from(e))Oi(n.dirtyFields,t)?Ui(p,t,Oi(s,t)):E(t,Oi(p,t))}else{if(Ii&&Di(e))for(const e of o.mount){const t=Oi(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(_s(e)){const t=e.closest("form");if(t){t.reset();break}}}}r={}}s=t.shouldUnregister?l.keepDefaultValues?Ri(i):{}:Ri(p),u.array.next({values:{...p}}),u.values.next({values:{...p}})}o={mount:l.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,a.watch=!!t.shouldUnregister,u.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!f&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||Ws(e,i))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&s?Zs(i,s):n.dirtyFields:l.keepDefaultValues&&e?Zs(i,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},L=(e,t)=>F(ws(e)?e(s):e,t);return{control:{register:D,unregister:R,getFieldState:P,handleSubmit:M,setError:I,_executeSchema:b,_getWatch:_,_getDirty:w,_updateValid:p,_removeUnmounted:()=>{for(const e of o.unMount){const t=Oi(r,e);t&&(t._f.refs?t._f.refs.every((e=>!Gs(e))):!Gs(t._f.ref))&&R(e)}o.unMount=new Set},_updateFieldArray:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(d&&l&&!t.disabled){if(a.action=!0,f&&Array.isArray(Oi(r,e))){const t=l(Oi(r,e),d.argA,d.argB);h&&Ui(r,e,t)}if(f&&Array.isArray(Oi(n.errors,e))){const t=l(Oi(n.errors,e),d.argA,d.argB);h&&Ui(n.errors,e,t),((e,t)=>{!ji(Oi(e,t)).length&&Bs(e,t)})(n.errors,e)}if(c.touchedFields&&f&&Array.isArray(Oi(n.touchedFields,e))){const t=l(Oi(n.touchedFields,e),d.argA,d.argB);h&&Ui(n.touchedFields,e,t)}c.dirtyFields&&(n.dirtyFields=Zs(i,s)),u.state.next({name:e,isDirty:w(e,o),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ui(s,e,o)},_updateDisabledField:j,_getFieldArray:e=>ji(Oi(a.mount?s:i,e,t.shouldUnregister?Oi(i,e,[]):[])),_reset:F,_resetDefaultValues:()=>ws(t.defaultValues)&&t.defaultValues().then((e=>{L(e,t.resetOptions),u.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{Mi(e)&&(u.state.next({disabled:e}),ys(r,((t,n)=>{const i=Oi(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach((t=>{t.disabled=i._f.disabled||e})))}),0,!1))},_subjects:u,_proxyFormState:c,_setErrors:e=>{n.errors=e,u.state.next({errors:n.errors,isValid:!1})},get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return n},set _formState(e){n=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:T,register:D,handleSubmit:M,watch:(e,t)=>ws(e)?u.values.subscribe({next:n=>e(_(void 0,t),n)}):_(e,t,!0),setValue:E,getValues:N,reset:L,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oi(r,e)&&(Di(t.defaultValue)?E(e,Ri(Oi(i,e))):(E(e,t.defaultValue),Ui(i,e,Ri(t.defaultValue))),t.keepTouched||Bs(n.touchedFields,e),t.keepDirty||(Bs(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,Ri(Oi(i,e))):w()),t.keepError||(Bs(n.errors,e),c.isValid&&p()),u.state.next({...n}))},clearErrors:e=>{e&&as(e).forEach((e=>Bs(n.errors,e))),u.state.next({errors:e?n.errors:{}})},unregister:R,setError:I,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Oi(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&ws(e.select)&&e.select())}},getFieldState:P}}function aa(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.useRef(void 0),r=e.useRef(void 0),[i,s]=e.useState({isDirty:!1,isValidating:!1,isLoading:ws(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ws(t.defaultValues)?void 0:t.defaultValues});n.current||(n.current={...sa(t),formState:i});const a=n.current.control;return a._options=t,ls({subject:a._subjects.state,next:e=>{ss(e,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),e.useEffect((()=>a._disableForm(t.disabled)),[a,t.disabled]),e.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,i.isDirty]),e.useEffect((()=>{t.values&&!Ws(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,s((e=>({...e})))):a._resetDefaultValues()}),[t.values,a]),e.useEffect((()=>{t.errors&&a._setErrors(t.errors)}),[t.errors,a]),e.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),e.useEffect((()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[t.shouldUnregister,a]),n.current.formState=rs(i,a),n.current}const oa=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Oi(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},la=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?oa(r.ref,n,e):r&&r.refs&&r.refs.forEach((t=>oa(t,n,e)))}},ca=(e,t)=>{t.shouldUseNativeValidation&&la(e,t);const n={};for(const r in e){const i=Oi(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(ua(t.names||Object.keys(e),r)){const e=Object.assign({},Oi(n,r));Ui(e,"root",s),Ui(n,r,e)}else Ui(n,r,s)}return n},ua=(e,t)=>{const n=da(t);return e.some((e=>da(e).match(`^${n}\\.\\d+`)))};function da(e){return e.replace(/\]|\[/g,"")}function ha(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=n[a].types,c=l&&l[r.code];n[a]=fs(a,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function fa(e,t,n){return void 0===n&&(n={}),function(r,i,s){try{return Promise.resolve(function(i,a){try{var o=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then((function(e){return s.shouldUseNativeValidation&&la({},s),{errors:{},values:n.raw?Object.assign({},r):e}}))}catch(l){return a(l)}return o&&o.then?o.then(void 0,a):o}(0,(function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:ca(ha(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e})))}catch(a){return Promise.reject(a)}}}var pa,ma;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(pa||(pa={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ma||(ma={}));const ga=pa.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),va=e=>{switch(typeof e){case"undefined":return ga.undefined;case"string":return ga.string;case"number":return isNaN(e)?ga.nan:ga.number;case"boolean":return ga.boolean;case"function":return ga.function;case"bigint":return ga.bigint;case"symbol":return ga.symbol;case"object":return Array.isArray(e)?ga.array:null===e?ga.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?ga.promise:"undefined"!==typeof Map&&e instanceof Map?ga.map:"undefined"!==typeof Set&&e instanceof Set?ga.set:"undefined"!==typeof Date&&e instanceof Date?ga.date:ga.object;default:return ga.unknown}},ya=pa.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ba extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof ba))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pa.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ba.create=e=>new ba(e);const xa=(e,t)=>{let n;switch(e.code){case ya.invalid_type:n=e.received===ga.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ya.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,pa.jsonStringifyReplacer)}`;break;case ya.unrecognized_keys:n=`Unrecognized key(s) in object: ${pa.joinValues(e.keys,", ")}`;break;case ya.invalid_union:n="Invalid input";break;case ya.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pa.joinValues(e.options)}`;break;case ya.invalid_enum_value:n=`Invalid enum value. Expected ${pa.joinValues(e.options)}, received '${e.received}'`;break;case ya.invalid_arguments:n="Invalid function arguments";break;case ya.invalid_return_type:n="Invalid function return type";break;case ya.invalid_date:n="Invalid date";break;case ya.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:pa.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ya.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ya.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ya.custom:n="Invalid input";break;case ya.invalid_intersection_types:n="Intersection results could not be merged";break;case ya.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ya.not_finite:n="Number must be finite";break;default:n=t.defaultError,pa.assertNever(e)}return{message:n}};let wa=xa;function _a(){return wa}const ka=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)o=c(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function Sa(e,t){const n=_a(),r=ka({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===xa?void 0:xa].filter((e=>!!e))});e.common.issues.push(r)}class Ea{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Aa;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Ea.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return Aa;if("aborted"===i.status)return Aa;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const Aa=Object.freeze({status:"aborted"}),Ca=e=>({status:"dirty",value:e}),Ta=e=>({status:"valid",value:e}),Na=e=>"aborted"===e.status,Pa=e=>"dirty"===e.status,Ia=e=>"valid"===e.status,Ra=e=>"undefined"!==typeof Promise&&e instanceof Promise;function ja(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Da(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var Oa,Ma,Fa;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Oa||(Oa={}));class La{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ua=(e,t)=>{if(Ia(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ba(e.common.issues);return this._error=t,this._error}}};function Va(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var s,a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:i.defaultError}:"undefined"===typeof i.data?{message:null!==(s=null!==o&&void 0!==o?o:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!==o&&void 0!==o?o:n)&&void 0!==a?a:i.defaultError}},description:i}}class Ba{get description(){return this._def.description}_getType(e){return va(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:va(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ea,ctx:{common:e.parent.common,data:e.data,parsedType:va(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ra(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:va(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Ua(r,i)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:va(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return Ia(t)?{value:t.value}:{issues:r.common.issues}}catch(i){(null===(n=null===(t=null===i||void 0===i?void 0:i.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>Ia(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:va(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Ra(r)?r:Promise.resolve(r));return Ua(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),s=()=>r.addIssue({code:ya.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new $o({schema:this,typeName:nl.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return qo.create(this,this._def)}nullable(){return Ho.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return So.create(this)}promise(){return zo.create(this,this._def)}or(e){return Co.create([this,e],this._def)}and(e){return Io.create(this,e,this._def)}transform(e){return new $o({...Va(this._def),schema:this,typeName:nl.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Wo({...Va(this._def),innerType:this,defaultValue:t,typeName:nl.ZodDefault})}brand(){return new Yo({typeName:nl.ZodBranded,type:this,...Va(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Ko({...Va(this._def),innerType:this,catchValue:t,typeName:nl.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Qo.create(this,e)}readonly(){return Zo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const za=/^c[^\s-]{8,}$/i,$a=/^[0-9a-z]+$/,qa=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ha=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wa=/^[a-z0-9_-]{21}$/i,Ka=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ga=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xa=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ya;const Qa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Za=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ja=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eo=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,to=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,no=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ro="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",io=new RegExp(`^${ro}$`);function so(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ao(e){let t=`${ro}T${so(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function oo(e,t){return!("v4"!==t&&t||!Qa.test(e))||!("v6"!==t&&t||!Ja.test(e))}function lo(e,t){if(!Ka.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"===typeof i&&null!==i&&(!(!i.typ||!i.alg)&&(!t||i.alg===t))}catch(n){return!1}}function co(e,t){return!("v4"!==t&&t||!Za.test(e))||!("v6"!==t&&t||!eo.test(e))}class uo extends Ba{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==ga.string){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.string,received:t.parsedType}),Aa}const t=new Ea;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,s=e.data.length<i.value;(r||s)&&(n=this._getOrReturnCtx(e,n),r?Sa(n,{code:ya.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&Sa(n,{code:ya.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)Xa.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"email",code:ya.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)Ya||(Ya=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ya.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"emoji",code:ya.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)Ha.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"uuid",code:ya.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)Wa.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"nanoid",code:ya.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)za.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"cuid",code:ya.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)$a.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"cuid2",code:ya.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)qa.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"ulid",code:ya.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Sa(n,{validation:"url",code:ya.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"regex",code:ya.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){ao(i).test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){io.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${so(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?Ga.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"duration",code:ya.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?oo(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"ip",code:ya.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?lo(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"jwt",code:ya.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?co(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"cidr",code:ya.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?to.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"base64",code:ya.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?no.test(e.data)||(n=this._getOrReturnCtx(e,n),Sa(n,{validation:"base64url",code:ya.invalid_string,message:i.message}),t.dirty()):pa.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:ya.invalid_string,...Oa.errToObj(n)})}_addCheck(e){return new uo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oa.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oa.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oa.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oa.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oa.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oa.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oa.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oa.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oa.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oa.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oa.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oa.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oa.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...Oa.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...Oa.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Oa.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Oa.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...Oa.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Oa.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Oa.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Oa.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Oa.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Oa.errToObj(t)})}nonempty(e){return this.min(1,Oa.errToObj(e))}trim(){return new uo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new uo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new uo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ho(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}uo.create=e=>{var t;return new uo({checks:[],typeName:nl.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Va(e)})};class fo extends Ba{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==ga.number){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.number,received:t.parsedType}),Aa}let t;const n=new Ea;for(const r of this._def.checks)if("int"===r.kind)pa.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==ho(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.not_finite,message:r.message}),n.dirty()):pa.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Oa.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Oa.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Oa.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Oa.toString(t))}setLimit(e,t,n,r){return new fo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Oa.toString(r)}]})}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oa.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oa.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oa.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oa.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oa.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Oa.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Oa.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oa.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oa.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&pa.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}fo.create=e=>new fo({checks:[],typeName:nl.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Va(e)});class po extends Ba{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==ga.bigint)return this._getInvalidInput(e);let t;const n=new Ea;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Sa(t,{code:ya.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):pa.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.bigint,received:t.parsedType}),Aa}gte(e,t){return this.setLimit("min",e,!0,Oa.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Oa.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Oa.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Oa.toString(t))}setLimit(e,t,n,r){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Oa.toString(r)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oa.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oa.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oa.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oa.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Oa.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}po.create=e=>{var t;return new po({checks:[],typeName:nl.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Va(e)})};class mo extends Ba{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==ga.boolean){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.boolean,received:t.parsedType}),Aa}return Ta(e.data)}}mo.create=e=>new mo({typeName:nl.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Va(e)});class go extends Ba{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==ga.date){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.date,received:t.parsedType}),Aa}if(isNaN(e.data.getTime())){return Sa(this._getOrReturnCtx(e),{code:ya.invalid_date}),Aa}const t=new Ea;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Sa(n,{code:ya.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):pa.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Oa.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Oa.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}go.create=e=>new go({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:nl.ZodDate,...Va(e)});class vo extends Ba{_parse(e){if(this._getType(e)!==ga.symbol){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.symbol,received:t.parsedType}),Aa}return Ta(e.data)}}vo.create=e=>new vo({typeName:nl.ZodSymbol,...Va(e)});class yo extends Ba{_parse(e){if(this._getType(e)!==ga.undefined){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.undefined,received:t.parsedType}),Aa}return Ta(e.data)}}yo.create=e=>new yo({typeName:nl.ZodUndefined,...Va(e)});class bo extends Ba{_parse(e){if(this._getType(e)!==ga.null){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.null,received:t.parsedType}),Aa}return Ta(e.data)}}bo.create=e=>new bo({typeName:nl.ZodNull,...Va(e)});class xo extends Ba{constructor(){super(...arguments),this._any=!0}_parse(e){return Ta(e.data)}}xo.create=e=>new xo({typeName:nl.ZodAny,...Va(e)});class wo extends Ba{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ta(e.data)}}wo.create=e=>new wo({typeName:nl.ZodUnknown,...Va(e)});class _o extends Ba{_parse(e){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.never,received:t.parsedType}),Aa}}_o.create=e=>new _o({typeName:nl.ZodNever,...Va(e)});class ko extends Ba{_parse(e){if(this._getType(e)!==ga.undefined){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.void,received:t.parsedType}),Aa}return Ta(e.data)}}ko.create=e=>new ko({typeName:nl.ZodVoid,...Va(e)});class So extends Ba{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ga.array)return Sa(t,{code:ya.invalid_type,expected:ga.array,received:t.parsedType}),Aa;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Sa(t,{code:e?ya.too_big:ya.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Sa(t,{code:ya.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Sa(t,{code:ya.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new La(t,e,t.path,n))))).then((e=>Ea.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new La(t,e,t.path,n))));return Ea.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new So({...this._def,minLength:{value:e,message:Oa.toString(t)}})}max(e,t){return new So({...this._def,maxLength:{value:e,message:Oa.toString(t)}})}length(e,t){return new So({...this._def,exactLength:{value:e,message:Oa.toString(t)}})}nonempty(e){return this.min(1,e)}}function Eo(e){if(e instanceof Ao){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=qo.create(Eo(r))}return new Ao({...e._def,shape:()=>t})}return e instanceof So?new So({...e._def,type:Eo(e.element)}):e instanceof qo?qo.create(Eo(e.unwrap())):e instanceof Ho?Ho.create(Eo(e.unwrap())):e instanceof Ro?Ro.create(e.items.map((e=>Eo(e)))):e}So.create=(e,t)=>new So({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nl.ZodArray,...Va(t)});class Ao extends Ba{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=pa.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ga.object){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.object,received:t.parsedType}),Aa}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof _o&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||s.push(o);const a=[];for(const o of i){const e=r[o],t=n.data[o];a.push({key:{status:"valid",value:o},value:e._parse(new La(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof _o){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)a.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(Sa(n,{code:ya.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new La(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Ea.mergeObjectSync(t,e))):Ea.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return Oa.errToObj,new Ao({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;const o=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=Oa.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new Ao({...this._def,unknownKeys:"strip"})}passthrough(){return new Ao({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ao({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ao({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nl.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ao({...this._def,catchall:e})}pick(e){const t={};return pa.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Ao({...this._def,shape:()=>t})}omit(e){const t={};return pa.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Ao({...this._def,shape:()=>t})}deepPartial(){return Eo(this)}partial(e){const t={};return pa.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Ao({...this._def,shape:()=>t})}required(e){const t={};return pa.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof qo;)e=e._def.innerType;t[n]=e}})),new Ao({...this._def,shape:()=>t})}keyof(){return Uo(pa.objectKeys(this.shape))}}Ao.create=(e,t)=>new Ao({shape:()=>e,unknownKeys:"strip",catchall:_o.create(),typeName:nl.ZodObject,...Va(t)}),Ao.strictCreate=(e,t)=>new Ao({shape:()=>e,unknownKeys:"strict",catchall:_o.create(),typeName:nl.ZodObject,...Va(t)}),Ao.lazycreate=(e,t)=>new Ao({shape:e,unknownKeys:"strip",catchall:_o.create(),typeName:nl.ZodObject,...Va(t)});class Co extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new ba(e.ctx.common.issues)));return Sa(t,{code:ya.invalid_union,unionErrors:n}),Aa}));{let e;const r=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new ba(e)));return Sa(t,{code:ya.invalid_union,unionErrors:i}),Aa}}get options(){return this._def.options}}Co.create=(e,t)=>new Co({options:e,typeName:nl.ZodUnion,...Va(t)});const To=e=>e instanceof Fo?To(e.schema):e instanceof $o?To(e.innerType()):e instanceof Lo?[e.value]:e instanceof Vo?e.options:e instanceof Bo?pa.objectValues(e.enum):e instanceof Wo?To(e._def.innerType):e instanceof yo?[void 0]:e instanceof bo?[null]:e instanceof qo?[void 0,...To(e.unwrap())]:e instanceof Ho?[null,...To(e.unwrap())]:e instanceof Yo||e instanceof Zo?To(e.unwrap()):e instanceof Ko?To(e._def.innerType):[];class No extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ga.object)return Sa(t,{code:ya.invalid_type,expected:ga.object,received:t.parsedType}),Aa;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(Sa(t,{code:ya.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Aa)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=To(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new No({typeName:nl.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Va(n)})}}function Po(e,t){const n=va(e),r=va(t);if(e===t)return{valid:!0,data:e};if(n===ga.object&&r===ga.object){const n=pa.objectKeys(t),r=pa.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const s of r){const n=Po(e[s],t[s]);if(!n.valid)return{valid:!1};i[s]=n.data}return{valid:!0,data:i}}if(n===ga.array&&r===ga.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Po(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===ga.date&&r===ga.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Io extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Na(e)||Na(r))return Aa;const i=Po(e.value,r.value);return i.valid?((Pa(e)||Pa(r))&&t.dirty(),{status:t.value,value:i.data}):(Sa(n,{code:ya.invalid_intersection_types}),Aa)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Io.create=(e,t,n)=>new Io({left:e,right:t,typeName:nl.ZodIntersection,...Va(n)});class Ro extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.array)return Sa(n,{code:ya.invalid_type,expected:ga.array,received:n.parsedType}),Aa;if(n.data.length<this._def.items.length)return Sa(n,{code:ya.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Aa;!this._def.rest&&n.data.length>this._def.items.length&&(Sa(n,{code:ya.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new La(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Ea.mergeArray(t,e))):Ea.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ro({...this._def,rest:e})}}Ro.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ro({items:e,typeName:nl.ZodTuple,rest:null,...Va(t)})};class jo extends Ba{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.object)return Sa(n,{code:ya.invalid_type,expected:ga.object,received:n.parsedType}),Aa;const r=[],i=this._def.keyType,s=this._def.valueType;for(const a in n.data)r.push({key:i._parse(new La(n,a,n.path,a)),value:s._parse(new La(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Ea.mergeObjectAsync(t,r):Ea.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new jo(t instanceof Ba?{keyType:e,valueType:t,typeName:nl.ZodRecord,...Va(n)}:{keyType:uo.create(),valueType:e,typeName:nl.ZodRecord,...Va(t)})}}class Do extends Ba{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.map)return Sa(n,{code:ya.invalid_type,expected:ga.map,received:n.parsedType}),Aa;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(((e,t)=>{let[s,a]=e;return{key:r._parse(new La(n,s,n.path,[t,"key"])),value:i._parse(new La(n,a,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return Aa;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return Aa;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Do.create=(e,t,n)=>new Do({valueType:t,keyType:e,typeName:nl.ZodMap,...Va(n)});class Oo extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.set)return Sa(n,{code:ya.invalid_type,expected:ga.set,received:n.parsedType}),Aa;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Sa(n,{code:ya.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Sa(n,{code:ya.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Aa;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>i._parse(new La(n,e,n.path,t))));return n.common.async?Promise.all(a).then((e=>s(e))):s(a)}min(e,t){return new Oo({...this._def,minSize:{value:e,message:Oa.toString(t)}})}max(e,t){return new Oo({...this._def,maxSize:{value:e,message:Oa.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Oo.create=(e,t)=>new Oo({valueType:e,minSize:null,maxSize:null,typeName:nl.ZodSet,...Va(t)});class Mo extends Ba{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ga.function)return Sa(t,{code:ya.invalid_type,expected:ga.function,received:t.parsedType}),Aa;function n(e,n){return ka({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_a(),xa].filter((e=>!!e)),issueData:{code:ya.invalid_arguments,argumentsError:n}})}function r(e,n){return ka({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_a(),xa].filter((e=>!!e)),issueData:{code:ya.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof zo){const e=this;return Ta((async function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];const l=new ba([]),c=await e._def.args.parseAsync(a,i).catch((e=>{throw l.addIssue(n(a,e)),l})),u=await Reflect.apply(s,this,c),d=await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw l.addIssue(r(u,e)),l}));return d}))}{const e=this;return Ta((function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];const l=e._def.args.safeParse(a,i);if(!l.success)throw new ba([n(a,l.error)]);const c=Reflect.apply(s,this,l.data),u=e._def.returns.safeParse(c,i);if(!u.success)throw new ba([r(c,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mo({...this._def,args:Ro.create(t).rest(wo.create())})}returns(e){return new Mo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Mo({args:e||Ro.create([]).rest(wo.create()),returns:t||wo.create(),typeName:nl.ZodFunction,...Va(n)})}}class Fo extends Ba{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Fo.create=(e,t)=>new Fo({getter:e,typeName:nl.ZodLazy,...Va(t)});class Lo extends Ba{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Sa(t,{received:t.data,code:ya.invalid_literal,expected:this._def.value}),Aa}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Uo(e,t){return new Vo({values:e,typeName:nl.ZodEnum,...Va(t)})}Lo.create=(e,t)=>new Lo({value:e,typeName:nl.ZodLiteral,...Va(t)});class Vo extends Ba{constructor(){super(...arguments),Ma.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Sa(t,{expected:pa.joinValues(n),received:t.parsedType,code:ya.invalid_type}),Aa}if(ja(this,Ma,"f")||Da(this,Ma,new Set(this._def.values),"f"),!ja(this,Ma,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Sa(t,{received:t.data,code:ya.invalid_enum_value,options:n}),Aa}return Ta(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Vo.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Vo.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}Ma=new WeakMap,Vo.create=Uo;class Bo extends Ba{constructor(){super(...arguments),Fa.set(this,void 0)}_parse(e){const t=pa.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ga.string&&n.parsedType!==ga.number){const e=pa.objectValues(t);return Sa(n,{expected:pa.joinValues(e),received:n.parsedType,code:ya.invalid_type}),Aa}if(ja(this,Fa,"f")||Da(this,Fa,new Set(pa.getValidEnumValues(this._def.values)),"f"),!ja(this,Fa,"f").has(e.data)){const e=pa.objectValues(t);return Sa(n,{received:n.data,code:ya.invalid_enum_value,options:e}),Aa}return Ta(e.data)}get enum(){return this._def.values}}Fa=new WeakMap,Bo.create=(e,t)=>new Bo({values:e,typeName:nl.ZodNativeEnum,...Va(t)});class zo extends Ba{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ga.promise&&!1===t.common.async)return Sa(t,{code:ya.invalid_type,expected:ga.promise,received:t.parsedType}),Aa;const n=t.parsedType===ga.promise?t.data:Promise.resolve(t.data);return Ta(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}zo.create=(e,t)=>new zo({type:e,typeName:nl.ZodPromise,...Va(t)});class $o extends Ba{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nl.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{Sa(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Aa;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Aa:"dirty"===r.status||"dirty"===t.value?Ca(r.value):r}));{if("aborted"===t.value)return Aa;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Aa:"dirty"===r.status||"dirty"===t.value?Ca(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Aa:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Aa:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ia(e))return e;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Ia(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}pa.assertNever(r)}}$o.create=(e,t,n)=>new $o({schema:e,typeName:nl.ZodEffects,effect:t,...Va(n)}),$o.createWithPreprocess=(e,t,n)=>new $o({schema:t,effect:{type:"preprocess",transform:e},typeName:nl.ZodEffects,...Va(n)});class qo extends Ba{_parse(e){return this._getType(e)===ga.undefined?Ta(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qo.create=(e,t)=>new qo({innerType:e,typeName:nl.ZodOptional,...Va(t)});class Ho extends Ba{_parse(e){return this._getType(e)===ga.null?Ta(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(e,t)=>new Ho({innerType:e,typeName:nl.ZodNullable,...Va(t)});class Wo extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ga.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Wo.create=(e,t)=>new Wo({innerType:e,typeName:nl.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Va(t)});class Ko extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ra(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ba(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ba(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ko.create=(e,t)=>new Ko({innerType:e,typeName:nl.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Va(t)});class Go extends Ba{_parse(e){if(this._getType(e)!==ga.nan){const t=this._getOrReturnCtx(e);return Sa(t,{code:ya.invalid_type,expected:ga.nan,received:t.parsedType}),Aa}return{status:"valid",value:e.data}}}Go.create=e=>new Go({typeName:nl.ZodNaN,...Va(e)});const Xo=Symbol("zod_brand");class Yo extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Qo extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Aa:"dirty"===e.status?(t.dirty(),Ca(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Aa:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Qo({in:e,out:t,typeName:nl.ZodPipeline})}}class Zo extends Ba{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Ia(e)&&(e.value=Object.freeze(e.value)),e);return Ra(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Jo(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function el(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?xo.create().superRefine(((r,i)=>{var s,a;const o=e(r);if(o instanceof Promise)return o.then((e=>{var s,a;if(!e){const e=Jo(t,r),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=Jo(t,r),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:o})}})):xo.create()}Zo.create=(e,t)=>new Zo({innerType:e,typeName:nl.ZodReadonly,...Va(t)});const tl={object:Ao.lazycreate};var nl;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(nl||(nl={}));const rl=uo.create,il=fo.create,sl=Go.create,al=po.create,ol=mo.create,ll=go.create,cl=vo.create,ul=yo.create,dl=bo.create,hl=xo.create,fl=wo.create,pl=_o.create,ml=ko.create,gl=So.create,vl=Ao.create,yl=Ao.strictCreate,bl=Co.create,xl=No.create,wl=Io.create,_l=Ro.create,kl=jo.create,Sl=Do.create,El=Oo.create,Al=Mo.create,Cl=Fo.create,Tl=Lo.create,Nl=Vo.create,Pl=Bo.create,Il=zo.create,Rl=$o.create,jl=qo.create,Dl=Ho.create,Ol=$o.createWithPreprocess,Ml=Qo.create,Fl={string:e=>uo.create({...e,coerce:!0}),number:e=>fo.create({...e,coerce:!0}),boolean:e=>mo.create({...e,coerce:!0}),bigint:e=>po.create({...e,coerce:!0}),date:e=>go.create({...e,coerce:!0})},Ll=Aa;var Ul=Object.freeze({__proto__:null,defaultErrorMap:xa,setErrorMap:function(e){wa=e},getErrorMap:_a,makeIssue:ka,EMPTY_PATH:[],addIssueToContext:Sa,ParseStatus:Ea,INVALID:Aa,DIRTY:Ca,OK:Ta,isAborted:Na,isDirty:Pa,isValid:Ia,isAsync:Ra,get util(){return pa},get objectUtil(){return ma},ZodParsedType:ga,getParsedType:va,ZodType:Ba,datetimeRegex:ao,ZodString:uo,ZodNumber:fo,ZodBigInt:po,ZodBoolean:mo,ZodDate:go,ZodSymbol:vo,ZodUndefined:yo,ZodNull:bo,ZodAny:xo,ZodUnknown:wo,ZodNever:_o,ZodVoid:ko,ZodArray:So,ZodObject:Ao,ZodUnion:Co,ZodDiscriminatedUnion:No,ZodIntersection:Io,ZodTuple:Ro,ZodRecord:jo,ZodMap:Do,ZodSet:Oo,ZodFunction:Mo,ZodLazy:Fo,ZodLiteral:Lo,ZodEnum:Vo,ZodNativeEnum:Bo,ZodPromise:zo,ZodEffects:$o,ZodTransformer:$o,ZodOptional:qo,ZodNullable:Ho,ZodDefault:Wo,ZodCatch:Ko,ZodNaN:Go,BRAND:Xo,ZodBranded:Yo,ZodPipeline:Qo,ZodReadonly:Zo,custom:el,Schema:Ba,ZodSchema:Ba,late:tl,get ZodFirstPartyTypeKind(){return nl},coerce:Fl,any:hl,array:gl,bigint:al,boolean:ol,date:ll,discriminatedUnion:xl,effect:Rl,enum:Nl,function:Al,instanceof:function(e){return el((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:wl,lazy:Cl,literal:Tl,map:Sl,nan:sl,nativeEnum:Pl,never:pl,null:dl,nullable:Dl,number:il,object:vl,oboolean:()=>ol().optional(),onumber:()=>il().optional(),optional:jl,ostring:()=>rl().optional(),pipeline:Ml,preprocess:Ol,promise:Il,record:kl,set:El,strictObject:yl,string:rl,symbol:cl,transformer:Rl,tuple:_l,undefined:ul,union:bl,unknown:fl,void:ml,NEVER:Ll,ZodIssueCode:ya,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:ba});function Vl(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Bl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=Vl(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():Vl(t[e],null)}}}}function zl(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(Bl(...n),n)}var $l=e.forwardRef(((t,n)=>{const{children:r,...i}=t,s=e.Children.toArray(r),a=s.find(Wl);if(a){const t=a.props.children,r=s.map((n=>n===a?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n));return(0,V.jsx)(ql,{...i,ref:n,children:e.isValidElement(t)?e.cloneElement(t,void 0,r):null})}return(0,V.jsx)(ql,{...i,ref:n,children:r})}));$l.displayName="Slot";var ql=e.forwardRef(((t,n)=>{const{children:r,...i}=t;if(e.isValidElement(r)){const t=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),s=function(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){s(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(i,r.props);return r.type!==e.Fragment&&(s.ref=n?Bl(n,t):t),e.cloneElement(r,s)}return e.Children.count(r)>1?e.Children.only(null):null}));ql.displayName="SlotClone";var Hl=e=>{let{children:t}=e;return(0,V.jsx)(V.Fragment,{children:t})};function Wl(t){return e.isValidElement(t)&&t.type===Hl}function Kl(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Kl(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gl(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Kl(e))&&(r&&(r+=" "),r+=t);return r}const Xl=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ql;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ql extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zl=function(e){return function(e){const t=Xl(e);return Yl.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Jl=function(e){try{return Yl.decodeString(e,!0)}catch($){console.error("base64Decode failed: ",$)}return null};const ec=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,tc=()=>{try{return ec()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBr4cKBbB-RCcbPY0OlS5ZjuRQ_tLlWONI"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($){return}const t=e&&Jl(e[1]);return t&&JSON.parse(t)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},nc=e=>{var t,n;return null===(n=null===(t=tc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},rc=e=>{const t=nc(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ic=()=>{var e;return null===(e=tc())||void 0===e?void 0:e.config},sc=e=>{var t;return null===(t=tc())||void 0===t?void 0:t[`_${e}`]};class ac{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function oc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Zl(JSON.stringify({alg:"none",type:"JWT"})),Zl(JSON.stringify(s)),""].join(".")}function lc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function cc(){return!function(){var e;const t=null===(e=tc())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch($){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uc(){try{return"object"===typeof indexedDB}catch($){return!1}}class dc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(fc,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new dc(n,s,t)}}const fc=/\{\$([^}]+)}/g;function pc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(mc(n)&&mc(s)){if(!pc(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mc(e){return null!==e&&"object"===typeof e}function gc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vc(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function yc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class bc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=xc),void 0===r.error&&(r.error=xc),void 0===r.complete&&(r.complete=xc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($){"undefined"!==typeof console&&console.error&&console.error($)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function xc(){}function wc(e){return e&&e._delegate?e._delegate:e}class _c{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kc="[DEFAULT]";class Sc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ac;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($){if(r)return null;throw $}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kc})}catch($){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===kc?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc;return this.component?this.component.multipleInstances?e:kc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ec{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Sc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ac=[];var Cc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Cc||(Cc={}));const Tc={debug:Cc.DEBUG,verbose:Cc.VERBOSE,info:Cc.INFO,warn:Cc.WARN,error:Cc.ERROR,silent:Cc.SILENT},Nc=Cc.INFO,Pc={[Cc.DEBUG]:"log",[Cc.VERBOSE]:"log",[Cc.INFO]:"info",[Cc.WARN]:"warn",[Cc.ERROR]:"error"},Ic=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Pc[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Rc{constructor(e){this.name=e,this._logLevel=Nc,this._logHandler=Ic,this._userLogHandler=null,Ac.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cc))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cc.DEBUG,...t),this._logHandler(this,Cc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cc.VERBOSE,...t),this._logHandler(this,Cc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cc.INFO,...t),this._logHandler(this,Cc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cc.WARN,...t),this._logHandler(this,Cc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cc.ERROR,...t),this._logHandler(this,Cc.ERROR,...t)}}let jc,Dc;const Oc=new WeakMap,Mc=new WeakMap,Fc=new WeakMap,Lc=new WeakMap,Uc=new WeakMap;let Vc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $c(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Bc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dc||(Dc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qc(this),n),$c(Oc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $c(e.apply(qc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(qc(this),t,...r);return Fc.set(s,t.sort?t.sort():[t]),$c(s)}}function zc(e){return"function"===typeof e?Bc(e):(e instanceof IDBTransaction&&function(e){if(Mc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Mc.set(e,t)}(e),t=e,(jc||(jc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Vc):e);var t}function $c(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t($c(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Oc.set(t,e)})).catch((()=>{})),Uc.set(t,e),t}(e);if(Lc.has(e))return Lc.get(e);const t=zc(e);return t!==e&&(Lc.set(e,t),Uc.set(t,e)),t}const qc=e=>Uc.get(e);const Hc=["get","getKey","getAll","getAllKeys","count"],Wc=["put","add","delete","clear"],Kc=new Map;function Gc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Kc.get(t))return Kc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Wc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hc.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Kc.set(t,s),s}Vc=(e=>({...e,get:(t,n,r)=>Gc(t,n)||e.get(t,n,r),has:(t,n)=>!!Gc(t,n)||e.has(t,n)}))(Vc);class Xc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Yc="@firebase/app",Qc="0.11.2",Zc=new Rc("@firebase/app"),Jc="@firebase/app-compat",eu="@firebase/analytics-compat",tu="@firebase/analytics",nu="@firebase/app-check-compat",ru="@firebase/app-check",iu="@firebase/auth",su="@firebase/auth-compat",au="@firebase/database",ou="@firebase/data-connect",lu="@firebase/database-compat",cu="@firebase/functions",uu="@firebase/functions-compat",du="@firebase/installations",hu="@firebase/installations-compat",fu="@firebase/messaging",pu="@firebase/messaging-compat",mu="@firebase/performance",gu="@firebase/performance-compat",vu="@firebase/remote-config",yu="@firebase/remote-config-compat",bu="@firebase/storage",xu="@firebase/storage-compat",wu="@firebase/firestore",_u="@firebase/vertexai",ku="@firebase/firestore-compat",Su="firebase",Eu="[DEFAULT]",Au={[Yc]:"fire-core",[Jc]:"fire-core-compat",[tu]:"fire-analytics",[eu]:"fire-analytics-compat",[ru]:"fire-app-check",[nu]:"fire-app-check-compat",[iu]:"fire-auth",[su]:"fire-auth-compat",[au]:"fire-rtdb",[ou]:"fire-data-connect",[lu]:"fire-rtdb-compat",[cu]:"fire-fn",[uu]:"fire-fn-compat",[du]:"fire-iid",[hu]:"fire-iid-compat",[fu]:"fire-fcm",[pu]:"fire-fcm-compat",[mu]:"fire-perf",[gu]:"fire-perf-compat",[vu]:"fire-rc",[yu]:"fire-rc-compat",[bu]:"fire-gcs",[xu]:"fire-gcs-compat",[wu]:"fire-fst",[ku]:"fire-fst-compat",[_u]:"fire-vertex","fire-js":"fire-js",[Su]:"fire-js-all"},Cu=new Map,Tu=new Map,Nu=new Map;function Pu(e,t){try{e.container.addComponent(t)}catch($){Zc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,$)}}function Iu(e){const t=e.name;if(Nu.has(t))return Zc.debug(`There were multiple attempts to register component ${t}.`),!1;Nu.set(t,e);for(const n of Cu.values())Pu(n,e);for(const n of Tu.values())Pu(n,e);return!0}function Ru(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ju(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Du=new hc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ou{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _c("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Du.create("app-deleted",{appName:this._name})}}const Mu="11.4.0";function Fu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Eu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Du.create("bad-app-name",{appName:String(i)});if(n||(n=ic()),!n)throw Du.create("no-options");const s=Cu.get(i);if(s){if(pc(n,s.options)&&pc(r,s.config))return s;throw Du.create("duplicate-app",{appName:i})}const a=new Ec(i);for(const l of Nu.values())a.addComponent(l);const o=new Ou(n,r,a);return Cu.set(i,o),o}function Lu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eu;const t=Cu.get(e);if(!t&&e===Eu&&ic())return Fu();if(!t)throw Du.create("no-app",{appName:e});return t}function Uu(e,t,n){var r;let i=null!==(r=Au[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Zc.warn(e.join(" "))}Iu(new _c(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Vu="firebase-heartbeat-store";let Bu=null;function zu(){return Bu||(Bu=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=$c(a);return r&&a.addEventListener("upgradeneeded",(e=>{r($c(a.result),e.oldVersion,e.newVersion,$c(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Vu)}catch($){console.warn($)}}}).catch((e=>{throw Du.create("idb-open",{originalErrorMessage:e.message})}))),Bu}async function $u(e,t){try{const n=(await zu()).transaction(Vu,"readwrite"),r=n.objectStore(Vu);await r.put(t,qu(e)),await n.done}catch($){if($ instanceof dc)Zc.warn($.message);else{const t=Du.create("idb-set",{originalErrorMessage:null===$||void 0===$?void 0:$.message});Zc.warn(t.message)}}}function qu(e){return`${e.name}!${e.options.appId}`}class Hu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ku(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wu();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch($){Zc.warn($)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Wu(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Gu(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Zl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch($){return Zc.warn($),""}}}function Wu(){return(new Date).toISOString().substring(0,10)}class Ku{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!uc()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zu()).transaction(Vu),n=await t.objectStore(Vu).get(qu(e));return await t.done,n}catch($){if($ instanceof dc)Zc.warn($.message);else{const t=Du.create("idb-get",{originalErrorMessage:null===$||void 0===$?void 0:$.message});Zc.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $u(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $u(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gu(e){return Zl(JSON.stringify({version:2,heartbeats:e})).length}var Xu;Xu="",Iu(new _c("platform-logger",(e=>new Xc(e)),"PRIVATE")),Iu(new _c("heartbeat",(e=>new Hu(e)),"PRIVATE")),Uu(Yc,Qc,Xu),Uu(Yc,Qc,"esm2017"),Uu("fire-js","");var Yu,Qu,Zu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ju={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Qu=Ju.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Yu=Ju.Integer=r}).apply("undefined"!==typeof Zu?Zu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ed,td,nd,rd,id,sd,ad,od,ld="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cd={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ld&&ld];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new A),(e=>e.reset()));class A{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(I)}};var I=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(X){k(X)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function R(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(X){}return e}();function O(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(ee){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,j);var M={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),L=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++L,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),G={};function Y(e,t,n,r,i){if(r&&r.once)return Z(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=oe(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=se(e);if(l||(e[K]=l=new B(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ie;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(re(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Z(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Z(e,t[s],n,r,i);return null}return n=oe(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function te(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)te(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=oe(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&ne(n))}function ne(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(re(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(z(n,e),0==n.h&&(n.src=null,t[K]=null)):V(e)}}}function re(e){return e in G?G[e]:G[e]="on"+e}function ie(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ne(e),e=n.call(r,t)}return e}function se(e){return(e=e[K])instanceof B?e:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(e){return"function"===typeof e?e:(e[ae]||(e[ae]=function(t){return e.handleEvent(t)}),e[ae])}function le(){R.call(this),this.i=new B(this),this.M=this,this.F=null}function ce(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;w(t=new j(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ue(a,r,!0,t)&&i}if(i=ue(a=t.g=e,r,!0,t)&&i,i=ue(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ue(a=t.g=n[s],r,!1,t)&&i}function ue(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function de(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function he(e){e.g=de((()=>{e.g=null,e.i&&(e.i=!1,he(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(le,R),le.prototype[F]=!0,le.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},le.prototype.N=function(){if(le.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},le.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},le.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class fe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(e){R.call(this),this.h=e,this.g={}}d(pe,R);var me=[];function ge(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ne(e)}),e),e.g={}}pe.prototype.N=function(){pe.aa.N.call(this),ge(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=i.JSON.stringify,ye=i.JSON.parse,be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function xe(){}function we(e){return e.h||(e.h=e.i())}function _e(){}xe.prototype.h=null;var ke={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Se(){j.call(this,"d")}function Ee(){j.call(this,"c")}d(Se,j),d(Ee,j);var Ae={},Ce=null;function Te(){return Ce=Ce||new le}function Ne(e){j.call(this,Ae.La,e)}function Pe(e){const t=Te();ce(t,new Ne(t))}function Ie(e,t){j.call(this,Ae.STAT_EVENT,e),this.stat=t}function Re(e){const t=Te();ce(t,new Ie(t,e))}function je(e,t){j.call(this,Ae.Ma,e),this.size=t}function De(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Oe(){this.g=!0}function Me(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ve(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Ae.La="serverreachability",d(Ne,j),Ae.STAT_EVENT="statevent",d(Ie,j),Ae.Ma="timingevent",d(je,j),Oe.prototype.xa=function(){this.g=!1},Oe.prototype.info=function(){};var Fe,Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ve(){}function Be(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new pe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}d(Ve,xe),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Fe=new Ve;var $e={},qe={};function He(e,t,n){e.L=1,e.v=vt(ht(t)),e.m=n,e.P=!0,We(e,null)}function We(e,t){e.F=Date.now(),Xe(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Pt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new ze,e.g=yn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new fe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(me[0]=i.toString()),i=me);for(var s=0;s<i.length;s++){var a=Y(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pe(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ke(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ge(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qe:(n=Number(t.substring(n,r)),isNaN(n)?$e:(r+=1)+n>t.length?qe:(t=t.slice(r,r+n),e.C=r+n,t))}function Xe(e){e.S=Date.now()+e.I,Ye(e,e.I)}function Ye(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=De(c(e.ba,e),t)}function Qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ze(e){0==e.j.G||e.J||fn(e.j,e)}function Je(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ge(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(H){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Re(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=De(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(H){}n.ca=void 0}}else mn(n,11)}else if((e.K||n.g==e)&&hn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(at(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),a.K){ot(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(Qe(o),Xe(o)),r.g=a}else ln(r);0<n.i.length&&rn(n)}else"stop"!=c[0]&&"close"!=c[0]||mn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mn(n,7):en(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Pe()}catch(H){}}Be.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Yt(e)?t.j():this.Y(e)},Be.prototype.Y=function(e){try{if(e==this.g)e:{const h=Yt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=h||7==t||Pe(),Qe(this);var n=this.g.Z();this.X=n;t:if(Ke(this)){var r=Qt(this.g);e="";var s=r.length,a=4==Yt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Je(this),Ze(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Re(12),Je(this),Ze(this);break e}Me(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ge(this,o),e==qe){4==h&&(this.s=4,Re(14),n=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}if(e==$e){this.s=4,Re(15),Me(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Me(this.i,this.l,e,null),et(this,e)}if(Ke(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Re(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),un(d),d.M=!0,Re(11))}}else Me(this.i,this.l,o,"[Invalid Chunked Response]"),Je(this),Ze(this)}else Me(this.i,this.l,o,null),et(this,o);4==h&&Je(this),this.o&&!this.J&&(4==h?fn(this.j,this):(this.o=!1,Xe(this)))}else(function(e){const t={};e=(e.g&&2<=Yt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Re(12)):(this.s=0,Re(13)),Je(this),Ze(this)}}}catch(h){}},Be.prototype.cancel=function(){this.J=!0,Je(this)},Be.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Pe(),Re(17)),Je(this),this.s=2,Ze(this)):Ye(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,ft(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.s),this.l=e.l;var t=e.i,n=new At;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,ft(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),pt(this,t[4]),this.l=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.h=!1,this.i=new At(null,this.h))}function ht(e){return new dt(e)}function ft(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),Pt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,St)),e.i=new At(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?kt:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,Et)),e.join("")};var wt=/[#\/\?@]/g,_t=/[#\?:]/g,kt=/[#\?]/g,St=/[#\?@]/g,Et=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){Ct(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return Ct(e),t=It(e,t),e.g.has(t)}function Pt(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),h(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(ee){}}function jt(){this.g=new be}function Dt(e,t,n){const r=n||"";try{ct(e,(function(e,n){let i=e;a(e)&&(i=ve(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($){throw t.push(r+"type="+encodeURIComponent("_badmap")),$}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){le.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Lt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ut(e)}function Ut(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function zt(e){le.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=At.prototype).add=function(e,t){Ct(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ct(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Ct(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Ct(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ct(this),this.i=null,Nt(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Ot,xe),Ot.prototype.g=function(){return new Mt(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),d(Mt,le),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ut(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ut(this)),this.g&&(this.readyState=3,Ut(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lt(this):Ut(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Lt(this))},e.Qa=function(e){this.g&&(this.response=e,Lt(this))},e.ga=function(){this.g&&Lt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(zt,le);var $t=/^https?$/i,qt=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),Gt(e)}function Wt(e){e.A||(e.A=!0,ce(e,"complete"),ce(e,"error"))}function Kt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Yt(e)||2!=e.Z()))if(e.u&&4==Yt(e))de(e.Ea,0,e);else if(ce(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(ut)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!$t.test(a?a.toLowerCase():"")}n=s}if(n)ce(e,"complete"),ce(e,"success");else{e.m=6;try{var o=2<Yt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Wt(e)}}finally{Gt(e)}}}function Gt(e,t){if(e.g){Xt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ce(e,"ready");try{n.onreadystatechange=r}catch($){}}}function Xt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Yt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function en(e){if(nn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),an(e,n),(t=new Be(e,e.j,t)).L=2,t.v=vt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(J){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Xe(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.u&&(i.clearTimeout(e.u),e.u=null),hn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function rn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||P(),T||(C(),T=!0),N.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),an(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new Be(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=on(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),He(n,r,t)}function an(e,t){e.H&&y(e.H,(function(e,n){gt(t,n,e)})),e.l&&ct({},(function(e,n){gt(t,n,e)}))}function on(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Dt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function ln(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||P(),T||(C(),T=!0),N.add(t,e),e.v=0}}function cn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=De(c(e.Fa,e),pn(e,e.v)),e.v++,!0)}function un(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function dn(e){e.g=new Be(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),an(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ht(t)),n.m=null,n.P=!0,We(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function fn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ce(r=Te(),new je(r,n)),rn(e)}else ln(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=De(c(e.Ga,e,t),pn(e,e.B)),e.B++,!0))}(e,t)||2==r&&cn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function pn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ft(r,"https"),vt(r),t?function(e,t){const n=new Oe;if(i.Image){const r=new Image;r.onload=u(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Rt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Rt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Rt(0,0,!1,t)}))}(r.toString(),n)}else Re(2);e.G=0,e.l&&e.l.sa(t),gn(e),nn(e)}function gn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new dt(null);r&&ft(a,r),t&&(a.g=t),s&&pt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),an(e,r),r}function yn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new zt(new Ot({eb:n})):new zt(e.pa)).Ha(e.J),t}function bn(){}function xn(){}function wn(e,t){le.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sn(this)}function _n(e){Se.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){Ee.call(this),this.status=1}function Sn(e){this.g=e}(e=zt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?we(this.o):we(Fe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(ee){return void Ht(this,ee)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(qt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xt(this),this.u=!0,this.g.send(e),this.u=!1}catch(ee){Ht(this,ee)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ce(this,"complete"),ce(this,"abort"),Gt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Kt(this):this.bb())},e.bb=function(){Kt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch(W){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(W){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ye(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Jt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),rn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Be(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),an(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vt(s)))+"&"+t:this.m&&Bt(n,this.m,s)),at(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,He(i,n,null)):He(i,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||rt(this.h)||sn(this))},e.Fa=function(){if(this.u=null,dn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=De(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Re(10),tn(this),dn(this))},e.Za=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Re(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new wn(e,t)},d(wn,le),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ve(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.aa.N.call(this)},d(_n,Se),d(kn,Ee),d(Sn,bn),Sn.prototype.ua=function(){ce(this.g,"a")},Sn.prototype.ta=function(e){ce(this.g,new _n(e))},Sn.prototype.sa=function(e){ce(this.g,new kn)},Sn.prototype.ra=function(){ce(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,od=cd.createWebChannelTransport=function(){return new xn},ad=cd.getStatEventTarget=function(){return Te()},sd=cd.Event=Ae,id=cd.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,rd=cd.ErrorCode=Le,Ue.COMPLETE="complete",nd=cd.EventType=Ue,_e.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",le.prototype.listen=le.prototype.K,td=cd.WebChannel=_e,cd.FetchXmlHttpFactory=Ot,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,ed=cd.XhrIo=zt}).apply("undefined"!==typeof ld?ld:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ud="@firebase/firestore",dd="4.7.9";class hd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hd.UNAUTHENTICATED=new hd(null),hd.GOOGLE_CREDENTIALS=new hd("google-credentials-uid"),hd.FIRST_PARTY=new hd("first-party-uid"),hd.MOCK_USER=new hd("mock-user");let fd="11.4.0";const pd=new Rc("@firebase/firestore");function md(){return pd.logLevel}function gd(e){if(pd.logLevel<=Cc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bd);pd.debug(`Firestore (${fd}): ${e}`,...i)}}function vd(e){if(pd.logLevel<=Cc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bd);pd.error(`Firestore (${fd}): ${e}`,...i)}}function yd(e){if(pd.logLevel<=Cc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bd);pd.warn(`Firestore (${fd}): ${e}`,...i)}}function bd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(q){return e}}function xd(){const e=`FIRESTORE (${fd}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw vd(e),new Error(e)}function wd(e,t){e||xd()}function _d(e,t){return e}const kd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sd extends dc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ed{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ad{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hd.UNAUTHENTICATED)))}shutdown(){}}class Td{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nd{constructor(e){this.t=e,this.currentUser=hd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wd(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ed;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ed,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{gd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(gd("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ed)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(gd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wd("string"==typeof t.accessToken),new Ad(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wd(null===e||"string"==typeof e),new hd(e)}}class Pd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=hd.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Id{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Pd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(hd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jd{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ju(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){wd(void 0===this.o);const n=e=>{null!=e.error&&gd("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,gd("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{gd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):gd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Rd(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(wd("string"==typeof e.token),this.R=e.token,new Rd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Od{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Dd(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Md(e,t){return e<t?-1:e>t?1:0}function Fd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Ld=-62135596800,Ud=1e6;class Vd{static now(){return Vd.fromMillis(Date.now())}static fromDate(e){return Vd.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ud);return new Vd(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sd(kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sd(kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ld)throw new Sd(kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sd(kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ud}_compareTo(e){return this.seconds===e.seconds?Md(this.nanoseconds,e.nanoseconds):Md(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ld;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bd{static fromTimestamp(e){return new Bd(e)}static min(){return new Bd(new Vd(0,0))}static max(){return new Bd(new Vd(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zd="__name__";class $d{constructor(e,t,n){void 0===t?t=0:t>e.length&&xd(),void 0===n?n=e.length-t:n>e.length-t&&xd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$d.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $d?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=$d.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=$d.isNumericId(e),r=$d.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?$d.extractNumericId(e).compare($d.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yu.fromString(e.substring(4,e.length-2))}}class qd extends $d{construct(e,t,n){return new qd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Sd(kd.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new qd(e)}static emptyPath(){return new qd([])}}const Hd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wd extends $d{construct(e,t,n){return new Wd(e,t,n)}static isValidIdentifier(e){return Hd.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wd.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===zd}static keyField(){return new Wd([zd])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Sd(kd.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Sd(kd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Sd(kd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Sd(kd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wd(t)}static emptyPath(){return new Wd([])}}class Kd{constructor(e){this.path=e}static fromPath(e){return new Kd(qd.fromString(e))}static fromName(e){return new Kd(qd.fromString(e).popFirst(5))}static empty(){return new Kd(qd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kd(new qd(e.slice()))}}const Gd=-1;class Xd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Xd.UNKNOWN_ID=-1;function Yd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bd.fromTimestamp(1e9===r?new Vd(n+1,0):new Vd(n,r));return new Zd(i,Kd.empty(),t)}function Qd(e){return new Zd(e.readTime,e.key,Gd)}class Zd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Zd(Bd.min(),Kd.empty(),Gd)}static max(){return new Zd(Bd.max(),Kd.empty(),Gd)}}function Jd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Kd.comparator(e.documentKey,t.documentKey),0!==n?n:Md(e.largestBatchId,t.largestBatchId))}const eh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class th{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nh(e){if(e.code!==kd.FAILED_PRECONDITION||e.message!==eh)throw e;gd("LocalStore","Unexpectedly lost primary lease")}class rh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof rh?t:rh.resolve(t)}catch(e){return rh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):rh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):rh.reject(t)}static resolve(e){return new rh(((t,n)=>{t(e)}))}static reject(e){return new rh(((t,n)=>{n(e)}))}static waitFor(e){return new rh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=rh.resolve(!1);for(const n of e)t=t.next((e=>e?rh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new rh(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new rh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ih(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sh(e){return"IndexedDbTransactionError"===e.name}class ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ah.ae=-1;const oh=-1;function lh(e){return null==e}function ch(e){return 0===e&&1/e==-1/0}function uh(e){return"number"==typeof e&&Number.isInteger(e)&&!ch(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const dh="\x01";function hh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ph(t)),t=fh(e.get(n),t);return ph(t)}function fh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case dh:n+="\x01\x11";break;default:n+=t}}return n}function ph(e){return e+dh+"\x01"}const mh="remoteDocuments",gh="owner",vh="mutationQueues",yh="mutations";const bh="documentMutations",xh="remoteDocumentsV14",wh="remoteDocumentGlobal",_h="targets",kh="targetDocuments",Sh="targetGlobal",Eh="collectionParents",Ah="clientMetadata",Ch="bundles",Th="namedQueries",Nh="indexConfiguration",Ph="indexState",Ih="indexEntries",Rh="documentOverlays",jh="globals",Dh=[vh,yh,bh,mh,_h,gh,Sh,kh,Ah,wh,Eh,Ch,Th],Oh=[vh,yh,bh,xh,_h,gh,Sh,kh,Ah,wh,Eh,Ch,Th,Rh],Mh=Oh,Fh=[...Mh,Nh,Ph,Ih];function Lh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Uh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Bh{constructor(e,t){this.comparator=e,this.root=t||$h.EMPTY}insert(e,t){return new Bh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$h.BLACK,null,null))}remove(e){return new Bh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$h.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $h{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$h.RED,this.left=null!=r?r:$h.EMPTY,this.right=null!=i?i:$h.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new $h(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $h.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $h.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$h.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xd();if(this.right.isRed())throw xd();const e=this.left.check();if(e!==this.right.check())throw xd();return e+(this.isRed()?0:1)}}$h.EMPTY=null,$h.RED=!0,$h.BLACK=!1,$h.EMPTY=new class{constructor(){this.size=0}get key(){throw xd()}get value(){throw xd()}get color(){throw xd()}get left(){throw xd()}get right(){throw xd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $h(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qh{constructor(e){this.comparator=e,this.data=new Bh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hh(this.data.getIterator())}getIteratorFrom(e){return new Hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof qh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qh(this.comparator);return t.data=e,t}}class Hh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wh{constructor(e){this.fields=e,e.sort(Wd.comparator)}static empty(){return new Wh([])}unionWith(e){let t=new qh(Wd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Kh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Kh("Invalid base64 string: "+e):e}}(e);return new Gh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Gh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Md(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gh.EMPTY_BYTE_STRING=new Gh("");const Xh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yh(e){if(wd(!!e),"string"==typeof e){let t=0;const n=Xh.exec(e);if(wd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qh(e.seconds),nanos:Qh(e.nanos)}}function Qh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zh(e){return"string"==typeof e?Gh.fromBase64String(e):Gh.fromUint8Array(e)}const Jh="server_timestamp",ef="__type__",tf="__previous_value__",nf="__local_write_time__";function rf(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ef])||void 0===n?void 0:n.stringValue)===Jh}function sf(e){const t=e.mapValue.fields[tf];return rf(t)?sf(t):t}function af(e){const t=Yh(e.mapValue.fields[nf].timestampValue);return new Vd(t.seconds,t.nanos)}class of{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const lf="(default)";class cf{constructor(e,t){this.projectId=e,this.database=t||lf}static empty(){return new cf("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof cf&&e.projectId===this.projectId&&e.database===this.database}}const uf="__type__",df="__max__",hf={mapValue:{fields:{__type__:{stringValue:df}}}},ff="__vector__",pf="value";function mf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rf(e)?4:Rf(e)?9007199254740991:Pf(e)?10:11:xd()}function gf(e,t){if(e===t)return!0;const n=mf(e);if(n!==mf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return af(e).isEqual(af(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Yh(e.timestampValue),r=Yh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zh(e.bytesValue).isEqual(Zh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qh(e.geoPointValue.latitude)===Qh(t.geoPointValue.latitude)&&Qh(e.geoPointValue.longitude)===Qh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qh(e.integerValue)===Qh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Qh(e.doubleValue),r=Qh(t.doubleValue);return n===r?ch(n)===ch(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fd(e.arrayValue.values||[],t.arrayValue.values||[],gf);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lh(n)!==Lh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gf(n[i],r[i])))return!1;return!0}(e,t);default:return xd()}}function vf(e,t){return void 0!==(e.values||[]).find((e=>gf(e,t)))}function yf(e,t){if(e===t)return 0;const n=mf(e),r=mf(t);if(n!==r)return Md(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Md(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Qh(e.integerValue||e.doubleValue),r=Qh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bf(e.timestampValue,t.timestampValue);case 4:return bf(af(e),af(t));case 5:return Md(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Zh(e),r=Zh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Md(n[i],r[i]);if(0!==e)return e}return Md(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Md(Qh(e.latitude),Qh(t.latitude));return 0!==n?n:Md(Qh(e.longitude),Qh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return xf(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[pf])||void 0===n?void 0:n.arrayValue,c=null===(r=o[pf])||void 0===r?void 0:r.arrayValue,u=Md((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:xf(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===hf.mapValue&&t===hf.mapValue)return 0;if(e===hf.mapValue)return 1;if(t===hf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Md(r[a],s[a]);if(0!==e)return e;const t=yf(n[r[a]],i[s[a]]);if(0!==t)return t}return Md(r.length,s.length)}(e.mapValue,t.mapValue);default:throw xd()}}function bf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Md(e,t);const n=Yh(e),r=Yh(t),i=Md(n.seconds,r.seconds);return 0!==i?i:Md(n.nanos,r.nanos)}function xf(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=yf(n[i],r[i]);if(e)return e}return Md(n.length,r.length)}function wf(e){return _f(e)}function _f(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Yh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Zh(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Kd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=_f(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${_f(e.fields[i])}`;return n+"}"}(e.mapValue):xd()}function kf(e){switch(mf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sf(e);return t?16+kf(t):16;case 5:return 2*e.stringValue.length;case 6:return Zh(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+kf(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Uh(e.fields,((e,n)=>{t+=e.length+kf(n)})),t}(e.mapValue);default:throw xd()}}function Sf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ef(e){return!!e&&"integerValue"in e}function Af(e){return!!e&&"arrayValue"in e}function Cf(e){return!!e&&"nullValue"in e}function Tf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nf(e){return!!e&&"mapValue"in e}function Pf(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[uf])||void 0===n?void 0:n.stringValue)===ff}function If(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Uh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=If(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=If(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===df}class jf{constructor(e){this.value=e}static empty(){return new jf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(t)}setAll(e){let t=Wd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=If(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Nf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Uh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new jf(If(this.value))}}function Df(e){const t=[];return Uh(e.fields,((e,n)=>{const r=new Wd([e]);if(Nf(n)){const e=Df(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Wh(t)}class Of{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Of(e,0,Bd.min(),Bd.min(),Bd.min(),jf.empty(),0)}static newFoundDocument(e,t,n,r){return new Of(e,1,t,Bd.min(),n,r,0)}static newNoDocument(e,t){return new Of(e,2,t,Bd.min(),Bd.min(),jf.empty(),0)}static newUnknownDocument(e,t){return new Of(e,3,t,Bd.min(),Bd.min(),jf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Of&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Of(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(e,t){this.position=e,this.inclusive=t}}function Ff(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Kd.comparator(Kd.fromName(a.referenceValue),n.key):yf(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Lf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gf(e.position[n],t.position[n]))return!1;return!0}class Uf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Vf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bf{}class zf extends Bf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Yf(e,t,n):"array-contains"===t?new ep(e,n):"in"===t?new tp(e,n):"not-in"===t?new np(e,n):"array-contains-any"===t?new rp(e,n):new zf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qf(e,n):new Zf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yf(t,this.value)):null!==t&&mf(this.value)===mf(t)&&this.matchesComparison(yf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $f extends Bf{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new $f(e,t)}matches(e){return qf(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qf(e){return"and"===e.op}function Hf(e){return Wf(e)&&qf(e)}function Wf(e){for(const t of e.filters)if(t instanceof $f)return!1;return!0}function Kf(e){if(e instanceof zf)return e.field.canonicalString()+e.op.toString()+wf(e.value);if(Hf(e))return e.filters.map((e=>Kf(e))).join(",");{const t=e.filters.map((e=>Kf(e))).join(",");return`${e.op}(${t})`}}function Gf(e,t){return e instanceof zf?function(e,t){return t instanceof zf&&e.op===t.op&&e.field.isEqual(t.field)&&gf(e.value,t.value)}(e,t):e instanceof $f?function(e,t){return t instanceof $f&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Gf(n,t.filters[r])),!0)}(e,t):void xd()}function Xf(e){return e instanceof zf?function(e){return`${e.field.canonicalString()} ${e.op} ${wf(e.value)}`}(e):e instanceof $f?function(e){return e.op.toString()+" {"+e.getFilters().map(Xf).join(" ,")+"}"}(e):"Filter"}class Yf extends zf{constructor(e,t,n){super(e,t,n),this.key=Kd.fromName(n.referenceValue)}matches(e){const t=Kd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qf extends zf{constructor(e,t){super(e,"in",t),this.keys=Jf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zf extends zf{constructor(e,t){super(e,"not-in",t),this.keys=Jf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Jf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Kd.fromName(e.referenceValue)))}class ep extends zf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Af(t)&&vf(t.arrayValue,this.value)}}class tp extends zf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vf(this.value.arrayValue,t)}}class np extends zf{constructor(e,t){super(e,"not-in",t)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vf(this.value.arrayValue,t)}}class rp extends zf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Af(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>vf(this.value.arrayValue,e)))}}class ip{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function sp(e){return new ip(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ap(e){const t=_d(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Kf(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),lh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>wf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>wf(e))).join(",")),t.le=e}return t.le}function op(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lf(e.startAt,t.startAt)&&Lf(e.endAt,t.endAt)}function lp(e){return Kd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function up(e,t,n,r,i,s,a,o){return new cp(e,t,n,r,i,s,a,o)}function dp(e){return new cp(e)}function hp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fp(e){return null!==e.collectionGroup}function pp(e){const t=_d(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new qh(Wd.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Uf(r,n))})),e.has(Wd.keyField().canonicalString())||t.he.push(new Uf(Wd.keyField(),n))}return t.he}function mp(e){const t=_d(e);return t.Pe||(t.Pe=gp(t,pp(e))),t.Pe}function gp(e,t){if("F"===e.limitType)return sp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Uf(e.field,t)}));const n=e.endAt?new Mf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mf(e.startAt.position,e.startAt.inclusive):null;return sp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vp(e,t){const n=e.filters.concat([t]);return new cp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yp(e,t,n){return new cp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bp(e,t){return op(mp(e),mp(t))&&e.limitType===t.limitType}function xp(e){return`${ap(mp(e))}|lt:${e.limitType}`}function wp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Xf(e))).join(", ")}]`),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>wf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>wf(e))).join(",")),`Target(${t})`}(mp(e))}; limitType=${e.limitType})`}function _p(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Kd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of pp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ff(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pp(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ff(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pp(e),t))}(e,t)}function kp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sp(e){return(t,n)=>{let r=!1;for(const i of pp(e)){const e=Ep(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ep(e,t,n){const r=e.field.isKeyField()?Kd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yf(r,i):xd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xd()}}class Ap{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Uh(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Vh(this.inner)}size(){return this.innerSize}}const Cp=new Bh(Kd.comparator);function Tp(){return Cp}const Np=new Bh(Kd.comparator);function Pp(){let e=Np;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ip(e){let t=Np;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Rp(){return Dp()}function jp(){return Dp()}function Dp(){return new Ap((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Op=new Bh(Kd.comparator),Mp=new qh(Kd.comparator);function Fp(){let e=Mp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Lp=new qh(Md);function Up(){return Lp}function Vp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function Bp(e){return{integerValue:""+e}}function zp(e,t){return uh(t)?Bp(t):Vp(e,t)}class $p{constructor(){this._=void 0}}function qp(e,t,n){return e instanceof Kp?function(e,t){const n={fields:{[ef]:{stringValue:Jh},[nf]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rf(t)&&(t=sf(t)),t&&(n.fields[tf]=t),{mapValue:n}}(n,t):e instanceof Gp?Xp(e,t):e instanceof Yp?Qp(e,t):function(e,t){const n=Wp(e,t),r=Jp(n)+Jp(e.Ie);return Ef(n)&&Ef(e.Ie)?Bp(r):Vp(e.serializer,r)}(e,t)}function Hp(e,t,n){return e instanceof Gp?Xp(e,t):e instanceof Yp?Qp(e,t):n}function Wp(e,t){return e instanceof Zp?function(e){return Ef(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Kp extends $p{}class Gp extends $p{constructor(e){super(),this.elements=e}}function Xp(e,t){const n=em(t);for(const r of e.elements)n.some((e=>gf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Yp extends $p{constructor(e){super(),this.elements=e}}function Qp(e,t){let n=em(t);for(const r of e.elements)n=n.filter((e=>!gf(e,r)));return{arrayValue:{values:n}}}class Zp extends $p{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Jp(e){return Qh(e.integerValue||e.doubleValue)}function em(e){return Af(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class tm{constructor(e,t){this.version=e,this.transformResults=t}}class nm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nm}static exists(e){return new nm(void 0,e)}static updateTime(e){return new nm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class im{}function sm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mm(e.key,nm.none()):new um(e.key,e.data,nm.none());{const n=e.data,r=jf.empty();let i=new qh(Wd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new dm(e.key,r,new Wh(i.toArray()),nm.none())}}function am(e,t,n){e instanceof um?function(e,t,n){const r=e.value.clone(),i=fm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dm?function(e,t,n){if(!rm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function om(e,t,n,r){return e instanceof um?function(e,t,n,r){if(!rm(e.precondition,t))return n;const i=e.value.clone(),s=pm(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dm?function(e,t,n,r){if(!rm(e.precondition,t))return n;const i=pm(e.fieldTransforms,r,t),s=t.data;return s.setAll(hm(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return rm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lm(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Wp(r.transform,e||null);null!=i&&(null===n&&(n=jf.empty()),n.set(r.field,i))}return n||null}function cm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gp&&t instanceof Gp||e instanceof Yp&&t instanceof Yp?Fd(e.elements,t.elements,gf):e instanceof Zp&&t instanceof Zp?gf(e.Ie,t.Ie):e instanceof Kp&&t instanceof Kp}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class um extends im{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dm extends im{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hm(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function fm(e,t,n){const r=new Map;wd(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Hp(a,o,n[i]))}return r}function pm(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,qp(e,s,t))}return r}class mm extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gm extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&am(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=om(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=om(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=jp();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=sm(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Bd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fp())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,((e,t)=>cm(e,t)))&&Fd(this.baseMutations,e.baseMutations,((e,t)=>cm(e,t)))}}class ym{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wd(e.mutations.length===n.length);let r=Op;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ym(e,t,n,r)}}class bm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xm{constructor(e,t){this.count=e,this.unchangedNames=t}}var wm,_m;function km(e){switch(e){case kd.OK:return xd();case kd.CANCELLED:case kd.UNKNOWN:case kd.DEADLINE_EXCEEDED:case kd.RESOURCE_EXHAUSTED:case kd.INTERNAL:case kd.UNAVAILABLE:case kd.UNAUTHENTICATED:return!1;case kd.INVALID_ARGUMENT:case kd.NOT_FOUND:case kd.ALREADY_EXISTS:case kd.PERMISSION_DENIED:case kd.FAILED_PRECONDITION:case kd.ABORTED:case kd.OUT_OF_RANGE:case kd.UNIMPLEMENTED:case kd.DATA_LOSS:return!0;default:return xd()}}function Sm(e){if(void 0===e)return vd("GRPC error has no .code"),kd.UNKNOWN;switch(e){case wm.OK:return kd.OK;case wm.CANCELLED:return kd.CANCELLED;case wm.UNKNOWN:return kd.UNKNOWN;case wm.DEADLINE_EXCEEDED:return kd.DEADLINE_EXCEEDED;case wm.RESOURCE_EXHAUSTED:return kd.RESOURCE_EXHAUSTED;case wm.INTERNAL:return kd.INTERNAL;case wm.UNAVAILABLE:return kd.UNAVAILABLE;case wm.UNAUTHENTICATED:return kd.UNAUTHENTICATED;case wm.INVALID_ARGUMENT:return kd.INVALID_ARGUMENT;case wm.NOT_FOUND:return kd.NOT_FOUND;case wm.ALREADY_EXISTS:return kd.ALREADY_EXISTS;case wm.PERMISSION_DENIED:return kd.PERMISSION_DENIED;case wm.FAILED_PRECONDITION:return kd.FAILED_PRECONDITION;case wm.ABORTED:return kd.ABORTED;case wm.OUT_OF_RANGE:return kd.OUT_OF_RANGE;case wm.UNIMPLEMENTED:return kd.UNIMPLEMENTED;case wm.DATA_LOSS:return kd.DATA_LOSS;default:return xd()}}(_m=wm||(wm={}))[_m.OK=0]="OK",_m[_m.CANCELLED=1]="CANCELLED",_m[_m.UNKNOWN=2]="UNKNOWN",_m[_m.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_m[_m.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_m[_m.NOT_FOUND=5]="NOT_FOUND",_m[_m.ALREADY_EXISTS=6]="ALREADY_EXISTS",_m[_m.PERMISSION_DENIED=7]="PERMISSION_DENIED",_m[_m.UNAUTHENTICATED=16]="UNAUTHENTICATED",_m[_m.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_m[_m.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_m[_m.ABORTED=10]="ABORTED",_m[_m.OUT_OF_RANGE=11]="OUT_OF_RANGE",_m[_m.UNIMPLEMENTED=12]="UNIMPLEMENTED",_m[_m.INTERNAL=13]="INTERNAL",_m[_m.UNAVAILABLE=14]="UNAVAILABLE",_m[_m.DATA_LOSS=15]="DATA_LOSS";let Em=null;function Am(){return new TextEncoder}const Cm=new Yu([4294967295,4294967295],0);function Tm(e){const t=Am().encode(e),n=new Qu;return n.update(t),new Uint8Array(n.digest())}function Nm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Yu([n,r],0),new Yu([i,s],0)]}class Pm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Im(`Invalid padding: ${t}`);if(n<0)throw new Im(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Im(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Im(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yu.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Yu.fromNumber(n)));return 1===r.compare(Cm)&&(r=new Yu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Tm(e),[n,r]=Nm(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Pm(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=Tm(e),[n,r]=Nm(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Im extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Rm(Bd.min(),r,new Bh(Md),Tp(),Fp())}}class jm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jm(n,t,Fp(),Fp(),Fp())}}class Dm{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Om{constructor(e,t){this.targetId=e,this.ge=t}}class Mm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fm{constructor(){this.pe=0,this.ye=Vm(),this.we=Gh.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fp(),t=Fp(),n=Fp();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xd()}})),new jm(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=Vm()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,wd(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Lm{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Tp(),this.$e=Um(),this.Ke=Um(),this.Ue=new Bh(Md)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:xd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(lp(i))if(0===n){const e=new Kd(i.path);this.ze(t,e,Of.newNoDocument(e,Bd.min()))}else wd(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==Em||Em.rt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Zh(n).toUint8Array()}catch(e){if(e instanceof Kh)return yd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Pm(s,r,i)}catch(e){return yd(e instanceof Im?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&lp(i.target)){const t=new Kd(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Of.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Fp();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Rm(e,t,this.Ue,this.Qe,n);return this.Qe=Tp(),this.$e=Um(),this.Ke=Um(),this.Ue=new Bh(Md),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Fm,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new qh(Md),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qh(Md),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||gd("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Fm),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Um(){return new Bh(Kd.comparator)}function Vm(){return new Bh(Kd.comparator)}const Bm={asc:"ASCENDING",desc:"DESCENDING"},zm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$m={and:"AND",or:"OR"};class qm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hm(e,t){return e.useProto3Json||lh(t)?t:{value:t}}function Wm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Km(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gm(e,t){return Wm(e,t.toTimestamp())}function Xm(e){return wd(!!e),Bd.fromTimestamp(function(e){const t=Yh(e);return new Vd(t.seconds,t.nanos)}(e))}function Ym(e,t){return Qm(e,t).canonicalString()}function Qm(e,t){const n=function(e){return new qd(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Zm(e){const t=qd.fromString(e);return wd(yg(t)),t}function Jm(e,t){return Ym(e.databaseId,t.path)}function eg(e,t){const n=Zm(t);if(n.get(1)!==e.databaseId.projectId)throw new Sd(kd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sd(kd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Kd(ig(n))}function tg(e,t){return Ym(e.databaseId,t)}function ng(e){const t=Zm(e);return 4===t.length?qd.emptyPath():ig(t)}function rg(e){return new qd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ig(e){return wd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sg(e,t,n){return{name:Jm(e,t),fields:n.value.mapValue.fields}}function ag(e,t){let n;if(t instanceof um)n={update:sg(e,t.key,t.value)};else if(t instanceof mm)n={delete:Jm(e,t.key)};else if(t instanceof dm)n={update:sg(e,t.key,t.data),updateMask:vg(t.fieldMask)};else{if(!(t instanceof gm))return xd();n={verify:Jm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Kp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw xd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xd()}(e,t.precondition)),n}function og(e,t){return{documents:[tg(e,t.path)]}}function lg(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tg(e,i);const s=function(e){if(0!==e.length)return gg($f.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:pg(e.field),direction:dg(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Hm(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function cg(e){let t=ng(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wd(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ug(e);return t instanceof $f&&Hf(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Uf(mg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,lh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Mf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Mf(n,t)}(n.endAt)),up(t,i,a,s,o,"F",l,c)}function ug(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mg(e.unaryFilter.field);return zf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mg(e.unaryFilter.field);return zf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mg(e.unaryFilter.field);return zf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mg(e.unaryFilter.field);return zf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xd()}}(e):void 0!==e.fieldFilter?function(e){return zf.create(mg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $f.create(e.compositeFilter.filters.map((e=>ug(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xd()}}(e.compositeFilter.op))}(e):xd()}function dg(e){return Bm[e]}function hg(e){return zm[e]}function fg(e){return $m[e]}function pg(e){return{fieldPath:e.canonicalString()}}function mg(e){return Wd.fromServerFormat(e.fieldPath)}function gg(e){return e instanceof zf?function(e){if("=="===e.op){if(Tf(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NAN"}};if(Cf(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tf(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NOT_NAN"}};if(Cf(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pg(e.field),op:hg(e.op),value:e.value}}}(e):e instanceof $f?function(e){const t=e.getFilters().map((e=>gg(e)));return 1===t.length?t[0]:{compositeFilter:{op:fg(e.op),filters:t}}}(e):xd()}function vg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function yg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class bg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bd.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gh.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new bg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xg{constructor(e){this.Tt=e}}function wg(e){const t=cg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yp(t,t.limit,"L"):t}class _g{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Qh(e.integerValue));else if("doubleValue"in e){const n=Qh(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),ch(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Yh(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Zh(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Rf(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Pf(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):xd()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=pf,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Qh(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Kd.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}_g.xt=new _g;class kg{constructor(){this.Tn=new Sg}addToCollectionParentIndex(e,t){return this.Tn.add(t),rh.resolve()}getCollectionParents(e,t){return rh.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return rh.resolve()}deleteFieldIndex(e,t){return rh.resolve()}deleteAllFieldIndexes(e){return rh.resolve()}createTargetIndexes(e,t){return rh.resolve()}getDocumentsMatchingTarget(e,t){return rh.resolve(null)}getIndexType(e,t){return rh.resolve(0)}getFieldIndexes(e,t){return rh.resolve([])}getNextCollectionGroupToUpdate(e){return rh.resolve(null)}getMinOffset(e,t){return rh.resolve(Zd.min())}getMinOffsetFromCollectionGroup(e,t){return rh.resolve(Zd.min())}updateCollectionGroup(e,t,n){return rh.resolve()}updateIndexEntries(e,t){return rh.resolve()}}class Sg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qh(qd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new qh(qd.comparator)).toArray()}}new Uint8Array(0);const Eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ag=41943040;class Cg{static withCacheSize(e){return new Cg(e,Cg.DEFAULT_COLLECTION_PERCENTILE,Cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Cg.DEFAULT_COLLECTION_PERCENTILE=10,Cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cg.DEFAULT=new Cg(Ag,Cg.DEFAULT_COLLECTION_PERCENTILE,Cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cg.DISABLED=new Cg(-1,0,0);class Tg{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Tg(0)}static Un(){return new Tg(-1)}}const Ng="LruGarbageCollector",Pg=1048576;function Ig(e,t){let[n,r]=e,[i,s]=t;const a=Md(n,i);return 0===a?Md(r,s):a}class Rg{constructor(e){this.Hn=e,this.buffer=new qh(Ig),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ig(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){gd(Ng,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sh(e)?gd(Ng,"Ignoring IndexedDB error during garbage collection: ",e):await nh(e)}await this.er(3e5)}))}}class Dg{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return rh.resolve(ah.ae);const n=new Rg(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gd("LruGarbageCollector","Garbage collection skipped; disabled"),rh.resolve(Eg)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(gd("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eg):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(gd("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),md()<=Cc.DEBUG&&gd("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),rh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Og(e,t){return new Dg(e,t)}class Mg{constructor(){this.changes=new Ap((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Of.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?rh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&om(n.mutation,e,Wh.empty(),Vd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Fp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fp();const r=Rp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Pp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Rp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Fp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Tp();const s=Dp(),a=Dp();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof dm)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),om(a.mutation,t,a.mutation.getFieldMask(),Vd.now())):s.set(t.key,Wh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Fg(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Dp();let r=new Bh(((e,t)=>e-t)),i=Fp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Wh.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Fp()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=jp();l.forEach((e=>{if(!i.has(e)){const r=sm(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return rh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Kd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):rh.resolve(Rp());let a=Gd,o=i;return s.next((t=>rh.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?rh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Fp()))).next((e=>({batchId:a,changes:Ip(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Kd(t)).next((e=>{let t=Pp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Pp();return this.indexManager.getCollectionParents(e,i).next((a=>rh.forEach(a,(a=>{const o=function(e,t){return new cp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Of.newInvalidDocument(r)))}));let n=Pp();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&om(s.mutation,r,Wh.empty(),Vd.now()),_p(t,r)&&(n=n.insert(e,r))})),n}))}}class Ug{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return rh.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Xm(e.createTime)}}(t)),rh.resolve()}getNamedQuery(e,t){return rh.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:wg(e.bundledQuery),readTime:Xm(e.readTime)}}(t)),rh.resolve()}}class Vg{constructor(){this.overlays=new Bh(Kd.comparator),this.Rr=new Map}getOverlay(e,t){return rh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Rp();return rh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),rh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),rh.resolve()}getOverlaysForCollection(e,t,n){const r=Rp(),i=t.length+1,s=new Kd(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return rh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Bh(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Rp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Rp(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return rh.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bm(t,n));let i=this.Rr.get(t);void 0===i&&(i=Fp(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Bg{constructor(){this.sessionToken=Gh.EMPTY_BYTE_STRING}getSessionToken(e){return rh.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,rh.resolve()}}class zg{constructor(){this.Vr=new qh($g.mr),this.gr=new qh($g.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new $g(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new $g(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new Kd(new qd([])),n=new $g(t,e),r=new $g(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Kd(new qd([])),n=new $g(t,e),r=new $g(t,e+1);let i=Fp();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new $g(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $g{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Kd.comparator(e.key,t.key)||Md(e.Cr,t.Cr)}static pr(e,t){return Md(e.Cr,t.Cr)||Kd.comparator(e.key,t.key)}}class qg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qh($g.mr)}checkEmpty(e){return rh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vm(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new $g(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return rh.resolve(s)}lookupMutationBatch(e,t){return rh.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return rh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return rh.resolve(0===this.mutationQueue.length?oh:this.Fr-1)}getAllMutationBatches(e){return rh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $g(t,0),r=new $g(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),rh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qh(Md);return t.forEach((e=>{const t=new $g(e,0),r=new $g(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),rh.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Kd.isDocumentKey(i)||(i=i.child(""));const s=new $g(new Kd(i),0);let a=new qh(Md);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),rh.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){wd(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return rh.forEach(t.mutations,(r=>{const i=new $g(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new $g(t,0),r=this.Mr.firstAfterOrEqual(n);return rh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,rh.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hg{constructor(e){this.kr=e,this.docs=new Bh(Kd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return rh.resolve(n?n.document.mutableCopy():Of.newInvalidDocument(t))}getEntries(e,t){let n=Tp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Of.newInvalidDocument(e))})),rh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tp();const s=t.path,a=new Kd(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Jd(Qd(a),n)<=0||(r.has(a.key)||_p(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return rh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xd()}qr(e,t){return rh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wg(this)}getSize(e){return rh.resolve(this.size)}}class Wg extends Mg{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),rh.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Kg{constructor(e){this.persistence=e,this.Qr=new Ap((e=>ap(e)),op),this.lastRemoteSnapshotVersion=Bd.min(),this.highestTargetId=0,this.$r=0,this.Kr=new zg,this.targetCount=0,this.Ur=Tg.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),rh.resolve()}getLastRemoteSnapshotVersion(e){return rh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rh.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),rh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),rh.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Tg(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,rh.resolve()}updateTargetData(e,t){return this.zn(t),rh.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,rh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),rh.waitFor(i).next((()=>r))}getTargetCount(e){return rh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return rh.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),rh.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),rh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),rh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return rh.resolve(n)}containsKey(e,t){return rh.resolve(this.Kr.containsKey(t))}}class Gg{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ah(0),this.zr=!1,this.zr=!0,this.jr=new Bg,this.referenceDelegate=e(this),this.Hr=new Kg(this),this.indexManager=new kg,this.remoteDocumentCache=function(e){return new Hg(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new xg(t),this.Yr=new Ug(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new qg(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){gd("MemoryPersistence","Starting transaction:",e);const r=new Xg(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return rh.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Xg extends th{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.ti=new zg,this.ni=null}static ri(e){return new Yg(e)}get ii(){if(this.ni)return this.ni;throw xd()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),rh.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),rh.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),rh.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rh.forEach(this.ii,(n=>{const r=Kd.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Bd.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return rh.or([()=>rh.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qg{constructor(e,t){this.persistence=e,this.oi=new Ap((e=>hh(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Og(this,t)}static ri(e,t){return new Qg(e,t)}Zr(){}Xr(e){return rh.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return rh.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?rh.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Bd.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),rh.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),rh.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),rh.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),rh.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kf(e.data.value)),t}ar(e,t,n){return rh.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return rh.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Fp(),r=Fp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zg(e,t.fromCache,n,r)}}class Jg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ev{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=cc()?8:ih(lc())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Jg;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(md()<=Cc.DEBUG&&gd("QueryEngine","SDK will not create cache indexes for query:",wp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),rh.resolve()):(md()<=Cc.DEBUG&&gd("QueryEngine","Query:",wp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(md()<=Cc.DEBUG&&gd("QueryEngine","The SDK decides to create cache indexes for query:",wp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mp(t))):rh.resolve())}rs(e,t){if(hp(t))return rh.resolve(null);let n=mp(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=yp(t,null,"F"),n=mp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Fp(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,yp(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return hp(t)||r.isEqual(Bd.min())?rh.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?rh.resolve(null):(md()<=Cc.DEBUG&&gd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wp(t)),this.hs(e,s,t,Yd(r,Gd)).next((e=>e)))}))}cs(e,t){let n=new qh(Sp(e));return t.forEach(((t,r)=>{_p(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return md()<=Cc.DEBUG&&gd("QueryEngine","Using full collection scan to execute query:",wp(t)),this.ns.getDocumentsMatchingQuery(e,t,Zd.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const tv="LocalStore";class nv{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Bh(Md),this.Is=new Ap((e=>ap(e)),op),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lg(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function rv(e,t,n,r){return new nv(e,t,n,r)}async function iv(e,t){const n=_d(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Fp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function sv(e){const t=_d(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function av(e,t,n){let r=Fp(),i=Fp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Tp();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Bd.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):gd(tv,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function ov(e,t){const n=_d(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=oh),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function lv(e,t){const n=_d(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,rh.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new bg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function cv(e,t,n){const r=_d(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!sh(e))throw e;gd(tv,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function uv(e,t,n){const r=_d(e);let i=Bd.min(),s=Fp();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=_d(e),i=r.Is.get(n);return void 0!==i?rh.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,mp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Bd.min(),n?s:Fp()))).next((e=>(dv(r,kp(t),e),{documents:e,gs:s})))))}function dv(e,t,n){let r=e.Es.get(t)||Bd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class hv{constructor(){this.activeTargetIds=Up()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fv{constructor(){this.ho=new hv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pv{To(e){}shutdown(){}}const mv="ConnectivityMonitor";class gv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){gd(mv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){gd(mv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vv=null;function yv(){return null===vv?vv=268435456+Math.round(2147483648*Math.random()):vv++,"0x"+vv.toString(16)}const bv="RestConnection",xv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wv{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===lf?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const s=yv(),a=this.So(e,t.toUriEncodedString());gd(bv,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(gd(bv,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw yd(bv,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=xv[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class _v{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const kv="WebChannelConnection";class Sv extends wv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=yv();return new Promise(((s,a)=>{const o=new ed;o.setWithCredentials(!0),o.listenOnce(nd.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case rd.NO_ERROR:const t=o.getResponseJson();gd(kv,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case rd.TIMEOUT:gd(kv,`RPC '${e}' ${i} timed out`),a(new Sd(kd.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const n=o.getStatus();if(gd(kv,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(kd).indexOf(t)>=0?t:kd.UNKNOWN}(t.status);a(new Sd(e,t.message))}else a(new Sd(kd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Sd(kd.UNAVAILABLE,"Connection failed."));break;default:xd()}}finally{gd(kv,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);gd(kv,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=yv(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=od(),a=ad(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");gd(kv,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new _v({Fo:t=>{h?gd(kv,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(gd(kv,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),gd(kv,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,td.EventType.OPEN,(()=>{h||(gd(kv,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,td.EventType.CLOSE,(()=>{h||(h=!0,gd(kv,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,td.EventType.ERROR,(t=>{h||(h=!0,yd(kv,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new Sd(kd.UNAVAILABLE,"The operation could not be completed")))})),p(u,td.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];wd(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){gd(kv,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=wm[e];if(void 0!==t)return Sm(t)}(t),i=a.message;void 0===n&&(n=kd.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ko(new Sd(n,i)),u.close()}else gd(kv,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(a,sd.STAT_EVENT,(t=>{t.stat===id.PROXY?gd(kv,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===id.NOPROXY&&gd(kv,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Ev(){return"undefined"!=typeof document?document:null}function Av(e){return new qm(e,!0)}class Cv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&gd("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Tv="PersistentStream";class Nv{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Cv(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===kd.RESOURCE_EXHAUSTED?(vd(t.toString()),vd("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===kd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Sd(kd.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return gd(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(gd(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pv extends Nv{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(wd(void 0===t||"string"==typeof t),Gh.fromBase64String(t||"")):(wd(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Gh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?kd.UNKNOWN:Sm(e.code);return new Sd(t,e.message||"")}(a);n=new Mm(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=eg(e,r.document.name),s=Xm(r.document.updateTime),a=r.document.createTime?Xm(r.document.createTime):Bd.min(),o=new jf({mapValue:{fields:r.document.fields}}),l=Of.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Dm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=eg(e,r.document),s=r.readTime?Xm(r.readTime):Bd.min(),a=Of.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Dm([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=eg(e,r.document),s=r.removedTargetIds||[];n=new Dm([],s,i,null)}else{if(!("filter"in t))return xd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new xm(r,i),a=e.targetId;n=new Om(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Bd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Bd.min():t.readTime?Xm(t.readTime):Bd.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=rg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lp(r)?{documents:og(e,r)}:{query:lg(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Km(e,t.resumeToken);const r=Hm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Bd.min())>0){n.readTime=Wm(e,t.snapshotVersion.toTimestamp());const r=Hm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.I_(t)}}class Iv extends Nv{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return wd(!!e.streamToken),this.lastStreamToken=e.streamToken,wd(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){wd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(wd(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Xm(e.updateTime):Xm(t);return n.isEqual(Bd.min())&&(n=Xm(t)),new tm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Xm(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=rg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ag(this.serializer,e)))};this.I_(t)}}class Rv{}class jv extends Rv{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Sd(kd.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.bo(e,Qm(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===kd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sd(kd.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,Qm(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===kd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sd(kd.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Dv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vd(t),this.N_=!1):gd("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Ov="RemoteStore";class Mv{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Hv(this)&&(gd(Ov,"Restarting streams for network reachability change."),await async function(e){const t=_d(e);t.W_.add(4),await Lv(t),t.j_.set("Unknown"),t.W_.delete(4),await Fv(t)}(this))}))})),this.j_=new Dv(n,r)}}async function Fv(e){if(Hv(e))for(const t of e.G_)await t(!0)}async function Lv(e){for(const t of e.G_)await t(!1)}function Uv(e,t){const n=_d(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),qv(n)?$v(n):uy(n).c_()&&Bv(n,t))}function Vv(e,t){const n=_d(e),r=uy(n);n.U_.delete(t),r.c_()&&zv(n,t),0===n.U_.size&&(r.c_()?r.P_():Hv(n)&&n.j_.set("Unknown"))}function Bv(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uy(e).y_(t)}function zv(e,t){e.H_.Ne(t),uy(e).w_(t)}function $v(e){e.H_=new Lm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),uy(e).start(),e.j_.B_()}function qv(e){return Hv(e)&&!uy(e).u_()&&e.U_.size>0}function Hv(e){return 0===_d(e).W_.size}function Wv(e){e.H_=void 0}async function Kv(e){e.j_.set("Online")}async function Gv(e){e.U_.forEach(((t,n)=>{Bv(e,t)}))}async function Xv(e,t){Wv(e),qv(e)?(e.j_.q_(t),$v(e)):e.j_.set("Unknown")}async function Yv(e,t,n){if(e.j_.set("Online"),t instanceof Mm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){gd(Ov,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Qv(e,n)}else if(t instanceof Dm?e.H_.We(t):t instanceof Om?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Bd.min()))try{const t=await sv(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(Gh.EMPTY_BYTE_STRING,r.snapshotVersion)),zv(e,t);const i=new bg(r.target,t,n,r.sequenceNumber);Bv(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gd(Ov,"Failed to raise snapshot:",t),await Qv(e,t)}}async function Qv(e,t,n){if(!sh(t))throw t;e.W_.add(1),await Lv(e),e.j_.set("Offline"),n||(n=()=>sv(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{gd(Ov,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Fv(e)}))}function Zv(e,t){return t().catch((n=>Qv(e,n,t)))}async function Jv(e){const t=_d(e),n=dy(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:oh;for(;ey(t);)try{const e=await ov(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,ty(t,e)}catch(e){await Qv(t,e)}ny(t)&&ry(t)}function ey(e){return Hv(e)&&e.K_.length<10}function ty(e,t){e.K_.push(t);const n=dy(e);n.c_()&&n.b_&&n.S_(t.mutations)}function ny(e){return Hv(e)&&!dy(e).u_()&&e.K_.length>0}function ry(e){dy(e).start()}async function iy(e){dy(e).C_()}async function sy(e){const t=dy(e);for(const n of e.K_)t.S_(n.mutations)}async function ay(e,t,n){const r=e.K_.shift(),i=ym.from(r,t,n);await Zv(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Jv(e)}async function oy(e,t){t&&dy(e).b_&&await async function(e,t){if(function(e){return km(e)&&e!==kd.ABORTED}(t.code)){const n=e.K_.shift();dy(e).h_(),await Zv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Jv(e)}}(e,t),ny(e)&&ry(e)}async function ly(e,t){const n=_d(e);n.asyncQueue.verifyOperationInProgress(),gd(Ov,"RemoteStore received new credentials");const r=Hv(n);n.W_.add(3),await Lv(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Fv(n)}async function cy(e,t){const n=_d(e);t?(n.W_.delete(2),await Fv(n)):t||(n.W_.add(2),await Lv(n),n.j_.set("Unknown"))}function uy(e){return e.J_||(e.J_=function(e,t,n){const r=_d(e);return r.M_(),new Pv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Kv.bind(null,e),No:Gv.bind(null,e),Lo:Xv.bind(null,e),p_:Yv.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),qv(e)?$v(e):e.j_.set("Unknown")):(await e.J_.stop(),Wv(e))}))),e.J_}function dy(e){return e.Y_||(e.Y_=function(e,t,n){const r=_d(e);return r.M_(),new Iv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:iy.bind(null,e),Lo:oy.bind(null,e),D_:sy.bind(null,e),v_:ay.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Jv(e)):(await e.Y_.stop(),e.K_.length>0&&(gd(Ov,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class hy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ed,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new hy(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sd(kd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(e,t){if(vd("AsyncQueue",`${t}: ${e}`),sh(e))return new Sd(kd.UNAVAILABLE,`${t}: ${e}`);throw e}class py{static emptySet(e){return new py(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Kd.comparator(t.key,n.key):(e,t)=>Kd.comparator(e.key,t.key),this.keyedMap=Pp(),this.sortedSet=new Bh(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof py))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new py;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class my{constructor(){this.Z_=new Bh(Kd.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xd():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gy{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new gy(e,t,py.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vy{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class yy{constructor(){this.queries=by(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=_d(e),r=n.queries;n.queries=by(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Sd(kd.ABORTED,"Firestore shutting down"))}}function by(){return new Ap((e=>xp(e)),bp)}async function xy(e,t){const n=_d(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new vy,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=fy(e,`Initialization of query '${wp(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Sy(n)}async function wy(e,t){const n=_d(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _y(e,t){const n=_d(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Sy(n)}function ky(e,t,n){const r=_d(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function Sy(e){e.ia.forEach((e=>{e.next()}))}var Ey,Ay;(Ay=Ey||(Ey={}))._a="default",Ay.Cache="cache";class Cy{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=gy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ey.Cache}}class Ty{constructor(e){this.key=e}}class Ny{constructor(e){this.key=e}}class Py{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fp(),this.mutatedKeys=Fp(),this.ya=Sp(e),this.wa=new py(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new my,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=_p(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xd()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new gy(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new my,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fp(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Ny(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Ty(n))})),t}Oa(e){this.fa=e.gs,this.pa=Fp();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return gy.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Iy="SyncEngine";class Ry{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jy{constructor(e){this.key=e,this.Ba=!1}}class Dy{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Ap((e=>xp(e)),bp),this.qa=new Map,this.Qa=new Set,this.$a=new Bh(Kd.comparator),this.Ka=new Map,this.Ua=new zg,this.Wa={},this.Ga=new Map,this.za=Tg.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Oy(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=nb(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Fy(r,t,n,!0),i}async function My(e,t){const n=nb(e);await Fy(n,t,!0,!1)}async function Fy(e,t,n,r){const i=await lv(e.localStore,mp(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Ly(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Uv(e.remoteStore,i),o}async function Ly(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await uv(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Yy(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await uv(e.localStore,t,!0),a=new Py(t,s.gs),o=a.Sa(s.documents),l=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Yy(e,n,c.Ma);const u=new Ry(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Uy(e,t,n){const r=_d(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!bp(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vv(r.remoteStore,i.targetId),Gy(r,i.targetId)})).catch(nh)):(Gy(r,i.targetId),await cv(r.localStore,i.targetId,!0))}async function Vy(e,t){const n=_d(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(n.remoteStore,r.targetId))}async function By(e,t){const n=_d(e);try{const e=await function(e,t){const n=_d(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Gh.EMPTY_BYTE_STRING,Bd.min()).withLastLimboFreeSnapshotVersion(Bd.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))}));let o=Tp(),l=Fp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(av(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(Bd.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return rh.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(wd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?wd(r.Ba):e.removedDocuments.size>0&&(wd(r.Ba),r.Ba=!1))})),await Jy(n,e,t)}catch(e){await nh(e)}}function zy(e,t,n){const r=_d(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=_d(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Sy(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $y(e,t,n){const r=_d(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),s=i&&i.key;if(s){let e=new Bh(Kd.comparator);e=e.insert(s,Of.newNoDocument(s,Bd.min()));const n=Fp().add(s),i=new Rm(Bd.min(),new Map,new Bh(Md),e,n);await By(r,i),r.$a=r.$a.remove(s),r.Ka.delete(t),Zy(r)}else await cv(r.localStore,t,!1).then((()=>Gy(r,t,n))).catch(nh)}async function qy(e,t){const n=_d(e),r=t.batch.batchId;try{const e=await function(e,t){const n=_d(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=rh.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);wd(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Fp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ky(n,r,null),Wy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jy(n,e)}catch(e){await nh(e)}}async function Hy(e,t,n){const r=_d(e);try{const e=await function(e,t){const n=_d(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(wd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ky(r,t,n),Wy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jy(r,e)}catch(n){await nh(n)}}function Wy(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Ky(e,t,n){const r=_d(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Gy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||Xy(e,t)}))}function Xy(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Vv(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Zy(e))}function Yy(e,t,n){for(const r of n)r instanceof Ty?(e.Ua.addReference(r.key,t),Qy(e,r)):r instanceof Ny?(gd(Iy,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||Xy(e,r.key)):xd()}function Qy(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(gd(Iy,"New document in limbo: "+n),e.Qa.add(r),Zy(e))}function Zy(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Kd(qd.fromString(t)),r=e.za.next();e.Ka.set(r,new jy(n)),e.$a=e.$a.insert(n,r),Uv(e.remoteStore,new bg(mp(dp(n.path)),r,"TargetPurposeLimboResolution",ah.ae))}}async function Jy(e,t,n){const r=_d(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Zg.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=_d(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>rh.forEach(t,(t=>rh.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>rh.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!sh(e))throw e;gd(tv,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function eb(e,t){const n=_d(e);if(!n.currentUser.isEqual(t)){gd(Iy,"User change. New user:",t.toKey());const e=await iv(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Sd(kd.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Jy(n,e.Rs)}}function tb(e,t){const n=_d(e),r=n.Ka.get(t);if(r&&r.Ba)return Fp().add(r.key);{let e=Fp();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function nb(e){const t=_d(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=By.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$y.bind(null,t),t.La.p_=_y.bind(null,t.eventManager),t.La.Ja=ky.bind(null,t.eventManager),t}function rb(e){const t=_d(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hy.bind(null,t),t}class ib{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Av(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return rv(this.persistence,new ev,e.initialUser,this.serializer)}Xa(e){return new Gg(Yg.ri,this.serializer)}Za(e){return new fv}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ib.provider={build:()=>new ib};class sb extends ib{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){wd(this.persistence.referenceDelegate instanceof Qg);const n=this.persistence.referenceDelegate.garbageCollector;return new jg(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Cg.withCacheSize(this.cacheSizeBytes):Cg.DEFAULT;return new Gg((e=>Qg.ri(e,t)),this.serializer)}}class ab{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=eb.bind(null,this.syncEngine),await cy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yy}createDatastore(e){const t=Av(e.databaseInfo.databaseId),n=function(e){return new Sv(e)}(e.databaseInfo);return function(e,t,n,r){return new jv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Mv(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>zy(this.syncEngine,e,0)),gv.D()?new gv:new pv)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Dy(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=_d(e);gd(Ov,"RemoteStore shutting down."),t.W_.add(5),await Lv(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ab.provider={build:()=>new ab};class ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vd("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const lb="FirestoreClient";class cb{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hd.UNAUTHENTICATED,this.clientId=Od.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{gd(lb,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(gd(lb,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ed;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(q){const n=fy(q,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ub(e,t){e.asyncQueue.verifyOperationInProgress(),gd(lb,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await iv(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function db(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hb(e);gd(lb,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ly(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ly(t.remoteStore,n))),e._onlineComponents=t}async function hb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gd(lb,"Using user provided OfflineComponentProvider");try{await ub(e,e._uninitializedComponentsProvider._offline)}catch(q){const n=q;if(!function(e){return"FirebaseError"===e.name?e.code===kd.FAILED_PRECONDITION||e.code===kd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;yd("Error using user provided cache. Falling back to memory cache: "+n),await ub(e,new ib)}}else gd(lb,"Using default OfflineComponentProvider"),await ub(e,new sb(void 0));return e._offlineComponents}async function fb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gd(lb,"Using user provided OnlineComponentProvider"),await db(e,e._uninitializedComponentsProvider._online)):(gd(lb,"Using default OnlineComponentProvider"),await db(e,new ab))),e._onlineComponents}function pb(e){return fb(e).then((e=>e.syncEngine))}async function mb(e){const t=await fb(e),n=t.eventManager;return n.onListen=Oy.bind(null,t.syncEngine),n.onUnlisten=Uy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=My.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Vy.bind(null,t.syncEngine),n}function gb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ed;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ob({next:o=>{s.su(),t.enqueueAndForget((()=>wy(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Sd(kd.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Sd(kd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Cy(dp(n.path),s,{includeMetadataChanges:!0,Ta:!0});return xy(e,a)}(await mb(e),e.asyncQueue,t,n,r))),r.promise}function vb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ed;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ob({next:n=>{s.su(),t.enqueueAndForget((()=>wy(e,a))),n.fromCache&&"server"===r.source?i.reject(new Sd(kd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Cy(n,s,{includeMetadataChanges:!0,Ta:!0});return xy(e,a)}(await mb(e),e.asyncQueue,t,n,r))),r.promise}function yb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bb=new Map;function xb(e,t,n){if(!n)throw new Sd(kd.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function wb(e){if(!Kd.isDocumentKey(e))throw new Sd(kd.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _b(e){if(Kd.isDocumentKey(e))throw new Sd(kd.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function kb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":xd()}function Sb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sd(kd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kb(e);throw new Sd(kd.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Eb="firestore.googleapis.com",Ab=!0;class Cb{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Sd(kd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eb,this.ssl=Ab}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ab;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ag;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Pg)throw new Sd(kd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sd(kd.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sd(kd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Sd(kd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Sd(kd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Sd(kd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sd(kd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cd;switch(e.type){case"firstParty":return new Id(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sd(kd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bb.get(e);t&&(gd("ComponentProvider","Removing Datastore"),bb.delete(e),t.terminate())}(this),Promise.resolve()}}class Nb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nb(this.firestore,e,this._query)}}class Pb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ib(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pb(this.firestore,e,this._key)}}class Ib extends Nb{constructor(e,t,n){super(e,t,dp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pb(this.firestore,null,new Kd(e))}withConverter(e){return new Ib(this.firestore,e,this._path)}}function Rb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wc(e),xb("collection","path",t),e instanceof Tb){const n=qd.fromString(t,...r);return _b(n),new Ib(e,null,n)}{if(!(e instanceof Pb||e instanceof Ib))throw new Sd(kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qd.fromString(t,...r));return _b(n),new Ib(e.firestore,null,n)}}function jb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wc(e),1===arguments.length&&(t=Od.newId()),xb("doc","path",t),e instanceof Tb){const n=qd.fromString(t,...r);return wb(n),new Pb(e,null,new Kd(n))}{if(!(e instanceof Pb||e instanceof Ib))throw new Sd(kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qd.fromString(t,...r));return wb(n),new Pb(e.firestore,e instanceof Ib?e.converter:null,new Kd(n))}}const Db="AsyncQueue";class Ob{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Cv(this,"async_queue_retry"),this.bu=()=>{const e=Ev();e&&gd(Db,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=Ev();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ev();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Ed;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch($){if(!sh($))throw $;gd(Db,"Operation failed with retryable error: "+$)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=hy.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&xd()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Mb extends Tb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ob,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function Fb(e){if(e._terminated)throw new Sd(kd.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Lb(e),e._firestoreClient}function Lb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new of(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,yb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new cb(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Ub{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ub(Gh.fromBase64String(e))}catch(e){throw new Sd(kd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ub(Gh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Sd(kd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bb{constructor(e){this._methodName=e}}class zb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sd(kd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sd(kd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Md(this._lat,e._lat)||Md(this._long,e._long)}}class $b{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const qb=/^__.*__$/;class Hb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new dm(e,this.data,this.fieldMask,t,this.fieldTransforms):new um(e,this.data,t,this.fieldTransforms)}}class Wb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xd()}}class Gb{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cx(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Kb(this.Lu)&&qb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Xb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Av(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Gb({Lu:e,methodName:t,zu:n,path:Wd.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yb(e){const t=e._freezeSettings(),n=Av(e._databaseId);return new Xb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qb(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);sx("Data must be an object, but it was:",a,r);const o=rx(r,a);let l,c;if(s.merge)l=new Wh(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=ax(t,r,n);if(!a.contains(i))throw new Sd(kd.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ux(e,i)||e.push(i)}l=new Wh(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Hb(new jf(o),l,c)}class Zb extends Bb{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zb}}function Jb(e,t,n,r){const i=e.ju(1,t,n);sx("Data must be an object, but it was:",i,r);const s=[],a=jf.empty();Uh(r,((e,r)=>{const o=lx(t,e,n);r=wc(r);const l=i.Ku(o);if(r instanceof Zb)s.push(o);else{const e=nx(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Wh(s);return new Wb(a,o,i.fieldTransforms)}function ex(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[ax(t,r,n)],l=[i];if(s.length%2!=0)throw new Sd(kd.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(ax(t,s[h])),l.push(s[h+1]);const c=[],u=jf.empty();for(let h=o.length-1;h>=0;--h)if(!ux(c,o[h])){const e=o[h];let t=l[h];t=wc(t);const n=a.Ku(e);if(t instanceof Zb)c.push(e);else{const r=nx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Wh(c);return new Wb(u,d,a.fieldTransforms)}function tx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nx(n,e.ju(r?4:3,t))}function nx(e,t){if(ix(e=wc(e)))return sx("Unsupported field value:",t,e),rx(e,t);if(e instanceof Bb)return function(e,t){if(!Kb(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=nx(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=wc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vd.fromDate(e);return{timestampValue:Wm(t.serializer,n)}}if(e instanceof Vd){const n=new Vd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wm(t.serializer,n)}}if(e instanceof zb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ub)return{bytesValue:Km(t.serializer,e._byteString)};if(e instanceof Pb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ym(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof $b)return function(e,t){return{mapValue:{fields:{[uf]:{stringValue:ff},[pf]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Vp(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${kb(e)}`)}(e,t)}function rx(e,t){const n={};return Vh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uh(e,((e,r)=>{const i=nx(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ix(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vd||e instanceof zb||e instanceof Ub||e instanceof Pb||e instanceof Bb||e instanceof $b)}function sx(e,t,n){if(!ix(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=kb(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function ax(e,t,n){if((t=wc(t))instanceof Vb)return t._internalPath;if("string"==typeof t)return lx(e,t);throw cx("Field path arguments must be of type string or ",e,!1,void 0,n)}const ox=new RegExp("[~\\*/\\[\\]]");function lx(e,t,n){if(t.search(ox)>=0)throw cx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vb(...t.split("."))._internalPath}catch(r){throw cx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cx(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Sd(kd.INVALID_ARGUMENT,o+e+l)}function ux(e,t){return e.some((e=>e.isEqual(t)))}class dx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hx extends dx{data(){return super.data()}}function fx(e,t){return"string"==typeof t?lx(e,t):t instanceof Vb?t._internalPath:t._delegate._internalPath}function px(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sd(kd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mx{}class gx extends mx{}class vx extends gx{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vx(e,t,n)}_apply(e){const t=this._parse(e);return _x(e._query,t),new Nb(e.firestore,e.converter,vp(e._query,t))}_parse(e){const t=Yb(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Sd(kd.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){wx(a,s);const t=[];for(const n of a)t.push(xx(r,e,n));o={arrayValue:{values:t}}}else o=xx(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||wx(a,s),o=tx(n,t,a,"in"===s||"not-in"===s);return zf.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class yx extends mx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yx(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$f.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_x(n,i),n=vp(n,i)}(e._query,t),new Nb(e.firestore,e.converter,vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bx extends gx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bx(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Sd(kd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sd(kd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uf(t,n)}(e._query,this._field,this._direction);return new Nb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function xx(e,t,n){if("string"==typeof(n=wc(n))){if(""===n)throw new Sd(kd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fp(t)&&-1!==n.indexOf("/"))throw new Sd(kd.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(qd.fromString(n));if(!Kd.isDocumentKey(r))throw new Sd(kd.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sf(e,new Kd(r))}if(n instanceof Pb)return Sf(e,n._key);throw new Sd(kd.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kb(n)}.`)}function wx(e,t){if(!Array.isArray(e)||0===e.length)throw new Sd(kd.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _x(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Sd(kd.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Sd(kd.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class kx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Uh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[pf].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Qh(e.doubleValue)));return new $b(i)}convertGeoPoint(e){return new zb(Qh(e.latitude),Qh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){const t=Yh(e);return new Vd(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qd.fromString(e);wd(yg(n));const r=new cf(n.get(1),n.get(3)),i=new Kd(n.popFirst(5));return r.isEqual(t)||vd(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Sx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ex{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ax extends dx{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Cx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(fx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cx extends Ax{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Tx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ex(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Cx(this._firestore,this._userDataWriter,n.key,n,new Ex(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sd(kd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Cx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ex(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Cx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ex(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Nx(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Nx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xd()}}function Px(e){e=Sb(e,Pb);const t=Sb(e.firestore,Mb);return gb(Fb(t),e._key).then((n=>Mx(t,e,n)))}class Ix extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ub(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pb(this.firestore,null,t)}}function Rx(e){e=Sb(e,Nb);const t=Sb(e.firestore,Mb),n=Fb(t),r=new Ix(t);return px(e._query),vb(n,e._query).then((n=>new Tx(t,r,e,n)))}function jx(e,t,n){e=Sb(e,Pb);const r=Sb(e.firestore,Mb),i=Sx(e.converter,t,n);return Ox(r,[Qb(Yb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nm.none())])}function Dx(e,t,n){e=Sb(e,Pb);const r=Sb(e.firestore,Mb),i=Yb(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=wc(t))||t instanceof Vb?ex(i,"updateDoc",e._key,t,n,o):Jb(i,"updateDoc",e._key,t),Ox(r,[s.toMutation(e._key,nm.exists(!0))])}function Ox(e,t){return function(e,t){const n=new Ed;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=rb(e);try{const e=await function(e,t){const n=_d(e),r=Vd.now(),i=t.reduce(((e,t)=>e.add(t.key)),Fp());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Tp(),l=Fp();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=lm(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new dm(e.key,t,Df(t.value.mapValue),nm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ip(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Bh(Md)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Jy(r,e.changes),await Jv(r.remoteStore)}catch(e){const t=fy(e,"Failed to persist write");n.reject(t)}}(await pb(e),t,n))),n.promise}(Fb(e),t)}function Mx(e,t,n){const r=n.docs.get(t._key),i=new Ix(e);return new Ax(e,i,t._key,r,new Ex(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fd=e}(Mu),Iu(new _c("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Mb(new Nd(e.getProvider("auth-internal")),new jd(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sd(kd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Uu(ud,dd,e),Uu(ud,dd,"esm2017")}();const Fx=e=>{const t=Bx(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Lx(n,t)||Vx(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},Lx=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Lx(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(s)}))?.classGroupId},Ux=/^\[(.+)\]$/,Vx=e=>{if(Ux.test(e)){const t=Ux.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Bx=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)zx(n[i],r,i,t);return r},zx=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return qx(e)?void zx(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,s]=e;zx(s,$x(t,i),n,r)}))}else{(""===e?t:$x(t,e)).classGroupId=n}}))},$x=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},qx=e=>e.isThemeGetter,Hx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Wx=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,s=0;for(let l=0;l<e.length;l++){let a=e[l];if(0===r&&0===i){if(":"===a){t.push(e.slice(s,l)),s=l+1;continue}if("/"===a){n=l;continue}}"["===a?r++:"]"===a?r--:"("===a?i++:")"===a&&i--}const a=0===t.length?e:e.substring(s),o=Kx(a);return{modifiers:t,hasImportantModifier:o!==a,baseClassName:o,maybePostfixModifierPosition:n&&n>s?n-s:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},Kx=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,Gx=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map((e=>[e,!0])));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach((e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)})),n.push(...r.sort()),n}},Xx=/\s+/;function Yx(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Qx(e))&&(r&&(r+=" "),r+=t);return r}const Qx=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Qx(e[r]))&&(n&&(n+=" "),n+=t);return n};function Zx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,s,a,o=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=(e=>({cache:Hx(e.cacheSize),parseClassName:Wx(e),sortModifiers:Gx(e),...Fx(e)}))(r),s=i.cache.get,a=i.cache.set,o=l,l(t)};function l(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],o=e.trim().split(Xx);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=s(u).join(":"),v=d?g+"!":g,y=v+m;if(a.includes(y))continue;a.push(y);const b=i(m,p);for(let n=0;n<b.length;++n){const e=b[n];a.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return a(e,n),n}return function(){return o(Yx.apply(null,arguments))}}const Jx=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},ew=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nw=/^\d+\/\d+$/,rw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ow=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lw=e=>nw.test(e),cw=e=>!!e&&!Number.isNaN(Number(e)),uw=e=>!!e&&Number.isInteger(Number(e)),dw=e=>e.endsWith("%")&&cw(e.slice(0,-1)),hw=e=>rw.test(e),fw=()=>!0,pw=e=>iw.test(e)&&!sw.test(e),mw=()=>!1,gw=e=>aw.test(e),vw=e=>ow.test(e),yw=e=>!xw(e)&&!Aw(e),bw=e=>jw(e,Fw,mw),xw=e=>ew.test(e),ww=e=>jw(e,Lw,pw),_w=e=>jw(e,Uw,cw),kw=e=>jw(e,Ow,mw),Sw=e=>jw(e,Mw,vw),Ew=e=>jw(e,Bw,gw),Aw=e=>tw.test(e),Cw=e=>Dw(e,Lw),Tw=e=>Dw(e,Vw),Nw=e=>Dw(e,Ow),Pw=e=>Dw(e,Fw),Iw=e=>Dw(e,Mw),Rw=e=>Dw(e,Bw,!0),jw=(e,t,n)=>{const r=ew.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Dw=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=tw.exec(e);return!!r&&(r[1]?t(r[1]):n)},Ow=e=>"position"===e||"percentage"===e,Mw=e=>"image"===e||"url"===e,Fw=e=>"length"===e||"size"===e||"bg-size"===e,Lw=e=>"length"===e,Uw=e=>"number"===e,Vw=e=>"family-name"===e,Bw=e=>"shadow"===e,zw=(Symbol.toStringTag,()=>{const e=Jx("color"),t=Jx("font"),n=Jx("text"),r=Jx("font-weight"),i=Jx("tracking"),s=Jx("leading"),a=Jx("breakpoint"),o=Jx("container"),l=Jx("spacing"),c=Jx("radius"),u=Jx("shadow"),d=Jx("inset-shadow"),h=Jx("text-shadow"),f=Jx("drop-shadow"),p=Jx("blur"),m=Jx("perspective"),g=Jx("aspect"),v=Jx("ease"),y=Jx("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Aw,xw],x=()=>[Aw,xw,l],w=()=>[lw,"full","auto",...x()],_=()=>[uw,"none","subgrid",Aw,xw],k=()=>["auto",{span:["full",uw,Aw,xw]},uw,Aw,xw],S=()=>[uw,"auto",Aw,xw],E=()=>["auto","min","max","fr",Aw,xw],A=()=>["auto",...x()],C=()=>[lw,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],T=()=>[e,Aw,xw],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Nw,kw,{position:[Aw,xw]}],P=()=>["auto","cover","contain",Pw,bw,{size:[Aw,xw]}],I=()=>[dw,Cw,ww],R=()=>["","none","full",c,Aw,xw],j=()=>["",cw,Cw,ww],D=()=>[cw,dw,Nw,kw],O=()=>["","none",p,Aw,xw],M=()=>["none",cw,Aw,xw],F=()=>["none",cw,Aw,xw],L=()=>[cw,Aw,xw],U=()=>[lw,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hw],breakpoint:[hw],color:[fw],container:[hw],"drop-shadow":[hw],ease:["in","out","in-out"],font:[yw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hw],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hw],shadow:[hw],spacing:["px",cw],text:[hw],"text-shadow":[hw],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lw,xw,Aw,g]}],container:["container"],columns:[{columns:[cw,xw,Aw,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[uw,"auto",Aw,xw]}],basis:[{basis:[lw,"full","auto",o,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[cw,lw,"auto","initial","none",xw]}],grow:[{grow:["",cw,Aw,xw]}],shrink:[{shrink:["",cw,Aw,xw]}],order:[{order:[uw,"first","last","none",Aw,xw]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...C()]}],h:[{h:["screen",...C()]}],"min-h":[{"min-h":["screen","none",...C()]}],"max-h":[{"max-h":["screen",...C()]}],"font-size":[{text:["base",n,Cw,ww]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Aw,_w]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dw,xw]}],"font-family":[{font:[Tw,xw,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Aw,xw]}],"line-clamp":[{"line-clamp":[cw,"none",Aw,_w]}],leading:[{leading:[s,...x()]}],"list-image":[{"list-image":["none",Aw,xw]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Aw,xw]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[cw,"from-font","auto",Aw,ww]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[cw,"auto",Aw,xw]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Aw,xw]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Aw,xw]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uw,Aw,xw],radial:["",Aw,xw],conic:[uw,Aw,xw]},Iw,Sw]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[cw,Aw,xw]}],"outline-w":[{outline:["",cw,Cw,ww]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",u,Rw,Ew]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",d,Rw,Ew]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[cw,ww]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",h,Rw,Ew]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[cw,Aw,xw]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[cw]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[Aw,xw]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[cw]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Aw,xw]}],filter:[{filter:["","none",Aw,xw]}],blur:[{blur:O()}],brightness:[{brightness:[cw,Aw,xw]}],contrast:[{contrast:[cw,Aw,xw]}],"drop-shadow":[{"drop-shadow":["","none",f,Rw,Ew]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",cw,Aw,xw]}],"hue-rotate":[{"hue-rotate":[cw,Aw,xw]}],invert:[{invert:["",cw,Aw,xw]}],saturate:[{saturate:[cw,Aw,xw]}],sepia:[{sepia:["",cw,Aw,xw]}],"backdrop-filter":[{"backdrop-filter":["","none",Aw,xw]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[cw,Aw,xw]}],"backdrop-contrast":[{"backdrop-contrast":[cw,Aw,xw]}],"backdrop-grayscale":[{"backdrop-grayscale":["",cw,Aw,xw]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[cw,Aw,xw]}],"backdrop-invert":[{"backdrop-invert":["",cw,Aw,xw]}],"backdrop-opacity":[{"backdrop-opacity":[cw,Aw,xw]}],"backdrop-saturate":[{"backdrop-saturate":[cw,Aw,xw]}],"backdrop-sepia":[{"backdrop-sepia":["",cw,Aw,xw]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Aw,xw]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[cw,"initial",Aw,xw]}],ease:[{ease:["linear","initial",v,Aw,xw]}],delay:[{delay:[cw,Aw,xw]}],animate:[{animate:["none",y,Aw,xw]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Aw,xw]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:M()}],"rotate-x":[{"rotate-x":M()}],"rotate-y":[{"rotate-y":M()}],"rotate-z":[{"rotate-z":M()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:L()}],"skew-x":[{"skew-x":L()}],"skew-y":[{"skew-y":L()}],transform:[{transform:[Aw,xw,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Aw,xw]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Aw,xw]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[cw,Cw,ww,_w]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),$w=Zx(zw);Uu("firebase","11.4.0","app");var qw=function(){return qw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qw.apply(this,arguments)};function Hw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Ww(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gw=Kw,Xw=new hc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yw=new Rc("@firebase/auth");function Qw(e){if(Yw.logLevel<=Cc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Yw.error(`Auth (${Mu}): ${e}`,...n)}}function Zw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw n_(e,...n)}function Jw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n_(e,...n)}function e_(e,t,n){const r=Object.assign(Object.assign({},Gw()),{[t]:n});return new hc("auth","Firebase",r).create(t,{appName:e.name})}function t_(e){return e_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Xw.create(e,...n)}function r_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw n_(t,...r)}}function i_(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qw(t),new Error(t)}function s_(e,t){e||i_(t)}function a_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function o_(){return"http:"===l_()||"https:"===l_()}function l_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function c_(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(o_()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class u_{constructor(e,t){this.shortDelay=e,this.longDelay=t,s_(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lc())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return c_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function d_(e,t){s_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class h_{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void i_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void i_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void i_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const f_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},p_=new u_(3e4,6e4);function m_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function g_(e,t,n,r){return v_(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=gc(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),h_.fetch()(b_(e,e.config.apiHost,n,a),l)}))}async function v_(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},f_),t);try{const t=new w_(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw __(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw __(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw __(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw __(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw e_(e,o,a);Zw(e,o)}}catch($){if($ instanceof dc)throw $;Zw(e,"network-request-failed",{message:String($)})}}async function y_(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await g_(e,t,n,r,i);return"mfaPendingCredential"in s&&Zw(e,"multi-factor-auth-required",{_serverResponse:s}),s}function b_(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?d_(e.config,i):`${e.config.apiScheme}://${i}`}function x_(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Jw(this.auth,"network-request-failed"))),p_.get())}))}}function __(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jw(e,t,r);return i.customData._tokenResponse=n,i}function k_(e){return void 0!==e&&void 0!==e.enterprise}class S_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x_(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E_(e,t){return g_(e,"GET","/v2/recaptchaConfig",m_(e,t))}async function A_(e,t){return g_(e,"POST","/v1/accounts:lookup",t)}function C_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($){}}function T_(e){return 1e3*Number(e)}function N_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qw("JWT malformed, contained fewer than 3 sections"),null;try{const e=Jl(n);return e?JSON.parse(e):(Qw("Failed to decode base64 JWT payload"),null)}catch($){return Qw("Caught error parsing JWT payload as JSON",null===$||void 0===$?void 0:$.toString()),null}}function P_(e){const t=N_(e);return r_(t,"internal-error"),r_("undefined"!==typeof t.exp,"internal-error"),r_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function I_(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch($){throw $ instanceof dc&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}($)&&e.auth.currentUser===e&&await e.auth.signOut(),$}}class R_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch($){return void("auth/network-request-failed"===(null===$||void 0===$?void 0:$.code)&&this.schedule(!0))}this.schedule()}}class j_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=C_(this.lastLoginAt),this.creationTime=C_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function D_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await I_(e,A_(n,{idToken:r}));r_(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?O_(s.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new j_(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function O_(e){return e.map((e=>{var{providerId:t}=e,n=Hw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class M_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){r_(e.idToken,"internal-error"),r_("undefined"!==typeof e.idToken,"internal-error"),r_("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){r_(0!==e.length,"internal-error");const t=P_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(r_(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await v_(e,{},(async()=>{const n=gc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=b_(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",h_.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new M_;return n&&(r_("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(r_("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(r_("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new M_,this.toJSON())}_performRefresh(){return i_("not implemented")}}function F_(e,t){r_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class L_{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new j_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await I_(this,this.stsTokenManager.getToken(this.auth,e));return r_(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wc(e),r=await n.getIdToken(t),i=N_(r);r_(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:C_(T_(i.auth_time)),issuedAtTime:C_(T_(i.iat)),expirationTime:C_(T_(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=wc(e);await D_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(r_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new L_(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){r_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await D_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ju(this.auth.app))return Promise.reject(t_(this.auth));const e=await this.getIdToken();return await I_(this,async function(e,t){return g_(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:_}=t;r_(y&&_,e,"internal-error");const k=M_.fromJSON(this.name,_);r_("string"===typeof y,e,"internal-error"),F_(u,e.name),F_(d,e.name),r_("boolean"===typeof b,e,"internal-error"),r_("boolean"===typeof x,e,"internal-error"),F_(h,e.name),F_(f,e.name),F_(p,e.name),F_(m,e.name),F_(g,e.name),F_(v,e.name);const S=new L_({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new M_;r.updateFromServerResponse(t);const i=new L_({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await D_(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];r_(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?O_(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new M_;a.updateFromIdToken(n);const o=new L_({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new j_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const U_=new Map;function V_(e){s_(e instanceof Function,"Expected a class definition");let t=U_.get(e);return t?(s_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,U_.set(e,t),t)}class B_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}B_.type="NONE";const z_=B_;function $_(e,t,n){return`firebase:${e}:${t}:${n}`}class q_{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=$_(this.userKey,r.apiKey,i),this.fullPersistenceKey=$_("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?L_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new q_(V_(z_),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||V_(z_);const s=$_(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=L_._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new q_(i,e,n)):new q_(i,e,n)}}function H_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(X_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Q_(t))return"Blackberry";if(Z_(t))return"Webos";if(K_(t))return"Safari";if((t.includes("chrome/")||G_(t))&&!t.includes("edge/"))return"Chrome";if(Y_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function W_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/firefox\//i.test(e)}function K_(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/crios\//i.test(e)}function X_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/iemobile/i.test(e)}function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/android/i.test(e)}function Q_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/blackberry/i.test(e)}function Z_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/webos/i.test(e)}function J_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ek(){return function(){const e=lc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function tk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc();return J_(e)||Y_(e)||Z_(e)||Q_(e)||/windows phone/i.test(e)||X_(e)}function nk(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=H_(lc());break;case"Worker":t=`${H_(lc())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mu}/${r}`}class rk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch($){r($)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($){t.reverse();for(const n of t)try{n()}catch(Ae){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===$||void 0===$?void 0:$.message})}}}class ik{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class sk{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ok(this),this.idTokenSubscription=new ok(this),this.beforeStateQueue=new rk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=V_(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await q_.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await A_(this,{idToken:e}),n=await L_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ju(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject($)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return r_(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await D_(e)}catch($){if("auth/network-request-failed"!==(null===$||void 0===$?void 0:$.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ju(this.app))return Promise.reject(t_(this));const t=e?wc(e):null;return t&&r_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&r_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return ju(this.app)?Promise.reject(t_(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ju(this.app)?Promise.reject(t_(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(V_(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return g_(e,"GET","/v2/passwordPolicy",m_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ik(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return g_(e,"POST","/v2/accounts:revokeToken",m_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&V_(e)||this._popupRedirectResolver;r_(t,this,"argument-error"),this.redirectPersistenceManager=await q_.create(this,[V_(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(r_(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return r_(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(ju(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Yw.logLevel<=Cc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Yw.warn(`Auth (${Mu}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ak(e){return wc(e)}class ok{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new bc(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return r_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ck(e){return lk.loadJS(e)}function uk(e){return`__${e}${Math.floor(1e6*Math.random())}`}class dk{constructor(){this.enterprise=new hk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fk="NO_RECAPTCHA";class pk{constructor(e){this.type="recaptcha-enterprise",this.auth=ak(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;k_(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(fk)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new dk).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{E_(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new S_(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&k_(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=lk.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ck(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function mk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new pk(e);let a;if(i)a=fk;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gk(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await mk(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await mk(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await mk(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await mk(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await mk(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function vk(e){const t=ak(e),n=await E_(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new S_(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new pk(t).verify()}}function yk(e,t,n){const r=ak(e);r_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=bk(t),{host:a,port:o}=function(e){const t=bk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xk(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xk(t)}}}(t),l={url:`${s}//${a}${null===o?"":`:${o}`}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return r_(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void r_(pc(l,r.config.emulator)&&pc(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class wk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return i_("not implemented")}_getIdTokenResponse(e){return i_("not implemented")}_linkToIdToken(e,t){return i_("not implemented")}_getReauthenticationResolver(e){return i_("not implemented")}}async function _k(e,t){return g_(e,"POST","/v1/accounts:signUp",t)}async function kk(e,t){return y_(e,"POST","/v1/accounts:signInWithPassword",m_(e,t))}class Sk extends wk{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Sk(e,t,"password")}static _fromEmailAndCode(e,t){return new Sk(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return gk(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithEmailLink",m_(e,t))}(e,{email:this._email,oobCode:this._password});default:Zw(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return gk(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_k,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithEmailLink",m_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Zw(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ek(e,t){return y_(e,"POST","/v1/accounts:signInWithIdp",m_(e,t))}class Ak extends wk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ak(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zw("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Hw(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ak(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ek(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ek(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ek(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gc(t)}return e}}async function Ck(e,t){return g_(e,"POST","/v1/accounts:sendVerificationCode",m_(e,t))}const Tk={USER_NOT_FOUND:"user-not-found"};class Nk extends wk{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Nk({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Nk({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithPhoneNumber",m_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await y_(e,"POST","/v1/accounts:signInWithPhoneNumber",m_(e,t));if(n.temporaryProof)throw __(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithPhoneNumber",m_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Tk)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Nk({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Pk{constructor(e){var t,n,r,i,s,a;const o=vc(yc(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);r_(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=vc(yc(e)).link,n=t?vc(yc(t)).deep_link_id:null,r=vc(yc(e)).deep_link_id;return(r?vc(yc(r)).link:null)||r||n||t||e}(e);try{return new Pk(t)}catch(n){return null}}}class Ik{constructor(){this.providerId=Ik.PROVIDER_ID}static credential(e,t){return Sk._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Pk.parseLink(t);return r_(n,"argument-error"),Sk._fromEmailAndCode(e,n.code,n.tenantId)}}Ik.PROVIDER_ID="password",Ik.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ik.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jk extends Rk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dk extends jk{constructor(){super("facebook.com")}static credential(e){return Ak._fromParams({providerId:Dk.PROVIDER_ID,signInMethod:Dk.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dk.credentialFromTaggedObject(e)}static credentialFromError(e){return Dk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Dk.credential(t.oauthAccessToken)}catch(n){return null}}}Dk.FACEBOOK_SIGN_IN_METHOD="facebook.com",Dk.PROVIDER_ID="facebook.com";class Ok extends jk{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ak._fromParams({providerId:Ok.PROVIDER_ID,signInMethod:Ok.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ok.credentialFromTaggedObject(e)}static credentialFromError(e){return Ok.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ok.credential(n,r)}catch(i){return null}}}Ok.GOOGLE_SIGN_IN_METHOD="google.com",Ok.PROVIDER_ID="google.com";class Mk extends jk{constructor(){super("github.com")}static credential(e){return Ak._fromParams({providerId:Mk.PROVIDER_ID,signInMethod:Mk.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mk.credentialFromTaggedObject(e)}static credentialFromError(e){return Mk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mk.credential(t.oauthAccessToken)}catch(n){return null}}}Mk.GITHUB_SIGN_IN_METHOD="github.com",Mk.PROVIDER_ID="github.com";class Fk extends jk{constructor(){super("twitter.com")}static credential(e,t){return Ak._fromParams({providerId:Fk.PROVIDER_ID,signInMethod:Fk.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fk.credentialFromTaggedObject(e)}static credentialFromError(e){return Fk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fk.credential(n,r)}catch(i){return null}}}Fk.TWITTER_SIGN_IN_METHOD="twitter.com",Fk.PROVIDER_ID="twitter.com";class Lk{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await L_._fromIdTokenResponse(e,n,r),s=Uk(n);return new Lk({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Uk(n);return new Lk({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Uk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vk extends dc{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Vk.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Vk(e,t,n,r)}}function Bk(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Vk._fromErrorAndOperation(e,n,t,r);throw n}))}async function zk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await I_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Lk._forOperation(e,"link",r)}async function $k(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ju(r.app))return Promise.reject(t_(r));const i="reauthenticate";try{const s=await I_(e,Bk(r,i,t,e),n);r_(s.idToken,r,"internal-error");const a=N_(s.idToken);r_(a,r,"internal-error");const{sub:o}=a;return r_(e.uid===o,r,"user-mismatch"),Lk._forOperation(e,i,s)}catch($){throw"auth/user-not-found"===(null===$||void 0===$?void 0:$.code)&&Zw(r,"user-mismatch"),$}}async function qk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ju(e.app))return Promise.reject(t_(e));const r="signIn",i=await Bk(e,r,t),s=await Lk._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Hk(e,t){return g_(e,"POST","/v2/accounts/mfaEnrollment:start",m_(e,t))}new WeakMap;const Wk="__sak";class Kk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wk,"1"),this.storage.removeItem(Wk),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gk extends Kk{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ek()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gk.type="LOCAL";const Xk=Gk;class Yk extends Kk{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yk.type="SESSION";const Qk=Yk;class Zk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Zk(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Jk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zk.receivers=[];class eS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Jk("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function tS(){return window}function nS(){return"undefined"!==typeof tS().WorkerGlobalScope&&"function"===typeof tS().importScripts}const rS="firebaseLocalStorageDb",iS="firebaseLocalStorage",sS="fbase_key";class aS{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function oS(e,t){return e.transaction([iS],t?"readwrite":"readonly").objectStore(iS)}function lS(){const e=indexedDB.open(rS,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(iS,{keyPath:sS})}catch($){n($)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(iS)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(rS);return new aS(e).toPromise()}(),t(await lS()))}))}))}async function cS(e,t,n){const r=oS(e,!0).put({[sS]:t,value:n});return new aS(r).toPromise()}function uS(e,t){const n=oS(e,!0).delete(t);return new aS(n).toPromise()}class dS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await lS()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($){if(t++>3)throw $;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zk._getInstance(nS()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new eS(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lS();return await cS(e,Wk,"1"),await uS(e,Wk),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cS(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=oS(e,!1).get(t),r=await new aS(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>uS(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=oS(e,!1).getAll();return new aS(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}dS.type="LOCAL";const hS=dS;function fS(e,t){return g_(e,"POST","/v2/accounts/mfaSignIn:start",m_(e,t))}uk("rcb"),new u_(3e4,6e4);const pS="recaptcha";async function mS(e,t,n){var r;if(!e._getRecaptchaConfig())try{await vk(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){r_("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=gk(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===fk){r_((null===n||void 0===n?void 0:n.type)===pS,e,"argument-error");return Hk(e,await gS(e,t,n))}return Hk(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{r_("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;r_(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=gk(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===fk){r_((null===n||void 0===n?void 0:n.type)===pS,e,"argument-error");return fS(e,await gS(e,t,n))}return fS(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=gk(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===fk){r_((null===n||void 0===n?void 0:n.type)===pS,e,"argument-error");return Ck(e,await gS(e,t,n))}return Ck(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function gS(e,t,n){r_(n.type===pS,e,"argument-error");const r=await n.verify();r_("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class vS{constructor(e){this.providerId=vS.PROVIDER_ID,this.auth=ak(e)}verifyPhoneNumber(e,t){return mS(this.auth,e,wc(t))}static credential(e,t){return Nk._fromVerification(e,t)}static credentialFromResult(e){const t=e;return vS.credentialFromTaggedObject(t)}static credentialFromError(e){return vS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Nk._fromTokenResponse(n,r):null}}function yS(e,t){return t?V_(t):(r_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vS.PROVIDER_ID="phone",vS.PHONE_SIGN_IN_METHOD="phone";class bS extends wk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ek(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ek(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ek(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xS(e){return qk(e.auth,new bS(e),e.bypassAuthState)}function wS(e){const{auth:t,user:n}=e;return r_(n,t,"internal-error"),$k(n,new bS(e),e.bypassAuthState)}async function _S(e){const{auth:t,user:n}=e;return r_(n,t,"internal-error"),zk(n,new bS(e),e.bypassAuthState)}class kS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($){this.reject($)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch($){this.reject($)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xS;case"linkViaPopup":case"linkViaRedirect":return _S;case"reauthViaPopup":case"reauthViaRedirect":return wS;default:Zw(this.auth,"internal-error")}}resolve(e){s_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){s_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SS=new u_(2e3,1e4);class ES extends kS{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ES.currentPopupAction&&ES.currentPopupAction.cancel(),ES.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return r_(e,this.auth,"internal-error"),e}async onExecution(){s_(1===this.filter.length,"Popup operations only handle one event");const e=Jk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Jw(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Jw(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ES.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Jw(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,SS.get())};e()}}ES.currentPopupAction=null;const AS=new Map;class CS extends kS{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=AS.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=PS(t),r=NS(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch($){e=()=>Promise.reject($)}AS.set(this.auth._key(),e)}return this.bypassAuthState||AS.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function TS(e,t){AS.set(e._key(),t)}function NS(e){return V_(e._redirectPersistence)}function PS(e){return $_("pendingRedirect",e.config.apiKey,e.name)}async function IS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ju(e.app))return Promise.reject(t_(e));const r=ak(e),i=yS(r,t),s=new CS(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class RS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!DS(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Jw(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jS(e))}saveEventToCache(e){this.cachedEventUids.add(jS(e)),this.lastProcessedEventTime=Date.now()}}function jS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function DS(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const OS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MS=/^https?/;async function FS(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return g_(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(LS(r))return}catch(n){}Zw(e,"unauthorized-domain")}function LS(e){const t=a_(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!MS.test(n))return!1;if(OS.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const US=new u_(3e4,6e4);function VS(){const e=tS().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function BS(e){return new Promise(((t,n)=>{var r,i,s;function a(){VS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{VS(),n(Jw(e,"network-request-failed"))},timeout:US.get()})}if(null===(i=null===(r=tS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=tS().gapi)||void 0===s?void 0:s.load)){const t=uk("iframefcb");return tS()[t]=()=>{gapi.load?a():n(Jw(e,"network-request-failed"))},ck(`${lk.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw zS=null,e}))}let zS=null;const $S=new u_(5e3,15e3),qS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WS(e){const t=e.config;r_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?d_(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Mu},i=HS.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gc(r).slice(1)}`}async function KS(e){const t=await function(e){return zS=zS||BS(e),zS}(e),n=tS().gapi;return r_(n,e,"internal-error"),t.open({where:document.body,url:WS(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qS,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Jw(e,"network-request-failed"),s=tS().setTimeout((()=>{r(i)}),$S.get());function a(){tS().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const GS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class XS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($){}}}function YS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},GS),{width:r.toString(),height:i.toString(),top:s,left:a}),c=lc().toLowerCase();n&&(o=G_(c)?"_blank":n),W_(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return J_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new XS(null);const d=window.open(t||"",o,u);r_(d,e,"popup-blocked");try{d.focus()}catch($){}return new XS(d)}const QS="__/auth/handler",ZS="emulator/auth/handler",JS=encodeURIComponent("fac");async function eE(e,t,n,r,i,s){r_(e.config.authDomain,e,"auth-domain-config-required"),r_(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mu,eventId:i};if(t instanceof Rk){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof jk){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${JS}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${QS}`;return d_(t,ZS)}(e)}?${gc(o).slice(1)}${c}`}const tE="webStorageSupport";const nE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qk,this._completeRedirectFn=IS,this._overrideRedirectResult=TS}async _openPopup(e,t,n,r){var i;s_(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return YS(e,await eE(e,t,n,a_(),r),Jk())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){tS().location.href=e}(await eE(e,t,n,a_(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(s_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await KS(e),n=new RS(e);return t.register("authEvent",(t=>{r_(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tE,{type:tE},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[tE];void 0!==i&&t(!!i),Zw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tk()||K_()||J_()}};var rE="@firebase/auth",iE="1.9.1";class sE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){r_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const aE=sc("authIdTokenMaxAge")||300;let oE=null;var lE;!function(e){lk=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Jw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),lE="Browser",Iu(new _c("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;r_(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:lE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nk(lE)},c=new sk(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(V_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Iu(new _c("auth-internal",(e=>(e=>new sE(e))(ak(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Uu(rE,iE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(lE)),Uu(rE,iE,"esm2017");const cE="firebasestorage.googleapis.com",uE="storageBucket";class dE extends dc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(pE(e),`Firebase Storage: ${t} (${pE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dE.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var hE,fE;function pE(e){return"storage/"+e}function mE(){return new dE(hE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gE(){return new dE(hE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vE(){return new dE(hE.CANCELED,"User canceled the upload/download.")}function yE(){return new dE(hE.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bE(e){return new dE(hE.INVALID_ARGUMENT,e)}function xE(){return new dE(hE.APP_DELETED,"The Firebase app was deleted.")}function wE(e,t){return new dE(hE.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _E(e){throw new dE(hE.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(hE||(hE={}));class kE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=kE.makeFromUrl(e,t)}catch($){return new kE(e,"")}if(""===n.path)return n;throw r=e,new dE(hE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===cE?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new kE(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new dE(hE.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class SE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function EE(e){return"string"===typeof e||e instanceof String}function AE(e){return CE()&&e instanceof Blob}function CE(){return"undefined"!==typeof Blob}function TE(e,t,n,r){if(r<t)throw bE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw bE(`Invalid value for '${e}'. Expected ${n} or less.`)}function NE(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function PE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function IE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fE||(fE={}));class RE{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new jE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===fE.NO_ERROR,i=n.getStatus();if(!t||IE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===fE.ABORT;return void e(!1,new jE(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new jE(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch($){r($)}else if(null!==i){const e=mE();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?xE():vE())}else{r(gE())}};this.canceled_?t(0,new jE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function DE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function OE(){const e=DE();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(CE())return new Blob(n);throw new dE(hE.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ME(e){if("undefined"===typeof atob)throw t="base-64",new dE(hE.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const FE="raw",LE="base64",UE="base64url",VE="data_url";class BE{constructor(e,t){this.data=e,this.contentType=t||null}}function zE(e,t){switch(e){case FE:return new BE($E(t));case LE:case UE:return new BE(qE(e,t));case VE:return new BE(function(e){const t=new HE(e);return t.base64?qE(LE,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch($){throw wE(VE,"Malformed data URL.")}return $E(t)}(t.rest)}(t),new HE(t).contentType)}throw mE()}function $E(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function qE(e,t){switch(e){case LE:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw wE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case UE:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw wE(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ME(t)}catch($){if($.message.includes("polyfill"))throw $;throw wE(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw wE(VE,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class WE{constructor(e,t){let n=0,r="";AE(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(AE(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new WE(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new WE(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(CE()){const e=t.map((e=>e instanceof WE?e.data_:e));return new WE(OE.apply(null,e))}{const e=t.map((e=>EE(e)?zE(FE,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new WE(r,!0)}}uploadData(){return this.data_}}function KE(e){let t;try{t=JSON.parse(e)}catch($){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function GE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function XE(e,t){return t}class YE{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||XE}}let QE=null;function ZE(){if(QE)return QE;const e=[];e.push(new YE("bucket")),e.push(new YE("generation")),e.push(new YE("metageneration")),e.push(new YE("name","fullPath",!0));const t=new YE("name");t.xform=function(e,t){return function(e){return!EE(e)||e.length<2?e:GE(e)}(t)},e.push(t);const n=new YE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new YE("timeCreated")),e.push(new YE("updated")),e.push(new YE("md5Hash",null,!0)),e.push(new YE("cacheControl",null,!0)),e.push(new YE("contentDisposition",null,!0)),e.push(new YE("contentEncoding",null,!0)),e.push(new YE("contentLanguage",null,!0)),e.push(new YE("contentType",null,!0)),e.push(new YE("metadata","customMetadata",!0)),QE=e,QE}function JE(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new kE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function eA(e,t,n){const r=KE(t);if(null===r)return null;return JE(e,r,n)}function tA(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class nA{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rA(e){if(!e)throw mE()}function iA(e,t){return function(n,r){const i=eA(e,r,t);return rA(null!==i),i}}function sA(e,t){return function(n,r){const i=eA(e,r,t);return rA(null!==i),function(e,t,n,r){const i=KE(t);if(null===i)return null;if(!EE(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return NE("/b/"+a(i)+"/o/"+a(s),n,r)+PE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function aA(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new dE(hE.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new dE(hE.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new dE(hE.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new dE(hE.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function oA(e){const t=aA(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new dE(hE.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function lA(e,t,n){const r=NE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new nA(r,"GET",iA(e,n),i);return s.errorHandler=oA(t),s}function cA(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function uA(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=cA(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tA(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=WE.getBlob(c,r,u);if(null===d)throw yE();const h={name:l.fullPath},f=NE(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new nA(f,"POST",iA(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=aA(t),m}class dA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fE.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=fE.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=fE.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw _E("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _E("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _E("cannot .getStatus() before sending");try{return this.xhr_.status}catch($){return-1}}getResponse(){if(!this.sent_)throw _E("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _E("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class hA extends dA{initXhr(){this.xhr_.responseType="text"}}function fA(){return new hA}class pA{constructor(e,t){this._service=e,this._location=t instanceof kE?t:kE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pA(e,t)}get root(){const e=new kE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new kE(this._location.bucket,e);return new pA(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new dE(hE.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mA(e,t,n){e._throwIfRoot("uploadBytes");const r=uA(e.storage,e._location,ZE(),new WE(t,!0),n);return e.storage.makeRequestWithTokens(r,fA).then((t=>({metadata:t,ref:e})))}function gA(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=NE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new nA(r,"GET",sA(e,n),i);return s.errorHandler=oA(t),s}(e.storage,e._location,ZE());return e.storage.makeRequestWithTokens(t,fA).then((e=>{if(null===e)throw new dE(hE.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function vA(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new kE(e._location.bucket,n);return new pA(e.storage,r)}function yA(e,t){if(e instanceof wA){const n=e;if(null==n._bucket)throw new dE(hE.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uE+"' property when initializing the app?");const r=new pA(n,n._bucket);return null!=t?yA(r,t):r}return void 0!==t?vA(e,t):e}function bA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof wA)return new pA(e,t);throw bE("To use ref(service, url), the first argument must be a Storage instance.")}return yA(e,t)}function xA(e,t){const n=null===t||void 0===t?void 0:t[uE];return null==n?null:kE.makeFromBucketSpec(n,e)}class wA{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=cE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?kE.makeFromBucketSpec(r,this._host):xA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=kE.makeFromBucketSpec(this._url,e):this._bucket=xA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(ju(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pA(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new SE(xE());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=PE(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new RE(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const _A="@firebase/storage",kA="0.13.7",SA="storage";function EA(e,t,n){return mA(e=wc(e),t,n)}function AA(e,t,n,r){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:FE,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");const i=zE(n,t),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),mA(e,i.data,s)}(e=wc(e),t,n,r)}function CA(e){return function(e){e._throwIfRoot("getMetadata");const t=lA(e.storage,e._location,ZE());return e.storage.makeRequestWithTokens(t,fA)}(e=wc(e))}function TA(e){return gA(e=wc(e))}function NA(e,t){return bA(e=wc(e),t)}function PA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lu(),t=arguments.length>1?arguments[1]:void 0;e=wc(e);const n=Ru(e,SA).getImmediate({identifier:t}),r=rc("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:oc(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function IA(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new wA(r,i,s,n,Mu)}Iu(new _c(SA,IA,"PUBLIC").setMultipleInstances(!0)),Uu(_A,kA,""),Uu(_A,kA,"esm2017");const RA=Fu({apiKey:"AIzaSyBYBlPd_oLkYrare86yTzsIqhUJO1ZlIrw",authDomain:"l-plot.firebaseapp.com",projectId:"l-plot",storageBucket:"l-plot.firebasestorage.app",messagingSenderId:"629346971068",appId:"1:629346971068:web:8d0b8033278bdb329b4fb9",measurementId:"G-17B0ZFTZZ4"}),jA=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lu();const t=Ru(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ru(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(pc(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Zw(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:nE,persistence:[hS,Xk,Qk]}),r=sc("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>aE)return;const r=null===t||void 0===t?void 0:t.token;oE!==r&&(oE=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){wc(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){wc(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=nc("auth");s&&yk(n,`http://${s}`)}(RA),function(e,t){const n="object"==typeof e?e:Lu(),r="string"==typeof e?e:t||lf,i=Ru(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=rc("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Sb(e,Tb))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==Eb&&s.host!==o&&yd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!pc(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=hd.MOCK_USER;else{t=oc(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Sd(kd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new hd(s)}e._authCredentials=new Td(new Ad(t,n))}}(i,...e)}return i}(RA)),DA=PA();function OA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $w(Gl(t))}const MA=async e=>{try{if(e){const t=jb(jA,"housemodell_configure_broker",e),n=await Px(t);if(n.exists())return n.data()}}catch(t){console.error("Error fetching husmodell data:",t)}};function FA(e){let t=e.replace(/\s/g,"");return new Intl.NumberFormat("de-DE").format(Number(t))+" NOK"}var LA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=e.forwardRef(((e,t)=>{const{asChild:r,...i}=e,s=r?$l:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,V.jsx)(s,{...i,ref:t})}));return r.displayName=`Primitive.${n}`,{...t,[n]:r}}),{});var UA=e.forwardRef(((e,t)=>(0,V.jsx)(LA.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));UA.displayName="Label";var VA=UA;const BA=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,zA=Gl,$A=(qA="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e=>{var t;if(null==(null===HA||void 0===HA?void 0:HA.variants))return zA(qA,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:n,defaultVariants:r}=HA,i=Object.keys(n).map((t=>{const i=null===e||void 0===e?void 0:e[t],s=null===r||void 0===r?void 0:r[t];if(null===i)return null;const a=BA(i)||BA(s);return n[t][a]})),s=e&&Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),a=null===HA||void 0===HA||null===(t=HA.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:n,className:i,...a}=t;return Object.entries(a).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...r,...s}[t]):{...r,...s}[t]===n}))?[...e,n,i]:e}),[]);return zA(qA,i,a,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var qA,HA;const WA=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(VA,{ref:t,className:OA($A(),n),...r})}));WA.displayName=VA.displayName;const KA=t=>{const{children:n,...r}=t;return e.createElement(ts.Provider,{value:r},n)},GA=e.createContext({}),XA=e=>{let{...t}=e;return(0,V.jsx)(GA.Provider,{value:{name:t.name},children:(0,V.jsx)(hs,{...t})})},YA=()=>{const t=e.useContext(GA),n=e.useContext(QA),{getFieldState:r,formState:i}=ns(),s=r(t.name,i);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=n;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},QA=e.createContext({}),ZA=e.forwardRef(((t,n)=>{let{className:r,...i}=t;const s=e.useId();return(0,V.jsx)(QA.Provider,{value:{id:s},children:(0,V.jsx)("div",{ref:n,className:OA("",r),...i})})}));ZA.displayName="FormItem";const JA=e.forwardRef(((e,t)=>{let{className:n,...r}=e;const{error:i,formItemId:s}=YA();return(0,V.jsx)(WA,{ref:t,className:OA(i&&"text-destructive",n),htmlFor:s,...r})}));JA.displayName="FormLabel";const eC=e.forwardRef(((e,t)=>{let{...n}=e;const{error:r,formItemId:i,formDescriptionId:s,formMessageId:a}=YA();return(0,V.jsx)($l,{ref:t,id:i,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,"data-error":!!r,...n})}));eC.displayName="FormControl";const tC=e.forwardRef(((e,t)=>{let{className:n,...r}=e;const{formDescriptionId:i}=YA();return(0,V.jsx)("p",{ref:t,id:i,className:OA("text-sm text-muted-foreground",n),...r})}));tC.displayName="FormDescription";const nC=e.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;const{error:s,formMessageId:a}=YA(),o=s?String(null===s||void 0===s?void 0:s.message):r;return o?(0,V.jsx)("p",{ref:t,id:a,className:OA("text-sm text-destructive text-red mt-1",n),...i,children:o}):null}));nC.displayName="FormMessage";const rC=e.forwardRef(((e,t)=>{let{className:n,type:r,value:i,defaultValue:s,...a}=e;return(0,V.jsx)("input",{type:r,value:null!==i&&void 0!==i?i:"",defaultValue:s,className:OA("flex h-11 w-full rounded-[8px] border border-input bg-white text-black px-[14px] py-[10px] text-base file:border-0 file:bg-transparent file:text-sm file:font-medium  focus-visible:outline-none focus:bg-lightYellow2 disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1",n),ref:t,...a,disabled:a.disable})}));rC.displayName="Input";const iC=Ul.object({Hovedkategoriname:Ul.string().min(1,{message:"Hovedkategoriname m\xe5 best\xe5 av minst 2 tegn."}),isSelected:Ul.boolean().optional()}),sC=t=>{var n,r;let{onClose:i,setCategory:s,editData:a,Category:o}=t;const l=aa({resolver:fa(iC)});(0,e.useEffect)((()=>{var e,t,n,r;null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.name&&l.setValue("Hovedkategoriname",null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.name);null!==a&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.isSelected&&l.setValue("isSelected",null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.isSelected)}),[l,null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.name,null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.isSelected]);return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...l,children:(0,V.jsxs)("form",{onSubmit:l.handleSubmit((async e=>{o.some(((t,n)=>a?n!==a.index&&t.name.toLowerCase()===e.Hovedkategoriname.toLowerCase():t.name.toLowerCase()===e.Hovedkategoriname.toLowerCase()))?l.setError("Hovedkategoriname",{type:"manual",message:"Kategorinavnet finnes allerede."}):(i(),s(a?t=>t.map(((t,n)=>{var r;return n===a.index?{...t,name:e.Hovedkategoriname,isSelected:null!==(r=e.isSelected)&&void 0!==r&&r}:t})):t=>{var n;return[...t,{name:e.Hovedkategoriname,isSelected:null!==(n=e.isSelected)&&void 0!==n&&n}]}))})),className:"relative w-full",children:[(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:l.control,name:"Hovedkategoriname",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Hovedkategoriname"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Hovedkategoriname",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:l.control,name:"isSelected",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)(eC,{children:(0,V.jsxs)("div",{className:"relative flex items-center gap-2 mt-3",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] accent-primary border text-black\n                                  ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4`,type:"radio",onChange:e=>{const t=e.target.checked;t&&l.setValue("isSelected",t)},checked:t.value}),(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" text-sm font-medium",children:"Is mandatory"})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center left-0 mt-8",children:[(0,V.jsx)("div",{onClick:()=>{l.reset(),i()},className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})};const aC=__webpack_require__.p+"static/media/Ic_x_circle.d0042930fd1caed79d02556d7abbfece.svg",oC=wi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lC=wi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cC=Ul.object({Kategorinavn:Ul.string().min(1,{message:"Kategorinavn m\xe5 best\xe5 av minst 2 tegn."})}),uC=t=>{let{onClose:n,formData:r,activeTabData:i,setCategory:s,editIndex:a,defaultValue:o}=t;const l=aa({resolver:fa(cC),defaultValues:{Kategorinavn:o||""}});(0,e.useEffect)((()=>{null!=a&&o?l.setValue("Kategorinavn",o):l.setValue("Kategorinavn","")}),[o,a]);return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...l,children:(0,V.jsxs)("form",{onSubmit:l.handleSubmit((async e=>{const t=e.Kategorinavn,o=r.getValues(`hovedkategorinavn.${i}.Kategorinavn`)||[];if(o.some((e=>e.navn===t)))l.setError("Kategorinavn",{type:"manual",message:"Kategorinavnet finnes allerede."});else{if(null!==a&&o[a]){const e=[...o];e[a].navn=t,s((t=>{const n=[...t];return n[i]={...n[i],Kategorinavn:e},n})),r.setValue(`hovedkategorinavn.${i}.Kategorinavn`,e,{shouldValidate:!0})}else{const e={navn:t,produkter:[]};s((t=>{const n=[...t];return n[i]={...n[i],Kategorinavn:[...o,e]},n})),r.setValue(`hovedkategorinavn.${i}.Kategorinavn`,[...o,e],{shouldValidate:!0})}n(),l.reset()}})),className:"relative w-full",children:[(0,V.jsx)("div",{className:"p-6",children:(0,V.jsx)(XA,{control:l.control,name:"Kategorinavn",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Kategorinavn"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Kategorinavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",value:t.value||""})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>l.reset(),className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},dC=e=>{let{isOpen:t,onClose:n,children:r}=e;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"overlay "+(t?"show":""),style:{zIndex:t?99999999:1},onClick:n}),(0,V.jsx)("div",{className:"drawer relative "+(t?"open":""),style:{zIndex:t?99999999:1},children:r})]})},hC=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)("textarea",{className:OA("flex w-full rounded-[8px] border border-input bg-white text-black px-[14px] py-[10px] text-base focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus:shadow-none focus-visible:shadow-none resize-none border-input file:border-0 file:bg-transparent file:text-sm file:font-medium focus:bg-lightYellow2 focus:shadow-none focus-visible:shadow-none placeholder:text-[#667085] placeholder:text-opacity-55 placeholder:text-base disabled:text-[#767676] focus:shadow-shadow1",n),ref:t,...r})}));hC.displayName="TextArea";const fC=Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()]),pC=Ul.object({Produktnavn:Ul.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:Ul.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:Ul.array(fC).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:Ul.string().nullable(),IncludingOffer:Ul.boolean().optional(),Produktbeskrivelse:Ul.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:Ul.string().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:Ul.string().optional()}),mC=Ul.object({produkter:Ul.array(pC).min(1,"Minst ett produkt er p\xe5krevd.")}),gC=t=>{let{onClose:n,onSubmit:r}=t;const i=aa({resolver:fa(mC),defaultValues:{produkter:[{Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",Labour:"",LabourPris:""}]}}),s=e.useRef(null),a=(0,e.useCallback)((()=>{var e;null===(e=s.current)||void 0===e||e.click()}),[]),o=(0,e.useCallback)((e=>e.preventDefault()),[]),[l,c]=(0,e.useState)(null),u=["Boligpartner","Salgskontor"],d=["Per m2","Per time","Per dag","Per stykk","Per ansatt"],{fields:h,append:f,remove:p}=$s({control:i.control,name:"produkter"}),m=i.watch("produkter");return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...i,children:(0,V.jsxs)("form",{onSubmit:i.handleSubmit((async e=>{"function"===typeof r&&r(e),n(),i.reset()})),className:"relative w-full h-screen",children:[(0,V.jsxs)("div",{className:"overflow-y-auto h-full pb-[160px]",children:[h.map(((e,t)=>{const n=i.watch(`produkter.${t}.Hovedbilde`);return(0,V.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,V.jsxs)("button",{type:"button",className:"flex gap-2 items-end ml-auto "+(1===m.length?"text-gray cursor-not-allowed":"text-primary"),onClick:()=>{m.length>1&&p(t)},children:[(0,V.jsx)(lC,{})," Fjern produkt"]}),(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Produktnavn`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.Produktnavn`)||"";return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktnavn"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Produktnavn",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,type:"text",value:null!==s&&void 0!==s?s:""})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.pris`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.pris`);return(0,V.jsxs)(ZA,{children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" text-sm font-medium",children:"Pris fra"}),(0,V.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,V.jsxs)("div",{className:"toggle-container",children:[(0,V.jsx)("input",{type:"checkbox",id:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-input",checked:i.watch(`produkter.${t}.IncludingOffer`)||!1,name:"IncludingOffer",onChange:e=>{const n=e.target.checked;i.setValue(`produkter.${t}.IncludingOffer`,n),n?i.setValue(`produkter.${t}.pris`,null):i.setValue(`produkter.${t}.pris`,"")}}),(0,V.jsx)("label",{htmlFor:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-label"})]})]})]}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Pris fra",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,inputMode:"numeric",disable:i.watch(`produkter.${t}.IncludingOffer`),type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const s=i.startsWith("-"),a=i.replace(/-/g,"");let o="";a?(o=new Intl.NumberFormat("no-NO").format(Number(a)),s&&(o="-"+o)):o=s?"-":"",n.onChange({target:{name:`produkter.${t}.pris`,value:o}})},value:null===s?"-":s})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.delieverBy`,render:e=>{let{field:n,fieldState:r}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:`mb-2 ${r.error?"text-red":"text-black"} text-sm font-medium`,children:"Lever innen"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{i.setValue(`produkter.${t}.delieverBy`,e.target.value)},checked:n.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Labour`,render:e=>{let{field:n,fieldState:r}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:`mb-2 ${r.error?"text-red":"text-black"} text-sm font-medium`,children:"Pris er oppgitt per"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:d.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{i.setValue(`produkter.${t}.Labour`,e.target.value)},checked:n.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.LabourPris`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.LabourPris`);return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" text-sm font-medium mb-2",children:"Arbeidspris"}),(0,V.jsx)(eC,{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(rC,{placeholder:"Skriv inn Arbeidspris",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const s=i.startsWith("-"),a=i.replace(/-/g,"");let o="";a?(o=new Intl.NumberFormat("no-NO").format(Number(a)),s&&(o="-"+o)):o=s?"-":"",n.onChange({target:{name:`produkter.${t}.LabourPris`,value:o}})},value:s||""}),(0,V.jsx)("div",{className:"bg-white absolute top-[1px] right-[1px] rounded-lg h-[calc(100%-2px)] flex items-center p-2 justify-center",children:(0,V.jsx)("div",{className:"text-darkBlack font-semibold",children:"NOK"})})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Produktbeskrivelse`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.Produktbeskrivelse`)||"";return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktbeskrivelse"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(hC,{placeholder:"Skriv inn Produktbeskrivelse",...n,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,value:s})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"row-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Hovedbilde`,render:e=>{let{fieldState:n}=e;const r=`produkter.${t}.Hovedbilde`,l=i.watch(r)||[],c=async e=>{if(e){let t=[...l||[]];for(let n=0;n<e.length;n++){const s=e[n];if(s.size>2097152){fe.error("Image size must be less than 2MB.",{position:"top-right"});continue}const a="images",o=`${(new Date).getTime()}_${null===s||void 0===s?void 0:s.name}`,l=NA(DA,`${a}/${o}`),c=await EA(l,s),u=await TA(c.ref);t.push(u),i.setValue(r,t),i.clearErrors(r)}}};return(0,V.jsxs)(ZA,{className:"w-full",children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Last opp bilde"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:o,onClick:a,onDrop:e=>{e.preventDefault(),c(e.dataTransfer.files)},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:s,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>c(e.target.files)})]})})})}),(0,V.jsx)(nC,{})]})}})})]}),(0,V.jsx)("div",{children:n&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===n||void 0===n?void 0:n.map(((e,r)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>c(r),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===l||l===r)return;const e=[...n],s=e[l];e.splice(l,1),e.splice(r,0,s),i.setValue(`produkter.${t}.Hovedbilde`,e),c(null)},children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute bottom-2 right-2 bg-[#FFFFFFCC] rounded-full p-[6px] cursor-pointer",onClick:()=>{const e=n.filter(((e,t)=>t!==r));i.setValue(`produkter.${t}.Hovedbilde`,e)},children:(0,V.jsx)(oC,{className:"text-red w-4 h-4"})})]},r)))})})]},t)})),(0,V.jsxs)("div",{className:"p-6 flex items-center gap-2 text-primary text-sm font-medium cursor-pointer",onClick:()=>f({Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",Labour:"",LabourPris:""}),children:[(0,V.jsx)(ki,{}),"Add other product"]})]}),(0,V.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>i.reset(),className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})};var vC,yC=new Uint8Array(16);function bC(){if(!vC&&!(vC="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vC(yC)}const xC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const wC=function(e){return"string"===typeof e&&xC.test(e)};for(var _C=[],kC=0;kC<256;++kC)_C.push((kC+256).toString(16).substr(1));const SC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_C[e[t+0]]+_C[e[t+1]]+_C[e[t+2]]+_C[e[t+3]]+"-"+_C[e[t+4]]+_C[e[t+5]]+"-"+_C[e[t+6]]+_C[e[t+7]]+"-"+_C[e[t+8]]+_C[e[t+9]]+"-"+_C[e[t+10]]+_C[e[t+11]]+_C[e[t+12]]+_C[e[t+13]]+_C[e[t+14]]+_C[e[t+15]]).toLowerCase();if(!wC(n))throw TypeError("Stringified UUID is invalid");return n};const EC=function(e,t,n){var r=(e=e||{}).random||(e.rng||bC)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return SC(r)},AC=Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()]),CC=Ul.object({Produktnavn:Ul.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:Ul.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:Ul.array(AC).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:Ul.string().nullable(),IncludingOffer:Ul.boolean().optional(),Produktbeskrivelse:Ul.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:Ul.string().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:Ul.string().optional()}),TC=t=>{let{onClose:n,onSubmit:r,defaultValues:i}=t;const s=aa({resolver:fa(CC)});(0,e.useEffect)((()=>{i&&(s.setValue("Hovedbilde",null===i||void 0===i?void 0:i.Hovedbilde),s.setValue("IncludingOffer",null===i||void 0===i?void 0:i.IncludingOffer),s.setValue("Labour",null===i||void 0===i?void 0:i.Labour),s.setValue("LabourPris",null===i||void 0===i?void 0:i.LabourPris),s.setValue("Produktbeskrivelse",null===i||void 0===i?void 0:i.Produktbeskrivelse),s.setValue("Produktnavn",null===i||void 0===i?void 0:i.Produktnavn),s.setValue("delieverBy",null===i||void 0===i?void 0:i.delieverBy),s.setValue("pris",null===i||void 0===i?void 0:i.pris))}),[i]);const a=e.useRef(null),o=()=>{var e;null===(e=a.current)||void 0===e||e.click()},l=(0,e.useCallback)((e=>e.preventDefault()),[]),[c,u]=(0,e.useState)(null),d=["Boligpartner","Salgskontor"],h=["Per m2","Per time","Per dag","Per stykk","Per ansatt"],f=s.watch("Hovedbilde");return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...s,children:(0,V.jsxs)("form",{onSubmit:s.handleSubmit((async e=>{"function"===typeof r&&r(e),n()})),className:"relative w-full h-screen",children:[(0,V.jsx)("div",{className:"overflow-y-auto h-full pb-[160px]",children:(0,V.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:s.control,name:"Produktnavn",render:e=>{let{field:t,fieldState:n}=e;const r=s.getValues("Produktnavn")||"";return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktnavn"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Produktnavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text",value:null!==r&&void 0!==r?r:""})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:s.control,name:"pris",render:e=>{let{field:t,fieldState:n}=e;const r=s.getValues("pris");return(0,V.jsxs)(ZA,{children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" text-sm font-medium",children:"Pris fra"}),(0,V.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,V.jsxs)("div",{className:"toggle-container",children:[(0,V.jsx)("input",{type:"checkbox",id:"IncludingOffer",className:"toggle-input",checked:s.watch("IncludingOffer")||!1,name:"IncludingOffer",onChange:e=>{const t=e.target.checked;s.setValue("IncludingOffer",t),t?s.setValue("pris",null):s.setValue("pris","")}}),(0,V.jsx)("label",{htmlFor:"IncludingOffer",className:"toggle-label"})]})]})]}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Pris fra",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,inputMode:"numeric",disable:s.watch("IncludingOffer"),type:"text",onChange:e=>{let{target:{value:n}}=e,r=n.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const i=r.startsWith("-"),s=r.replace(/-/g,"");let a="";s?(a=new Intl.NumberFormat("no-NO").format(Number(s)),i&&(a="-"+a)):a=i?"-":"",t.onChange({target:{name:"pris",value:a}})},value:null===r?"-":r})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:s.control,name:"delieverBy",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm font-medium`,children:"Lever innen"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5",children:d.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{s.setValue("delieverBy",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:s.control,name:"Labour",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:`mb-2 ${n.error?"text-red":"text-black"} text-sm font-medium`,children:"Pris er oppgitt per"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-x-5 gap-y-2 flex-wrap",children:h.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{s.setValue("Labour",e.target.value)},checked:t.value===e}),(0,V.jsx)("p",{className:"text-black text-sm",children:e})]},e)))})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:s.control,name:"LabourPris",render:e=>{let{field:t,fieldState:n}=e;const r=s.getValues("LabourPris");return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" text-sm font-medium mb-2",children:"Arbeidspris"}),(0,V.jsx)(eC,{children:(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)(rC,{placeholder:"Skriv inn Arbeidspris",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:n}}=e,r=n.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const i=r.startsWith("-"),s=r.replace(/-/g,"");let a="";s?(a=new Intl.NumberFormat("no-NO").format(Number(s)),i&&(a="-"+a)):a=i?"-":"",t.onChange({target:{name:"LabourPris",value:a}})},value:r||""}),(0,V.jsx)("div",{className:"bg-white absolute top-[1px] right-[1px] rounded-lg h-[calc(100%-2px)] flex items-center p-2 justify-center",children:(0,V.jsx)("div",{className:"text-darkBlack font-semibold",children:"NOK"})})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 border-t border-[#DCDFEA]"}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:s.control,name:"Produktbeskrivelse",render:e=>{let{field:t,fieldState:n}=e;const r=s.getValues("Produktbeskrivelse")||"";return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktbeskrivelse"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(hC,{placeholder:"Skriv inn Produktbeskrivelse",...t,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,value:r})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"row-span-2",children:(0,V.jsx)(XA,{control:s.control,name:"Hovedbilde",render:e=>{let{fieldState:t}=e;const n="Hovedbilde",r=s.watch(n)||[],i=async e=>{if(e){let t=[...r||[]];for(let r=0;r<e.length;r++){const i=e[r];if(i.size>2097152){fe.error("Image size must be less than 2MB.",{position:"top-right"});continue}const a="images",o=`${(new Date).getTime()}_${null===i||void 0===i?void 0:i.name}`,l=NA(DA,`${a}/${o}`),c=await EA(l,i),u=await TA(c.ref);t.push(u),s.setValue(n,t),s.clearErrors(n)}}};return(0,V.jsxs)(ZA,{className:"w-full",children:[(0,V.jsx)("p",{className:(t.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Last opp bilde"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:l,onClick:o,onDrop:e=>{e.preventDefault(),i(e.dataTransfer.files)},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:a,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>i(e.target.files)})]})})})}),(0,V.jsx)(nC,{})]})}})})]}),(0,V.jsx)("div",{children:f&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===f||void 0===f?void 0:f.map(((e,t)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>u(t),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===c||c===t)return;const e=[...f],n=e[c];e.splice(c,1),e.splice(t,0,n),s.setValue("Hovedbilde",e),u(null)},children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute bottom-2 right-2 bg-[#FFFFFFCC] rounded-full p-[6px] cursor-pointer",onClick:()=>{const e=f.filter(((e,n)=>n!==t));s.setValue("Hovedbilde",e)},children:(0,V.jsx)(oC,{className:"text-red w-4 h-4"})})]},t)))})})]})}),(0,V.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>s.reset(),className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},NC=Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()]),PC=Ul.object({Produktnavn:Ul.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:Ul.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:Ul.array(NC).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:Ul.string().nullable(),IncludingOffer:Ul.boolean().optional(),Produktbeskrivelse:Ul.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn."),Labour:Ul.string().min(1,"Arbeid m\xe5 best\xe5 av minst 1 tegn."),LabourPris:Ul.string().optional()}),IC=Ul.object({navn:Ul.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),produkter:Ul.array(PC).min(1,"Minst ett produkt er p\xe5krevd.")}),RC=Ul.object({name:Ul.string().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:Ul.array(IC).min(1,"Minst \xe9n kategori er p\xe5krevd."),isSelected:Ul.boolean().optional(),id:Ul.string().optional()}),jC=Ul.object({hovedkategorinavn:Ul.array(RC)}),DC=t=>{var n;let{Category:r,activeTabData:i,setCategory:s}=t;const[a,o]=(0,e.useState)(0);(0,e.useEffect)((()=>{o(0)}),[i]);const l=aa({resolver:fa(jC),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:[{navn:"",produkter:[{Produktnavn:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:"",delieverBy:"",Labour:"",LabourPris:""}]}]}]}}),c=l.watch(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`),{remove:u}=$s({control:l.control,name:`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`}),[d,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{Array.isArray(r)&&r.length>0&&l.setValue("hovedkategorinavn",r)}),[l,r]);const f=(0,e.useRef)([]);(0,e.useEffect)((()=>{const e=l.watch(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`);e&&JSON.stringify(f.current)!==JSON.stringify(e)&&(s((t=>{var n,r;const s=[...t];return null!==(n=s[i])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[a]&&(s[i].Kategorinavn[a].produkter=null===e||void 0===e?void 0:e.map(((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||"",Labour:e.Labour||"",LabourPris:e.LabourPris||""})))),s})),f.current=e)}),[JSON.stringify(l.watch(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`))]);const[p,m]=(0,e.useState)(null),g=((e,t)=>{const n=((null===(e=l.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[i])||void 0===t?void 0:t.Kategorinavn)||[]).filter((e=>{var t,n;if(null===e||void 0===e||!e.navn)return!1;const r=""!==e.navn.trim(),i=""!==(null===e||void 0===e||null===(t=e[a])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim());return r||i}));return n.length>0?n:[]})(),[v,y]=(0,e.useState)(null),[b,x]=(0,e.useState)(null),[w,_]=(0,e.useState)(!1),k=l.watch(`hovedkategorinavn.${i}.Kategorinavn.${a}.navn`),S=()=>{m(null),h(!1)},[E,A]=(0,e.useState)(!1),[C,T]=(0,e.useState)(null),[N,P]=(0,e.useState)(null),I=()=>{E?(A(!1),P(null),T(null)):A(!0)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(KA,{...l,children:(0,V.jsx)("form",{onSubmit:l.handleSubmit((async e=>{try{var t,n;const r=null===e||void 0===e?void 0:e.hovedkategorinavn;if(!Array.isArray(r)||0===r.length||!r[i])return void fe.error("Ingen gyldig kategori funnet.");const s=r[i],{name:a,isSelected:o,Kategorinavn:c=[]}=s;if(!a)return;const u=(null===(t=l.getValues("hovedkategorinavn"))||void 0===t||null===(n=t[i])||void 0===n?void 0:n.id)||EC(),d=jb(jA,"inventory",u),h=await Px(d);await jx(d,{id:u,name:a,isSelected:o,[h.exists()?"updatedAt":"createdAt"]:(new Date).toISOString()},{merge:!0});const f=c.filter((e=>"string"===typeof e.navn&&""!==e.navn.trim()&&Array.isArray(e.produkter)&&e.produkter.length>0)),p=Rb(d,"Kategorinavn");for(const e of f){const t=e.id||EC(),n=jb(p,t),r={id:t,navn:e.navn,timestamp:(new Date).toISOString(),produkter:e.produkter.map((e=>({...e,produktId:e.produktId||EC(),timestamp:(new Date).toISOString()})))};(await Px(n)).exists()?await jx(n,r,{merge:!0}):await jx(n,r)}fe.success("Kategori oppdatert!",{position:"top-right"})}catch(r){console.error("Firestore update failed:",r),fe.error("Noe gikk galt. Pr\xf8v igjen.",{position:"top-right"})}})),children:(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{className:"p-4",children:(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsx)("h4",{className:"text-darkBlack font-semibold text-lg",children:"Customisation"})})}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===g||void 0===g?void 0:g.length)>0?(0,V.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===g||void 0===g?void 0:g.map(((e,t)=>(0,V.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap "+(a===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>o(t),children:[(0,V.jsx)("span",{className:"text-sm",children:e.navn}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),m(t),h(!0)},children:(0,V.jsx)(_i,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("img",{src:aC,alt:"close",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=g.filter(((e,n)=>n!==t));s((e=>{const t=[...e];return t[i]={...t[i],Kategorinavn:n},t})),l.setValue(`hovedkategorinavn.${i}.Kategorinavn`,n,{shouldValidate:!0})}})]},t)))}):(0,V.jsx)("p",{className:"text-secondary text-sm",children:"No Customisation Category added"}),(0,V.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>h(!0),children:[(0,V.jsx)(ki,{}),"Legg til kategori"]})]}),g.length>0?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,V.jsxs)("h4",{className:"text-darkBlack text-base font-semibold",children:[k," options"]}),(0,V.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{_(!0)},children:[(0,V.jsx)(ki,{}),"Add ",k]})]}),(0,V.jsxs)("div",{className:"",children:[(0,V.jsx)("div",{className:"grid grid-cols-2 gap-6",children:null===c||void 0===c?void 0:c.map(((e,t)=>(0,V.jsx)("div",{className:"cursor-move border-[#EFF1F5] border rounded-lg",draggable:!0,onDragStart:()=>y(t),onDragOver:e=>{e.preventDefault(),x(t)},onDrop:()=>(()=>{if(null===v||null===b||v===b)return;const e=[...c],t=e[v];e.splice(v,1),e.splice(b,0,t),l.setValue(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`,e),y(null),x(null)})(),children:(0,V.jsxs)("div",{className:"flex gap-4 p-3",children:[(0,V.jsx)("div",{className:"w-[20%]",children:(0,V.jsx)("img",{src:`${null===e||void 0===e?void 0:e.Hovedbilde[0]}`,alt:"floor",className:"w-full h-full border border-[#EFF1F5] rounded-[4px]"})}),(0,V.jsxs)("div",{className:"w-[80%]",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1 justify-between mb-2",children:[(0,V.jsx)("h4",{className:"text-darkBlack text-sm truncate",children:null===e||void 0===e?void 0:e.Produktnavn}),(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)(_i,{className:"text-purple w-5 h-5 cursor-pointer",onClick:()=>{T(t),P(e),A(!0)}}),(0,V.jsx)(oC,{className:"text-red w-5 h-5 cursor-pointer",onClick:()=>{c.length>1&&(e=>{c.length>1&&u(e)})(t)}})]})]}),(0,V.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,V.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,V.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,V.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:!1===(null===e||void 0===e?void 0:e.IncludingOffer)?null===e||void 0===e?void 0:e.pris:"Standard"}),(0,V.jsx)("span",{className:"text-purple font-medium text-sm cursor-pointer",children:"View Details"})]})]})]})},t)))}),(0,V.jsxs)("div",{className:"flex justify-end gap-5 items-center bg-white border-t border-gray2 p-4 left-0 mt-6 pb-0",style:{zIndex:99999},children:[(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2"}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"})]})]})]}):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{className:"h-full flex items-center justify-center px-6 py-[54px]",children:(0,V.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,V.jsx)("img",{src:gi,alt:"no_data"}),(0,V.jsx)("h3",{className:"text-black font-semibold text-center mb-1.5",children:"No Customisation Category added"}),(0,V.jsxs)("p",{className:"text-sm text-center text-secondary",children:["Once you add the Customisation Category then you can"," ",(0,V.jsx)("br",{})," add different Product Options"]})]})})})]})]})})}),(0,V.jsxs)(dC,{isOpen:d,onClose:S,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==p?"Rediger underkategori":"Legg til ny underkategori",(0,V.jsx)(lC,{onClick:S,className:"text-primary cursor-pointer"})]}),d&&(0,V.jsx)(uC,{onClose:()=>{m(null),h(!1)},formData:l,activeTabData:i,setCategory:s,editIndex:p,defaultValue:null!==p&&(null===(n=g[p])||void 0===n?void 0:n.navn)||""})]}),(0,V.jsxs)(dC,{isOpen:w,onClose:()=>{_(!w)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(lC,{onClick:()=>{h(!d)},className:"text-primary cursor-pointer"})]}),w&&(0,V.jsx)(gC,{onClose:()=>_(!1),onSubmit:e=>{const t=l.getValues(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`)||[];l.setValue(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`,[...t,...e.produkter])}})]}),(0,V.jsxs)(dC,{isOpen:E,onClose:I,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(lC,{onClick:I,className:"text-primary cursor-pointer"})]}),E&&(0,V.jsx)(TC,{onClose:()=>A(!1),defaultValues:N,onSubmit:e=>{const t=l.getValues(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`).map(((t,n)=>n===C?e:t));l.setValue(`hovedkategorinavn.${i}.Kategorinavn.${a}.produkter`,t),I()}})]})]})},OC=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(!0),f=()=>{r?(i(!1),u(null)):i(!0)},p=e=>{e.preventDefault()};return(0,e.useEffect)((()=>{(async()=>{const e=Rb(jA,"inventory"),t=await Rx(e),r=[];for(const n of t.docs){const e=n.data(),t=n.id,i=Rb(jA,"inventory",t,"Kategorinavn"),s=(await Rx(i)).docs.map((e=>({id:e.id,...e.data()})));r.push({id:t,...e,Kategorinavn:s})}a(r),n(0),h(!1)})()}),[]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"p-8 flex gap-3 items-center justify-between bg-lightPurple",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h1",{className:"text-darkBlack font-medium text-[32px] mb-2",children:"Romkonfigurator"}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"Her legger du til produkter, leverand\xf8r, pris og bilder for hvert produkt."})]}),(0,V.jsx)(vi,{text:"Lag ny serie",className:"border border-purple bg-purple text-white text-base rounded-[40px] h-[48px] font-medium relative px-5 py-3 flex items-center gap-2",path:"/add-husmodell"})]}),(0,V.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,V.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 h-[540px]",children:[(0,V.jsx)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:(0,V.jsx)("span",{className:"truncate",children:"Housing Configuration Elements"})}),(0,V.jsx)("div",{className:"flex flex-col p-4 pb-0 rounded-lg gap-3 h-full max-h-[calc(100%-129px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:s.length>0?s.map(((e,r)=>(0,V.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{l(e)})(r),onDragOver:p,onDrop:()=>(e=>{if(null===o||o===e)return;const t=[...s],n=t[o];t.splice(o,1),t.splice(e,0,n),a(t),l(null)})(r),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 "+(t===r?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>n(r),children:[(0,V.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold",children:[(0,V.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:r+1}),(0,V.jsx)("span",{className:"w-[135px] truncate",children:e.name})]}),(0,V.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,V.jsx)("div",{onClick:t=>{t.preventDefault(),t.stopPropagation(),u({index:r,data:e}),i(!0)},children:(0,V.jsx)(_i,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a((e=>e.filter(((e,t)=>t!==r)))),n(0)},className:"w-5 h-5",children:(0,V.jsx)("img",{src:mi,alt:"delete",className:"w-full h-full"})})]})]},r))):(0,V.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,V.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,V.jsx)("img",{src:gi,alt:"no_data"}),(0,V.jsxs)("h3",{className:"text-black font-semibold text-center mb-1.5",children:["No Housing Configuration ",(0,V.jsx)("br",{})," Elements Added"]}),(0,V.jsxs)("p",{className:"text-sm text-center text-secondary",children:["Please Click on Add New button ",(0,V.jsx)("br",{})," to add Element"]})]})})}),(0,V.jsx)("div",{className:"flex items-center text-purple gap-2 cursor-pointer py-3 px-6",onClick:()=>i(!0),style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"flex items-center gap-2 w-full justify-center border-2 border-primary rounded-[40px] p-2",children:[(0,V.jsx)(ki,{}),(0,V.jsx)("span",{className:"text-base font-medium whitespace-nowrap",children:"Add new"})]})})]}),(0,V.jsx)("div",{className:"w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max",children:(0,V.jsx)(DC,{Category:s,activeTabData:t,setCategory:a})})]}),r&&(0,V.jsx)(pi,{onClose:f,isOpen:!0,children:(0,V.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,V.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,V.jsx)(sC,{onClose:f,setCategory:a,editData:c,Category:s})]})}),d&&(0,V.jsx)(li,{})]})},MC=()=>{const t=Wn(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),a=async()=>{s(!0);try{let e=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof mx&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof yx)).length,n=e.filter((e=>e instanceof vx)).length;if(t>1||t>0&&n>0)throw new Sd(kd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(Rb(jA,"housemodell_configure_broker"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fx("orderBy",e);return bx._create(n,t)}("updatedAt","desc"));const t=(await Rx(e)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(e){console.error("Error fetching husmodell data:",e)}finally{s(!1)}};return(0,e.useEffect)((()=>{a()}),[]),(0,V.jsxs)(V.Fragment,{children:[i&&(0,V.jsx)(li,{}),(0,V.jsxs)("div",{className:"p-8 flex gap-3 items-center justify-between bg-lightPurple",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h1",{className:"text-darkBlack font-medium text-[32px] mb-2",children:"Velg \xf8nsket serie"}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"Velg \xf8nsket serie og du vil kunne konfigurere boligen i henhold til \xf8nsket seier"})]}),(0,V.jsx)(vi,{text:"Lag ny serie",className:"border border-purple bg-purple text-white text-base rounded-[40px] h-[48px] font-medium relative px-5 py-3 flex items-center gap-2",path:"/add-husmodell"})]}),(0,V.jsx)("div",{className:"p-8 grid grid-cols-4 gap-x-6 gap-y-[40px]",children:n&&n.length>0&&(null===n||void 0===n?void 0:n.map(((e,n)=>{var r,i;return(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{className:"w-full h-[243px] mb-4",children:(0,V.jsx)("img",{src:null===e||void 0===e||null===(r=e.Husdetaljer)||void 0===r?void 0:r.photo,alt:"house",className:"w-full h-full object-cover rounded-lg"})}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsx)("h4",{className:"text-darkBlack font-medium",children:null===e||void 0===e||null===(i=e.Husdetaljer)||void 0===i?void 0:i.Hustittel}),(0,V.jsx)("div",{className:"border-purple border-2 rounded-[40px] py-2 px-5 text-purple font-medium h-[40px] flex items-center justify-center cursor-pointer",onClick:()=>t(`/edit-husmodell/${null===e||void 0===e?void 0:e.id}`),children:"Velg serie"})]})]},n)})))})]})},FC=wi("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),LC=e=>{let{tabs:t,setActiveTab:n,activeTab:r}=e;return(0,V.jsx)("div",{className:"flex gap-2",children:t.map(((e,t)=>(0,V.jsx)("button",{className:`py-2 px-3 rounded-lg ${r===t?"font-semibold text-purple shadow-shadow1":"text-black"} ${n?"cursor-pointer":"cursor-auto"}`,onClick:()=>n?n(t):void 0,children:e.label},t)))})},UC=__webpack_require__.p+"static/media/Img_product_3d_img1.65392a8a99c118933916.png";const VC=__webpack_require__.p+"static/media/Ic_download_primary.61971a5f2140e0283ac19ce7e3fe513b.svg";const BC=__webpack_require__.p+"static/media/Ic_close.92ec46151263d65efaf8b92ffe2ac500.svg",zC=wi("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),$C=t=>{let{file:n}=t;const[r,i]=(0,e.useState)({fileName:"",fileSize:""});return(0,e.useEffect)((()=>{(async()=>{const e=await(async e=>{try{const n=PA(),r=NA(n,decodeURIComponent(e).split("/o/")[1].split("?")[0].replace(/%2F/g,"/")),i=await CA(r),s=i.size?(t=i.size)<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(2)} KB`:t<1073741824?`${(t/1048576).toFixed(2)} MB`:`${(t/1073741824).toFixed(2)} GB`:"Unknown size";return{fileName:i.name,fileSize:s}}catch(n){return console.error("Error fetching file info:",n),{fileName:"Unknown",fileSize:"Unknown size"}}var t})(n);i(e)})()}),[n]),(0,V.jsxs)("div",{className:"truncate",children:[(0,V.jsx)("h5",{className:"text-darkBlack text-sm font-medium mb-1 truncate",children:r.fileName||"Loading..."}),(0,V.jsx)("p",{className:"text-gray text-xs",children:r.fileSize||"Fetching size..."})]})},qC=t=>{let{husmodellData:n}=t;const r=(0,e.useRef)(null);(0,e.useEffect)((()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${r.current.scrollHeight}px`)}),[null===n||void 0===n?void 0:n.OmHusmodellen]);const[i,s]=(0,e.useState)(!1),a=(null===n||void 0===n?void 0:n.photo3D)||[],o=a.slice(0,4),l=a.length-4;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex gap-6 h-[333px] mb-[74px]",children:[(0,V.jsxs)("div",{className:"w-2/3 h-full",children:[(0,V.jsx)("h4",{className:"mb-4 text-darkBlack text-lg font-semibold",children:"Illustrasjoner"}),(0,V.jsxs)("div",{className:"gap-6 flex h-[calc(100%-40px)]",children:[(0,V.jsx)("div",{className:"w-1/2",children:(0,V.jsx)("img",{src:UC,alt:"product",className:"w-full h-full"})}),(0,V.jsx)("div",{className:"w-1/2 grid grid-cols-2 gap-6",children:o.map(((e,t)=>(0,V.jsxs)("div",{className:"relative overflow-hidden h-full",children:[(0,V.jsx)("img",{src:e,alt:"product",className:"w-full h-full object-fill rounded-lg"}),3===t&&l>0&&(0,V.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-35 flex items-center justify-center text-white text-base font-bold cursor-pointer rounded-lg",onClick:()=>s(!0),children:["+",l]})]},t)))})]})]}),(0,V.jsxs)("div",{className:"w-1/3 border border-gray2 shadow-shadow2 rounded-lg h-full",children:[(0,V.jsx)("div",{className:"px-4 py-5 border-b border-gray2 text-darkBlack text-base font-semibold",children:"Dokumenter"}),(0,V.jsx)("div",{className:"p-4 flex flex-col gap-4 overflow-y-auto h-[calc(100%-65px)] overFlowAutoY",children:null!==n&&void 0!==n&&n.documents&&(null===n||void 0===n?void 0:n.documents.length)>0?null===n||void 0===n?void 0:n.documents.map(((e,t)=>(0,V.jsxs)("div",{className:"border border-gray2 rounded-lg p-3 bg-[#F9FAFB] flex items-center justify-between",children:[(0,V.jsxs)("div",{className:"flex items-start gap-3 truncate",children:[(0,V.jsx)("div",{className:"border-[4px] border-lightPurple rounded-full flex items-center justify-center",children:(0,V.jsx)("div",{className:"bg-darkPurple w-7 h-7 rounded-full flex justify-center items-center",children:(0,V.jsx)(zC,{className:"text-primary w-4 h-4"})})}),(0,V.jsx)($C,{file:e})]}),(0,V.jsx)("img",{src:VC,alt:"download",className:"cursor-pointer",onClick:()=>(async e=>{try{if(!e)return void console.error("File path is missing!");const t=NA(PA(),e),n=await TA(t),r=document.createElement("a");r.href=n,r.target="_blank",r.rel="noopener noreferrer",r.download=e.split("/").pop()||"download",document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(t){console.error("Error downloading file:",t)}})(e)})]},t))):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("p",{children:"Ingen dokument funnet."})})})]})]}),(0,V.jsxs)("div",{className:"w-full flex gap-[60px] mt-8",children:[(0,V.jsxs)("div",{className:"w-[43%]",children:[(0,V.jsx)("h4",{className:"text-darkBlack mb-6 font-semibold text-2xl",children:null===n||void 0===n?void 0:n.husmodell_name}),(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)("img",{src:null===n||void 0===n?void 0:n.photo,alt:"product-1",className:"w-full h-[262px] object-cover rounded-[12px] overflow-hidden"})}),(0,V.jsxs)("div",{className:"my-[20px] flex items-center justify-between",children:[(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("p",{className:"text-gray text-base",children:"Pris fra"}),(0,V.jsx)("h4",{className:"text-xl font-semibold text-darkBlack",children:FA(null===n||void 0===n?void 0:n.pris)})]}),(0,V.jsxs)("div",{className:"flex items-center gap-4",children:[(0,V.jsxs)("div",{className:"text-gray text-sm",children:[(0,V.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.BRATotal})," ","m",(0,V.jsx)("sup",{children:"2"})]}),(0,V.jsx)("div",{className:"h-[12px] w-[1px] border-l border-gray"}),(0,V.jsxs)("div",{className:"text-gray text-sm",children:[(0,V.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.Soverom})," ","soverom"]}),(0,V.jsx)("div",{className:"h-[12px] w-[1px] border-l border-gray"}),(0,V.jsxs)("div",{className:"text-gray text-sm",children:[(0,V.jsx)("span",{className:"text-darkBlack font-semibold",children:null===n||void 0===n?void 0:n.Bad})," ","bad"]})]})]}),(0,V.jsxs)("div",{className:"w-full flex gap-8 mb-[60px]",children:[(0,V.jsx)("div",{className:"w-1/2 border-t-2 border-b-0 border-l-0 border-r-0 border-purple pt-4",children:(0,V.jsx)("table",{className:"table-auto border-0 w-full text-left property_detail_tbl",children:(0,V.jsxs)("tbody",{children:[(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"BRA total (bruksareal)"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BRATotal," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"BRA bolig"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BebygdAreal," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"GUA (Gulvareal):"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.PRom," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bebygd areal (BYA)"}),(0,V.jsxs)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:[null===n||void 0===n?void 0:n.BebygdAreal," m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"L x B:"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.LB})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Soverom"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Soverom})]})]})})}),(0,V.jsx)("div",{className:"w-1/2 border-t-2 border-b-0 border-l-0 border-r-0 border-purple pt-4",children:(0,V.jsx)("table",{className:"table-auto border-0 w-full text-left property_detail_tbl",children:(0,V.jsxs)("tbody",{children:[(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Bad"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Bad})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Innvendig bod"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.InnvendigBod})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Energimerking"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Energimerking})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Tilgjengelig bolig"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.TilgjengeligBolig})]}),(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{className:"text-left pb-[16px] text-gray text-sm whitespace-nowrap",children:"Tomtetype"}),(0,V.jsx)("td",{className:"text-left pb-[16px] text-darkBlack text-sm font-semibold whitespace-nowrap",children:null===n||void 0===n?void 0:n.Tomtetype})]})]})})})]}),(0,V.jsx)("h2",{className:"mb-6 text-darkBlack text-2xl font-semibold",children:"Plantegninger og fasader"}),(0,V.jsx)("img",{src:null===n||void 0===n?void 0:n.PlantegningerFasader[0],alt:"map",className:"w-full"})]}),(0,V.jsxs)("div",{className:"w-[57%]",children:[(0,V.jsx)("h2",{className:"text-darkBlack text-2xl font-semibold mb-4 truncate",children:null===n||void 0===n?void 0:n.Hustittel}),(0,V.jsx)("div",{className:"flex flex-col gap-4 mb-[60px]",children:(0,V.jsx)("textarea",{value:null===n||void 0===n?void 0:n.OmHusmodellen,className:"text-base text-gray h-full focus-within:outline-none resize-none",ref:r,readOnly:!0})}),(0,V.jsx)("h2",{className:"text-darkBlack text-2xl font-semibold mb-4",children:null===n||void 0===n?void 0:n.TittelVideo}),(0,V.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,V.jsx)("iframe",{width:"100%",height:"100%",src:(e=>{var t;const n=null===(t=e.split("v=")[1])||void 0===t?void 0:t.split("&")[0];return n?`https://www.youtube.com/embed/${n}?rel=0&modestbranding=1&controls=0&disablekb=1&fs=0`:""})(null===n||void 0===n?void 0:n.VideoLink),frameBorder:"0",allowFullScreen:!0,title:null===n||void 0===n?void 0:n.TittelVideo,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin"})})]})]}),i&&(0,V.jsx)(pi,{isOpen:!0,onClose:()=>{s(!i)},children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-4xl w-full relative",children:[(0,V.jsx)("button",{className:"absolute top-3 right-3",onClick:()=>s(!1),children:(0,V.jsx)("img",{src:BC,alt:"close"})}),(0,V.jsx)("div",{className:"grid grid-cols-3 gap-2 my-4",children:a.map(((e,t)=>(0,V.jsx)("img",{src:e,alt:"product",className:"w-full h-[200px]"},t)))})]})})]})};const HC=__webpack_require__.p+"static/media/Ic_info_circle.f235c5d49af556aa298afcd66ae739cd.svg",WC=e=>{var t,n,r;let{husmodellData:i}=e;const s=null===i||void 0===i?void 0:i.Byggekostnader,a=(s?s.reduce(((e,t)=>{var n;const r=null===(n=t.pris)||void 0===n?void 0:n.replace(/\s/g,"").replace(/\./g,"").replace(",",".");return e+(r?parseFloat(r):0)}),0):0).toLocaleString("nb-NO"),o=null===i||void 0===i?void 0:i.Tomtekost,l=(o?o.reduce(((e,t)=>{var n;const r=null===(n=t.pris)||void 0===n?void 0:n.replace(/\s/g,"").replace(/\./g,"").replace(",",".");return e+(r?parseFloat(r):0)}),0):0).toLocaleString("nb-NO");return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"flex gap-6",children:[(0,V.jsxs)("div",{className:"w-1/2 p-4 border border-gray2 rounded-lg h-max",style:{boxShadow:"0px 4px 6px -2px #10182808, 0px 12px 16px -4px #10182814"},children:[(0,V.jsx)("div",{className:"text-center p-4 text-black font-medium text-lg bg-lightPurple mb-5",children:"Byggekostnader"}),(null===i||void 0===i||null===(t=i.Byggekostnader)||void 0===t?void 0:t.length)>0&&(0,V.jsxs)("div",{className:"flex flex-col gap-5",children:[null===i||void 0===i||null===(n=i.Byggekostnader)||void 0===n?void 0:n.map(((e,t)=>(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:HC,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:null===e||void 0===e?void 0:e.Headline})]}),(0,V.jsx)("h4",{className:"text-black font-medium text-base",children:null!==e&&void 0!==e&&e.pris?`${e.pris} NOK`:"inkl. i tilbud"})]},t))),(0,V.jsxs)("div",{className:"bg-[#F7F1FF] flex items-center justify-between gap-2 p-2",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:HC,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:"Antatt prisstigning til den 15.i den m\xe5ned t\xf8mrerne starter"})]}),(0,V.jsx)("div",{className:"border border-gray2 rounded-lg bg-white py-[10px] px-[14px] flex items-center justify-center text-darkBlack font-medium text-base",children:"221.800 NOK"})]}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:HC,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-lg font-bold",children:"Sum byggkostnader"})]}),(0,V.jsxs)("h4",{className:"text-black font-bold text-base",children:[a," NOK"]})]})]})]}),(0,V.jsxs)("div",{className:"w-1/2 p-4 border border-gray2 rounded-lg h-max",style:{boxShadow:"0px 4px 6px -2px #10182808, 0px 12px 16px -4px #10182814"},children:[(0,V.jsx)("div",{className:"text-center p-4 text-black font-medium text-lg bg-lightPurple mb-5",children:"Tomkostnader"}),(0,V.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:HC,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:"Tomtekj\xf8p"})]}),(0,V.jsx)("input",{type:"text",className:"focus-within:outline-none placeholder:text-gray rounded-[8px] shadow-shadow1 border border-gray1 py-[10px] px-[14px] w-[140px]",placeholder:"Enter"})]}),(null===i||void 0===i?void 0:i.Tomtekost.length)>0&&(null===i||void 0===i||null===(r=i.Tomtekost)||void 0===r?void 0:r.map(((e,t)=>(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:HC,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:null===e||void 0===e?void 0:e.Headline})]}),(0,V.jsx)("h4",{className:"text-black font-medium text-base",children:null!==e&&void 0!==e&&e.pris?`${e.pris} NOK`:"inkl. i tilbud"})]},t)))),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2",children:[(0,V.jsx)("img",{src:HC,alt:"icon"}),(0,V.jsx)("p",{className:"text-gray text-lg font-bold",children:"Sum tomtekostnader"})]}),(0,V.jsxs)("h4",{className:"text-black font-bold text-base",children:[l," NOK"]})]})]})]})]})})},KC=()=>{var t,n,r,i,s,a;const[o,l]=(0,e.useState)(0),c=$n().pathname.split("/"),u=c.length>2?c[2]:null,[d,h]=(0,e.useState)(!0),[f,p]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!u)return void h(!1);(async()=>{const e=await MA(u);e&&p(e),h(!1)})()}),[u]),(0,V.jsx)(V.Fragment,{children:d?(0,V.jsx)(li,{}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"bg-lightPurple py-4 px-6",children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,V.jsx)(Zr,{to:"/Husmodell",className:"text-gray text-sm font-medium",children:"Husmodell"}),(0,V.jsx)(FC,{className:"text-gray2 w-4 h-4"}),(0,V.jsx)("span",{className:"text-primary text-sm font-medium",children:"Se husmodell"})]}),(0,V.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,V.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,V.jsx)("img",{src:null===f||void 0===f||null===(t=f.Husdetaljer)||void 0===t?void 0:t.photo,alt:"plot-image",className:"w-[180px] h-[113px] rounded-lg"}),(0,V.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,V.jsx)("h4",{className:"text-darkBlack font-medium text-2xl",children:null===f||void 0===f||null===(n=f.Husdetaljer)||void 0===n?void 0:n.husmodell_name}),(0,V.jsxs)("div",{className:"flex items-center gap-4",children:[(0,V.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===f||void 0===f||null===(r=f.Husdetaljer)||void 0===r?void 0:r.BRATotal," ",(0,V.jsxs)("span",{className:"text-gray font-normal",children:["m",(0,V.jsx)("sup",{children:"2"})]})]}),(0,V.jsx)("div",{className:"h-3 border-l border-gray2"}),(0,V.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===f||void 0===f||null===(i=f.Husdetaljer)||void 0===i?void 0:i.Soverom," ",(0,V.jsx)("span",{className:"text-gray font-normal",children:"soverom"})]}),(0,V.jsx)("div",{className:"h-3 border-l border-gray2"}),(0,V.jsxs)("div",{className:"text-lg text-darkBlack font-semibold",children:[null===f||void 0===f||null===(s=f.Husdetaljer)||void 0===s?void 0:s.Bad," ",(0,V.jsx)("span",{className:"text-gray font-normal",children:"bad"})]})]})]})]}),(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("p",{className:"text-gray text-sm",children:"Pris fra"}),(0,V.jsx)("h5",{className:"text-darkBlack text-xl font-semibold",children:FA(null===f||void 0===f||null===(a=f.Husdetaljer)||void 0===a?void 0:a.pris)})]})]})]}),(0,V.jsxs)("div",{className:"py-4 px-6",children:[(0,V.jsxs)("div",{className:"border-b border-gray2 flex items-center justify-between gap-2 mb-6",children:[(0,V.jsx)(LC,{tabs:[{label:"Kundedetaljer"},{label:"Prisliste"}],activeTab:o,setActiveTab:l}),(0,V.jsx)(vi,{text:"Endre husmodell",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",path:`/edit-husmodell/${u}`})]}),0===o&&(0,V.jsx)(qC,{husmodellData:f.Husdetaljer}),1===o&&(0,V.jsx)(WC,{husmodellData:f.Prisliste})]})]})})};const GC=__webpack_require__.p+"static/media/Ic_upload_blue_img.4fb885ee8aa78aea6e17ccaedb952721.svg";function XC(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}function YC(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function QC(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const i=r?.[t]||n;return e.useMemo((()=>({[`__scope${t}`]:{...r,[t]:i}})),[r,i])}};return i.scopeName=t,[function(n,i){const s=e.createContext(i),a=r.length;r=[...r,i];const o=n=>{const{scope:r,children:i,...o}=n,l=r?.[t]?.[a]||s,c=e.useMemo((()=>o),Object.values(o));return(0,V.jsx)(l.Provider,{value:c,children:i})};return o.displayName=n+"Provider",[o,function(r,o){const l=o?.[t]?.[a]||s,c=e.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},ZC(i,...n)]}function ZC(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const s=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)[`__scope${i}`]}}),{});return e.useMemo((()=>({[`__scope${i.scopeName}`]:r})),[r])}};return s.scopeName=i.scopeName,s}var JC=e.createContext(void 0);function eT(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current?.(...t)}),[])}var tT,nT="dismissableLayer.update",rT="dismissableLayer.pointerDownOutside",iT="dismissableLayer.focusOutside",sT=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aT=e.forwardRef(((t,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=e.useContext(sT),[d,h]=e.useState(null),f=d?.ownerDocument??globalThis?.document,[,p]=e.useState({}),m=zl(n,(e=>h(e))),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,_=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=eT(t),i=e.useRef(!1),s=e.useRef((()=>{}));return e.useEffect((()=>{const e=e=>{if(e.target&&!i.current){let t=function(){cT(rT,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",s.current),s.current=t,n.addEventListener("click",s.current,{once:!0})):t()}else n.removeEventListener("click",s.current);i.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",s.current)}}),[n,r]),{onPointerDownCapture:()=>i.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));w&&!n&&(s?.(e),o?.(e),e.defaultPrevented||l?.())}),f),k=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=eT(t),i=e.useRef(!1);return e.useEffect((()=>{const e=e=>{if(e.target&&!i.current){cT(iT,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(a?.(e),o?.(e),e.defaultPrevented||l?.())}),f);return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=eT(t);e.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})}),[r,n])}((e=>{b===u.layers.size-1&&(i?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),f),e.useEffect((()=>{if(d)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(tT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lT(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=tT)}}),[d,f,r,u]),e.useEffect((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lT())}),[d,u]),e.useEffect((()=>{const e=()=>p({});return document.addEventListener(nT,e),()=>document.removeEventListener(nT,e)}),[]),(0,V.jsx)(LA.div,{...c,ref:m,style:{pointerEvents:x?w?"auto":"none":void 0,...t.style},onFocusCapture:YC(t.onFocusCapture,k.onFocusCapture),onBlurCapture:YC(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:YC(t.onPointerDownCapture,_.onPointerDownCapture)})}));aT.displayName="DismissableLayer";var oT=e.forwardRef(((t,n)=>{const r=e.useContext(sT),i=e.useRef(null),s=zl(n,i);return e.useEffect((()=>{const e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,V.jsx)(LA.div,{...t,ref:s})}));function lT(){const e=new CustomEvent(nT);document.dispatchEvent(e)}function cT(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?function(e,t){e&&ai.flushSync((()=>e.dispatchEvent(t)))}(s,a):s.dispatchEvent(a)}oT.displayName="DismissableLayerBranch";var uT=0;function dT(){e.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hT()),document.body.insertAdjacentElement("beforeend",e[1]??hT()),uT++,()=>{1===uT&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),uT--}}),[])}function hT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fT="focusScope.autoFocusOnMount",pT="focusScope.autoFocusOnUnmount",mT={bubbles:!1,cancelable:!0},gT=e.forwardRef(((t,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=e.useState(null),u=eT(s),d=eT(a),h=e.useRef(null),f=zl(n,(e=>c(e))),p=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect((()=>{if(i){let e=function(e){if(p.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:xT(h.current,{select:!0})},t=function(e){if(p.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||xT(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&xT(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[i,l,p.paused]),e.useEffect((()=>{if(l){wT.add(p);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(fT,mT);l.addEventListener(fT,u),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(xT(r,{select:t}),document.activeElement!==n)return}((e=vT(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&xT(l))}return()=>{l.removeEventListener(fT,u),setTimeout((()=>{const e=new CustomEvent(pT,mT);l.addEventListener(pT,d),l.dispatchEvent(e),e.defaultPrevented||xT(t??document.body,{select:!0}),l.removeEventListener(pT,d),wT.remove(p)}),0)}}var e}),[l,u,d,p]);const m=e.useCallback((e=>{if(!r&&!i)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,s]=function(e){const t=vT(e),n=yT(t,e),r=yT(t.reverse(),e);return[n,r]}(t);i&&s?e.shiftKey||n!==s?e.shiftKey&&n===i&&(e.preventDefault(),r&&xT(s,{select:!0})):(e.preventDefault(),r&&xT(i,{select:!0})):n===t&&e.preventDefault()}}),[r,i,p.paused]);return(0,V.jsx)(LA.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})}));function vT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yT(e,t){for(const n of e)if(!bT(n,{upTo:t}))return n}function bT(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function xT(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}gT.displayName="FocusScope";var wT=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=_T(e,t),e.unshift(t)},remove(t){e=_T(e,t),e[0]?.resume()}}}();function _T(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var kT=Boolean(globalThis?.document)?e.useLayoutEffect:()=>{},ST=t["useId".toString()]||(()=>{}),ET=0;function AT(t){const[n,r]=e.useState(ST());return kT((()=>{t||r((e=>e??String(ET++)))}),[t]),t||(n?`radix-${n}`:"")}const CT=["top","right","bottom","left"],TT=Math.min,NT=Math.max,PT=Math.round,IT=Math.floor,RT=e=>({x:e,y:e}),jT={left:"right",right:"left",bottom:"top",top:"bottom"},DT={start:"end",end:"start"};function OT(e,t,n){return NT(e,TT(t,n))}function MT(e,t){return"function"===typeof e?e(t):e}function FT(e){return e.split("-")[0]}function LT(e){return e.split("-")[1]}function UT(e){return"x"===e?"y":"x"}function VT(e){return"y"===e?"height":"width"}function BT(e){return["top","bottom"].includes(FT(e))?"y":"x"}function zT(e){return UT(BT(e))}function $T(e){return e.replace(/start|end/g,(e=>DT[e]))}function qT(e){return e.replace(/left|right|bottom|top/g,(e=>jT[e]))}function HT(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function WT(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function KT(e,t,n){let{reference:r,floating:i}=e;const s=BT(t),a=zT(t),o=VT(a),l=FT(t),c="y"===s,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(LT(t)){case"start":f[a]-=h*(n&&c?-1:1);break;case"end":f[a]+=h*(n&&c?-1:1)}return f}async function GT(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=MT(t,e),p=HT(f),m=o[h?"floating"===d?"reference":"floating":d],g=WT(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),b=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},x=WT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+p.top)/b.y,bottom:(x.bottom-g.bottom+p.bottom)/b.y,left:(g.left-x.left+p.left)/b.x,right:(x.right-g.right+p.right)/b.x}}function XT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YT(e){return CT.some((t=>e[t]>=0))}function QT(){return"undefined"!==typeof window}function ZT(e){return tN(e)?(e.nodeName||"").toLowerCase():"#document"}function JT(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eN(e){var t;return null==(t=(tN(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tN(e){return!!QT()&&(e instanceof Node||e instanceof JT(e).Node)}function nN(e){return!!QT()&&(e instanceof Element||e instanceof JT(e).Element)}function rN(e){return!!QT()&&(e instanceof HTMLElement||e instanceof JT(e).HTMLElement)}function iN(e){return!(!QT()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof JT(e).ShadowRoot)}function sN(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=dN(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function aN(e){return["table","td","th"].includes(ZT(e))}function oN(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch($){return!1}}))}function lN(e){const t=cN(),n=nN(e)?dN(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function cN(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function uN(e){return["html","body","#document"].includes(ZT(e))}function dN(e){return JT(e).getComputedStyle(e)}function hN(e){return nN(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fN(e){if("html"===ZT(e))return e;const t=e.assignedSlot||e.parentNode||iN(e)&&e.host||eN(e);return iN(t)?t.host:t}function pN(e){const t=fN(e);return uN(t)?e.ownerDocument?e.ownerDocument.body:e.body:rN(t)&&sN(t)?t:pN(t)}function mN(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=pN(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),a=JT(i);if(s){const e=gN(a);return t.concat(a,a.visualViewport||[],sN(i)?i:[],e&&n?mN(e):[])}return t.concat(i,mN(i,[],n))}function gN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vN(e){const t=dN(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=rN(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=PT(n)!==s||PT(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function yN(e){return nN(e)?e:e.contextElement}function bN(e){const t=yN(e);if(!rN(t))return RT(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=vN(t);let a=(s?PT(n.width):n.width)/r,o=(s?PT(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const xN=RT(0);function wN(e){const t=JT(e);return cN()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xN}function _N(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=yN(e);let a=RT(1);t&&(r?nN(r)&&(a=bN(r)):a=bN(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==JT(e))&&t}(s,n,r)?wN(s):RT(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const e=JT(s),t=r&&nN(r)?JT(r):r;let n=e,i=gN(n);for(;i&&r&&t!==n;){const e=bN(i),t=i.getBoundingClientRect(),r=dN(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=s,c+=a,n=JT(i),i=gN(n)}}return WT({width:u,height:d,x:l,y:c})}function kN(e,t){const n=hN(e).scrollLeft;return t?t.left+n:_N(eN(e)).left+n}function SN(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:kN(e,r)),y:r.top+t.scrollTop}}function EN(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=JT(e),r=eN(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const e=cN();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=eN(e),n=hN(e),r=e.ownerDocument.body,i=NT(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=NT(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+kN(e);const o=-n.scrollTop;return"rtl"===dN(r).direction&&(a+=NT(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}(eN(e));else if(nN(t))r=function(e,t){const n=_N(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=rN(e)?bN(e):RT(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=wN(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return WT(r)}function AN(e,t){const n=fN(e);return!(n===t||!nN(n)||uN(n))&&("fixed"===dN(n).position||AN(n,t))}function CN(e,t,n){const r=rN(t),i=eN(t),s="fixed"===n,a=_N(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=RT(0);if(r||!r&&!s)if(("body"!==ZT(t)||sN(i))&&(o=hN(t)),r){const e=_N(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=kN(i));const c=!i||r||s?RT(0):SN(i,o);return{x:a.left+o.scrollLeft-l.x-c.x,y:a.top+o.scrollTop-l.y-c.y,width:a.width,height:a.height}}function TN(e){return"static"===dN(e).position}function NN(e,t){if(!rN(e)||"fixed"===dN(e).position)return null;if(t)return t(e);let n=e.offsetParent;return eN(e)===n&&(n=n.ownerDocument.body),n}function PN(e,t){const n=JT(e);if(oN(e))return n;if(!rN(e)){let t=fN(e);for(;t&&!uN(t);){if(nN(t)&&!TN(t))return t;t=fN(t)}return n}let r=NN(e,t);for(;r&&aN(r)&&TN(r);)r=NN(r,t);return r&&uN(r)&&TN(r)&&!lN(r)?n:r||function(e){let t=fN(e);for(;rN(t)&&!uN(t);){if(lN(t))return t;if(oN(t))return null;t=fN(t)}return null}(e)||n}const IN={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,a=eN(r),o=!!t&&oN(t.floating);if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=RT(1);const u=RT(0),d=rN(r);if((d||!d&&!s)&&(("body"!==ZT(r)||sN(a))&&(l=hN(r)),rN(r))){const e=_N(r);c=bN(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!a||d||s?RT(0):SN(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:eN,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[..."clippingAncestors"===n?oN(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=mN(e,[],!1).filter((e=>nN(e)&&"body"!==ZT(e))),i=null;const s="fixed"===dN(e).position;let a=s?fN(e):e;for(;nN(a)&&!uN(a);){const t=dN(a),n=lN(a);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||sN(a)&&!n&&AN(e,a))?r=r.filter((e=>e!==a)):i=t,a=fN(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=s[0],o=s.reduce(((e,n)=>{const r=EN(t,n,i);return e.top=NT(r.top,e.top),e.right=TT(r.right,e.right),e.bottom=TT(r.bottom,e.bottom),e.left=NT(r.left,e.left),e}),EN(t,a,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:PN,getElementRects:async function(e){const t=this.getOffsetParent||PN,n=this.getDimensions,r=await n(e.floating);return{reference:CN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=vN(e);return{width:t,height:n}},getScale:bN,isElement:nN,isRTL:function(e){return"rtl"===dN(e).direction}};function RN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jN(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=yN(e),u=i||s?[...c?mN(c):[],...mN(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const d=c&&o?function(e,t){let n,r=null;const i=eN(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||t(),!h||!f)return;const p={rootMargin:-IT(d)+"px "+-IT(i.clientWidth-(u+h))+"px "+-IT(i.clientHeight-(d+f))+"px "+-IT(u)+"px",threshold:NT(0,TT(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||RN(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch($){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),s}(c,n):null;let h,f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?_N(e):null;return l&&function t(){const r=_N(e);m&&!RN(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const DN=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=FT(n),o=LT(n),l="y"===BT(n),c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=MT(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"===typeof p&&(f="end"===o?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return a===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},ON=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=MT(e,t),c={x:n,y:r},u=await GT(t,l),d=BT(FT(i)),h=UT(d);let f=c[h],p=c[d];if(s){const e="y"===h?"bottom":"right";f=OT(f+u["y"===h?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";p=OT(p+u["y"===d?"top":"left"],p,p-u[e])}const m=o.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:a}}}}}},MN=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=MT(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=FT(i),y=BT(o),b=FT(o)===o,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(b||!m?[qT(o)]:function(e){const t=qT(e);return[$T(e),t,$T(t)]}(o)),_="none"!==p;!h&&_&&w.push(...function(e,t,n,r){const i=LT(e);let s=function(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}(FT(e),"start"===n,r);return i&&(s=s.map((e=>e+"-"+i)),t&&(s=s.concat(s.map($T)))),s}(o,m,p,x));const k=[o,...w],S=await GT(t,g),E=[];let A=(null==(r=s.flip)?void 0:r.overflows)||[];if(u&&E.push(S[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=LT(e),i=zT(e),s=VT(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=qT(a)),[a,qT(a)]}(i,a,x);E.push(S[e[0]],S[e[1]])}if(A=[...A,{placement:i,overflows:E}],!E.every((e=>e<=0))){var C,T;const e=((null==(C=s.flip)?void 0:C.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(T=A.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var N;const e=null==(N=A.filter((e=>{if(_){const t=BT(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},FN=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...c}=MT(e,t),u=await GT(t,c),d=FT(i),h=LT(i),f="y"===BT(i),{width:p,height:m}=s.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=h===(await(null==a.isRTL?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,g="end"===h?"top":"bottom");const y=m-u.top-u.bottom,b=p-u.left-u.right,x=TT(m-u[g],y),w=TT(p-u[v],b),_=!t.middlewareData.shift;let k=x,S=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=y),_&&!h){const e=NT(u.left,0),t=NT(u.right,0),n=NT(u.top,0),r=NT(u.bottom,0);f?S=p-2*(0!==e||0!==t?e+t:NT(u.left,u.right)):k=m-2*(0!==n||0!==r?n+r:NT(u.top,u.bottom))}await l({...t,availableWidth:S,availableHeight:k});const E=await a.getDimensions(o.floating);return p!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}},LN=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=MT(e,t);switch(r){case"referenceHidden":{const e=XT(await GT(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:YT(e)}}}case"escaped":{const e=XT(await GT(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:YT(e)}}}default:return{}}}}},UN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=MT(e,t)||{};if(null==c)return{};const d=HT(u),h={x:n,y:r},f=zT(i),p=VT(f),m=await a.getDimensions(c),g="y"===f,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=s.reference[p]+s.reference[f]-h[f]-s.floating[p],w=h[f]-s.reference[f],_=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let k=_?_[b]:0;k&&await(null==a.isElement?void 0:a.isElement(_))||(k=o.floating[b]||s.floating[p]);const S=x/2-w/2,E=k/2-m[p]/2-1,A=TT(d[v],E),C=TT(d[y],E),T=A,N=k-m[p]-C,P=k/2-m[p]/2+S,I=OT(T,P,N),R=!l.arrow&&null!=LT(i)&&P!==I&&s.reference[p]/2-(P<T?A:C)-m[p]/2<0,j=R?P<T?P-T:P-N:0;return{[f]:h[f]+j,data:{[f]:I,centerOffset:P-I-j,...R&&{alignmentOffset:j}},reset:R}}}),VN=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=MT(e,t),u={x:n,y:r},d=BT(i),h=UT(d);let f=u[h],p=u[d];const m=MT(o,t),g="number"===typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+g.mainAxis,n=s.reference[h]+s.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var v,y;const e="y"===h?"width":"height",t=["top","left"].includes(FT(i)),n=s.reference[d]-s.floating[e]+(t&&(null==(v=a.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),r=s.reference[d]+s.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[h]:f,[d]:p}}}},BN=(e,t,n)=>{const r=new Map,i={platform:IN,...n},s={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=KT(c,r,l),h=r,f={},p=0;for(let m=0;m<o.length;m++){const{name:n,fn:s}=o[m],{x:g,y:v,data:y,reset:b}=await s({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,f={...f,[n]:{...f[n],...y}},b&&p<=50&&(p++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=KT(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:s})};var zN="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function $N(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!$N(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!$N(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function qN(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function HN(e,t){const n=qN(e);return Math.round(t*n)/n}function WN(t){const n=e.useRef(t);return zN((()=>{n.current=t})),n}const KN=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?UN({element:n.current,padding:r}).fn(t):{}:n?UN({element:n,padding:r}).fn(t):{};var i}}),GN=(e,t)=>({...DN(e),options:[e,t]}),XN=(e,t)=>({...ON(e),options:[e,t]}),YN=(e,t)=>({...VN(e),options:[e,t]}),QN=(e,t)=>({...MN(e),options:[e,t]}),ZN=(e,t)=>({...FN(e),options:[e,t]}),JN=(e,t)=>({...LN(e),options:[e,t]}),eP=(e,t)=>({...KN(e),options:[e,t]});var tP=e.forwardRef(((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return(0,V.jsx)(LA.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,V.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));tP.displayName="Arrow";var nP=tP;var rP="Popper",[iP,sP]=QC(rP),[aP,oP]=iP(rP),lP=t=>{const{__scopePopper:n,children:r}=t,[i,s]=e.useState(null);return(0,V.jsx)(aP,{scope:n,anchor:i,onAnchorChange:s,children:r})};lP.displayName=rP;var cP="PopperAnchor",uP=e.forwardRef(((t,n)=>{const{__scopePopper:r,virtualRef:i,...s}=t,a=oP(cP,r),o=e.useRef(null),l=zl(n,o);return e.useEffect((()=>{a.onAnchorChange(i?.current||o.current)})),i?null:(0,V.jsx)(LA.div,{...s,ref:l})}));uP.displayName=cP;var dP="PopperContent",[hP,fP]=iP(dP),pP=e.forwardRef(((t,n)=>{const{__scopePopper:r,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=oP(dP,r),[y,b]=e.useState(null),x=zl(n,(e=>b(e))),[w,_]=e.useState(null),k=function(t){const[n,r]=e.useState(void 0);return kT((()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const e=new ResizeObserver((e=>{if(!Array.isArray(e))return;if(!e.length)return;const n=e[0];let i,s;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,s=t.blockSize}else i=t.offsetWidth,s=t.offsetHeight;r({width:i,height:s})}));return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}r(void 0)}),[t]),n}(w),S=k?.width??0,E=k?.height??0,A=i+("center"!==a?"-"+a:""),C="number"===typeof d?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],N=T.length>0,P={padding:C,boundary:T.filter(yP),altBoundary:N},{refs:I,floatingStyles:R,placement:j,isPositioned:D,middlewareData:O}=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=e.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[f,p]=e.useState(i);$N(f,i)||p(i);const[m,g]=e.useState(null),[v,y]=e.useState(null),b=e.useCallback((e=>{e!==k.current&&(k.current=e,g(e))}),[]),x=e.useCallback((e=>{e!==S.current&&(S.current=e,y(e))}),[]),w=a||m,_=o||v,k=e.useRef(null),S=e.useRef(null),E=e.useRef(d),A=null!=c,C=WN(c),T=WN(s),N=WN(u),P=e.useCallback((()=>{if(!k.current||!S.current)return;const e={placement:n,strategy:r,middleware:f};T.current&&(e.platform=T.current),BN(k.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==N.current};I.current&&!$N(E.current,t)&&(E.current=t,ai.flushSync((()=>{h(t)})))}))}),[f,n,r,T,N]);zN((()=>{!1===u&&E.current.isPositioned&&(E.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const I=e.useRef(!1);zN((()=>(I.current=!0,()=>{I.current=!1})),[]),zN((()=>{if(w&&(k.current=w),_&&(S.current=_),w&&_){if(C.current)return C.current(w,_,P);P()}}),[w,_,P,C,A]);const R=e.useMemo((()=>({reference:k,floating:S,setReference:b,setFloating:x})),[b,x]),j=e.useMemo((()=>({reference:w,floating:_})),[w,_]),D=e.useMemo((()=>{const e={position:r,left:0,top:0};if(!j.floating)return e;const t=HN(j.floating,d.x),n=HN(j.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...qN(j.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,l,j.floating,d.x,d.y]);return e.useMemo((()=>({...d,update:P,refs:R,elements:j,floatingStyles:D})),[d,P,R,j,D])}({strategy:"fixed",placement:A,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jN(...t,{animationFrame:"always"===p})},elements:{reference:v.anchor},middleware:[GN({mainAxis:s+E,alignmentAxis:o}),c&&XN({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?YN():void 0,...P}),c&&QN({...P}),ZN({...P,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:s,height:a}=n.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${i}px`),o.setProperty("--radix-popper-anchor-width",`${s}px`),o.setProperty("--radix-popper-anchor-height",`${a}px`)}}),w&&eP({element:w,padding:l}),bP({arrowWidth:S,arrowHeight:E}),f&&JN({strategy:"referenceHidden",...P})]}),[M,F]=xP(j),L=eT(m);kT((()=>{D&&L?.()}),[D,L]);const U=O.arrow?.x,B=O.arrow?.y,z=0!==O.arrow?.centerOffset,[$,q]=e.useState();return kT((()=>{y&&q(window.getComputedStyle(y).zIndex)}),[y]),(0,V.jsx)("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:D?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,V.jsx)(hP,{scope:r,placedSide:M,onArrowChange:_,arrowX:U,arrowY:B,shouldHideArrow:z,children:(0,V.jsx)(LA.div,{"data-side":M,"data-align":F,...g,ref:x,style:{...g.style,animation:D?void 0:"none"}})})})}));pP.displayName=dP;var mP="PopperArrow",gP={top:"bottom",right:"left",bottom:"top",left:"right"},vP=e.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,i=fP(mP,n),s=gP[i.placedSide];return(0,V.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,V.jsx)(nP,{...r,ref:t,style:{...r.style,display:"block"}})})}));function yP(e){return null!==e}vP.displayName=mP;var bP=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,s=0!==i.arrow?.centerOffset,a=s?0:e.arrowWidth,o=s?0:e.arrowHeight,[l,c]=xP(n),u={start:"0%",center:"50%",end:"100%"}[c],d=(i.arrow?.x??0)+a/2,h=(i.arrow?.y??0)+o/2;let f="",p="";return"bottom"===l?(f=s?u:`${d}px`,p=-o+"px"):"top"===l?(f=s?u:`${d}px`,p=`${r.floating.height+o}px`):"right"===l?(f=-o+"px",p=s?u:`${h}px`):"left"===l&&(f=`${r.floating.width+o}px`,p=s?u:`${h}px`),{data:{x:f,y:p}}}});function xP(e){const[t,n="center"]=e.split("-");return[t,n]}var wP=lP,_P=uP,kP=pP,SP=vP,EP=e.forwardRef(((t,n)=>{const{container:r,...i}=t,[s,a]=e.useState(!1);kT((()=>a(!0)),[]);const o=r||s&&globalThis?.document?.body;return o?ai.createPortal((0,V.jsx)(LA.div,{...i,ref:n}),o):null}));EP.displayName="Portal";function AP(t){let{prop:n,defaultProp:r,onChange:i=()=>{}}=t;const[s,a]=function(t){let{defaultProp:n,onChange:r}=t;const i=e.useState(n),[s]=i,a=e.useRef(s),o=eT(r);return e.useEffect((()=>{a.current!==s&&(o(s),a.current=s)}),[s,a,o]),i}({defaultProp:r,onChange:i}),o=void 0!==n,l=o?n:s,c=eT(i);return[l,e.useCallback((e=>{if(o){const t="function"===typeof e?e(n):e;t!==n&&c(t)}else a(e)}),[o,n,a,c])]}var CP=e.forwardRef(((e,t)=>(0,V.jsx)(LA.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));CP.displayName="VisuallyHidden";var TP=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},NP=new WeakMap,PP=new WeakMap,IP={},RP=0,jP=function(e){return e&&(e.host||jP(e.parentNode))},DP=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=jP(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);IP[n]||(IP[n]=new WeakMap);var s=IP[n],a=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(NP.get(e)||0)+1,c=(s.get(e)||0)+1;NP.set(e,l),s.set(e,c),a.push(e),1===l&&i&&PP.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch($){console.error("aria-hidden: cannot operate on ",e,$)}}))};return u(t),o.clear(),RP++,function(){a.forEach((function(e){var t=NP.get(e)-1,i=s.get(e)-1;NP.set(e,t),s.set(e,i),t||(PP.has(e)||e.removeAttribute(r),PP.delete(e)),i||e.removeAttribute(n)})),--RP||(NP=new WeakMap,NP=new WeakMap,PP=new WeakMap,IP={})}},OP=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||TP(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),DP(r,i,n,"aria-hidden")):function(){return null}},MP="right-scroll-bar-position",FP="width-before-scroll-bar";function LP(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var UP="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,VP=new WeakMap;function BP(t,n){var r=function(t,n){var r=(0,e.useState)((function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(e){return t.forEach((function(t){return LP(t,e)}))}));return UP((function(){var e=VP.get(r);if(e){var n=new Set(e),i=new Set(t),s=r.current;n.forEach((function(e){i.has(e)||LP(e,null)})),i.forEach((function(e){n.has(e)||LP(e,s)}))}VP.set(r,t)}),[t]),r}function zP(e){return e}function $P(e,t){void 0===t&&(t=zP);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}var qP=function(e){void 0===e&&(e={});var t=$P(null);return t.options=qw({async:!0,ssr:!1},e),t}(),HP=function(){},WP=e.forwardRef((function(t,n){var r=e.useRef(null),i=e.useState({onScrollCapture:HP,onWheelCapture:HP,onTouchMoveCapture:HP}),s=i[0],a=i[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,y=void 0===v?"div":v,b=t.gapMode,x=Hw(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,_=BP([r,n]),k=qw(qw({},x),s);return e.createElement(e.Fragment,null,d&&e.createElement(w,{sideCar:qP,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?e.cloneElement(e.Children.only(l),qw(qw({},k),{ref:_})):e.createElement(y,qw({},k,{className:c,ref:_}),l))}));WP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},WP.classNames={fullWidth:FP,zeroRight:MP};var KP,GP=function(t){var n=t.sideCar,r=Hw(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return e.createElement(i,qw({},r))};GP.isSideCarExport=!0;function XP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KP||__webpack_require__.nc;return t&&e.setAttribute("nonce",t),e}var YP=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=XP())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QP=function(){var t=function(){var t=YP();return function(n,r){e.useEffect((function(){return t.add(n),function(){t.remove()}}),[n&&r])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},ZP={left:0,top:0,right:0,gap:0},JP=function(e){return parseInt(e||"",10)||0},eI=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return ZP;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[JP(n),JP(r),JP(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},tI=QP(),nI="data-scroll-locked",rI=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(nI,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(MP," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(FP," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(MP," .").concat(MP," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(FP," .").concat(FP," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(nI,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},iI=function(){var e=parseInt(document.body.getAttribute(nI)||"0",10);return isFinite(e)?e:0},sI=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,s=void 0===i?"margin":i;e.useEffect((function(){return document.body.setAttribute(nI,(iI()+1).toString()),function(){var e=iI()-1;e<=0?document.body.removeAttribute(nI):document.body.setAttribute(nI,e.toString())}}),[]);var a=e.useMemo((function(){return eI(s)}),[s]);return e.createElement(tI,{styles:rI(a,!n,s,r?"":"!important")})},aI=!1;if("undefined"!==typeof window)try{var oI=Object.defineProperty({},"passive",{get:function(){return aI=!0,!0}});window.addEventListener("test",oI,oI),window.removeEventListener("test",oI,oI)}catch(Nj){aI=!1}var lI=!!aI&&{passive:!1},cI=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},uI=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),dI(e,r)){var i=hI(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dI=function(e,t){return"v"===e?function(e){return cI(e,"overflowY")}(t):function(e){return cI(e,"overflowX")}(t)},hI=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},fI=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pI=function(e){return[e.deltaX,e.deltaY]},mI=function(e){return e&&"current"in e?e.current:e},gI=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},vI=0,yI=[];function bI(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xI=(wI=function(t){var n=e.useRef([]),r=e.useRef([0,0]),i=e.useRef(),s=e.useState(vI++)[0],a=e.useState(QP)[0],o=e.useRef(t);e.useEffect((function(){o.current=t}),[t]),e.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var e=Ww([t.lockRef.current],(t.shards||[]).map(mI),!0).filter(Boolean);return e.forEach((function(e){return e.classList.add("allow-interactivity-".concat(s))})),function(){document.body.classList.remove("block-interactivity-".concat(s)),e.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(s))}))}}}),[t.inert,t.lockRef.current,t.shards]);var l=e.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var n,s=fI(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=uI(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=uI(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var f=i.current||n;return function(e,t,n,r,i){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,l=t.contains(o),c=!1,u=a>0,d=0,h=0;do{var f=hI(e,o),p=f[0],m=f[1]-f[2]-s*p;(p||m)&&dI(e,o)&&(d+=m,h+=p),o=o instanceof ShadowRoot?o.host:o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(u&&(i&&Math.abs(d)<1||!i&&a>d)||!u&&(i&&Math.abs(h)<1||!i&&-a>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)}),[]),c=e.useCallback((function(e){var t=e;if(yI.length&&yI[yI.length-1]===a){var r="deltaY"in t?pI(t):fI(t),i=n.current.filter((function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)t.cancelable&&t.preventDefault();else if(!i){var s=(o.current.shards||[]).map(mI).filter(Boolean).filter((function(e){return e.contains(t.target)}));(s.length>0?l(t,s[0]):!o.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),u=e.useCallback((function(e,t,r,i){var s={name:e,delta:t,target:r,should:i,shadowParent:bI(r)};n.current.push(s),setTimeout((function(){n.current=n.current.filter((function(e){return e!==s}))}),1)}),[]),d=e.useCallback((function(e){r.current=fI(e),i.current=void 0}),[]),h=e.useCallback((function(e){u(e.type,pI(e),e.target,l(e,t.lockRef.current))}),[]),f=e.useCallback((function(e){u(e.type,fI(e),e.target,l(e,t.lockRef.current))}),[]);e.useEffect((function(){return yI.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,lI),document.addEventListener("touchmove",c,lI),document.addEventListener("touchstart",d,lI),function(){yI=yI.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,lI),document.removeEventListener("touchmove",c,lI),document.removeEventListener("touchstart",d,lI)}}),[]);var p=t.removeScrollBar,m=t.inert;return e.createElement(e.Fragment,null,m?e.createElement(a,{styles:gI(s)}):null,p?e.createElement(sI,{gapMode:t.gapMode}):null)},qP.useMedium(wI),GP);var wI,_I=e.forwardRef((function(t,n){return e.createElement(WP,qw({},t,{ref:n,sideCar:xI}))}));_I.classNames=WP.classNames;const kI=_I;var SI=[" ","Enter","ArrowUp","ArrowDown"],EI=[" ","Enter"],AI="Select",[CI,TI,NI]=function(t){const n=t+"CollectionProvider",[r,i]=QC(n),[s,a]=r(n,{collectionRef:{current:null},itemMap:new Map}),o=t=>{const{scope:n,children:r}=t,i=e.useRef(null),a=e.useRef(new Map).current;return(0,V.jsx)(s,{scope:n,itemMap:a,collectionRef:i,children:r})};o.displayName=n;const l=t+"CollectionSlot",c=e.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=zl(t,a(l,n).collectionRef);return(0,V.jsx)($l,{ref:i,children:r})}));c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=e.forwardRef(((t,n)=>{const{scope:r,children:i,...s}=t,o=e.useRef(null),l=zl(n,o),c=a(u,r);return e.useEffect((()=>(c.itemMap.set(o,{ref:o,...s}),()=>{c.itemMap.delete(o)}))),(0,V.jsx)($l,{[d]:"",ref:l,children:i})}));return h.displayName=u,[{Provider:o,Slot:c,ItemSlot:h},function(n){const r=a(t+"CollectionConsumer",n),i=e.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),n=Array.from(r.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return n}),[r.collectionRef,r.itemMap]);return i},i]}(AI),[PI,II]=QC(AI,[NI,sP]),RI=sP(),[jI,DI]=PI(AI),[OI,MI]=PI(AI),FI=t=>{const{__scopeSelect:n,children:r,open:i,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:m}=t,g=RI(n),[v,y]=e.useState(null),[b,x]=e.useState(null),[w,_]=e.useState(!1),k=function(t){const n=e.useContext(JC);return t||n||"ltr"}(u),[S=!1,E]=AP({prop:i,defaultProp:s,onChange:a}),[A,C]=AP({prop:o,defaultProp:l,onChange:c}),T=e.useRef(null),N=!v||(m||!!v.closest("form")),[P,I]=e.useState(new Set),R=Array.from(P).map((e=>e.props.value)).join(";");return(0,V.jsx)(wP,{...g,children:(0,V.jsxs)(jI,{required:p,scope:n,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:AT(),value:A,onValueChange:C,open:S,onOpenChange:E,dir:k,triggerPointerDownPosRef:T,disabled:f,children:[(0,V.jsx)(CI.Provider,{scope:n,children:(0,V.jsx)(OI,{scope:t.__scopeSelect,onNativeOptionAdd:e.useCallback((e=>{I((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:e.useCallback((e=>{I((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:r})}),N?(0,V.jsxs)(ER,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:e=>C(e.target.value),disabled:f,form:m,children:[void 0===A?(0,V.jsx)("option",{value:""}):null,Array.from(P)]},R):null]})})};FI.displayName=AI;var LI="SelectTrigger",UI=e.forwardRef(((t,n)=>{const{__scopeSelect:r,disabled:i=!1,...s}=t,a=RI(r),o=DI(LI,r),l=o.disabled||i,c=zl(n,o.onTriggerChange),u=TI(r),d=e.useRef("touch"),[h,f,p]=AR((e=>{const t=u().filter((e=>!e.disabled)),n=t.find((e=>e.value===o.value)),r=CR(t,e,n);void 0!==r&&o.onValueChange(r.value)})),m=e=>{l||(o.onOpenChange(!0),p()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,V.jsx)(_P,{asChild:!0,...a,children:(0,V.jsx)(LA.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":SR(o.value)?"":void 0,...s,ref:c,onClick:YC(s.onClick,(e=>{e.currentTarget.focus(),"mouse"!==d.current&&m(e)})),onPointerDown:YC(s.onPointerDown,(e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(m(e),e.preventDefault())})),onKeyDown:YC(s.onKeyDown,(e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||SI.includes(e.key)&&(m(),e.preventDefault())}))})})}));UI.displayName=LI;var VI="SelectValue",BI=e.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,l=DI(VI,n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==s,d=zl(t,l.onValueNodeChange);return kT((()=>{c(u)}),[c,u]),(0,V.jsx)(LA.span,{...o,ref:d,style:{pointerEvents:"none"},children:SR(l.value)?(0,V.jsx)(V.Fragment,{children:a}):s})}));BI.displayName=VI;var zI=e.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return(0,V.jsx)(LA.span,{"aria-hidden":!0,...i,ref:t,children:r||"\u25bc"})}));zI.displayName="SelectIcon";var $I=e=>(0,V.jsx)(EP,{asChild:!0,...e});$I.displayName="SelectPortal";var qI="SelectContent",HI=e.forwardRef(((t,n)=>{const r=DI(qI,t.__scopeSelect),[i,s]=e.useState();if(kT((()=>{s(new DocumentFragment)}),[]),!r.open){const e=i;return e?ai.createPortal((0,V.jsx)(KI,{scope:t.__scopeSelect,children:(0,V.jsx)(CI.Slot,{scope:t.__scopeSelect,children:(0,V.jsx)("div",{children:t.children})})}),e):null}return(0,V.jsx)(XI,{...t,ref:n})}));HI.displayName=qI;var WI=10,[KI,GI]=PI(qI),XI=e.forwardRef(((t,n)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=t,b=DI(qI,r),[x,w]=e.useState(null),[_,k]=e.useState(null),S=zl(n,(e=>w(e))),[E,A]=e.useState(null),[C,T]=e.useState(null),N=TI(r),[P,I]=e.useState(!1),R=e.useRef(!1);e.useEffect((()=>{if(x)return OP(x)}),[x]),dT();const j=e.useCallback((e=>{const[t,...n]=N().map((e=>e.ref.current)),[r]=n.slice(-1),i=document.activeElement;for(const s of e){if(s===i)return;if(s?.scrollIntoView({block:"nearest"}),s===t&&_&&(_.scrollTop=0),s===r&&_&&(_.scrollTop=_.scrollHeight),s?.focus(),document.activeElement!==i)return}}),[N,_]),D=e.useCallback((()=>j([E,x])),[j,E,x]);e.useEffect((()=>{P&&D()}),[P,D]);const{onOpenChange:O,triggerPointerDownPosRef:M}=b;e.useEffect((()=>{if(x){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(M.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():x.contains(n.target)||O(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[x,O,M]),e.useEffect((()=>{const e=()=>O(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[O]);const[F,L]=AR((e=>{const t=N().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=CR(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),U=e.useCallback(((e,t,n)=>{const r=!R.current&&!n;(void 0!==b.value&&b.value===t||r)&&(A(e),r&&(R.current=!0))}),[b.value]),B=e.useCallback((()=>x?.focus()),[x]),z=e.useCallback(((e,t,n)=>{const r=!R.current&&!n;(void 0!==b.value&&b.value===t||r)&&T(e)}),[b.value]),$="popper"===i?QI:YI,q=$===QI?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return(0,V.jsx)(KI,{scope:r,content:x,viewport:_,onViewportChange:k,itemRefCallback:U,selectedItem:E,onItemLeave:B,itemTextRefCallback:z,focusSelectedItem:D,selectedItemText:C,position:i,isPositioned:P,searchRef:F,children:(0,V.jsx)(kI,{as:$l,allowPinchZoom:!0,children:(0,V.jsx)(gT,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:YC(s,(e=>{b.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:(0,V.jsx)(aT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,V.jsx)($,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault(),...y,...q,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:YC(y.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=N().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>j(t))),e.preventDefault()}}))})})})})})}));XI.displayName="SelectContentImpl";var YI=e.forwardRef(((t,n)=>{const{__scopeSelect:r,onPlaced:i,...s}=t,a=DI(qI,r),o=GI(qI,r),[l,c]=e.useState(null),[u,d]=e.useState(null),h=zl(n,(e=>d(e))),f=TI(r),p=e.useRef(!1),m=e.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,x=e.useCallback((()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&v&&y){const e=a.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),r=y.getBoundingClientRect();if("rtl"!==a.dir){const i=r.left-t.left,s=n.left-i,a=e.left-s,o=e.width+a,c=Math.max(o,t.width),u=window.innerWidth-WI,d=XC(s,[WI,Math.max(WI,u-c)]);l.style.minWidth=o+"px",l.style.left=d+"px"}else{const i=t.right-r.right,s=window.innerWidth-n.right-i,a=window.innerWidth-e.right-s,o=e.width+a,c=Math.max(o,t.width),u=window.innerWidth-WI,d=XC(s,[WI,Math.max(WI,u-c)]);l.style.minWidth=o+"px",l.style.right=d+"px"}const s=f(),o=window.innerHeight-2*WI,c=g.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),m=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),x=h+m+c+parseInt(d.paddingBottom,10)+b,w=Math.min(5*v.offsetHeight,x),_=window.getComputedStyle(g),k=parseInt(_.paddingTop,10),S=parseInt(_.paddingBottom,10),E=e.top+e.height/2-WI,A=o-E,C=v.offsetHeight/2,T=h+m+(v.offsetTop+C),N=x-T;if(T<=E){const e=s.length>0&&v===s[s.length-1].ref.current;l.style.bottom="0px";const t=u.clientHeight-g.offsetTop-g.offsetHeight,n=T+Math.max(A,C+(e?S:0)+t+b);l.style.height=n+"px"}else{const e=s.length>0&&v===s[0].ref.current;l.style.top="0px";const t=Math.max(E,h+g.offsetTop+(e?k:0)+C)+N;l.style.height=t+"px",g.scrollTop=T-E+g.offsetTop}l.style.margin=`${WI}px 0`,l.style.minHeight=w+"px",l.style.maxHeight=o+"px",i?.(),requestAnimationFrame((()=>p.current=!0))}}),[f,a.trigger,a.valueNode,l,u,g,v,y,a.dir,i]);kT((()=>x()),[x]);const[w,_]=e.useState();kT((()=>{u&&_(window.getComputedStyle(u).zIndex)}),[u]);const k=e.useCallback((e=>{e&&!0===m.current&&(x(),b?.(),m.current=!1)}),[x,b]);return(0,V.jsx)(ZI,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:(0,V.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,V.jsx)(LA.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})}));YI.displayName="SelectItemAlignedPosition";var QI=e.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=WI,...s}=e,a=RI(n);return(0,V.jsx)(kP,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));QI.displayName="SelectPopperPosition";var[ZI,JI]=PI(qI,{}),eR="SelectViewport",tR=e.forwardRef(((t,n)=>{const{__scopeSelect:r,nonce:i,...s}=t,a=GI(eR,r),o=JI(eR,r),l=zl(n,a.onViewportChange),c=e.useRef(0);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,V.jsx)(CI.Slot,{scope:r,children:(0,V.jsx)(LA.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:YC(s.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(r?.current&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*WI,i=parseFloat(n.style.minHeight),s=parseFloat(n.style.height),a=Math.max(i,s);if(a<r){const i=a+e,s=Math.min(r,i),o=i-s;n.style.height=s+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop}))})})]})}));tR.displayName=eR;var nR="SelectGroup",[rR,iR]=PI(nR),sR=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=AT();return(0,V.jsx)(rR,{scope:n,id:i,children:(0,V.jsx)(LA.div,{role:"group","aria-labelledby":i,...r,ref:t})})}));sR.displayName=nR;var aR="SelectLabel",oR=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=iR(aR,n);return(0,V.jsx)(LA.div,{id:i.id,...r,ref:t})}));oR.displayName=aR;var lR="SelectItem",[cR,uR]=PI(lR),dR=e.forwardRef(((t,n)=>{const{__scopeSelect:r,value:i,disabled:s=!1,textValue:a,...o}=t,l=DI(lR,r),c=GI(lR,r),u=l.value===i,[d,h]=e.useState(a??""),[f,p]=e.useState(!1),m=zl(n,(e=>c.itemRefCallback?.(e,i,s))),g=AT(),v=e.useRef("touch"),y=()=>{s||(l.onValueChange(i),l.onOpenChange(!1))};if(""===i)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,V.jsx)(cR,{scope:r,value:i,disabled:s,textId:g,isSelected:u,onItemTextChange:e.useCallback((e=>{h((t=>t||(e?.textContent??"").trim()))}),[]),children:(0,V.jsx)(CI.ItemSlot,{scope:r,value:i,disabled:s,textValue:d,children:(0,V.jsx)(LA.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:m,onFocus:YC(o.onFocus,(()=>p(!0))),onBlur:YC(o.onBlur,(()=>p(!1))),onClick:YC(o.onClick,(()=>{"mouse"!==v.current&&y()})),onPointerUp:YC(o.onPointerUp,(()=>{"mouse"===v.current&&y()})),onPointerDown:YC(o.onPointerDown,(e=>{v.current=e.pointerType})),onPointerMove:YC(o.onPointerMove,(e=>{v.current=e.pointerType,s?c.onItemLeave?.():"mouse"===v.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:YC(o.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()})),onKeyDown:YC(o.onKeyDown,(e=>{""!==c.searchRef?.current&&" "===e.key||(EI.includes(e.key)&&y()," "===e.key&&e.preventDefault())}))})})})}));dR.displayName=lR;var hR="SelectItemText",fR=e.forwardRef(((t,n)=>{const{__scopeSelect:r,className:i,style:s,...a}=t,o=DI(hR,r),l=GI(hR,r),c=uR(hR,r),u=MI(hR,r),[d,h]=e.useState(null),f=zl(n,(e=>h(e)),c.onItemTextChange,(e=>l.itemTextRefCallback?.(e,c.value,c.disabled))),p=d?.textContent,m=e.useMemo((()=>(0,V.jsx)("option",{value:c.value,disabled:c.disabled,children:p},c.value)),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return kT((()=>(g(m),()=>v(m))),[g,v,m]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(LA.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ai.createPortal(a.children,o.valueNode):null]})}));fR.displayName=hR;var pR="SelectItemIndicator",mR=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return uR(pR,n).isSelected?(0,V.jsx)(LA.span,{"aria-hidden":!0,...r,ref:t}):null}));mR.displayName=pR;var gR="SelectScrollUpButton",vR=e.forwardRef(((t,n)=>{const r=GI(gR,t.__scopeSelect),i=JI(gR,t.__scopeSelect),[s,a]=e.useState(!1),o=zl(n,i.onScrollButtonChange);return kT((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),s?(0,V.jsx)(xR,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));vR.displayName=gR;var yR="SelectScrollDownButton",bR=e.forwardRef(((t,n)=>{const r=GI(yR,t.__scopeSelect),i=JI(yR,t.__scopeSelect),[s,a]=e.useState(!1),o=zl(n,i.onScrollButtonChange);return kT((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),s?(0,V.jsx)(xR,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));bR.displayName=yR;var xR=e.forwardRef(((t,n)=>{const{__scopeSelect:r,onAutoScroll:i,...s}=t,a=GI("SelectScrollButton",r),o=e.useRef(null),l=TI(r),c=e.useCallback((()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)}),[]);return e.useEffect((()=>()=>c()),[c]),kT((()=>{const e=l().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[l]),(0,V.jsx)(LA.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:YC(s.onPointerDown,(()=>{null===o.current&&(o.current=window.setInterval(i,50))})),onPointerMove:YC(s.onPointerMove,(()=>{a.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(i,50))})),onPointerLeave:YC(s.onPointerLeave,(()=>{c()}))})})),wR=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return(0,V.jsx)(LA.div,{"aria-hidden":!0,...r,ref:t})}));wR.displayName="SelectSeparator";var _R="SelectArrow",kR=e.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=RI(n),s=DI(_R,n),a=GI(_R,n);return s.open&&"popper"===a.position?(0,V.jsx)(SP,{...i,...r,ref:t}):null}));function SR(e){return""===e||void 0===e}kR.displayName=_R;var ER=e.forwardRef(((t,n)=>{const{value:r,...i}=t,s=e.useRef(null),a=zl(n,s),o=function(t){const n=e.useRef({value:t,previous:t});return e.useMemo((()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous)),[t])}(r);return e.useEffect((()=>{const e=s.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(o!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[o,r]),(0,V.jsx)(CP,{asChild:!0,children:(0,V.jsx)("select",{...i,ref:a,defaultValue:r})})}));function AR(t){const n=eT(t),r=e.useRef(""),i=e.useRef(0),s=e.useCallback((e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout((()=>e("")),1e3))}(t)}),[n]),a=e.useCallback((()=>{r.current="",window.clearTimeout(i.current)}),[]);return e.useEffect((()=>()=>window.clearTimeout(i.current)),[]),[r,s,a]}function CR(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=n?e.indexOf(n):-1;let s=(a=e,o=Math.max(i,0),a.map(((e,t)=>a[(o+t)%a.length])));var a,o;1===r.length&&(s=s.filter((e=>e!==n)));const l=s.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}ER.displayName="BubbleSelect";var TR=FI,NR=UI,PR=BI,IR=zI,RR=$I,jR=HI,DR=tR,OR=sR,MR=oR,FR=dR,LR=fR,UR=mR,VR=vR,BR=bR,zR=wR;const $R=wi("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qR=wi("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),HR=wi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),WR=TR,KR=OR,GR=PR,XR=e.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,V.jsxs)(NR,{ref:t,className:OA("flex h-11 w-full items-center justify-between rounded-[8px] border border-input bg-background px-3 py-2 text-base placeholder:text-[#667085] placeholder:text-opacity-55 focus:outline-none disabled:cursor-not-allowed disabled:bg-[#F5F5F5] disabled:hover:border-gray7 disabled:text-[#767676] [&>span]:line-clamp-1",n),...i,children:[r,(0,V.jsx)(IR,{asChild:!0,children:(0,V.jsx)($R,{className:"h-4 w-4"})})]})}));XR.displayName=NR.displayName;const YR=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(VR,{ref:t,className:OA("flex cursor-default items-center justify-center py-1",n),...r,children:(0,V.jsx)(qR,{className:"h-4 w-4"})})}));YR.displayName=VR.displayName;const QR=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(BR,{ref:t,className:OA("flex cursor-default items-center justify-center py-1",n),...r,children:(0,V.jsx)($R,{className:"h-4 w-4"})})}));QR.displayName=BR.displayName;const ZR=e.forwardRef(((e,t)=>{let{className:n,children:r,position:i="popper",...s}=e;return(0,V.jsx)(RR,{children:(0,V.jsxs)(jR,{ref:t,className:OA("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-[8px] border border-gray1 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...s,style:{zIndex:"99999999"},children:[(0,V.jsx)(YR,{}),(0,V.jsx)(DR,{className:OA("","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,V.jsx)(QR,{})]})})}));ZR.displayName=jR.displayName;const JR=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(MR,{ref:t,className:OA("py-1.5 pl-8 pr-2 text-sm",n),...r})}));JR.displayName=MR.displayName;const ej=e.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,V.jsxs)(FR,{ref:t,className:OA("relative flex w-full cursor-default select-none items-center py-1.5 pl-4 pr-2 text-base outline-none focus:text-accent-foreground hover:bg-[#EAECF0] data-[state=selected]:bg-[#EAECF0] data-[disabled]:pointer-events-none data-[disabled]:opacity-50 rounded-[8px]",n),...i,children:[(0,V.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,V.jsx)(UR,{children:(0,V.jsx)(HR,{className:"h-4 w-4"})})}),(0,V.jsx)(LR,{children:r})]})}));ej.displayName=FR.displayName;const tj=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,V.jsx)(zR,{ref:t,className:OA("-mx-1 my-1 h-px bg-muted",n),...r})}));tj.displayName=zR.displayName;const nj=wi("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),rj=wi("HousePlus",[["path",{d:"M13.22 2.416a2 2 0 0 0-2.511.057l-7 5.999A2 2 0 0 0 3 10v9a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7.354",key:"5phn05"}],["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"M18 3v6",key:"x1uolp"}]]),ij=wi("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),sj=Ul.object({TypeObjekt:Ul.string().min(1,{message:"Velg en Type Objekt."}),photo:Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()]),PlantegningerFasader:Ul.array(Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()])).min(1,"Minst ett bilde kreves."),photo3D:Ul.array(Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()])).min(1,"Minst ett bilde kreves."),husmodell_name:Ul.string().min(1,{message:"Navn p\xe5 husmodell m\xe5 best\xe5 av minst 2 tegn."}),link_3D_image:Ul.string().min(1,{message:"Link til 3D bilde m\xe5 best\xe5 av minst 2 tegn."}).optional(),pris:Ul.string().min(1,{message:"Pris m\xe5 best\xe5 av minst 1 tegn."}),BRATotal:Ul.string().min(1,{message:"BRA total (bruksareal) m\xe5 best\xe5 av minst 2 tegn."}),PRom:Ul.string().min(1,{message:"GUA (Gulvareal) m\xe5 best\xe5 av minst 2 tegn."}),"M\xf8neh\xf8yde":Ul.number().min(1,{message:"M\xf8neh\xf8yde areal m\xe5 best\xe5 av minst 2 tegn."}),"Gesimsh\xf8yde":Ul.number().min(1,{message:"Gesimsh\xf8yde areal m\xe5 best\xe5 av minst 2 tegn."}),LB:Ul.string().min(1,{message:"LB areal m\xe5 best\xe5 av minst 2 tegn."}),Takvinkel:Ul.number().min(1,{message:"Takvinkel areal m\xe5 best\xe5 av minst 2 tegn."}),BebygdAreal:Ul.number().min(1,{message:"Bebygd areal (BYA) m\xe5 best\xe5 av minst 2 tegn."}),Soverom:Ul.number().min(1,{message:"Soverom m\xe5 best\xe5 av minst 2 tegn."}),InnvendigBod:Ul.number().min(1,{message:"InnvendigBod m\xe5 best\xe5 av minst 2 tegn."}),Bad:Ul.number().min(1,{message:"Bad m\xe5 best\xe5 av minst 2 tegn."}),Energimerking:Ul.string().min(1,{message:"Energimerking must m\xe5 spesifiseres."}),TilgjengeligBolig:Ul.string().min(1,{message:"TilgjengeligBolig must m\xe5 spesifiseres."}),Tomtetype:Ul.string().min(1,{message:"Tomtetype must m\xe5 spesifiseres."}),Hustittel:Ul.string().min(1,{message:"Hustittel m\xe5 best\xe5 av minst 2 tegn."}),OmHusmodellen:Ul.string().min(1,{message:"OmHusmodellen m\xe5 best\xe5 av minst 2 tegn."}),TittelVideo:Ul.string().min(1,{message:"Tittel p\xe5 video m\xe5 best\xe5 av minst 2 tegn."}).optional(),VideoLink:Ul.string().refine((e=>""===e||/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[a-zA-Z0-9_-]+$/.test(e)),{message:"Please enter a valid YouTube URL."})}),aj=t=>{let{setActiveTab:n}=t;const r=aa({resolver:fa(sj)}),i=$n().pathname.split("/"),s=i.length>2?i[2]:null,[a,o]=(0,e.useState)(!0);(0,e.useEffect)((()=>{if(!s)return void o(!1);(async()=>{const e=await MA(s);e&&e.Husdetaljer&&Object.entries(e.Husdetaljer).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&r.setValue(t,n)})),o(!1)})()}),[r,s]);const l=Wn(),c=e.useRef(null),u=e.useRef(null),d=e.useRef(null),h=r.watch("photo"),f=r.watch("PlantegningerFasader"),p=r.watch("photo3D"),m=async(e,t)=>{if(!e)return;if(e.size>2097152)return void Be.error("Image size must be less than 2MB.",{position:"top-right"});const n=`${Date.now()}_${e.name}`,i=NA(DA,`images/${n}`);try{const n=await EA(i,e),s=await TA(n.ref);r.setValue(t,s),r.clearErrors(t)}catch(s){console.error(`Error uploading file for ${t}:`,s)}},g=async e=>{var t;null!==(t=e.target.files)&&void 0!==t&&t[0]&&await m(e.target.files[0],"photo")},v=()=>{var e;null===(e=c.current)||void 0===e||e.click()},y=async e=>{var t;e.preventDefault(),null!==(t=e.dataTransfer.files)&&void 0!==t&&t[0]&&await m(e.dataTransfer.files[0],"photo")},b=async(e,t)=>{if(!e.length)return;const n=Array.from(e).map((async e=>{if(e.size>2097152)return Be.error("Image size must be less than 2MB.",{position:"top-right"}),null;const t=`${Date.now()}_${e.name}`,n=NA(DA,`images/${t}`);try{const t=await EA(n,e);return await TA(t.ref)}catch(r){return console.error("Error uploading file:",r),null}})),i=(await Promise.all(n)).filter(Boolean);let s=r.getValues(t)||[];if(Array.isArray(s)||(s=[]),i.length){const e=[...s,...i];r.setValue(t,e),r.clearErrors(t)}},x=async e=>{e.target.files&&await b(e.target.files,"PlantegningerFasader")},w=()=>{var e;null===(e=d.current)||void 0===e||e.click()},_=async e=>{e.preventDefault(),e.dataTransfer.files&&await b(e.dataTransfer.files,"PlantegningerFasader")},k=e=>{e.preventDefault()},S=e=>{e.preventDefault()},E=e=>{e.preventDefault()},A=async e=>{e.target.files&&await b(e.target.files,"photo3D")},C=()=>{var e;null===(e=u.current)||void 0===e||e.click()},T=async e=>{e.preventDefault(),e.dataTransfer.files&&await b(e.dataTransfer.files,"photo3D")},N=r.watch("TypeObjekt"),[P,I]=(0,e.useState)({section1:!1,section2:!1}),R=e=>{I((t=>({...t,[e]:!t[e]})))};return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...r,children:(0,V.jsxs)("form",{onSubmit:r.handleSubmit((async e=>{try{e.VideoLink&&!/^https?:\/\//i.test(e.VideoLink)&&(e.VideoLink=`https://${e.VideoLink}`),null!==e.TittelVideo&&void 0!==e.TittelVideo||delete e.TittelVideo;const t=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",",""),r=s||EC(),i=jb(jA,"housemodell_configure_broker",r),a={...e,link_3D_image:e.link_3D_image||null,id:r};s?(await Dx(i,{Husdetaljer:a,updatedAt:t(new Date)}),Be.success("Updated successfully",{position:"top-right"})):(await jx(i,{Husdetaljer:a,updatedAt:t(new Date),createdAt:t(new Date),createDataBy:{email:"andre.fenger@gmail.com",photo:"https://firebasestorage.googleapis.com/v0/b/l-plot.firebasestorage.app/o/images%2F1742809941044_Ic_profile_image.svg?alt=media&token=1a58ec1e-c9a3-4c50-aab8-13e0993184b5",name:"Andr\xe9 Fenger"}}),Be.success("Added successfully",{position:"top-right"})),l(`/edit-husmodell/${r}`),n(1)}catch(t){console.error("Firestore operation failed:",t),Be.error("Something went wrong. Please try again.",{position:"top-right"})}})),className:"relative",children:[(0,V.jsxs)("div",{className:"pt-6 px-8 mb-[154px]",children:[(0,V.jsxs)("div",{className:"mb-6",children:[(0,V.jsx)("h4",{className:"text-darkBlack font-bold text-2xl mb-2",children:"House Details"}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"Enter your house details"})]}),(0,V.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,V.jsxs)("div",{className:"border-[#EFF1F5] border rounded-lg overflow-hidden",children:[(0,V.jsxs)("div",{className:"bg-white flex justify-between items-center w-full p-4 cursor-pointer duration-1000 "+(P?"active":""),onClick:()=>R("section1"),children:[(0,V.jsx)("span",{className:"text-black text-lg font-medium",children:"Grunnleggende informasjon"}),P.section1?(0,V.jsx)(qR,{className:"text-purple"}):(0,V.jsx)($R,{className:"text-purple"})]}),P.section1&&(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6 w-[100%] border-[#EFF1F5] border-t p-4",children:[(0,V.jsxs)("div",{className:"col-span-2",children:[(0,V.jsx)("p",{className:(r.formState.errors.TypeObjekt?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Type objekt"}),(0,V.jsx)("div",{className:"flex gap-4 items-center",children:[{label:"Bolig",icon:(0,V.jsx)(nj,{}),value:"bolig"},{label:"Hytte",icon:(0,V.jsx)(rj,{}),value:"hytte"},{label:"Garasje",icon:(0,V.jsx)(ij,{}),value:"garasje"}].map(((e,t)=>(0,V.jsxs)("div",{onClick:()=>{r.setValue("TypeObjekt",e.value),r.clearErrors("TypeObjekt")},className:"border-2 rounded-lg py-2 px-4 shadow-shadow2 cursor-pointer flex items-center gap-2 "+(N===e.value?"border-purple":"border-gray1"),children:[(0,V.jsx)("div",{className:""+(N===e.value?"text-[#444CE7]":"text-[#5D6B98]"),children:e.icon}),(0,V.jsx)("div",{className:"text-darkBlack text-sm text-center font-medium",children:e.label})]},t)))}),r.formState.errors.TypeObjekt&&(0,V.jsx)("p",{className:"text-red text-sm mt-1",children:r.formState.errors.TypeObjekt.message})]}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"husmodell_name",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Navn p\xe5 husmodell"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Navn p\xe5 husmodell",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"pris",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Pris fra"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Pris fra",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,inputMode:"numeric",type:"text",onChange:e=>{let{target:{value:n}}=e;return t.onChange({target:{name:"pris",value:n.replace(/\D/g,"")?new Intl.NumberFormat("no-NO").format(Number(n.replace(/\D/g,""))):""}})}})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2 flex gap-6 items-center",children:(0,V.jsx)(XA,{control:r.control,name:"photo",render:e=>{let{fieldState:t}=e;return(0,V.jsxs)(ZA,{className:"w-full",children:[(0,V.jsx)("p",{className:(t.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Hovedbilde"}),(0,V.jsx)(eC,{children:(0,V.jsxs)("div",{className:"flex items-center gap-5 w-full",children:[(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",onDragOver:k,onClick:v,onDrop:y,children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:c,className:"hidden",accept:".svg, .png, .jpg, .jpeg, .gif",onChange:g,name:"photo"})]})}),h&&(0,V.jsxs)("div",{className:"relative",children:[(0,V.jsx)("img",{src:h,alt:"logo",height:"140px",width:"140px"}),(0,V.jsx)("div",{className:"bg-white rounded-full w-6 h-6 flex items-center justify-center absolute bottom-2 right-2 cursor-pointer",onClick:()=>{r.resetField("photo")},children:(0,V.jsx)(oC,{className:"text-red w-4 h-4"})})]})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"border-t border-[#DCDFEA] w-full"}),(0,V.jsxs)("div",{className:"col-span-2",children:[(0,V.jsx)("p",{className:"text-black mb-[6px] text-sm font-medium",children:"Andre bilder og 3D-visning"}),(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"link_3D_image",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Link til 3D bilde"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Legg til 3D link fra Norkart",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)(XA,{control:r.control,name:"photo",render:()=>(0,V.jsxs)(ZA,{className:"w-full",children:[(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-full p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-start gap-6 cursor-pointer w-full",onClick:C,onDrop:T,onDrag:S,children:[(0,V.jsx)("img",{src:GC,alt:"upload"}),(0,V.jsxs)("div",{className:"flex items-start justify-start flex-col gap-3",children:[(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[(0,V.jsx)("span",{className:"text-primary font-medium whitespace-nowrap flex items-center justify-center border-2 border-purple rounded-[40px] h-[36px] py-2 px-4",children:"Bla gjennom"}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Slipp filen her for \xe5 laste den opp"})]}),(0,V.jsx)("p",{className:"text-gray text-sm truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"})]}),(0,V.jsx)("input",{type:"file",ref:u,className:"hidden",accept:".svg, .png, .jpg, .jpeg, .gif",onChange:A,name:"photo3D",multiple:!0})]})})})}),(0,V.jsx)(nC,{})]})})]}),p&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5 flex-wrap",children:null===p||void 0===p?void 0:p.map(((e,t)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover w-full h-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute bottom-2 right-2 bg-white rounded-full w-6 h-6 p-1 flex items-center justify-center cursor-pointer",onClick:()=>{const e=p.filter(((e,n)=>n!==t));r.setValue("photo3D",e)},children:(0,V.jsx)(oC,{className:"text-red h-4 w-4"})})]},t)))})]}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"BRATotal",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"BRA total (bruksareal)"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn BRA total (bruksareal)",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"PRom",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"GUA (Gulvareal)"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn GUA (Gulvareal)",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"M\xf8neh\xf8yde",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"M\xf8neh\xf8yde"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn M\xf8neh\xf8yde",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"Gesimsh\xf8yde",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Gesimsh\xf8yde"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Gesimsh\xf8yde",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"Takvinkel",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Takvinkel"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Takvinkel",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"BebygdAreal",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Bebygd areal (BYA)"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Bebygd areal (BYA)",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"LB",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"L x B"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn L x B",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"Soverom",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Soverom"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Soverom",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"Bad",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Bad"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Bad",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"InnvendigBod",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Innvendig bod"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Innvendig bod",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"number",onChange:e=>t.onChange(Number(e.target.value)||"")})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"Energimerking",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Energimerking"}),(0,V.jsx)(eC,{children:(0,V.jsxs)(WR,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(XR,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(GR,{placeholder:"Enter Energimerking"})}),(0,V.jsx)(ZR,{className:"bg-white",children:(0,V.jsxs)(KR,{children:[(0,V.jsx)(ej,{value:"A",children:"A"}),(0,V.jsx)(ej,{value:"B",children:"B"}),(0,V.jsx)(ej,{value:"C",children:"C"}),(0,V.jsx)(ej,{value:"D",children:"D"})]})})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"TilgjengeligBolig",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Tilgjengelig bolig"}),(0,V.jsx)(eC,{children:(0,V.jsxs)(WR,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(XR,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(GR,{placeholder:"Enter Tilgjengelig bolig"})}),(0,V.jsx)(ZR,{className:"bg-white",children:(0,V.jsxs)(KR,{children:[(0,V.jsx)(ej,{value:"Ja",children:"Ja"}),(0,V.jsx)(ej,{value:"Nei",children:"Nei"})]})})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"Tomtetype",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Tomtetype"}),(0,V.jsx)(eC,{children:(0,V.jsxs)(WR,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,V.jsx)(XR,{className:`bg-white rounded-[8px] border text-black\n                              ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,children:(0,V.jsx)(GR,{placeholder:"Enter Tomtetype"})}),(0,V.jsx)(ZR,{className:"bg-white",children:(0,V.jsxs)(KR,{children:[(0,V.jsx)(ej,{value:"Flat",children:"Flat"}),(0,V.jsx)(ej,{value:"Skr\xe5net",children:"Skr\xe5net"})]})})]})}),(0,V.jsx)(nC,{})]})}})})]})]}),(0,V.jsxs)("div",{className:"border-[#EFF1F5] border rounded-lg overflow-hidden",children:[(0,V.jsxs)("div",{className:"bg-white flex justify-between items-center w-full p-4 cursor-pointer duration-1000 "+(P?"active":""),onClick:()=>R("section2"),children:[(0,V.jsx)("span",{className:"text-black text-lg font-medium",children:"Husbeskrivelse og plantegninger"}),P.section1?(0,V.jsx)(qR,{className:"text-purple"}):(0,V.jsx)($R,{className:"text-purple"})]}),P.section2&&(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6 w-[100%] border-[#EFF1F5] border-t p-4",children:[(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:r.control,name:"Hustittel",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Hustittel"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Hustittel",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:r.control,name:"OmHusmodellen",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Om husmodellen"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(hC,{placeholder:"Skriv inn Om husmodellen",...t,className:`h-[300px] bg-white rounded-[8px] border text-black\n                                  ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:r.control,name:"PlantegningerFasader",render:e=>{let{fieldState:t}=e;return(0,V.jsxs)(ZA,{className:"w-full",children:[(0,V.jsx)("p",{className:(t.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Plantegninger og fasader"}),(0,V.jsx)(eC,{children:(0,V.jsxs)("div",{className:"flex items-center gap-5 w-full",children:[(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",onDragOver:E,onClick:w,onDrop:_,children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:d,className:"hidden",accept:".svg, .png, .jpg, .jpeg, .gif",onChange:x,name:"PlantegningerFasader",multiple:!0})]})}),f&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5 flex-wrap",children:null===f||void 0===f?void 0:f.map(((e,t)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover w-full h-full rounded-lg"}),(0,V.jsx)("div",{className:"bg-white rounded-full w-6 h-6 flex items-center justify-center absolute bottom-2 right-2 cursor-pointer",onClick:()=>{const e=f.filter(((e,n)=>n!==t));r.setValue("PlantegningerFasader",e)},children:(0,V.jsx)(oC,{className:"text-red w-4 h-4"})})]},t)))})]})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"TittelVideo",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Tittel p\xe5 video"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Tittel p\xe5 video",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:r.control,name:"VideoLink",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Video link"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Video link",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})})]})]})]})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,V.jsx)(Zr,{to:"/Husmodell",className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",type:"submit"})]}),a&&(0,V.jsx)(li,{})]})})})};var oj=__webpack_require__(749);const lj=t=>{let{setActiveTab:n}=t;const r=$n().pathname.split("/"),i=r.length>2?r[2]:null,[s,a]=(0,e.useState)(!0),[o,l]=(0,e.useState)([]),c=Wn();(0,e.useEffect)((()=>{if(!i)return void a(!1);(async()=>{const e=await MA(i);e&&null!==e&&void 0!==e&&e.Plantegninger&&l(null===e||void 0===e?void 0:e.Plantegninger),a(!1)})()}),[i]),(0,e.useEffect)((()=>{oj.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${oj.version}/pdf.worker.min.js`}),[]);const u=e.useRef(null);function d(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))}const h=async e=>{if(!e.length)return;const t=new FormData;t.append("file",e[0]),a(!0);try{const n=await fetch("https://iplotnor-hf-api-version-2.hf.space/upload",{method:"POST",headers:{accept:"application/json"},body:t,mode:"cors"});if(!n.ok)throw new Error(`HTTP error: ${n.status}`);const r=await n.json();if(r&&null!==r&&void 0!==r&&r.pdf_id){const t=e[0];let n;if("application/pdf"===t.type){const e=await d(t);n=await(async e=>{try{const t=oj.getDocument({data:atob(e.split(",")[1])}),n=await t.promise,r=await n.getPage(1),i=document.createElement("canvas");if(!i)return;const s=i.getContext("2d");if(!s)return;const a=r.getViewport({scale:1});return i.width=a.width,i.height=a.height,await r.render({canvasContext:s,viewport:a}).promise,i.toDataURL("image/png")}catch(Nj){console.error("Error loading PDF document:",Nj)}})(e)}else{if(!t.type.startsWith("image/"))return console.error("Unsupported file type"),void a(!1);n=await d(t)}if(n){const e=await(async e=>{if(!e)return;if(e.length*(3/4)-(e.endsWith("==")?2:e.endsWith("=")?1:0)>2097152)return void fe.error("Image size must be less than 2MB.",{position:"top-right"});const t=Date.now(),n=NA(DA,`images/${t}_image.png`);try{const t=await AA(n,e,"data_url");return await TA(t.ref)}catch(r){console.error("Error uploading base64",r)}})(n),t=jb(jA,"housemodell_configure_broker",String(i)),s=await Px(t),o=s.exists()&&s.data().Plantegninger||[],c=o.length+1,u={...r,image:e,title:`Floor ${c}`};l((e=>[...e,u]));const d=[];d.push(u);const h=[...o,...d],f=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Dx(t,{Plantegninger:h,id:i,updatedAt:f(new Date)}),fe.success(r.message,{position:"top-right"}),a(!1)}}}catch(n){console.error("Upload error:",n),a(!1),fe.error("File upload error!",{position:"top-right"})}},[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(""),[v,y]=(0,e.useState)(null);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"px-8 py-6",children:[(0,V.jsx)("h3",{className:"text-darkBlack text-2xl font-semibold mb-2",children:"Last opp plantegningen din"}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),(0,V.jsxs)("div",{className:"px-8 pb-[156px]",children:[(0,V.jsx)("div",{className:"relative p-2 rounded-lg w-max",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 flex-col items-center justify-center laptop:px-[42px] py-4 flex gap-6 cursor-pointer w-full",onClick:async()=>{var e;null===(e=u.current)||void 0===e||e.click()},onDrop:async e=>{e.preventDefault(),e.dataTransfer.files&&await h(e.dataTransfer.files)},onDrag:e=>{e.preventDefault()},children:[(0,V.jsx)("img",{src:GC,alt:"upload"}),(0,V.jsxs)("div",{className:"flex items-center justify-center flex-col gap-3",children:[(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[(0,V.jsx)("span",{className:"text-primary font-medium whitespace-nowrap flex items-center justify-center border-2 border-purple rounded-[40px] h-[36px] py-2 px-4",children:"Bla gjennom"}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Slipp filen her for \xe5 laste den opp"})]}),(0,V.jsx)("p",{className:"text-gray text-sm truncate w-full text-center",children:"Filformater: Kun JPEG, JPG, PNG, PDF maks 2 MB"})]}),(0,V.jsx)("input",{type:"file",ref:u,className:"hidden",accept:".pdf,image/*",onChange:async e=>{e.target.files&&await h(e.target.files)}})]})}),(0,V.jsx)("div",{className:"grid grid-cols-3 gap-6 w-full mt-8",children:o&&o.length>0?o.map(((e,t)=>{const r=f===t;return(0,V.jsxs)("div",{className:"relative shadow-shadow2 cursor-pointer p-4 rounded-lg flex flex-col gap-4",onClick:()=>{n(2),c(`?pdf_id=${null===e||void 0===e?void 0:e.pdf_id}`)},children:[(0,V.jsxs)("div",{className:"flex gap-2 items-center justify-between mb-4",children:[r?(0,V.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),className:"border border-gray1 rounded px-2 py-1 w-full",onClick:e=>e.stopPropagation()}):(0,V.jsx)("span",{className:"text-darkBlack font-medium",children:(null===e||void 0===e?void 0:e.title)||`Floor ${t+1}`}),(0,V.jsxs)("div",{className:"flex items-center gap-3",children:[r?(0,V.jsx)("button",{className:"bg-purple text-white px-4 py-2 rounded text-sm self-end",onClick:async e=>{e.preventDefault(),e.stopPropagation();const n=[...o];n[t]={...n[t],title:m},l(n),p(null);const r=jb(jA,"housemodell_configure_broker",String(i));await Dx(r,{Plantegninger:n,updatedAt:(new Date).toISOString()}),fe.success("Name updated!",{position:"top-right"})},children:"Oppdater"}):(0,V.jsx)(_i,{className:"w-6 h-6 text-purple cursor-pointer",onClick:n=>{n.preventDefault(),n.stopPropagation(),p(t),g((null===e||void 0===e?void 0:e.title)||`Floor ${t+1}`)}}),(0,V.jsx)(oC,{className:"w-6 h-6 text-red cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),y(t)}})]})]}),(0,V.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"floor",className:"w-full h-[200px] object-cover"})]},t)})):"No Data Found!"})]}),null!==v&&(0,V.jsx)(pi,{onClose:()=>{y(v?null:v)},isOpen:!0,children:(0,V.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,V.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,V.jsx)("p",{className:"text-lg font-bold",children:"Er du sikker p\xe5 at du vil slette?"}),(0,V.jsxs)("div",{className:"flex justify-center mt-5 w-full gap-5 items-center",children:[(0,V.jsx)("div",{onClick:()=>y(null),className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)("div",{onClick:()=>(async e=>{const t=jb(jA,"housemodell_configure_broker",String(i));try{const n=await Px(t),r=(n.exists()&&n.data().Plantegninger||[]).filter(((t,n)=>n!==e));await Dx(t,{Plantegninger:r,updatedAt:(new Date).toISOString()}),l(r),y(null),fe.success("Floor deleted successfully!",{position:"top-right"})}catch(n){console.error("Error deleting floor:",n),fe.error("Failed to delete floor",{position:"top-right"})}})(v),children:(0,V.jsx)(vi,{text:"Bekreft",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})})]})]})})}),s&&(0,V.jsx)(li,{})]})},cj=()=>{const[t,n]=(0,e.useState)("pulse");return(0,e.useEffect)((()=>{n("stagger")}),[]),(0,V.jsxs)("div",{className:"flex flex-col items-center",children:[(0,V.jsx)("div",{className:"rounded-lg shadow-md",children:(0,V.jsxs)("svg",{width:"90",height:"90",viewBox:"0 0 47 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,V.jsx)("path",{d:"M32.8796 8.72622C32.5549 8.07687 31.8914 7.66671 31.1654 7.66671C30.4393 7.66671 29.7758 8.07687 29.4511 8.72622L27.9034 11.8214C26.7152 14.1977 26.2926 14.9924 25.6835 15.6015C25.0744 16.2106 24.2797 16.6333 21.9033 17.8215L18.8082 19.3691C18.1589 19.6938 17.7487 20.3573 17.7487 21.0834C17.7487 21.8094 18.1589 22.473 18.8082 22.7976L21.9033 24.3453C24.2797 25.5335 25.0744 25.9561 25.6835 26.5652C26.2926 27.1743 26.7152 27.969 27.9034 30.3455L29.4511 33.4405C29.7758 34.0899 30.4393 34.5 31.1654 34.5C31.8914 34.5 32.5549 34.0899 32.8796 33.4405L34.4273 30.3455C35.6155 27.969 36.0381 27.1743 36.6472 26.5652C37.2563 25.9561 38.051 25.5335 40.4275 24.3453L43.5225 22.7976C44.1719 22.473 44.582 21.8094 44.582 21.0834C44.582 20.3573 44.1719 19.6938 43.5225 19.3691L40.4275 17.8215C38.051 16.6333 37.2563 16.2106 36.6472 15.6015C36.0381 14.9924 35.6155 14.1977 34.4273 11.8214L32.8796 8.72622Z",fill:"#444CE7",className:""+("stagger"===t?"animate-stagger-1":"")}),(0,V.jsx)("path",{d:"M13.713 4.89289C13.3884 4.24354 12.7247 3.83337 11.9987 3.83337C11.2727 3.83337 10.609 4.24354 10.2844 4.89289L9.5106 6.44046C8.88883 7.684 8.74935 7.91223 8.58011 8.08146C8.41089 8.2507 8.18265 8.39017 6.93912 9.01194L5.39155 9.78572C4.7422 10.1104 4.33203 10.7741 4.33203 11.5C4.33203 12.226 4.7422 12.8897 5.39155 13.2144L6.93912 13.9881C8.18265 14.6099 8.41089 14.7494 8.58011 14.9186C8.74935 15.0878 8.88883 15.3161 9.5106 16.5596L10.2844 18.1072C10.609 18.7565 11.2727 19.1667 11.9987 19.1667C12.7247 19.1667 13.3884 18.7565 13.713 18.1072L14.4868 16.5596C15.1086 15.3161 15.248 15.0878 15.4173 14.9186C15.5865 14.7494 15.8147 14.6099 17.0583 13.9881L18.6059 13.2144C19.2552 12.8897 19.6654 12.226 19.6654 11.5C19.6654 10.7741 19.2552 10.1104 18.6059 9.78572L17.0583 9.01194C15.8147 8.39017 15.5865 8.2507 15.4173 8.08146C15.248 7.91223 15.1086 7.684 14.4868 6.44046L13.713 4.89289Z",fill:"#444CE7",className:""+("stagger"===t?"animate-stagger-2":"")}),(0,V.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7156 24.0595C13.391 23.4102 12.7273 23 12.0013 23C11.2753 23 10.6116 23.4102 10.287 24.0595L10.0172 24.5991C8.82899 26.9755 8.40631 27.7702 7.79721 28.3793C7.18813 28.9882 6.39346 29.4111 4.01706 30.5992L3.47748 30.8691C2.82814 31.1938 2.41797 31.8573 2.41797 32.5833C2.41797 33.3094 2.82814 33.9729 3.47748 34.2976L4.01706 34.5675C6.39346 35.7556 7.18813 36.1784 7.79721 36.7873C8.40631 37.3965 8.82899 38.1911 10.0172 40.5676L10.287 41.1071C10.6116 41.7565 11.2753 42.1667 12.0013 42.1667C12.7273 42.1667 13.391 41.7565 13.7156 41.1071L13.9854 40.5676C15.1736 38.1911 15.5963 37.3965 16.2054 36.7873C16.8145 36.1784 17.6091 35.7556 19.9856 34.5675L20.5251 34.2976C21.1745 33.9729 21.5846 33.3094 21.5846 32.5833C21.5846 31.8573 21.1745 31.1938 20.5251 30.8691L19.9856 30.5992C17.6091 29.4111 16.8145 28.9882 16.2054 28.3793C15.5963 27.7702 15.1736 26.9755 13.9854 24.5991L13.7156 24.0595ZM10.5078 31.0899C11.0818 30.5158 11.5462 29.8621 12.0013 29.0831C12.4564 29.8621 12.9208 30.5158 13.4948 31.0899C14.0688 31.6639 14.7226 32.1281 15.5014 32.5833C14.7226 33.0385 14.0688 33.5028 13.4948 34.0768C12.9208 34.6508 12.4564 35.3046 12.0013 36.0836C11.5462 35.3046 11.0818 34.6508 10.5078 34.0768C9.93379 33.5028 9.27996 33.0385 8.50118 32.5833C9.27996 32.1281 9.93379 31.6639 10.5078 31.0899Z",fill:"#444CE7",className:""+("stagger"===t?"animate-stagger-3":"")})]})}),(0,V.jsx)("style",{children:"\n        @keyframes stagger-pulse {\n          0% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.7;\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n        .animate-stagger-1 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n        }\n\n        .animate-stagger-2 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n          animation-delay: 0.5s;\n        }\n\n        .animate-stagger-3 {\n          animation: stagger-pulse 2s infinite ease-in-out;\n          animation-delay: 1s;\n        }\n      "})]})},uj=t=>{let{setActiveTab:n}=t;const[r,i]=(0,e.useState)(null),s=Wn(),a=$n();(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);i(e.get("pdf_id"))}),[]);const o=a.pathname.split("/"),l=o.length>2?o[2]:null,[c,u]=(0,e.useState)(!0),[d,h]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!l||!r)return void u(!1);u(!0);(async()=>{const e=await MA(l);if(e){const t=null===e||void 0===e?void 0:e.Plantegninger.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)));if(h(t),null!==t&&void 0!==t&&t.rooms&&t.rooms.length>0)return void u(!1)}try{if(r){const e=jb(jA,"housemodell_configure_broker",String(l)),t=await Px(e),i=t.exists()&&t.data().Plantegninger||[],s=await fetch(`https://iplotnor-hf-api-version-2.hf.space/analyze/${r}`,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:"string"}),mode:"cors"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json(),o=i.map((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)?{...e,...a}:e)),c=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Dx(e,{Plantegninger:o,id:l,updatedAt:c(new Date)});const u=o.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(r)));h(u),fe.success(a.message,{position:"top-right"}),n(3)}}catch(t){console.error("Upload error:",t),u(!1),fe.error("File upload error!",{position:"top-right"})}u(!1)})()}),[l,r,n]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"py-4 px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-6",children:[(0,V.jsx)(Zr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(FC,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("div",{onClick:()=>{n(1);const e=new URLSearchParams(a.search);e.delete("pdf_id"),s(`${a.pathname}?${e.toString()}`,{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,V.jsx)(FC,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:null===d||void 0===d?void 0:d.title}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]})]}),(0,V.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,V.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2",children:[(0,V.jsxs)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium",children:[null===d||void 0===d?void 0:d.title," Information"]}),(0,V.jsxs)("div",{className:"p-4 flex items-center justify-center h-[490px] flex-col gap-6",children:[(0,V.jsx)(cj,{}),(0,V.jsxs)("p",{className:"text-lg text-secondary text-center",children:["AI fetching the details ",(0,V.jsx)("br",{})," about all rooms in this floor"]})]})]}),(0,V.jsx)("div",{className:"w-[75%] border border-[#B9C0D4] rounded-lg overflow-hidden h-[551px]",children:(0,V.jsx)("img",{src:null===d||void 0===d?void 0:d.image,alt:"floor",className:"w-full h-full"})})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:[(0,V.jsx)(vi,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(1);const e=new URLSearchParams(a.search);e.delete("pdf_id"),s(`${a.pathname}?${e.toString()}`,{replace:!0})}}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2",onClick:()=>{n(3)}})]}),c&&(0,V.jsx)(li,{})]})},dj=wi("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),hj=Ul.object({Kategorinavn:Ul.string().min(1,{message:"Kategorinavn m\xe5 best\xe5 av minst 2 tegn."})}),fj=e=>{let{onClose:t,formData:n,activeTabData:r,setCategory:i,editIndex:s,defaultValue:a}=e;const o=aa({resolver:fa(hj),defaultValues:{Kategorinavn:a||""}});return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...o,children:(0,V.jsxs)("form",{onSubmit:o.handleSubmit((async e=>{t();const a=e.Kategorinavn,o=n.getValues(`hovedkategorinavn.${r}.Kategorinavn`)||[];if(null!==s&&o[s]){const e=[...o];e[s].navn=a,i((t=>{const n=[...t];return n[r]={...n[r],Kategorinavn:e},n})),n.setValue(`hovedkategorinavn.${r}.Kategorinavn`,e,{shouldValidate:!0})}else{const e={navn:a,produkter:[]};i((t=>{const n=[...t];return n[r]={...n[r],Kategorinavn:[...o,e]},n})),n.setValue(`hovedkategorinavn.${r}.Kategorinavn`,[...o,e],{shouldValidate:!0})}})),className:"relative w-full",children:[(0,V.jsx)("div",{className:"p-6",children:(0,V.jsx)(XA,{control:o.control,name:"Kategorinavn",render:e=>{let{field:t,fieldState:n}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Kategorinavn"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Kategorinavn",...t,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==n&&void 0!==n&&n.error?"border-red":"border-gray1"} `,type:"text"})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsxs)("div",{className:"flex fixed bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>o.reset(),className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},pj=Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()]),mj=Ul.object({Produktnavn:Ul.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:Ul.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:Ul.array(pj).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:Ul.string().nullable(),IncludingOffer:Ul.boolean().optional(),Produktbeskrivelse:Ul.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn.")}),gj=Ul.object({produkter:Ul.array(mj).min(1,"Minst ett produkt er p\xe5krevd.")}),vj=t=>{let{onClose:n,onSubmit:r}=t;const i=aa({resolver:fa(gj),defaultValues:{produkter:[{Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:""}]}}),s=e.useRef(null),a=()=>{var e;null===(e=s.current)||void 0===e||e.click()},o=(0,e.useCallback)((e=>e.preventDefault()),[]),[l,c]=(0,e.useState)(null),u=["Boligpartner","Salgskontor"],{fields:d,append:h,remove:f}=$s({control:i.control,name:"produkter"}),p=i.watch("produkter");return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(KA,{...i,children:(0,V.jsxs)("form",{onSubmit:i.handleSubmit((async e=>{"function"===typeof r&&r(e),n()})),className:"relative w-full h-screen",children:[(0,V.jsxs)("div",{className:"overflow-y-auto h-full pb-[160px]",children:[d.map(((e,t)=>{const n=i.watch(`produkter.${t}.Hovedbilde`);return(0,V.jsxs)("div",{className:"flex flex-col gap-[18px] p-4 bg-white border border-[#DCDFEA]",children:[(0,V.jsxs)("button",{type:"button",className:"flex gap-2 items-end ml-auto "+(1===p.length?"text-gray cursor-not-allowed":"text-primary"),onClick:()=>{p.length>1&&f(t)},children:[(0,V.jsx)(lC,{})," Fjern produkt"]}),(0,V.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Produktnavn`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.Produktnavn`)||"";return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktnavn"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Produktnavn",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,type:"text",value:null!==s&&void 0!==s?s:""})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.pris`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.pris`);return(0,V.jsxs)(ZA,{children:[(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-[6px]",children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" text-sm font-medium",children:"Pris fra"}),(0,V.jsxs)("div",{className:"flex items-center gap-3 text-black text-sm font-medium",children:["inkl. i tilbud",(0,V.jsxs)("div",{className:"toggle-container",children:[(0,V.jsx)("input",{type:"checkbox",id:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-input",checked:i.watch(`produkter.${t}.IncludingOffer`)||!1,name:"IncludingOffer",onChange:e=>{const n=e.target.checked;i.setValue(`produkter.${t}.IncludingOffer`,n),n?i.setValue(`produkter.${t}.pris`,null):i.setValue(`produkter.${t}.pris`,"")}}),(0,V.jsx)("label",{htmlFor:`toggleSwitch.${t}.IncludingOffer`,className:"toggle-label"})]})]})]}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(rC,{placeholder:"Skriv inn Pris fra",...n,className:`bg-white rounded-[8px] border text-black\n                                          ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,inputMode:"numeric",disable:i.watch(`produkter.${t}.IncludingOffer`),type:"text",onChange:e=>{let{target:{value:r}}=e,i=r.replace(/[^\d-]/g,"").replace(/(?!^)-/g,"");const s=i.startsWith("-"),a=i.replace(/-/g,"");let o="";a?(o=new Intl.NumberFormat("no-NO").format(Number(a)),s&&(o="-"+o)):o=s?"-":"",n.onChange({target:{name:`produkter.${t}.pris`,value:o}})},value:null===s?"-":s})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.delieverBy`,render:e=>{let{field:n,fieldState:r}=e;return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:`mb-2 ${r.error?"text-red":"text-black"} text-sm font-medium`,children:"Lever innen"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5",children:u.map((e=>(0,V.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,V.jsx)("input",{className:`bg-white rounded-[8px] border text-black\n        ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} h-4 w-4 accent-primary`,type:"radio",value:e,onChange:e=>{i.setValue(`produkter.${t}.delieverBy`,e.target.value)},checked:n.value===e}),(0,V.jsx)("p",{className:"text-gray text-sm font-medium",children:e})]},e)))})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"col-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Produktbeskrivelse`,render:e=>{let{field:n,fieldState:r}=e;const s=i.getValues(`produkter.${t}.Produktbeskrivelse`)||"";return(0,V.jsxs)(ZA,{children:[(0,V.jsx)("p",{className:(r.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Produktbeskrivelse"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"relative",children:(0,V.jsx)(hC,{placeholder:"Skriv inn Produktbeskrivelse",...n,className:`h-[130px] bg-white rounded-[8px] border text-black\n                                  ${null!==r&&void 0!==r&&r.error?"border-red":"border-gray1"} `,value:s})})}),(0,V.jsx)(nC,{})]})}})}),(0,V.jsx)("div",{className:"row-span-2",children:(0,V.jsx)(XA,{control:i.control,name:`produkter.${t}.Hovedbilde`,render:e=>{let{fieldState:n}=e;const r=`produkter.${t}.Hovedbilde`,l=i.watch(r)||[],c=async e=>{if(e){let t=[...l||[]];for(let n=0;n<e.length;n++){const s=e[n];if(s.size>2097152){fe.error("Image size must be less than 2MB.",{position:"top-right"});continue}const a="images",o=`${(new Date).getTime()}_${null===s||void 0===s?void 0:s.name}`,l=NA(DA,`${a}/${o}`),c=await EA(l,s),u=await TA(c.ref);t.push(u),i.setValue(r,t),i.clearErrors(r)}}};return(0,V.jsxs)(ZA,{className:"w-full",children:[(0,V.jsx)("p",{className:(n.error?"text-red":"text-black")+" mb-[6px] text-sm font-medium",children:"Last opp bilde"}),(0,V.jsx)(eC,{children:(0,V.jsx)("div",{className:"flex items-center gap-5 w-full",children:(0,V.jsx)("div",{className:"relative w-max p-2 rounded-lg",style:{boxShadow:"0px 2px 4px -2px #1018280F, 0px 4px 8px -2px #1018281A"},onDragOver:o,onClick:a,onDrop:e=>{e.preventDefault(),c(e.dataTransfer.files)},children:(0,V.jsxs)("div",{className:"border border-gray2 border-dashed rounded-lg px-3 laptop:px-[42px] py-4 flex justify-center items-center flex-col gap-3 cursor-pointer w-full",children:[(0,V.jsxs)("p",{className:"text-gray text-sm text-center truncate w-full",children:[(0,V.jsx)("span",{className:"text-primary font-medium truncate",children:"Bla gjennom"})," ","Slipp filen her for \xe5 laste den opp"]}),(0,V.jsx)("p",{className:"text-gray text-sm text-center truncate w-full",children:"Filformater: Kun JPEG, JPG, PNG, maks 2 MB"}),(0,V.jsx)("input",{type:"file",ref:s,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/svg+xml, image/gif",onChange:e=>c(e.target.files)})]})})})}),(0,V.jsx)(nC,{})]})}})})]}),(0,V.jsx)("div",{children:n&&(0,V.jsx)("div",{className:"mt-5 flex items-center gap-5",children:null===n||void 0===n?void 0:n.map(((e,r)=>(0,V.jsxs)("div",{className:"relative h-[140px] w-[140px]",draggable:!0,onDragStart:()=>c(r),onDragOver:e=>e.preventDefault(),onDrop:()=>{if(null===l||l===r)return;const e=[...n],s=e[l];e.splice(l,1),e.splice(r,0,s),i.setValue(`produkter.${t}.Hovedbilde`,e),c(null)},children:[(0,V.jsx)("img",{src:e,alt:"logo",className:"object-cover h-full w-full rounded-lg"}),(0,V.jsx)("div",{className:"absolute top-2 right-2 bg-[#FFFFFFCC] rounded-[12px] p-[6px] cursor-pointer",onClick:()=>{const e=n.filter(((e,t)=>t!==r));i.setValue(`produkter.${t}.Hovedbilde`,e)},children:(0,V.jsx)(lC,{className:"text-red"})})]},r)))})})]},t)})),(0,V.jsxs)("div",{className:"p-6 flex items-center gap-2 text-primary text-sm font-medium cursor-pointer",onClick:()=>h({Produktnavn:"",delieverBy:"",Hovedbilde:[],pris:"",IncludingOffer:!1,Produktbeskrivelse:""}),children:[(0,V.jsx)(ki,{}),"Add other product"]})]}),(0,V.jsxs)("div",{className:"flex sticky bottom-0 justify-end w-full gap-5 items-center left-0 px-8 py-4 bg-white",style:{boxShadow:"0px -3px 4px -2px #1018280F, 0px -4px 8px -2px #1018281A"},children:[(0,V.jsx)("div",{onClick:()=>i.reset(),className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-12 py-2 flex items-center gap-2",type:"submit"})]})]})})})},yj=Ul.union([Ul.instanceof(File).refine((e=>null===e||e.size<=10485760),{message:"Filst\xf8rrelsen m\xe5 v\xe6re mindre enn 10 MB."}),Ul.string()]),bj=Ul.object({Produktnavn:Ul.string().min(1,"Produktnavn m\xe5 best\xe5 av minst 1 tegn."),delieverBy:Ul.string().min(1,"Lever innen m\xe5 best\xe5 av minst 1 tegn."),Hovedbilde:Ul.array(yj).min(1,"Minst \xe9n fil m\xe5 lastes opp."),pris:Ul.string().nullable(),IncludingOffer:Ul.boolean().optional(),Produktbeskrivelse:Ul.string().min(1,"Produktbeskrivelse m\xe5 best\xe5 av minst 1 tegn.")}),xj=Ul.object({navn:Ul.string().min(1,"Kategorinavn m\xe5 best\xe5 av minst 1 tegn."),produkter:Ul.array(bj).min(1,"Minst ett produkt er p\xe5krevd.")}),wj=Ul.object({name:Ul.string().min(1,"Hovedkategorinavn m\xe5 best\xe5 av minst 1 tegn."),Kategorinavn:Ul.array(xj).optional().nullable(),isSelected:Ul.boolean().optional()}),_j=Ul.object({hovedkategorinavn:Ul.array(wj)}),kj=t=>{var n;let{setActiveTab:r,labelName:i,Category:s,activeTabData:a,setCategory:o}=t;const[l,c]=(0,e.useState)(0),u=$n().pathname.split("/"),d=u.length>2?u[2]:null,h=Wn(),f=aa({resolver:fa(_j),defaultValues:{hovedkategorinavn:[{name:"",Kategorinavn:null}]}}),p=f.watch(`hovedkategorinavn.${a}.Kategorinavn.${l}.produkter`),[m,g]=(0,e.useState)(null);function v(e,t){const n={...e};for(const r in t){const i=null===e||void 0===e?void 0:e[r],s=t[r];if("rooms"===r&&Array.isArray(i)&&Array.isArray(s)){const e=[];for(let t=0;t<s.length;t++){const n=s[t],r=t;i[r]?(i[r].Kategorinavn=n.Kategorinavn||i[r].Kategorinavn,i[r].name=n.name||i[r].name):i[r]={Kategorinavn:n.Kategorinavn,name:n.name,...n},e.push(i[r])}}else"object"!==typeof s||null===s||Array.isArray(s)?s!==i&&(n[r]=s):n[r]=v(i||{},s)}return n}function y(e){return Array.isArray(e)?e.map(y):"object"===typeof e&&null!==e?Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,y(n)]}))):e}(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);g(e.get("pdf_id"))}),[]);const[b,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{if(Array.isArray(s)&&s.length>0){const e=s.map(((e,t)=>({name:e.name,Kategorinavn:t===a&&e.Kategorinavn&&e.Kategorinavn.length>0?e.Kategorinavn:null})));f.setValue("hovedkategorinavn",e)}}),[f,s,a]);const w=(0,e.useRef)([]);(0,e.useEffect)((()=>{const e=f.watch(`hovedkategorinavn.${a}.Kategorinavn.${l}.produkter`);e&&JSON.stringify(w.current)!==JSON.stringify(e)&&(o((t=>{var n,r;const i=[...t];return null!==(n=i[a])&&void 0!==n&&null!==(r=n.Kategorinavn)&&void 0!==r&&r[l]&&(i[a].Kategorinavn[l].produkter=null===e||void 0===e?void 0:e.map(((e,t)=>({Produktnavn:e.Produktnavn||"",Hovedbilde:e.Hovedbilde||[],pris:e.pris||"",IncludingOffer:e.IncludingOffer||!1,Produktbeskrivelse:e.Produktbeskrivelse||"",delieverBy:e.delieverBy||""})))),i})),w.current=e)}),[JSON.stringify(f.watch(`hovedkategorinavn.${a}.Kategorinavn.${l}.produkter`))]);const _=()=>{x(!b)},k=((e,t)=>{const n=((null===(e=f.getValues("hovedkategorinavn"))||void 0===e||null===(t=e[a])||void 0===t?void 0:t.Kategorinavn)||[]).filter((e=>{var t,n;if(null===e||void 0===e||!e.navn)return!1;const r=""!==e.navn.trim(),i=""!==(null===e||void 0===e||null===(t=e[l])||void 0===t||null===(n=t.navn)||void 0===n?void 0:n.trim());return r||i}));return n.length>0?n:[]})(),[S,E]=(0,e.useState)(null),[A,C]=(0,e.useState)(null),[T,N]=(0,e.useState)(null),[P,I]=(0,e.useState)(!1),R=f.watch(`hovedkategorinavn.${a}.Kategorinavn.${l}.navn`);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(KA,{...f,children:(0,V.jsxs)("form",{onSubmit:f.handleSubmit((async e=>{const t={rooms:e.hovedkategorinavn};try{const e=await MA(d);let n;e&&(n=null===e||void 0===e?void 0:e.Plantegninger.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(m))));const r=y(v(n,t));let i=[...(null===e||void 0===e?void 0:e.Plantegninger)||[]];const s=i.findIndex((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(m)));-1!==s&&(i[s]={...i[s],...r,id:d});const a=jb(jA,"housemodell_configure_broker",d),o=e=>e.toLocaleString("sv-SE",{timeZone:"UTC"}).replace(",","");await Dx(a,{Plantegninger:i,updatedAt:o(new Date)}),fe.success("Updated successfully",{position:"top-right"}),h("/Husmodell")}catch(n){console.error("Firestore operation failed:",n),fe.error("Something went wrong. Please try again.",{position:"top-right"})}})),children:[(0,V.jsxs)("div",{children:[(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center gap-2.5 mb-2.5",onClick:()=>{r(2)},children:[(0,V.jsx)(dj,{className:"text-purple"}),(0,V.jsx)("span",{className:"text-purple text-sm font-medium",children:"Back to Floor 1 plan"})]}),(0,V.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,V.jsxs)("h4",{className:"text-darkBlack font-semibold text-xl",children:["Add Customisation Option for ",i]})})]}),(0,V.jsx)("div",{className:"border-t border-gray2"}),(0,V.jsxs)("div",{className:"p-4",children:[(0,V.jsxs)("div",{className:"flex items-center gap-6 h-[48px] mb-8 border border-[#EFF1F5] rounded-lg bg-[#F9F9FB] p-2",children:[(null===k||void 0===k?void 0:k.length)>0&&(0,V.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto overflowXAuto",children:null===k||void 0===k?void 0:k.map(((e,t)=>(0,V.jsxs)("div",{className:"cursor-pointer gap-1 h-full flex items-center py-2 px-3 whitespace-nowrap "+(l===t?"shadow-shadow1 bg-white font-semibold text-primary":"text-darkBlack font-normal"),onClick:()=>c(t),children:[(0,V.jsx)("span",{className:"text-sm",children:e.navn}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),N(t),x(!0)},children:(0,V.jsx)(_i,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("img",{src:aC,alt:"close",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=k.filter(((e,n)=>n!==t));o((e=>{const t=[...e];return t[a]={...t[a],Kategorinavn:n},t})),f.setValue(`hovedkategorinavn.${a}.Kategorinavn`,n,{shouldValidate:!0})}})]},t)))}),(0,V.jsxs)("div",{className:"text-purple font-semibold text-sm flex items-center gap-1 cursor-pointer h-full whitespace-nowrap",onClick:()=>x(!0),children:[(0,V.jsx)(ki,{}),"Legg til kategori"]})]}),k.length>0&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex items-center gap-3 justify-between mb-5",children:[(0,V.jsx)("h4",{className:"text-darkBlack text-base font-semibold",children:R}),(0,V.jsxs)("div",{className:"text-purple border-2 border-purple rounded-[40px] py-2 px-4 font-semibold text-base flex items-center gap-1 cursor-pointer h-full",onClick:()=>{I(!0)},children:[(0,V.jsx)(ki,{}),"Add ",R]})]}),(0,V.jsx)("div",{className:"grid grid-cols-2",children:null===p||void 0===p?void 0:p.map(((e,t)=>(0,V.jsx)("div",{className:"cursor-move border-[#EFF1F5] border rounded-lg",draggable:!0,onDragStart:()=>E(t),onDragOver:e=>{e.preventDefault(),C(t)},onDrop:()=>(()=>{if(null===S||null===A||S===A)return;const e=[...p],t=e[S];e.splice(S,1),e.splice(A,0,t),f.setValue(`hovedkategorinavn.${a}.Kategorinavn.${l}.produkter`,e),E(null),C(null)})(),children:(0,V.jsxs)("div",{className:"flex gap-4 p-3",children:[(0,V.jsx)("div",{className:"w-[100px]",children:(0,V.jsx)("img",{src:`${null===e||void 0===e?void 0:e.Hovedbilde[0]}`,alt:"floor",className:"w-[100px] h-[76px] border border-[#EFF1F5] rounded-[4px]"})}),(0,V.jsxs)("div",{className:"w-full",children:[(0,V.jsx)("h4",{className:"text-darkBlack text-sm mb-1",children:null===e||void 0===e?void 0:e.Produktnavn}),(0,V.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,V.jsx)("p",{className:"text-secondary text-xs",children:"Deliver by:"}),(0,V.jsx)("span",{className:"text-darkBlack",children:null===e||void 0===e?void 0:e.delieverBy})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,V.jsx)("span",{className:"text-sm font-medium text-darkBlack",children:!1===(null===e||void 0===e?void 0:e.IncludingOffer)?null===e||void 0===e?void 0:e.pris:"Standard"}),(0,V.jsx)("span",{className:"text-purple font-medium text-sm cursor-pointer",children:"View Details"})]})]})]})},t)))})]})]})]}),(0,V.jsxs)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white border-t border-gray2 p-4 left-0",style:{zIndex:99999},children:[(0,V.jsx)(vi,{text:"Avbryt",className:"border border-lightPurple bg-lightPurple text-purple text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{r(2)}}),(0,V.jsx)(vi,{text:"Lukk og lagre",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2",type:"submit"})]})]})}),(0,V.jsxs)(dC,{isOpen:b,onClose:_,children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:[null!==T?"Rediger underkategori":"Legg til ny underkategori",(0,V.jsx)(lC,{onClick:_,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(fj,{onClose:()=>{x(!1),N(null)},formData:f,activeTabData:a,setCategory:o,editIndex:T,defaultValue:null!==T&&(null===(n=k[T])||void 0===n?void 0:n.navn)||""})]}),(0,V.jsxs)(dC,{isOpen:P,onClose:()=>{I(!P)},children:[(0,V.jsxs)("h4",{className:"text-darkBlack font-medium text-2xl bg-[#F9F9FB] flex items-center gap-2 justify-between p-6",children:["Legg til nye gulvfliser",(0,V.jsx)(lC,{onClick:_,className:"text-primary cursor-pointer"})]}),(0,V.jsx)(vj,{onClose:()=>I(!1),onSubmit:e=>{const t=f.getValues(`hovedkategorinavn.${a}.Kategorinavn.${l}.produkter`)||[];f.setValue(`hovedkategorinavn.${a}.Kategorinavn.${l}.produkter`,[...t,...e.produkter])}})]})]})},Sj=t=>{var n;let{setActiveTab:r}=t;const i=Wn(),[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(null),m=$n(),g=m.pathname.split("/"),v=g.length>2?g[2]:null,[y,b]=(0,e.useState)(!0),x=()=>{o?(l(!1),p(null)):l(!0)},w=e=>{e.preventDefault()},[_,k]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search);k(e.get("pdf_id"))}),[]);const[S,E]=(0,e.useState)(null);(0,e.useEffect)((()=>{if(!v||!_)return;(async()=>{const e=await MA(v);if(e){const t=null===e||void 0===e?void 0:e.Plantegninger.find((e=>String(null===e||void 0===e?void 0:e.pdf_id)===String(_)));E(t),u(null===t||void 0===t?void 0:t.rooms)}b(!1)})()}),[v,_]);const[A,C]=(0,e.useState)(!1);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"py-4 px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-6",children:[(0,V.jsx)(Zr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(FC,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("div",{onClick:()=>{r(1);const e=new URLSearchParams(m.search);e.delete("pdf_id"),i(`${m.pathname}?${e.toString()}`,{replace:!0})},className:"text-primary text-sm font-medium cursor-pointer",children:"Legg til nytt hus"}),(0,V.jsx)(FC,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Detaljer om gulvet"})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,V.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:null===S||void 0===S?void 0:S.title}),(0,V.jsx)("p",{className:"text-secondary text-lg",children:"AI har analysert plantegningen og identifisert rommene du kan konfigurere. Du kan fritt legge til nye rom eller fjerne eksisterende."})]}),null!==s&&(0,V.jsx)("img",{src:null===S||void 0===S?void 0:S.image,alt:"floor",className:"w-[120px] h-[120px] rounded-lg cursor-pointer",onClick:()=>C(!0)})]})]}),(0,V.jsxs)("div",{className:"flex gap-6 px-6 pt-6 pb-[156px]",children:[(0,V.jsxs)("div",{className:"w-[25%] border border-[#EFF1F5] rounded-lg shadow-shadow2 h-[690px]",children:[(0,V.jsxs)("div",{className:"p-4 border-b border-[#EFF1F5] text-darkBlack text-lg font-medium flex items-center justify-between gap-2",children:[(0,V.jsxs)("span",{className:"truncate",children:[null===S||void 0===S?void 0:S.title," Information"]}),(0,V.jsxs)("div",{className:"flex items-center text-purple gap-2 cursor-pointer",onClick:()=>l(!0),children:[(0,V.jsx)(ki,{}),(0,V.jsx)("span",{className:"text-sm font-medium whitespace-nowrap",children:"Add new"})]})]}),(0,V.jsx)("div",{className:"flex flex-col p-4 pb-0 rounded-lg gap-3 h-full max-h-[calc(100%-90px)] overflow-y-auto overFlowAutoY sticky top-[80px]",children:c.length>0?c.map(((e,t)=>(0,V.jsxs)("div",{draggable:!0,onDragStart:()=>(e=>{h(e)})(t),onDragOver:w,onDrop:()=>(e=>{if(null===d||d===e)return;const t=[...c],n=t[d];t.splice(d,1),t.splice(e,0,n),u(t),h(null)})(t),className:"bg-white cursor-pointer rounded-lg flex items-center justify-between gap-1 px-3 "+(s===t?"border-2 border-primary bg-lightPurple rounded-t-[12px]":"border border-gray2"),onClick:()=>a(t),children:[(0,V.jsxs)("div",{className:"text-sm text-darkBlack py-3 flex items-center gap-2 font-semibold",children:[(0,V.jsx)("span",{className:"w-5 h-5 rounded-full bg-lightPurple flex items-center justify-center text-darkBlack font-semibold text-xs",children:t+1}),(0,V.jsx)("span",{className:"w-[135px] truncate",children:e.name})]}),(0,V.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,V.jsx)("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),p({index:t,data:e}),l(!0)},children:(0,V.jsx)(_i,{className:"w-5 h-5 text-primary"})}),(0,V.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),u((e=>e.filter(((e,n)=>n!==t)))),a(0)},className:"w-5 h-5",children:(0,V.jsx)("img",{src:mi,alt:"delete",className:"w-full h-full"})})]})]},t))):"No data found!"})]}),(0,V.jsx)("div",{className:"w-[75%] border border-[#EFF1F5] rounded-lg overflow-hidden h-max p-3",children:null!==s?(0,V.jsx)(kj,{setActiveTab:r,labelName:(null===(n=c[s])||void 0===n?void 0:n.name)||"",Category:c,activeTabData:s,setCategory:u}):(0,V.jsx)("img",{src:null===S||void 0===S?void 0:S.image,alt:"floor",className:"w-full h-full"})})]}),!s&&(0,V.jsx)("div",{className:"flex justify-end w-full gap-5 items-center fixed bottom-0 bg-white z-50 border-t border-gray2 p-4 left-0",children:(0,V.jsxs)("div",{className:"flex items-center gap-5",children:[(0,V.jsx)("div",{onClick:()=>{r(2)},className:"w-1/2 sm:w-auto",children:(0,V.jsx)(vi,{text:"Avbryt",className:"border border-gray2 text-black text-sm rounded-[8px] h-[40px] font-medium relative px-4 py-[10px] flex items-center gap-2"})}),(0,V.jsx)(vi,{text:"Neste",className:"border border-purple bg-purple text-white text-sm rounded-[8px] h-[40px] font-medium relative px-10 py-2 flex items-center gap-2",onClick:()=>{a(0)}})]})}),o&&(0,V.jsx)(pi,{onClose:x,isOpen:!0,children:(0,V.jsxs)("div",{className:"bg-white relative rounded-[12px] p-6 md:m-0 w-full sm:w-[518px]",children:[(0,V.jsx)("h4",{className:"mb-[20px] text-darkBlack font-medium text-xl",children:"Legg til ny underkategori"}),(0,V.jsx)(sC,{onClose:x,setCategory:u,editData:f,Category:c})]})}),y&&(0,V.jsx)(li,{}),A&&(0,V.jsx)(pi,{onClose:()=>C(!1),isOpen:!0,children:(0,V.jsxs)("div",{className:"relative bg-white rounded-[12px] p-4 w-full sm:w-[90vw] max-w-[800px]",children:[(0,V.jsx)("button",{onClick:()=>C(!1),className:"absolute top-3 right-3",children:(0,V.jsx)(lC,{className:"text-primary"})}),(0,V.jsx)("img",{src:null===S||void 0===S?void 0:S.image,alt:"Full view",className:"w-full h-auto rounded-lg"})]})})]})},Ej=()=>{const[t,n]=(0,e.useState)(0),r=$n();return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(V.Fragment,{children:[(0===t||1===t)&&(0,V.jsxs)("div",{className:"py-4 px-6 bg-lightPurple",children:[(0,V.jsxs)("div",{className:"flex items-center gap-1.5 mb-6",children:[(0,V.jsx)(Zr,{to:"/Husmodell",className:"text-primary text-sm font-medium",children:"Husmodeller"}),(0,V.jsx)(FC,{className:"text-[#5D6B98] w-4 h-4"}),(0,V.jsx)("span",{className:"text-gray text-sm",children:"Legg til nytt hus"})]}),(0,V.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,V.jsx)("h1",{className:"text-darkBlack font-semibold text-[32px]",children:"Legg til nytt hus"}),(0,V.jsx)("div",{children:(0,V.jsx)("div",{className:"border border-[#EFF1F5] bg-[#F9F9FB] p-1.5 rounded-lg",children:(0,V.jsx)(LC,{tabs:[{label:"Kundedetaljer"},{label:"Plantegninger"}],activeTab:t,...r.pathname.startsWith("/edit-husmodell")?{setActiveTab:n}:{}})})})]})]}),0===t&&(0,V.jsx)(aj,{setActiveTab:n}),1===t&&(0,V.jsx)(lj,{setActiveTab:n}),2===t&&(0,V.jsx)(uj,{setActiveTab:n}),3===t&&(0,V.jsx)(Sj,{setActiveTab:n})]})})},Aj=function(e,t){return zt({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:He({window:t?.window}),hydrationData:t?.hydrationData||Xr(),routes:e,mapRouteProperties:ur,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}([{path:"/",element:(0,V.jsx)(pr,{to:"/Husmodell",replace:!0})},{path:"/",element:(0,V.jsx)(fi,{}),children:[{path:"/Inventory",element:(0,V.jsx)(OC,{})},{path:"/Husmodell",element:(0,V.jsx)(MC,{})},{path:"/se-husmodell/*",element:(0,V.jsx)(KC,{})},{path:"/edit-husmodell/*",element:(0,V.jsx)(Ej,{})},{path:"/add-husmodell",element:(0,V.jsx)(Ej,{})}]}]),Cj=new class{#Kt;#$t;#Lt;#Gt;#Xt;#Yt;#Qt;#Zt;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#Kt=e.queryCache||new j,this.#$t=e.mutationCache||new O,this.#Lt=e.defaultOptions||{},this.#Gt=new Map,this.#Xt=new Map,this.#Yt=0}mount(){this.#Yt++,1===this.#Yt&&(this.#Qt=k.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#Kt.onFocus())})),this.#Zt=S.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#Kt.onOnline())})))}unmount(){this.#Yt--,0===this.#Yt&&(this.#Qt?.(),this.#Qt=void 0,this.#Zt?.(),this.#Zt=void 0)}isFetching(e){return this.#Kt.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#$t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#Kt.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#Kt.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(a(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#Kt.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#Kt.get(r.queryHash),s=i?.state.data,a=function(e,t){return"function"===typeof e?e(t):e}(t,s);if(void 0!==a)return this.#Kt.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return w.batch((()=>this.#Kt.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#Kt.get(t.queryHash)?.state}removeQueries(e){const t=this.#Kt;w.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#Kt;return w.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=w.batch((()=>this.#Kt.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(s).catch(s)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.batch((()=>(this.#Kt.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=w.batch((()=>this.#Kt.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(s)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(s)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#Kt.build(this,t);return n.isStaleByTime(a(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(s).catch(s)}fetchInfiniteQuery(e){return e.behavior=F(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(s).catch(s)}ensureInfiniteQueryData(e){return e.behavior=F(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return S.isOnline()?this.#$t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#Kt}getMutationCache(){return this.#$t}getDefaultOptions(){return this.#Lt}setDefaultOptions(e){this.#Lt=e}setQueryDefaults(e,t){this.#Gt.set(u(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#Gt.values()],n={};return t.forEach((t=>{d(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#Xt.set(u(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Xt.values()],n={};return t.forEach((t=>{d(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#Lt.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=c(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===b&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#Lt.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#Kt.clear(),this.#$t.clear()}}({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),Tj=()=>(0,V.jsxs)(z,{client:Cj,children:[(0,V.jsx)(Ve,{toastOptions:{style:{zIndex:999999999}}}),(0,V.jsx)(oi,{router:Aj})]});n.createRoot(document.getElementById("root")).render((0,V.jsx)(e.StrictMode,{children:(0,V.jsx)(Tj,{})})),r()})()})();
//# sourceMappingURL=main.31985b5c.js.map